function l9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Il(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ww={exports:{}},Zg={},Vw={exports:{}},un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bj;function c9(){if(bj)return un;bj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function m(V){return V===null||typeof V!="object"?null:(V=f&&V[f]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,S={};function b(V,ee,ce){this.props=V,this.context=ee,this.refs=S,this.updater=ce||v}b.prototype.isReactComponent={},b.prototype.setState=function(V,ee){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ee,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function _(){}_.prototype=b.prototype;function E(V,ee,ce){this.props=V,this.context=ee,this.refs=S,this.updater=ce||v}var C=E.prototype=new _;C.constructor=E,y(C,b.prototype),C.isPureReactComponent=!0;var j=Array.isArray,R=Object.prototype.hasOwnProperty,k={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function O(V,ee,ce){var ne,be={},Ae=null,Se=null;if(ee!=null)for(ne in ee.ref!==void 0&&(Se=ee.ref),ee.key!==void 0&&(Ae=""+ee.key),ee)R.call(ee,ne)&&!D.hasOwnProperty(ne)&&(be[ne]=ee[ne]);var pe=arguments.length-2;if(pe===1)be.children=ce;else if(1<pe){for(var X=Array(pe),Ce=0;Ce<pe;Ce++)X[Ce]=arguments[Ce+2];be.children=X}if(V&&V.defaultProps)for(ne in pe=V.defaultProps,pe)be[ne]===void 0&&(be[ne]=pe[ne]);return{$$typeof:t,type:V,key:Ae,ref:Se,props:be,_owner:k.current}}function I(V,ee){return{$$typeof:t,type:V.type,key:ee,ref:V.ref,props:V.props,_owner:V._owner}}function U(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function K(V){var ee={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ce){return ee[ce]})}var $=/\/+/g;function re(V,ee){return typeof V=="object"&&V!==null&&V.key!=null?K(""+V.key):ee.toString(36)}function Y(V,ee,ce,ne,be){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Se=!1;if(V===null)Se=!0;else switch(Ae){case"string":case"number":Se=!0;break;case"object":switch(V.$$typeof){case t:case e:Se=!0}}if(Se)return Se=V,be=be(Se),V=ne===""?"."+re(Se,0):ne,j(be)?(ce="",V!=null&&(ce=V.replace($,"$&/")+"/"),Y(be,ee,ce,"",function(Ce){return Ce})):be!=null&&(U(be)&&(be=I(be,ce+(!be.key||Se&&Se.key===be.key?"":(""+be.key).replace($,"$&/")+"/")+V)),ee.push(be)),1;if(Se=0,ne=ne===""?".":ne+":",j(V))for(var pe=0;pe<V.length;pe++){Ae=V[pe];var X=ne+re(Ae,pe);Se+=Y(Ae,ee,ce,X,be)}else if(X=m(V),typeof X=="function")for(V=X.call(V),pe=0;!(Ae=V.next()).done;)Ae=Ae.value,X=ne+re(Ae,pe++),Se+=Y(Ae,ee,ce,X,be);else if(Ae==="object")throw ee=String(V),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.");return Se}function se(V,ee,ce){if(V==null)return V;var ne=[],be=0;return Y(V,ne,"","",function(Ae){return ee.call(ce,Ae,be++)}),ne}function oe(V){if(V._status===-1){var ee=V._result;ee=ee(),ee.then(function(ce){(V._status===0||V._status===-1)&&(V._status=1,V._result=ce)},function(ce){(V._status===0||V._status===-1)&&(V._status=2,V._result=ce)}),V._status===-1&&(V._status=0,V._result=ee)}if(V._status===1)return V._result.default;throw V._result}var le={current:null},H={transition:null},q={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:H,ReactCurrentOwner:k};function Q(){throw Error("act(...) is not supported in production builds of React.")}return un.Children={map:se,forEach:function(V,ee,ce){se(V,function(){ee.apply(this,arguments)},ce)},count:function(V){var ee=0;return se(V,function(){ee++}),ee},toArray:function(V){return se(V,function(ee){return ee})||[]},only:function(V){if(!U(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},un.Component=b,un.Fragment=n,un.Profiler=i,un.PureComponent=E,un.StrictMode=r,un.Suspense=c,un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,un.act=Q,un.cloneElement=function(V,ee,ce){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var ne=y({},V.props),be=V.key,Ae=V.ref,Se=V._owner;if(ee!=null){if(ee.ref!==void 0&&(Ae=ee.ref,Se=k.current),ee.key!==void 0&&(be=""+ee.key),V.type&&V.type.defaultProps)var pe=V.type.defaultProps;for(X in ee)R.call(ee,X)&&!D.hasOwnProperty(X)&&(ne[X]=ee[X]===void 0&&pe!==void 0?pe[X]:ee[X])}var X=arguments.length-2;if(X===1)ne.children=ce;else if(1<X){pe=Array(X);for(var Ce=0;Ce<X;Ce++)pe[Ce]=arguments[Ce+2];ne.children=pe}return{$$typeof:t,type:V.type,key:be,ref:Ae,props:ne,_owner:Se}},un.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:s,_context:V},V.Consumer=V},un.createElement=O,un.createFactory=function(V){var ee=O.bind(null,V);return ee.type=V,ee},un.createRef=function(){return{current:null}},un.forwardRef=function(V){return{$$typeof:l,render:V}},un.isValidElement=U,un.lazy=function(V){return{$$typeof:h,_payload:{_status:-1,_result:V},_init:oe}},un.memo=function(V,ee){return{$$typeof:u,type:V,compare:ee===void 0?null:ee}},un.startTransition=function(V){var ee=H.transition;H.transition={};try{V()}finally{H.transition=ee}},un.unstable_act=Q,un.useCallback=function(V,ee){return le.current.useCallback(V,ee)},un.useContext=function(V){return le.current.useContext(V)},un.useDebugValue=function(){},un.useDeferredValue=function(V){return le.current.useDeferredValue(V)},un.useEffect=function(V,ee){return le.current.useEffect(V,ee)},un.useId=function(){return le.current.useId()},un.useImperativeHandle=function(V,ee,ce){return le.current.useImperativeHandle(V,ee,ce)},un.useInsertionEffect=function(V,ee){return le.current.useInsertionEffect(V,ee)},un.useLayoutEffect=function(V,ee){return le.current.useLayoutEffect(V,ee)},un.useMemo=function(V,ee){return le.current.useMemo(V,ee)},un.useReducer=function(V,ee,ce){return le.current.useReducer(V,ee,ce)},un.useRef=function(V){return le.current.useRef(V)},un.useState=function(V){return le.current.useState(V)},un.useSyncExternalStore=function(V,ee,ce){return le.current.useSyncExternalStore(V,ee,ce)},un.useTransition=function(){return le.current.useTransition()},un.version="18.3.1",un}var wj;function bf(){return wj||(wj=1,Vw.exports=c9()),Vw.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sj;function u9(){if(Sj)return Zg;Sj=1;var t=bf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var h,f={},m=null,v=null;u!==void 0&&(m=""+u),c.key!==void 0&&(m=""+c.key),c.ref!==void 0&&(v=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(f[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)f[h]===void 0&&(f[h]=c[h]);return{$$typeof:e,type:l,key:m,ref:v,props:f,_owner:i.current}}return Zg.Fragment=n,Zg.jsx=o,Zg.jsxs=o,Zg}var _j;function d9(){return _j||(_j=1,Ww.exports=u9()),Ww.exports}var a=d9(),$v={},Kw={exports:{}},ea={},Xw={exports:{}},Yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aj;function h9(){return Aj||(Aj=1,(function(t){function e(H,q){var Q=H.length;H.push(q);e:for(;0<Q;){var V=Q-1>>>1,ee=H[V];if(0<i(ee,q))H[V]=q,H[Q]=ee,Q=V;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],Q=H.pop();if(Q!==q){H[0]=Q;e:for(var V=0,ee=H.length,ce=ee>>>1;V<ce;){var ne=2*(V+1)-1,be=H[ne],Ae=ne+1,Se=H[Ae];if(0>i(be,Q))Ae<ee&&0>i(Se,be)?(H[V]=Se,H[Ae]=Q,V=Ae):(H[V]=be,H[ne]=Q,V=ne);else if(Ae<ee&&0>i(Se,Q))H[V]=Se,H[Ae]=Q,V=Ae;else break e}}return q}function i(H,q){var Q=H.sortIndex-q.sortIndex;return Q!==0?Q:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,v=!1,y=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=H)r(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function j(H){if(S=!1,C(H),!y)if(n(c)!==null)y=!0,oe(R);else{var q=n(u);q!==null&&le(j,q.startTime-H)}}function R(H,q){y=!1,S&&(S=!1,_(O),O=-1),v=!0;var Q=m;try{for(C(q),f=n(c);f!==null&&(!(f.expirationTime>q)||H&&!K());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var ee=V(f.expirationTime<=q);q=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),C(q)}else r(c);f=n(c)}if(f!==null)var ce=!0;else{var ne=n(u);ne!==null&&le(j,ne.startTime-q),ce=!1}return ce}finally{f=null,m=Q,v=!1}}var k=!1,D=null,O=-1,I=5,U=-1;function K(){return!(t.unstable_now()-U<I)}function $(){if(D!==null){var H=t.unstable_now();U=H;var q=!0;try{q=D(!0,H)}finally{q?re():(k=!1,D=null)}}else k=!1}var re;if(typeof E=="function")re=function(){E($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,se=Y.port2;Y.port1.onmessage=$,re=function(){se.postMessage(null)}}else re=function(){b($,0)};function oe(H){D=H,k||(k=!0,re())}function le(H,q){O=b(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,oe(R))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var Q=m;m=q;try{return H()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=m;m=H;try{return q()}finally{m=Q}},t.unstable_scheduleCallback=function(H,q,Q){var V=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,H){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,H={id:h++,callback:q,priorityLevel:H,startTime:Q,expirationTime:ee,sortIndex:-1},Q>V?(H.sortIndex=Q,e(u,H),n(c)===null&&H===n(u)&&(S?(_(O),O=-1):S=!0,le(j,Q-V))):(H.sortIndex=ee,e(c,H),y||v||(y=!0,oe(R))),H},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(H){var q=m;return function(){var Q=m;m=q;try{return H.apply(this,arguments)}finally{m=Q}}}})(Yw)),Yw}var Ej;function f9(){return Ej||(Ej=1,Xw.exports=h9()),Xw.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cj;function p9(){if(Cj)return ea;Cj=1;var t=bf(),e=f9();function n(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,p){o(d,p),o(d+"Capture",p)}function o(d,p){for(i[d]=p,d=0;d<p.length;d++)r.add(p[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function m(d){return c.call(f,d)?!0:c.call(h,d)?!1:u.test(d)?f[d]=!0:(h[d]=!0,!1)}function v(d,p,w,M){if(w!==null&&w.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return M?!1:w!==null?!w.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function y(d,p,w,M){if(p===null||typeof p>"u"||v(d,p,w,M))return!0;if(M)return!1;if(w!==null)switch(w.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function S(d,p,w,M,P,B,W){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=M,this.attributeNamespace=P,this.mustUseProperty=w,this.propertyName=d,this.type=p,this.sanitizeURL=B,this.removeEmptyString=W}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){b[d]=new S(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var p=d[0];b[p]=new S(p,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){b[d]=new S(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){b[d]=new S(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){b[d]=new S(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){b[d]=new S(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){b[d]=new S(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){b[d]=new S(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){b[d]=new S(d,5,!1,d.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function E(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var p=d.replace(_,E);b[p]=new S(p,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var p=d.replace(_,E);b[p]=new S(p,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var p=d.replace(_,E);b[p]=new S(p,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){b[d]=new S(d,1,!1,d.toLowerCase(),null,!1,!1)}),b.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){b[d]=new S(d,1,!1,d.toLowerCase(),null,!0,!0)});function C(d,p,w,M){var P=b.hasOwnProperty(p)?b[p]:null;(P!==null?P.type!==0:M||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(y(p,w,P,M)&&(w=null),M||P===null?m(p)&&(w===null?d.removeAttribute(p):d.setAttribute(p,""+w)):P.mustUseProperty?d[P.propertyName]=w===null?P.type===3?!1:"":w:(p=P.attributeName,M=P.attributeNamespace,w===null?d.removeAttribute(p):(P=P.type,w=P===3||P===4&&w===!0?"":""+w,M?d.setAttributeNS(M,p,w):d.setAttribute(p,w))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),k=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),K=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),H=Symbol.iterator;function q(d){return d===null||typeof d!="object"?null:(d=H&&d[H]||d["@@iterator"],typeof d=="function"?d:null)}var Q=Object.assign,V;function ee(d){if(V===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);V=p&&p[1]||""}return`
`+V+d}var ce=!1;function ne(d,p){if(!d||ce)return"";ce=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(je){var M=je}Reflect.construct(d,[],p)}else{try{p.call()}catch(je){M=je}d.call(p.prototype)}else{try{throw Error()}catch(je){M=je}d()}}catch(je){if(je&&M&&typeof je.stack=="string"){for(var P=je.stack.split(`
`),B=M.stack.split(`
`),W=P.length-1,ae=B.length-1;1<=W&&0<=ae&&P[W]!==B[ae];)ae--;for(;1<=W&&0<=ae;W--,ae--)if(P[W]!==B[ae]){if(W!==1||ae!==1)do if(W--,ae--,0>ae||P[W]!==B[ae]){var de=`
`+P[W].replace(" at new "," at ");return d.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",d.displayName)),de}while(1<=W&&0<=ae);break}}}finally{ce=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?ee(d):""}function be(d){switch(d.tag){case 5:return ee(d.type);case 16:return ee("Lazy");case 13:return ee("Suspense");case 19:return ee("SuspenseList");case 0:case 2:case 15:return d=ne(d.type,!1),d;case 11:return d=ne(d.type.render,!1),d;case 1:return d=ne(d.type,!0),d;default:return""}}function Ae(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case D:return"Fragment";case k:return"Portal";case I:return"Profiler";case O:return"StrictMode";case re:return"Suspense";case Y:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case K:return(d.displayName||"Context")+".Consumer";case U:return(d._context.displayName||"Context")+".Provider";case $:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case se:return p=d.displayName||null,p!==null?p:Ae(d.type)||"Memo";case oe:p=d._payload,d=d._init;try{return Ae(d(p))}catch{}}return null}function Se(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(p);case 8:return p===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function pe(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function X(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ce(d){var p=X(d)?"checked":"value",w=Object.getOwnPropertyDescriptor(d.constructor.prototype,p),M=""+d[p];if(!d.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var P=w.get,B=w.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return P.call(this)},set:function(W){M=""+W,B.call(this,W)}}),Object.defineProperty(d,p,{enumerable:w.enumerable}),{getValue:function(){return M},setValue:function(W){M=""+W},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Ge(d){d._valueTracker||(d._valueTracker=Ce(d))}function J(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var w=p.getValue(),M="";return d&&(M=X(d)?d.checked?"true":"false":d.value),d=M,d!==w?(p.setValue(d),!0):!1}function ue(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function fe(d,p){var w=p.checked;return Q({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??d._wrapperState.initialChecked})}function Ie(d,p){var w=p.defaultValue==null?"":p.defaultValue,M=p.checked!=null?p.checked:p.defaultChecked;w=pe(p.value!=null?p.value:w),d._wrapperState={initialChecked:M,initialValue:w,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function ke(d,p){p=p.checked,p!=null&&C(d,"checked",p,!1)}function at(d,p){ke(d,p);var w=pe(p.value),M=p.type;if(w!=null)M==="number"?(w===0&&d.value===""||d.value!=w)&&(d.value=""+w):d.value!==""+w&&(d.value=""+w);else if(M==="submit"||M==="reset"){d.removeAttribute("value");return}p.hasOwnProperty("value")?z(d,p.type,w):p.hasOwnProperty("defaultValue")&&z(d,p.type,pe(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(d.defaultChecked=!!p.defaultChecked)}function $e(d,p,w){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var M=p.type;if(!(M!=="submit"&&M!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+d._wrapperState.initialValue,w||p===d.value||(d.value=p),d.defaultValue=p}w=d.name,w!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,w!==""&&(d.name=w)}function z(d,p,w){(p!=="number"||ue(d.ownerDocument)!==d)&&(w==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+w&&(d.defaultValue=""+w))}var G=Array.isArray;function ge(d,p,w,M){if(d=d.options,p){p={};for(var P=0;P<w.length;P++)p["$"+w[P]]=!0;for(w=0;w<d.length;w++)P=p.hasOwnProperty("$"+d[w].value),d[w].selected!==P&&(d[w].selected=P),P&&M&&(d[w].defaultSelected=!0)}else{for(w=""+pe(w),p=null,P=0;P<d.length;P++){if(d[P].value===w){d[P].selected=!0,M&&(d[P].defaultSelected=!0);return}p!==null||d[P].disabled||(p=d[P])}p!==null&&(p.selected=!0)}}function He(d,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},p,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Ve(d,p){var w=p.value;if(w==null){if(w=p.children,p=p.defaultValue,w!=null){if(p!=null)throw Error(n(92));if(G(w)){if(1<w.length)throw Error(n(93));w=w[0]}p=w}p==null&&(p=""),w=p}d._wrapperState={initialValue:pe(w)}}function ze(d,p){var w=pe(p.value),M=pe(p.defaultValue);w!=null&&(w=""+w,w!==d.value&&(d.value=w),p.defaultValue==null&&d.defaultValue!==w&&(d.defaultValue=w)),M!=null&&(d.defaultValue=""+M)}function ve(d){var p=d.textContent;p===d._wrapperState.initialValue&&p!==""&&p!==null&&(d.value=p)}function Le(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nt(d,p){return d==null||d==="http://www.w3.org/1999/xhtml"?Le(p):d==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Tt,Kt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,w,M,P){MSApp.execUnsafeLocalFunction(function(){return d(p,w,M,P)})}:d})(function(d,p){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=p;else{for(Tt=Tt||document.createElement("div"),Tt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Tt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;p.firstChild;)d.appendChild(p.firstChild)}});function Ke(d,p){if(p){var w=d.firstChild;if(w&&w===d.lastChild&&w.nodeType===3){w.nodeValue=p;return}}d.textContent=p}var cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nn=["Webkit","ms","Moz","O"];Object.keys(cn).forEach(function(d){nn.forEach(function(p){p=p+d.charAt(0).toUpperCase()+d.substring(1),cn[p]=cn[d]})});function zt(d,p,w){return p==null||typeof p=="boolean"||p===""?"":w||typeof p!="number"||p===0||cn.hasOwnProperty(d)&&cn[d]?(""+p).trim():p+"px"}function jt(d,p){d=d.style;for(var w in p)if(p.hasOwnProperty(w)){var M=w.indexOf("--")===0,P=zt(w,p[w],M);w==="float"&&(w="cssFloat"),M?d.setProperty(w,P):d[w]=P}}var vt=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xt(d,p){if(p){if(vt[d]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function gn(d,p){if(d.indexOf("-")===-1)return typeof p.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gn=null;function qt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var et=null,he=null,rt=null;function st(d){if(d=bo(d)){if(typeof et!="function")throw Error(n(280));var p=d.stateNode;p&&(p=cp(p),et(d.stateNode,d.type,p))}}function Ft(d){he?rt?rt.push(d):rt=[d]:he=d}function kt(){if(he){var d=he,p=rt;if(rt=he=null,st(d),p)for(d=0;d<p.length;d++)st(p[d])}}function jn(d,p){return d(p)}function Mn(){}var dr=!1;function Wr(d,p,w){if(dr)return d(p,w);dr=!0;try{return jn(d,p,w)}finally{dr=!1,(he!==null||rt!==null)&&(Mn(),kt())}}function yn(d,p){var w=d.stateNode;if(w===null)return null;var M=cp(w);if(M===null)return null;w=M[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(M=!M.disabled)||(d=d.type,M=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!M;break e;default:d=!1}if(d)return null;if(w&&typeof w!="function")throw Error(n(231,p,typeof w));return w}var Vr=!1;if(l)try{var ki={};Object.defineProperty(ki,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",ki,ki),window.removeEventListener("test",ki,ki)}catch{Vr=!1}function kd(d,p,w,M,P,B,W,ae,de){var je=Array.prototype.slice.call(arguments,3);try{p.apply(w,je)}catch(Ye){this.onError(Ye)}}var lo=!1,co=null,da=!1,rl=null,Nf={onError:function(d){lo=!0,co=d}};function Tf(d,p,w,M,P,B,W,ae,de){lo=!1,co=null,kd.apply(Nf,arguments)}function ig(d,p,w,M,P,B,W,ae,de){if(Tf.apply(this,arguments),lo){if(lo){var je=co;lo=!1,co=null}else throw Error(n(198));da||(da=!0,rl=je)}}function uo(d){var p=d,w=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(w=p.return),d=p.return;while(d)}return p.tag===3?w:null}function jf(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function Z(d){if(uo(d)!==d)throw Error(n(188))}function we(d){var p=d.alternate;if(!p){if(p=uo(d),p===null)throw Error(n(188));return p!==d?null:d}for(var w=d,M=p;;){var P=w.return;if(P===null)break;var B=P.alternate;if(B===null){if(M=P.return,M!==null){w=M;continue}break}if(P.child===B.child){for(B=P.child;B;){if(B===w)return Z(P),d;if(B===M)return Z(P),p;B=B.sibling}throw Error(n(188))}if(w.return!==M.return)w=P,M=B;else{for(var W=!1,ae=P.child;ae;){if(ae===w){W=!0,w=P,M=B;break}if(ae===M){W=!0,M=P,w=B;break}ae=ae.sibling}if(!W){for(ae=B.child;ae;){if(ae===w){W=!0,w=B,M=P;break}if(ae===M){W=!0,M=B,w=P;break}ae=ae.sibling}if(!W)throw Error(n(189))}}if(w.alternate!==M)throw Error(n(190))}if(w.tag!==3)throw Error(n(188));return w.stateNode.current===w?d:p}function Pe(d){return d=we(d),d!==null?Fe(d):null}function Fe(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=Fe(d);if(p!==null)return p;d=d.sibling}return null}var Te=e.unstable_scheduleCallback,ut=e.unstable_cancelCallback,Ct=e.unstable_shouldYield,Bt=e.unstable_requestPaint,dt=e.unstable_now,Wt=e.unstable_getCurrentPriorityLevel,Ut=e.unstable_ImmediatePriority,Ht=e.unstable_UserBlockingPriority,Wn=e.unstable_NormalPriority,di=e.unstable_LowPriority,Vn=e.unstable_IdlePriority,Mr=null,At=null;function mt(d){if(At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(Mr,d,void 0,(d.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:Ia,rn=Math.log,br=Math.LN2;function Ia(d){return d>>>=0,d===0?32:31-(rn(d)/br|0)|0}var Gi=64,Nr=4194304;function Zn(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function _s(d,p){var w=d.pendingLanes;if(w===0)return 0;var M=0,P=d.suspendedLanes,B=d.pingedLanes,W=w&268435455;if(W!==0){var ae=W&~P;ae!==0?M=Zn(ae):(B&=W,B!==0&&(M=Zn(B)))}else W=w&~P,W!==0?M=Zn(W):B!==0&&(M=Zn(B));if(M===0)return 0;if(p!==0&&p!==M&&(p&P)===0&&(P=M&-M,B=p&-p,P>=B||P===16&&(B&4194240)!==0))return p;if((M&4)!==0&&(M|=w&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=M;0<p;)w=31-yr(p),P=1<<w,M|=d[w],p&=~P;return M}function du(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hi(d,p){for(var w=d.suspendedLanes,M=d.pingedLanes,P=d.expirationTimes,B=d.pendingLanes;0<B;){var W=31-yr(B),ae=1<<W,de=P[W];de===-1?((ae&w)===0||(ae&M)!==0)&&(P[W]=du(ae,p)):de<=p&&(d.expiredLanes|=ae),B&=~ae}}function il(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function rs(){var d=Gi;return Gi<<=1,(Gi&4194240)===0&&(Gi=64),d}function hu(d){for(var p=[],w=0;31>w;w++)p.push(d);return p}function Pd(d,p,w){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-yr(p),d[p]=w}function pw(d,p){var w=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var M=d.eventTimes;for(d=d.expirationTimes;0<w;){var P=31-yr(w),B=1<<P;p[P]=0,M[P]=-1,d[P]=-1,w&=~B}}function fu(d,p){var w=d.entangledLanes|=p;for(d=d.entanglements;w;){var M=31-yr(w),P=1<<M;P&p|d[M]&p&&(d[M]|=p),w&=~P}}var bn=0;function pu(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Rd,sg,sv,kf,Pf,zl=!1,Rf=[],La=null,sn=null,ho=null,Hl=new Map,mu=new Map,sl=[],mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kr(d,p){switch(d){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Hl.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":mu.delete(p.pointerId)}}function Gl(d,p,w,M,P,B){return d===null||d.nativeEvent!==B?(d={blockedOn:p,domEventName:w,eventSystemFlags:M,nativeEvent:B,targetContainers:[P]},p!==null&&(p=bo(p),p!==null&&sg(p)),d):(d.eventSystemFlags|=M,p=d.targetContainers,P!==null&&p.indexOf(P)===-1&&p.push(P),d)}function gw(d,p,w,M,P){switch(p){case"focusin":return La=Gl(La,d,p,w,M,P),!0;case"dragenter":return sn=Gl(sn,d,p,w,M,P),!0;case"mouseover":return ho=Gl(ho,d,p,w,M,P),!0;case"pointerover":var B=P.pointerId;return Hl.set(B,Gl(Hl.get(B)||null,d,p,w,M,P)),!0;case"gotpointercapture":return B=P.pointerId,mu.set(B,Gl(mu.get(B)||null,d,p,w,M,P)),!0}return!1}function Ff(d){var p=hl(d.target);if(p!==null){var w=uo(p);if(w!==null){if(p=w.tag,p===13){if(p=jf(w),p!==null){d.blockedOn=p,Pf(d.priority,function(){sv(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){d.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Bf(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var w=Ws(d.domEventName,d.eventSystemFlags,p[0],d.nativeEvent);if(w===null){w=d.nativeEvent;var M=new w.constructor(w.type,w);Gn=M,w.target.dispatchEvent(M),Gn=null}else return p=bo(w),p!==null&&sg(p),d.blockedOn=w,!1;p.shift()}return!0}function Fd(d,p,w){Bf(d)&&w.delete(p)}function Oa(){zl=!1,La!==null&&Bf(La)&&(La=null),sn!==null&&Bf(sn)&&(sn=null),ho!==null&&Bf(ho)&&(ho=null),Hl.forEach(Fd),mu.forEach(Fd)}function Bd(d,p){d.blockedOn===p&&(d.blockedOn=null,zl||(zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Oa)))}function Dd(d){function p(P){return Bd(P,d)}if(0<Rf.length){Bd(Rf[0],d);for(var w=1;w<Rf.length;w++){var M=Rf[w];M.blockedOn===d&&(M.blockedOn=null)}}for(La!==null&&Bd(La,d),sn!==null&&Bd(sn,d),ho!==null&&Bd(ho,d),Hl.forEach(p),mu.forEach(p),w=0;w<sl.length;w++)M=sl[w],M.blockedOn===d&&(M.blockedOn=null);for(;0<sl.length&&(w=sl[0],w.blockedOn===null);)Ff(w),w.blockedOn===null&&sl.shift()}var Wi=j.ReactCurrentBatchConfig,Gs=!0;function Df(d,p,w,M){var P=bn,B=Wi.transition;Wi.transition=null;try{bn=1,If(d,p,w,M)}finally{bn=P,Wi.transition=B}}function ag(d,p,w,M){var P=bn,B=Wi.transition;Wi.transition=null;try{bn=4,If(d,p,w,M)}finally{bn=P,Wi.transition=B}}function If(d,p,w,M){if(Gs){var P=Ws(d,p,w,M);if(P===null)rp(d,p,M,Lf,w),Kr(d,M);else if(gw(P,d,p,w,M))M.stopPropagation();else if(Kr(d,M),p&4&&-1<mw.indexOf(d)){for(;P!==null;){var B=bo(P);if(B!==null&&Rd(B),B=Ws(d,p,w,M),B===null&&rp(d,p,M,Lf,w),B===P)break;P=B}P!==null&&M.stopPropagation()}else rp(d,p,M,null,w)}}var Lf=null;function Ws(d,p,w,M){if(Lf=null,d=qt(M),d=hl(d),d!==null)if(p=uo(d),p===null)d=null;else if(w=p.tag,w===13){if(d=jf(p),d!==null)return d;d=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null);return Lf=d,null}function av(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wt()){case Ut:return 1;case Ht:return 4;case Wn:case di:return 16;case Vn:return 536870912;default:return 16}default:return 16}}var ha=null,og=null,is=null;function Id(){if(is)return is;var d,p=og,w=p.length,M,P="value"in ha?ha.value:ha.textContent,B=P.length;for(d=0;d<w&&p[d]===P[d];d++);var W=w-d;for(M=1;M<=W&&p[w-M]===P[B-M];M++);return is=P.slice(d,1<M?1-M:void 0)}function Wl(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function fo(){return!0}function Of(){return!1}function Vi(d){function p(w,M,P,B,W){this._reactName=w,this._targetInst=P,this.type=M,this.nativeEvent=B,this.target=W,this.currentTarget=null;for(var ae in d)d.hasOwnProperty(ae)&&(w=d[ae],this[ae]=w?w(B):B[ae]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?fo:Of,this.isPropagationStopped=Of,this}return Q(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=fo)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=fo)},persist:function(){},isPersistent:fo}),p}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ld=Vi(Vl),Kl=Q({},Vl,{view:0,detail:0}),gu=Vi(Kl),ss,Vs,Ks,xu=Q({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ol,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Ks&&(Ks&&d.type==="mousemove"?(ss=d.screenX-Ks.screenX,Vs=d.screenY-Ks.screenY):Vs=ss=0,Ks=d),ss)},movementY:function(d){return"movementY"in d?d.movementY:Vs}}),lg=Vi(xu),po=Q({},xu,{dataTransfer:0}),al=Vi(po),Uf=Q({},Kl,{relatedTarget:0}),zf=Vi(Uf),Hf=Q({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),ov=Vi(Hf),lv=Q({},Vl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),cg=Vi(lv),Gf=Q({},Vl,{data:0}),ug=Vi(Gf),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=dg[d])?!!p[d]:!1}function ol(){return vu}var Wf=Q({},Kl,{key:function(d){if(d.key){var p=cv[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=Wl(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?uv[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ol,charCode:function(d){return d.type==="keypress"?Wl(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Wl(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Vf=Vi(Wf),Xs=Q({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),As=Vi(Xs),Xl=Q({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ol}),mo=Vi(Xl),go=Q({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yl=Vi(go),dv=Q({},xu,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),hg=Vi(dv),fg=[9,13,27,32],Ki=l&&"CompositionEvent"in window,fi=null;l&&"documentMode"in document&&(fi=document.documentMode);var rr=l&&"TextEvent"in window&&!fi,yu=l&&(!Ki||fi&&8<fi&&11>=fi),Ys=" ",pg=!1;function mg(d,p){switch(d){case"keyup":return fg.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kf(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var ll=!1;function hv(d,p){switch(d){case"compositionend":return Kf(p);case"keypress":return p.which!==32?null:(pg=!0,Ys);case"textInput":return d=p.data,d===Ys&&pg?null:d;default:return null}}function Od(d,p){if(ll)return d==="compositionend"||!Ki&&mg(d,p)?(d=Id(),is=og=ha=null,ll=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return yu&&p.locale!=="ko"?null:p.data;default:return null}}var bu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xf(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!bu[d.type]:p==="textarea"}function wu(d,p,w,M){Ft(M),p=ip(p,"onChange"),0<p.length&&(w=new Ld("onChange","change",null,w,M),d.push({event:w,listeners:p}))}var cl=null,Su=null;function fv(d){Cu(d,0)}function xo(d){var p=Tr(d);if(J(p))return d}function pv(d,p){if(d==="change")return p}var _u=!1;if(l){var as;if(l){var Jl="oninput"in document;if(!Jl){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),Jl=typeof ql.oninput=="function"}as=Jl}else as=!1;_u=as&&(!document.documentMode||9<document.documentMode)}function fa(){cl&&(cl.detachEvent("onpropertychange",Yf),Su=cl=null)}function Yf(d){if(d.propertyName==="value"&&xo(Su)){var p=[];wu(p,Su,d,qt(d)),Wr(fv,p)}}function Au(d,p,w){d==="focusin"?(fa(),cl=p,Su=w,cl.attachEvent("onpropertychange",Yf)):d==="focusout"&&fa()}function mv(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return xo(Su)}function gg(d,p){if(d==="click")return xo(p)}function hr(d,p){if(d==="input"||d==="change")return xo(p)}function Jf(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Es=typeof Object.is=="function"?Object.is:Jf;function $l(d,p){if(Es(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var w=Object.keys(d),M=Object.keys(p);if(w.length!==M.length)return!1;for(M=0;M<w.length;M++){var P=w[M];if(!c.call(p,P)||!Es(d[P],p[P]))return!1}return!0}function Ud(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Cs(d,p){var w=Ud(d);d=0;for(var M;w;){if(w.nodeType===3){if(M=d+w.textContent.length,d<=p&&M>=p)return{node:w,offset:p-d};d=M}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Ud(w)}}function Ql(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?Ql(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function fr(){for(var d=window,p=ue();p instanceof d.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)d=p.contentWindow;else break;p=ue(d.document)}return p}function Zr(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}function ei(d){var p=fr(),w=d.focusedElem,M=d.selectionRange;if(p!==w&&w&&w.ownerDocument&&Ql(w.ownerDocument.documentElement,w)){if(M!==null&&Zr(w)){if(p=M.start,d=M.end,d===void 0&&(d=p),"selectionStart"in w)w.selectionStart=p,w.selectionEnd=Math.min(d,w.value.length);else if(d=(p=w.ownerDocument||document)&&p.defaultView||window,d.getSelection){d=d.getSelection();var P=w.textContent.length,B=Math.min(M.start,P);M=M.end===void 0?B:Math.min(M.end,P),!d.extend&&B>M&&(P=M,M=B,B=P),P=Cs(w,B);var W=Cs(w,M);P&&W&&(d.rangeCount!==1||d.anchorNode!==P.node||d.anchorOffset!==P.offset||d.focusNode!==W.node||d.focusOffset!==W.offset)&&(p=p.createRange(),p.setStart(P.node,P.offset),d.removeAllRanges(),B>M?(d.addRange(p),d.extend(W.node,W.offset)):(p.setEnd(W.node,W.offset),d.addRange(p)))}}for(p=[],d=w;d=d.parentNode;)d.nodeType===1&&p.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<p.length;w++)d=p[w],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var qf=l&&"documentMode"in document&&11>=document.documentMode,Ua=null,Zl=null,zd=null,ti=!1;function $f(d,p,w){var M=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;ti||Ua==null||Ua!==ue(M)||(M=Ua,"selectionStart"in M&&Zr(M)?M={start:M.selectionStart,end:M.selectionEnd}:(M=(M.ownerDocument&&M.ownerDocument.defaultView||window).getSelection(),M={anchorNode:M.anchorNode,anchorOffset:M.anchorOffset,focusNode:M.focusNode,focusOffset:M.focusOffset}),zd&&$l(zd,M)||(zd=M,M=ip(Zl,"onSelect"),0<M.length&&(p=new Ld("onSelect","select",null,p,w),d.push({event:p,listeners:M}),p.target=Ua)))}function Eu(d,p){var w={};return w[d.toLowerCase()]=p.toLowerCase(),w["Webkit"+d]="webkit"+p,w["Moz"+d]="moz"+p,w}var ul={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},pa={},ma={};l&&(ma=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function za(d){if(pa[d])return pa[d];if(!ul[d])return d;var p=ul[d],w;for(w in p)if(p.hasOwnProperty(w)&&w in ma)return pa[d]=p[w];return d}var Hd=za("animationend"),Gd=za("animationiteration"),xg=za("animationstart"),vg=za("transitionend"),yg=new Map,bg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(d,p){yg.set(d,p),s(p,[d])}for(var Qf=0;Qf<bg.length;Qf++){var Wd=bg[Qf],Vd=Wd.toLowerCase(),gv=Wd[0].toUpperCase()+Wd.slice(1);vo(Vd,"on"+gv)}vo(Hd,"onAnimationEnd"),vo(Gd,"onAnimationIteration"),vo(xg,"onAnimationStart"),vo("dblclick","onDoubleClick"),vo("focusin","onFocus"),vo("focusout","onBlur"),vo(vg,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zf=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function ep(d,p,w){var M=d.type||"unknown-event";d.currentTarget=w,ig(M,p,void 0,d),d.currentTarget=null}function Cu(d,p){p=(p&4)!==0;for(var w=0;w<d.length;w++){var M=d[w],P=M.event;M=M.listeners;e:{var B=void 0;if(p)for(var W=M.length-1;0<=W;W--){var ae=M[W],de=ae.instance,je=ae.currentTarget;if(ae=ae.listener,de!==B&&P.isPropagationStopped())break e;ep(P,ae,je),B=de}else for(W=0;W<M.length;W++){if(ae=M[W],de=ae.instance,je=ae.currentTarget,ae=ae.listener,de!==B&&P.isPropagationStopped())break e;ep(P,ae,je),B=de}}}if(da)throw d=rl,da=!1,rl=null,d}function Kn(d,p){var w=p[nc];w===void 0&&(w=p[nc]=new Set);var M=d+"__bubble";w.has(M)||(np(p,d,2,!1),w.add(M))}function tp(d,p,w){var M=0;p&&(M|=4),np(w,d,M,p)}var Kd="_reactListening"+Math.random().toString(36).slice(2);function Mu(d){if(!d[Kd]){d[Kd]=!0,r.forEach(function(w){w!=="selectionchange"&&(Zf.has(w)||tp(w,!1,d),tp(w,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[Kd]||(p[Kd]=!0,tp("selectionchange",!1,p))}}function np(d,p,w,M){switch(av(p)){case 1:var P=Df;break;case 4:P=ag;break;default:P=If}w=P.bind(null,p,w,d),P=void 0,!Vr||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(P=!0),M?P!==void 0?d.addEventListener(p,w,{capture:!0,passive:P}):d.addEventListener(p,w,!0):P!==void 0?d.addEventListener(p,w,{passive:P}):d.addEventListener(p,w,!1)}function rp(d,p,w,M,P){var B=M;if((p&1)===0&&(p&2)===0&&M!==null)e:for(;;){if(M===null)return;var W=M.tag;if(W===3||W===4){var ae=M.stateNode.containerInfo;if(ae===P||ae.nodeType===8&&ae.parentNode===P)break;if(W===4)for(W=M.return;W!==null;){var de=W.tag;if((de===3||de===4)&&(de=W.stateNode.containerInfo,de===P||de.nodeType===8&&de.parentNode===P))return;W=W.return}for(;ae!==null;){if(W=hl(ae),W===null)return;if(de=W.tag,de===5||de===6){M=B=W;continue e}ae=ae.parentNode}}M=M.return}Wr(function(){var je=B,Ye=qt(w),qe=[];e:{var Xe=yg.get(d);if(Xe!==void 0){var ht=Ld,bt=d;switch(d){case"keypress":if(Wl(w)===0)break e;case"keydown":case"keyup":ht=Vf;break;case"focusin":bt="focus",ht=zf;break;case"focusout":bt="blur",ht=zf;break;case"beforeblur":case"afterblur":ht=zf;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ht=lg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ht=al;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ht=mo;break;case Hd:case Gd:case xg:ht=ov;break;case vg:ht=Yl;break;case"scroll":ht=gu;break;case"wheel":ht=hg;break;case"copy":case"cut":case"paste":ht=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ht=As}var wt=(p&4)!==0,Yr=!wt&&d==="scroll",_e=wt?Xe!==null?Xe+"Capture":null:Xe;wt=[];for(var me=je,Me;me!==null;){Me=me;var Ze=Me.stateNode;if(Me.tag===5&&Ze!==null&&(Me=Ze,_e!==null&&(Ze=yn(me,_e),Ze!=null&&wt.push(Nu(me,Ze,Me)))),Yr)break;me=me.return}0<wt.length&&(Xe=new ht(Xe,bt,null,w,Ye),qe.push({event:Xe,listeners:wt}))}}if((p&7)===0){e:{if(Xe=d==="mouseover"||d==="pointerover",ht=d==="mouseout"||d==="pointerout",Xe&&w!==Gn&&(bt=w.relatedTarget||w.fromElement)&&(hl(bt)||bt[Ms]))break e;if((ht||Xe)&&(Xe=Ye.window===Ye?Ye:(Xe=Ye.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,ht?(bt=w.relatedTarget||w.toElement,ht=je,bt=bt?hl(bt):null,bt!==null&&(Yr=uo(bt),bt!==Yr||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(ht=null,bt=je),ht!==bt)){if(wt=lg,Ze="onMouseLeave",_e="onMouseEnter",me="mouse",(d==="pointerout"||d==="pointerover")&&(wt=As,Ze="onPointerLeave",_e="onPointerEnter",me="pointer"),Yr=ht==null?Xe:Tr(ht),Me=bt==null?Xe:Tr(bt),Xe=new wt(Ze,me+"leave",ht,w,Ye),Xe.target=Yr,Xe.relatedTarget=Me,Ze=null,hl(Ye)===je&&(wt=new wt(_e,me+"enter",bt,w,Ye),wt.target=Me,wt.relatedTarget=Yr,Ze=wt),Yr=Ze,ht&&bt)t:{for(wt=ht,_e=bt,me=0,Me=wt;Me;Me=ec(Me))me++;for(Me=0,Ze=_e;Ze;Ze=ec(Ze))Me++;for(;0<me-Me;)wt=ec(wt),me--;for(;0<Me-me;)_e=ec(_e),Me--;for(;me--;){if(wt===_e||_e!==null&&wt===_e.alternate)break t;wt=ec(wt),_e=ec(_e)}wt=null}else wt=null;ht!==null&&xv(qe,Xe,ht,wt,!1),bt!==null&&Yr!==null&&xv(qe,Yr,bt,wt,!0)}}e:{if(Xe=je?Tr(je):window,ht=Xe.nodeName&&Xe.nodeName.toLowerCase(),ht==="select"||ht==="input"&&Xe.type==="file")var Et=pv;else if(Xf(Xe))if(_u)Et=hr;else{Et=mv;var Dt=Au}else(ht=Xe.nodeName)&&ht.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(Et=gg);if(Et&&(Et=Et(d,je))){wu(qe,Et,w,Ye);break e}Dt&&Dt(d,Xe,je),d==="focusout"&&(Dt=Xe._wrapperState)&&Dt.controlled&&Xe.type==="number"&&z(Xe,"number",Xe.value)}switch(Dt=je?Tr(je):window,d){case"focusin":(Xf(Dt)||Dt.contentEditable==="true")&&(Ua=Dt,Zl=je,zd=null);break;case"focusout":zd=Zl=Ua=null;break;case"mousedown":ti=!0;break;case"contextmenu":case"mouseup":case"dragend":ti=!1,$f(qe,w,Ye);break;case"selectionchange":if(qf)break;case"keydown":case"keyup":$f(qe,w,Ye)}var It;if(Ki)e:{switch(d){case"compositionstart":var Vt="onCompositionStart";break e;case"compositionend":Vt="onCompositionEnd";break e;case"compositionupdate":Vt="onCompositionUpdate";break e}Vt=void 0}else ll?mg(d,w)&&(Vt="onCompositionEnd"):d==="keydown"&&w.keyCode===229&&(Vt="onCompositionStart");Vt&&(yu&&w.locale!=="ko"&&(ll||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&ll&&(It=Id()):(ha=Ye,og="value"in ha?ha.value:ha.textContent,ll=!0)),Dt=ip(je,Vt),0<Dt.length&&(Vt=new ug(Vt,d,null,w,Ye),qe.push({event:Vt,listeners:Dt}),It?Vt.data=It:(It=Kf(w),It!==null&&(Vt.data=It)))),(It=rr?hv(d,w):Od(d,w))&&(je=ip(je,"onBeforeInput"),0<je.length&&(Ye=new ug("onBeforeInput","beforeinput",null,w,Ye),qe.push({event:Ye,listeners:je}),Ye.data=It))}Cu(qe,p)})}function Nu(d,p,w){return{instance:d,listener:p,currentTarget:w}}function ip(d,p){for(var w=p+"Capture",M=[];d!==null;){var P=d,B=P.stateNode;P.tag===5&&B!==null&&(P=B,B=yn(d,w),B!=null&&M.unshift(Nu(d,B,P)),B=yn(d,p),B!=null&&M.push(Nu(d,B,P))),d=d.return}return M}function ec(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function xv(d,p,w,M,P){for(var B=p._reactName,W=[];w!==null&&w!==M;){var ae=w,de=ae.alternate,je=ae.stateNode;if(de!==null&&de===M)break;ae.tag===5&&je!==null&&(ae=je,P?(de=yn(w,B),de!=null&&W.unshift(Nu(w,de,ae))):P||(de=yn(w,B),de!=null&&W.push(Nu(w,de,ae)))),w=w.return}W.length!==0&&d.push({event:p,listeners:W})}var xw=/\r\n?/g,vv=/\u0000|\uFFFD/g;function wg(d){return(typeof d=="string"?d:""+d).replace(xw,`
`).replace(vv,"")}function Xd(d,p,w){if(p=wg(p),wg(d)!==p&&w)throw Error(n(425))}function Yd(){}var Tu=null,Sg=null;function _g(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Ag=typeof setTimeout=="function"?setTimeout:void 0,Eg=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,vw=typeof queueMicrotask=="function"?queueMicrotask:typeof sp<"u"?function(d){return sp.resolve(null).then(d).catch(yv)}:Ag;function yv(d){setTimeout(function(){throw d})}function ap(d,p){var w=p,M=0;do{var P=w.nextSibling;if(d.removeChild(w),P&&P.nodeType===8)if(w=P.data,w==="/$"){if(M===0){d.removeChild(P),Dd(p);return}M--}else w!=="$"&&w!=="$?"&&w!=="$!"||M++;w=P}while(w);Dd(p)}function yo(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return d}function Cg(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var w=d.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return d;p--}else w==="/$"&&p++}d=d.previousSibling}return null}var tc=Math.random().toString(36).slice(2),Xr="__reactFiber$"+tc,ju="__reactProps$"+tc,Ms="__reactContainer$"+tc,nc="__reactEvents$"+tc,op="__reactListeners$"+tc,lp="__reactHandles$"+tc;function hl(d){var p=d[Xr];if(p)return p;for(var w=d.parentNode;w;){if(p=w[Ms]||w[Xr]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(d=Cg(d);d!==null;){if(w=d[Xr])return w;d=Cg(d)}return p}d=w,w=d.parentNode}return null}function bo(d){return d=d[Xr]||d[Ms],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Tr(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function cp(d){return d[ju]||null}var Mg=[],ni=-1;function wr(d){return{current:d}}function Xn(d){0>ni||(d.current=Mg[ni],Mg[ni]=null,ni--)}function On(d,p){ni++,Mg[ni]=d.current,d.current=p}var wo={},pi=wr(wo),Xi=wr(!1),So=wo;function rc(d,p){var w=d.type.contextTypes;if(!w)return wo;var M=d.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===p)return M.__reactInternalMemoizedMaskedChildContext;var P={},B;for(B in w)P[B]=p[B];return M&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=P),P}function Pi(d){return d=d.childContextTypes,d!=null}function Jd(){Xn(Xi),Xn(pi)}function Ng(d,p,w){if(pi.current!==wo)throw Error(n(168));On(pi,p),On(Xi,w)}function qd(d,p,w){var M=d.stateNode;if(p=p.childContextTypes,typeof M.getChildContext!="function")return w;M=M.getChildContext();for(var P in M)if(!(P in p))throw Error(n(108,Se(d)||"Unknown",P));return Q({},w,M)}function ic(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||wo,So=pi.current,On(pi,d),On(Xi,Xi.current),!0}function Tg(d,p,w){var M=d.stateNode;if(!M)throw Error(n(169));w?(d=qd(d,p,So),M.__reactInternalMemoizedMergedChildContext=d,Xn(Xi),Xn(pi),On(pi,d)):Xn(Xi),On(Xi,w)}var ga=null,$d=!1,up=!1;function Qd(d){ga===null?ga=[d]:ga.push(d)}function bv(d){$d=!0,Qd(d)}function Ha(){if(!up&&ga!==null){up=!0;var d=0,p=bn;try{var w=ga;for(bn=1;d<w.length;d++){var M=w[d];do M=M(!0);while(M!==null)}ga=null,$d=!1}catch(P){throw ga!==null&&(ga=ga.slice(d+1)),Te(Ut,Ha),P}finally{bn=p,up=!1}}return null}var sc=[],os=0,dp=null,hp=0,Yi=[],ri=0,ac=null,tt=1,Js="";function _o(d,p){sc[os++]=hp,sc[os++]=dp,dp=d,hp=p}function jg(d,p,w){Yi[ri++]=tt,Yi[ri++]=Js,Yi[ri++]=ac,ac=d;var M=tt;d=Js;var P=32-yr(M)-1;M&=~(1<<P),w+=1;var B=32-yr(p)+P;if(30<B){var W=P-P%5;B=(M&(1<<W)-1).toString(32),M>>=W,P-=W,tt=1<<32-yr(p)+P|w<<P|M,Js=B+d}else tt=1<<B|w<<P|M,Js=d}function kg(d){d.return!==null&&(_o(d,1),jg(d,1,0))}function Ao(d){for(;d===dp;)dp=sc[--os],sc[os]=null,hp=sc[--os],sc[os]=null;for(;d===ac;)ac=Yi[--ri],Yi[ri]=null,Js=Yi[--ri],Yi[ri]=null,tt=Yi[--ri],Yi[ri]=null}var mi=null,Ji=null,er=!1,qs=null;function Pg(d,p){var w=Xa(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=d,p=d.deletions,p===null?(d.deletions=[w],d.flags|=16):p.push(w)}function Rg(d,p){switch(d.tag){case 5:var w=d.type;return p=p.nodeType!==1||w.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(d.stateNode=p,mi=d,Ji=yo(p.firstChild),!0):!1;case 6:return p=d.pendingProps===""||p.nodeType!==3?null:p,p!==null?(d.stateNode=p,mi=d,Ji=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(w=ac!==null?{id:tt,overflow:Js}:null,d.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=Xa(18,null,null,0),w.stateNode=p,w.return=d,d.child=w,mi=d,Ji=null,!0):!1;default:return!1}}function fp(d){return(d.mode&1)!==0&&(d.flags&128)===0}function pp(d){if(er){var p=Ji;if(p){var w=p;if(!Rg(d,p)){if(fp(d))throw Error(n(418));p=yo(w.nextSibling);var M=mi;p&&Rg(d,p)?Pg(M,w):(d.flags=d.flags&-4097|2,er=!1,mi=d)}}else{if(fp(d))throw Error(n(418));d.flags=d.flags&-4097|2,er=!1,mi=d}}}function mp(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;mi=d}function ku(d){if(d!==mi)return!1;if(!er)return mp(d),er=!0,!1;var p;if((p=d.tag!==3)&&!(p=d.tag!==5)&&(p=d.type,p=p!=="head"&&p!=="body"&&!_g(d.type,d.memoizedProps)),p&&(p=Ji)){if(fp(d))throw Fg(),Error(n(418));for(;p;)Pg(d,p),p=yo(p.nextSibling)}if(mp(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,p=0;d;){if(d.nodeType===8){var w=d.data;if(w==="/$"){if(p===0){Ji=yo(d.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++}d=d.nextSibling}Ji=null}}else Ji=mi?yo(d.stateNode.nextSibling):null;return!0}function Fg(){for(var d=Ji;d;)d=yo(d.nextSibling)}function fl(){Ji=mi=null,er=!1}function Pu(d){qs===null?qs=[d]:qs.push(d)}var yw=j.ReactCurrentBatchConfig;function Zd(d,p,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(n(309));var M=w.stateNode}if(!M)throw Error(n(147,d));var P=M,B=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===B?p.ref:(p=function(W){var ae=P.refs;W===null?delete ae[B]:ae[B]=W},p._stringRef=B,p)}if(typeof d!="string")throw Error(n(284));if(!w._owner)throw Error(n(290,d))}return d}function eh(d,p){throw d=Object.prototype.toString.call(p),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function Bg(d){var p=d._init;return p(d._payload)}function Dg(d){function p(_e,me){if(d){var Me=_e.deletions;Me===null?(_e.deletions=[me],_e.flags|=16):Me.push(me)}}function w(_e,me){if(!d)return null;for(;me!==null;)p(_e,me),me=me.sibling;return null}function M(_e,me){for(_e=new Map;me!==null;)me.key!==null?_e.set(me.key,me):_e.set(me.index,me),me=me.sibling;return _e}function P(_e,me){return _e=Gu(_e,me),_e.index=0,_e.sibling=null,_e}function B(_e,me,Me){return _e.index=Me,d?(Me=_e.alternate,Me!==null?(Me=Me.index,Me<me?(_e.flags|=2,me):Me):(_e.flags|=2,me)):(_e.flags|=1048576,me)}function W(_e){return d&&_e.alternate===null&&(_e.flags|=2),_e}function ae(_e,me,Me,Ze){return me===null||me.tag!==6?(me=Lw(Me,_e.mode,Ze),me.return=_e,me):(me=P(me,Me),me.return=_e,me)}function de(_e,me,Me,Ze){var Et=Me.type;return Et===D?Ye(_e,me,Me.props.children,Ze,Me.key):me!==null&&(me.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===oe&&Bg(Et)===me.type)?(Ze=P(me,Me.props),Ze.ref=Zd(_e,me,Me),Ze.return=_e,Ze):(Ze=Gv(Me.type,Me.key,Me.props,null,_e.mode,Ze),Ze.ref=Zd(_e,me,Me),Ze.return=_e,Ze)}function je(_e,me,Me,Ze){return me===null||me.tag!==4||me.stateNode.containerInfo!==Me.containerInfo||me.stateNode.implementation!==Me.implementation?(me=Ow(Me,_e.mode,Ze),me.return=_e,me):(me=P(me,Me.children||[]),me.return=_e,me)}function Ye(_e,me,Me,Ze,Et){return me===null||me.tag!==7?(me=xh(Me,_e.mode,Ze,Et),me.return=_e,me):(me=P(me,Me),me.return=_e,me)}function qe(_e,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number")return me=Lw(""+me,_e.mode,Me),me.return=_e,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case R:return Me=Gv(me.type,me.key,me.props,null,_e.mode,Me),Me.ref=Zd(_e,null,me),Me.return=_e,Me;case k:return me=Ow(me,_e.mode,Me),me.return=_e,me;case oe:var Ze=me._init;return qe(_e,Ze(me._payload),Me)}if(G(me)||q(me))return me=xh(me,_e.mode,Me,null),me.return=_e,me;eh(_e,me)}return null}function Xe(_e,me,Me,Ze){var Et=me!==null?me.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Et!==null?null:ae(_e,me,""+Me,Ze);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case R:return Me.key===Et?de(_e,me,Me,Ze):null;case k:return Me.key===Et?je(_e,me,Me,Ze):null;case oe:return Et=Me._init,Xe(_e,me,Et(Me._payload),Ze)}if(G(Me)||q(Me))return Et!==null?null:Ye(_e,me,Me,Ze,null);eh(_e,Me)}return null}function ht(_e,me,Me,Ze,Et){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return _e=_e.get(Me)||null,ae(me,_e,""+Ze,Et);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case R:return _e=_e.get(Ze.key===null?Me:Ze.key)||null,de(me,_e,Ze,Et);case k:return _e=_e.get(Ze.key===null?Me:Ze.key)||null,je(me,_e,Ze,Et);case oe:var Dt=Ze._init;return ht(_e,me,Me,Dt(Ze._payload),Et)}if(G(Ze)||q(Ze))return _e=_e.get(Me)||null,Ye(me,_e,Ze,Et,null);eh(me,Ze)}return null}function bt(_e,me,Me,Ze){for(var Et=null,Dt=null,It=me,Vt=me=0,Di=null;It!==null&&Vt<Me.length;Vt++){It.index>Vt?(Di=It,It=null):Di=It.sibling;var Nn=Xe(_e,It,Me[Vt],Ze);if(Nn===null){It===null&&(It=Di);break}d&&It&&Nn.alternate===null&&p(_e,It),me=B(Nn,me,Vt),Dt===null?Et=Nn:Dt.sibling=Nn,Dt=Nn,It=Di}if(Vt===Me.length)return w(_e,It),er&&_o(_e,Vt),Et;if(It===null){for(;Vt<Me.length;Vt++)It=qe(_e,Me[Vt],Ze),It!==null&&(me=B(It,me,Vt),Dt===null?Et=It:Dt.sibling=It,Dt=It);return er&&_o(_e,Vt),Et}for(It=M(_e,It);Vt<Me.length;Vt++)Di=ht(It,_e,Vt,Me[Vt],Ze),Di!==null&&(d&&Di.alternate!==null&&It.delete(Di.key===null?Vt:Di.key),me=B(Di,me,Vt),Dt===null?Et=Di:Dt.sibling=Di,Dt=Di);return d&&It.forEach(function(Wu){return p(_e,Wu)}),er&&_o(_e,Vt),Et}function wt(_e,me,Me,Ze){var Et=q(Me);if(typeof Et!="function")throw Error(n(150));if(Me=Et.call(Me),Me==null)throw Error(n(151));for(var Dt=Et=null,It=me,Vt=me=0,Di=null,Nn=Me.next();It!==null&&!Nn.done;Vt++,Nn=Me.next()){It.index>Vt?(Di=It,It=null):Di=It.sibling;var Wu=Xe(_e,It,Nn.value,Ze);if(Wu===null){It===null&&(It=Di);break}d&&It&&Wu.alternate===null&&p(_e,It),me=B(Wu,me,Vt),Dt===null?Et=Wu:Dt.sibling=Wu,Dt=Wu,It=Di}if(Nn.done)return w(_e,It),er&&_o(_e,Vt),Et;if(It===null){for(;!Nn.done;Vt++,Nn=Me.next())Nn=qe(_e,Nn.value,Ze),Nn!==null&&(me=B(Nn,me,Vt),Dt===null?Et=Nn:Dt.sibling=Nn,Dt=Nn);return er&&_o(_e,Vt),Et}for(It=M(_e,It);!Nn.done;Vt++,Nn=Me.next())Nn=ht(It,_e,Vt,Nn.value,Ze),Nn!==null&&(d&&Nn.alternate!==null&&It.delete(Nn.key===null?Vt:Nn.key),me=B(Nn,me,Vt),Dt===null?Et=Nn:Dt.sibling=Nn,Dt=Nn);return d&&It.forEach(function(o9){return p(_e,o9)}),er&&_o(_e,Vt),Et}function Yr(_e,me,Me,Ze){if(typeof Me=="object"&&Me!==null&&Me.type===D&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case R:e:{for(var Et=Me.key,Dt=me;Dt!==null;){if(Dt.key===Et){if(Et=Me.type,Et===D){if(Dt.tag===7){w(_e,Dt.sibling),me=P(Dt,Me.props.children),me.return=_e,_e=me;break e}}else if(Dt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===oe&&Bg(Et)===Dt.type){w(_e,Dt.sibling),me=P(Dt,Me.props),me.ref=Zd(_e,Dt,Me),me.return=_e,_e=me;break e}w(_e,Dt);break}else p(_e,Dt);Dt=Dt.sibling}Me.type===D?(me=xh(Me.props.children,_e.mode,Ze,Me.key),me.return=_e,_e=me):(Ze=Gv(Me.type,Me.key,Me.props,null,_e.mode,Ze),Ze.ref=Zd(_e,me,Me),Ze.return=_e,_e=Ze)}return W(_e);case k:e:{for(Dt=Me.key;me!==null;){if(me.key===Dt)if(me.tag===4&&me.stateNode.containerInfo===Me.containerInfo&&me.stateNode.implementation===Me.implementation){w(_e,me.sibling),me=P(me,Me.children||[]),me.return=_e,_e=me;break e}else{w(_e,me);break}else p(_e,me);me=me.sibling}me=Ow(Me,_e.mode,Ze),me.return=_e,_e=me}return W(_e);case oe:return Dt=Me._init,Yr(_e,me,Dt(Me._payload),Ze)}if(G(Me))return bt(_e,me,Me,Ze);if(q(Me))return wt(_e,me,Me,Ze);eh(_e,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,me!==null&&me.tag===6?(w(_e,me.sibling),me=P(me,Me),me.return=_e,_e=me):(w(_e,me),me=Lw(Me,_e.mode,Ze),me.return=_e,_e=me),W(_e)):w(_e,me)}return Yr}var oc=Dg(!0),th=Dg(!1),lc=wr(null),cc=null,Eo=null,Ru=null;function uc(){Ru=Eo=cc=null}function nh(d){var p=lc.current;Xn(lc),d._currentValue=p}function rh(d,p,w){for(;d!==null;){var M=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,M!==null&&(M.childLanes|=p)):M!==null&&(M.childLanes&p)!==p&&(M.childLanes|=p),d===w)break;d=d.return}}function pl(d,p){cc=d,Ru=Eo=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&p)!==0&&(Zt=!0),d.firstContext=null)}function Ns(d){var p=d._currentValue;if(Ru!==d)if(d={context:d,memoizedValue:p,next:null},Eo===null){if(cc===null)throw Error(n(308));Eo=d,cc.dependencies={lanes:0,firstContext:d}}else Eo=Eo.next=d;return p}var Co=null;function Ig(d){Co===null?Co=[d]:Co.push(d)}function ih(d,p,w,M){var P=p.interleaved;return P===null?(w.next=w,Ig(p)):(w.next=P.next,P.next=w),p.interleaved=w,xa(d,M)}function xa(d,p){d.lanes|=p;var w=d.alternate;for(w!==null&&(w.lanes|=p),w=d,d=d.return;d!==null;)d.childLanes|=p,w=d.alternate,w!==null&&(w.childLanes|=p),w=d,d=d.return;return w.tag===3?w.stateNode:null}var Rn=!1;function Qt(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jr(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Fn(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function ir(d,p,w){var M=d.updateQueue;if(M===null)return null;if(M=M.shared,(En&2)!==0){var P=M.pending;return P===null?p.next=p:(p.next=P.next,P.next=p),M.pending=p,xa(d,w)}return P=M.interleaved,P===null?(p.next=p,Ig(M)):(p.next=P.next,P.next=p),M.interleaved=p,xa(d,w)}function Ri(d,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var M=p.lanes;M&=d.pendingLanes,w|=M,p.lanes=w,fu(d,w)}}function dc(d,p){var w=d.updateQueue,M=d.alternate;if(M!==null&&(M=M.updateQueue,w===M)){var P=null,B=null;if(w=w.firstBaseUpdate,w!==null){do{var W={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};B===null?P=B=W:B=B.next=W,w=w.next}while(w!==null);B===null?P=B=p:B=B.next=p}else P=B=p;w={baseState:M.baseState,firstBaseUpdate:P,lastBaseUpdate:B,shared:M.shared,effects:M.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=p:d.next=p,w.lastBaseUpdate=p}function Sr(d,p,w,M){var P=d.updateQueue;Rn=!1;var B=P.firstBaseUpdate,W=P.lastBaseUpdate,ae=P.shared.pending;if(ae!==null){P.shared.pending=null;var de=ae,je=de.next;de.next=null,W===null?B=je:W.next=je,W=de;var Ye=d.alternate;Ye!==null&&(Ye=Ye.updateQueue,ae=Ye.lastBaseUpdate,ae!==W&&(ae===null?Ye.firstBaseUpdate=je:ae.next=je,Ye.lastBaseUpdate=de))}if(B!==null){var qe=P.baseState;W=0,Ye=je=de=null,ae=B;do{var Xe=ae.lane,ht=ae.eventTime;if((M&Xe)===Xe){Ye!==null&&(Ye=Ye.next={eventTime:ht,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var bt=d,wt=ae;switch(Xe=p,ht=w,wt.tag){case 1:if(bt=wt.payload,typeof bt=="function"){qe=bt.call(ht,qe,Xe);break e}qe=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=wt.payload,Xe=typeof bt=="function"?bt.call(ht,qe,Xe):bt,Xe==null)break e;qe=Q({},qe,Xe);break e;case 2:Rn=!0}}ae.callback!==null&&ae.lane!==0&&(d.flags|=64,Xe=P.effects,Xe===null?P.effects=[ae]:Xe.push(ae))}else ht={eventTime:ht,lane:Xe,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ye===null?(je=Ye=ht,de=qe):Ye=Ye.next=ht,W|=Xe;if(ae=ae.next,ae===null){if(ae=P.shared.pending,ae===null)break;Xe=ae,ae=Xe.next,Xe.next=null,P.lastBaseUpdate=Xe,P.shared.pending=null}}while(!0);if(Ye===null&&(de=qe),P.baseState=de,P.firstBaseUpdate=je,P.lastBaseUpdate=Ye,p=P.shared.interleaved,p!==null){P=p;do W|=P.lane,P=P.next;while(P!==p)}else B===null&&(P.shared.lanes=0);fh|=W,d.lanes=W,d.memoizedState=qe}}function Fu(d,p,w){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var M=d[p],P=M.callback;if(P!==null){if(M.callback=null,M=w,typeof P!="function")throw Error(n(191,P));P.call(M)}}}var Ga={},Ts=wr(Ga),hc=wr(Ga),Mo=wr(Ga);function Dr(d){if(d===Ga)throw Error(n(174));return d}function sh(d,p){switch(On(Mo,p),On(hc,d),On(Ts,Ga),d=p.nodeType,d){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:nt(null,"");break;default:d=d===8?p.parentNode:p,p=d.namespaceURI||null,d=d.tagName,p=nt(p,d)}Xn(Ts),On(Ts,p)}function ml(){Xn(Ts),Xn(hc),Xn(Mo)}function fc(d){Dr(Mo.current);var p=Dr(Ts.current),w=nt(p,d.type);p!==w&&(On(hc,d),On(Ts,w))}function Bu(d){hc.current===d&&(Xn(Ts),Xn(hc))}var tr=wr(0);function va(d){for(var p=d;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Du=[];function Wa(){for(var d=0;d<Du.length;d++)Du[d]._workInProgressVersionPrimary=null;Du.length=0}var pc=j.ReactCurrentDispatcher,mc=j.ReactCurrentBatchConfig,No=0,Yn=null,_r=null,wn=null,ya=!1,Fi=!1,gl=0,ls=0;function gi(){throw Error(n(321))}function ah(d,p){if(p===null)return!1;for(var w=0;w<p.length&&w<d.length;w++)if(!Es(d[w],p[w]))return!1;return!0}function oh(d,p,w,M,P,B){if(No=B,Yn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,pc.current=d===null||d.memoizedState===null?Mv:Nv,d=w(M,P),Fi){B=0;do{if(Fi=!1,gl=0,25<=B)throw Error(n(301));B+=1,wn=_r=null,p.updateQueue=null,pc.current=Tv,d=w(M,P)}while(Fi)}if(pc.current=Sp,p=_r!==null&&_r.next!==null,No=0,wn=_r=Yn=null,ya=!1,p)throw Error(n(300));return d}function Lg(){var d=gl!==0;return gl=0,d}function xi(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wn===null?Yn.memoizedState=wn=d:wn=wn.next=d,wn}function js(){if(_r===null){var d=Yn.alternate;d=d!==null?d.memoizedState:null}else d=_r.next;var p=wn===null?Yn.memoizedState:wn.next;if(p!==null)wn=p,_r=d;else{if(d===null)throw Error(n(310));_r=d,d={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},wn===null?Yn.memoizedState=wn=d:wn=wn.next=d}return wn}function Iu(d,p){return typeof p=="function"?p(d):p}function lh(d){var p=js(),w=p.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=d;var M=_r,P=M.baseQueue,B=w.pending;if(B!==null){if(P!==null){var W=P.next;P.next=B.next,B.next=W}M.baseQueue=P=B,w.pending=null}if(P!==null){B=P.next,M=M.baseState;var ae=W=null,de=null,je=B;do{var Ye=je.lane;if((No&Ye)===Ye)de!==null&&(de=de.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),M=je.hasEagerState?je.eagerState:d(M,je.action);else{var qe={lane:Ye,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};de===null?(ae=de=qe,W=M):de=de.next=qe,Yn.lanes|=Ye,fh|=Ye}je=je.next}while(je!==null&&je!==B);de===null?W=M:de.next=ae,Es(M,p.memoizedState)||(Zt=!0),p.memoizedState=M,p.baseState=W,p.baseQueue=de,w.lastRenderedState=M}if(d=w.interleaved,d!==null){P=d;do B=P.lane,Yn.lanes|=B,fh|=B,P=P.next;while(P!==d)}else P===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function To(d){var p=js(),w=p.queue;if(w===null)throw Error(n(311));w.lastRenderedReducer=d;var M=w.dispatch,P=w.pending,B=p.memoizedState;if(P!==null){w.pending=null;var W=P=P.next;do B=d(B,W.action),W=W.next;while(W!==P);Es(B,p.memoizedState)||(Zt=!0),p.memoizedState=B,p.baseQueue===null&&(p.baseState=B),w.lastRenderedState=B}return[B,M]}function Og(){}function Ug(d,p){var w=Yn,M=js(),P=p(),B=!Es(M.memoizedState,P);if(B&&(M.memoizedState=P,Zt=!0),M=M.queue,Gg(wv.bind(null,w,M,d),[d]),M.getSnapshot!==p||B||wn!==null&&wn.memoizedState.tag&1){if(w.flags|=2048,ba(9,ch.bind(null,w,M,P,p),void 0,null),Bi===null)throw Error(n(349));(No&30)!==0||gp(w,p,P)}return P}function gp(d,p,w){d.flags|=16384,d={getSnapshot:p,value:w},p=Yn.updateQueue,p===null?(p={lastEffect:null,stores:null},Yn.updateQueue=p,p.stores=[d]):(w=p.stores,w===null?p.stores=[d]:w.push(d))}function ch(d,p,w,M){p.value=w,p.getSnapshot=M,Sv(p)&&zg(d)}function wv(d,p,w){return w(function(){Sv(p)&&zg(d)})}function Sv(d){var p=d.getSnapshot;d=d.value;try{var w=p();return!Es(d,w)}catch{return!0}}function zg(d){var p=xa(d,1);p!==null&&Fo(p,d,1,-1)}function Hg(d){var p=xi();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:d},p.queue=d,d=d.dispatch=gc.bind(null,Yn,d),[p.memoizedState,d]}function ba(d,p,w,M){return d={tag:d,create:p,destroy:w,deps:M,next:null},p=Yn.updateQueue,p===null?(p={lastEffect:null,stores:null},Yn.updateQueue=p,p.lastEffect=d.next=d):(w=p.lastEffect,w===null?p.lastEffect=d.next=d:(M=w.next,w.next=d,d.next=M,p.lastEffect=d)),d}function _v(){return js().memoizedState}function Va(d,p,w,M){var P=xi();Yn.flags|=d,P.memoizedState=ba(1|p,w,void 0,M===void 0?null:M)}function uh(d,p,w,M){var P=js();M=M===void 0?null:M;var B=void 0;if(_r!==null){var W=_r.memoizedState;if(B=W.destroy,M!==null&&ah(M,W.deps)){P.memoizedState=ba(p,w,B,M);return}}Yn.flags|=d,P.memoizedState=ba(1|p,w,B,M)}function qi(d,p){return Va(8390656,8,d,p)}function Gg(d,p){return uh(2048,8,d,p)}function Wg(d,p){return uh(4,2,d,p)}function Av(d,p){return uh(4,4,d,p)}function Ev(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function Vg(d,p,w){return w=w!=null?w.concat([d]):null,uh(4,4,Ev.bind(null,p,d),w)}function xp(){}function Cv(d,p){var w=js();p=p===void 0?null:p;var M=w.memoizedState;return M!==null&&p!==null&&ah(p,M[1])?M[0]:(w.memoizedState=[d,p],d)}function ks(d,p){var w=js();p=p===void 0?null:p;var M=w.memoizedState;return M!==null&&p!==null&&ah(p,M[1])?M[0]:(d=d(),w.memoizedState=[d,p],d)}function vp(d,p,w){return(No&21)===0?(d.baseState&&(d.baseState=!1,Zt=!0),d.memoizedState=w):(Es(w,p)||(w=rs(),Yn.lanes|=w,fh|=w,d.baseState=!0),p)}function bw(d,p){var w=bn;bn=w!==0&&4>w?w:4,d(!0);var M=mc.transition;mc.transition={};try{d(!1),p()}finally{bn=w,mc.transition=M}}function jo(){return js().memoizedState}function yp(d,p,w){var M=zu(d);if(w={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null},dh(d))bp(p,w);else if(w=ih(d,p,w,M),w!==null){var P=Rs();Fo(w,d,M,P),wp(w,p,M)}}function gc(d,p,w){var M=zu(d),P={lane:M,action:w,hasEagerState:!1,eagerState:null,next:null};if(dh(d))bp(p,P);else{var B=d.alternate;if(d.lanes===0&&(B===null||B.lanes===0)&&(B=p.lastRenderedReducer,B!==null))try{var W=p.lastRenderedState,ae=B(W,w);if(P.hasEagerState=!0,P.eagerState=ae,Es(ae,W)){var de=p.interleaved;de===null?(P.next=P,Ig(p)):(P.next=de.next,de.next=P),p.interleaved=P;return}}catch{}finally{}w=ih(d,p,P,M),w!==null&&(P=Rs(),Fo(w,d,M,P),wp(w,p,M))}}function dh(d){var p=d.alternate;return d===Yn||p!==null&&p===Yn}function bp(d,p){Fi=ya=!0;var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}function wp(d,p,w){if((w&4194240)!==0){var M=p.lanes;M&=d.pendingLanes,w|=M,p.lanes=w,fu(d,w)}}var Sp={readContext:Ns,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useInsertionEffect:gi,useLayoutEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useMutableSource:gi,useSyncExternalStore:gi,useId:gi,unstable_isNewReconciler:!1},Mv={readContext:Ns,useCallback:function(d,p){return xi().memoizedState=[d,p===void 0?null:p],d},useContext:Ns,useEffect:qi,useImperativeHandle:function(d,p,w){return w=w!=null?w.concat([d]):null,Va(4194308,4,Ev.bind(null,p,d),w)},useLayoutEffect:function(d,p){return Va(4194308,4,d,p)},useInsertionEffect:function(d,p){return Va(4,2,d,p)},useMemo:function(d,p){var w=xi();return p=p===void 0?null:p,d=d(),w.memoizedState=[d,p],d},useReducer:function(d,p,w){var M=xi();return p=w!==void 0?w(p):p,M.memoizedState=M.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},M.queue=d,d=d.dispatch=yp.bind(null,Yn,d),[M.memoizedState,d]},useRef:function(d){var p=xi();return d={current:d},p.memoizedState=d},useState:Hg,useDebugValue:xp,useDeferredValue:function(d){return xi().memoizedState=d},useTransition:function(){var d=Hg(!1),p=d[0];return d=bw.bind(null,d[1]),xi().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,w){var M=Yn,P=xi();if(er){if(w===void 0)throw Error(n(407));w=w()}else{if(w=p(),Bi===null)throw Error(n(349));(No&30)!==0||gp(M,p,w)}P.memoizedState=w;var B={value:w,getSnapshot:p};return P.queue=B,qi(wv.bind(null,M,B,d),[d]),M.flags|=2048,ba(9,ch.bind(null,M,B,w,p),void 0,null),w},useId:function(){var d=xi(),p=Bi.identifierPrefix;if(er){var w=Js,M=tt;w=(M&~(1<<32-yr(M)-1)).toString(32)+w,p=":"+p+"R"+w,w=gl++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=ls++,p=":"+p+"r"+w.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},Nv={readContext:Ns,useCallback:Cv,useContext:Ns,useEffect:Gg,useImperativeHandle:Vg,useInsertionEffect:Wg,useLayoutEffect:Av,useMemo:ks,useReducer:lh,useRef:_v,useState:function(){return lh(Iu)},useDebugValue:xp,useDeferredValue:function(d){var p=js();return vp(p,_r.memoizedState,d)},useTransition:function(){var d=lh(Iu)[0],p=js().memoizedState;return[d,p]},useMutableSource:Og,useSyncExternalStore:Ug,useId:jo,unstable_isNewReconciler:!1},Tv={readContext:Ns,useCallback:Cv,useContext:Ns,useEffect:Gg,useImperativeHandle:Vg,useInsertionEffect:Wg,useLayoutEffect:Av,useMemo:ks,useReducer:To,useRef:_v,useState:function(){return To(Iu)},useDebugValue:xp,useDeferredValue:function(d){var p=js();return _r===null?p.memoizedState=d:vp(p,_r.memoizedState,d)},useTransition:function(){var d=To(Iu)[0],p=js().memoizedState;return[d,p]},useMutableSource:Og,useSyncExternalStore:Ug,useId:jo,unstable_isNewReconciler:!1};function $s(d,p){if(d&&d.defaultProps){p=Q({},p),d=d.defaultProps;for(var w in d)p[w]===void 0&&(p[w]=d[w]);return p}return p}function hh(d,p,w,M){p=d.memoizedState,w=w(M,p),w=w==null?p:Q({},p,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var _p={isMounted:function(d){return(d=d._reactInternals)?uo(d)===d:!1},enqueueSetState:function(d,p,w){d=d._reactInternals;var M=Rs(),P=zu(d),B=Fn(M,P);B.payload=p,w!=null&&(B.callback=w),p=ir(d,B,P),p!==null&&(Fo(p,d,P,M),Ri(p,d,P))},enqueueReplaceState:function(d,p,w){d=d._reactInternals;var M=Rs(),P=zu(d),B=Fn(M,P);B.tag=1,B.payload=p,w!=null&&(B.callback=w),p=ir(d,B,P),p!==null&&(Fo(p,d,P,M),Ri(p,d,P))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var w=Rs(),M=zu(d),P=Fn(w,M);P.tag=2,p!=null&&(P.callback=p),p=ir(d,P,M),p!==null&&(Fo(p,d,M,w),Ri(p,d,M))}};function jv(d,p,w,M,P,B,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(M,B,W):p.prototype&&p.prototype.isPureReactComponent?!$l(w,M)||!$l(P,B):!0}function g(d,p,w){var M=!1,P=wo,B=p.contextType;return typeof B=="object"&&B!==null?B=Ns(B):(P=Pi(p)?So:pi.current,M=p.contextTypes,B=(M=M!=null)?rc(d,P):wo),p=new p(w,B),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=_p,d.stateNode=p,p._reactInternals=d,M&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=P,d.__reactInternalMemoizedMaskedChildContext=B),p}function x(d,p,w,M){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,M),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,M),p.state!==d&&_p.enqueueReplaceState(p,p.state,null)}function A(d,p,w,M){var P=d.stateNode;P.props=w,P.state=d.memoizedState,P.refs={},Qt(d);var B=p.contextType;typeof B=="object"&&B!==null?P.context=Ns(B):(B=Pi(p)?So:pi.current,P.context=rc(d,B)),P.state=d.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(hh(d,p,B,w),P.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(p=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),p!==P.state&&_p.enqueueReplaceState(P,P.state,null),Sr(d,w,P,M),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308)}function T(d,p){try{var w="",M=p;do w+=be(M),M=M.return;while(M);var P=w}catch(B){P=`
Error generating stack: `+B.message+`
`+B.stack}return{value:d,source:p,stack:P,digest:null}}function F(d,p,w){return{value:d,source:null,stack:w??null,digest:p??null}}function L(d,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var ie=typeof WeakMap=="function"?WeakMap:Map;function xe(d,p,w){w=Fn(-1,w),w.tag=3,w.payload={element:null};var M=p.value;return w.callback=function(){Iv||(Iv=!0,jw=M),L(d,p)},w}function De(d,p,w){w=Fn(-1,w),w.tag=3;var M=d.type.getDerivedStateFromError;if(typeof M=="function"){var P=p.value;w.payload=function(){return M(P)},w.callback=function(){L(d,p)}}var B=d.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(w.callback=function(){L(d,p),typeof M!="function"&&(Ou===null?Ou=new Set([this]):Ou.add(this));var W=p.stack;this.componentDidCatch(p.value,{componentStack:W!==null?W:""})}),w}function Qe(d,p,w){var M=d.pingCache;if(M===null){M=d.pingCache=new ie;var P=new Set;M.set(p,P)}else P=M.get(p),P===void 0&&(P=new Set,M.set(p,P));P.has(w)||(P.add(w),d=qU.bind(null,d,p,w),p.then(d,d))}function pt(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function Yt(d,p,w,M,P){return(d.mode&1)===0?(d===p?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Fn(-1,1),p.tag=2,ir(w,p,1))),w.lanes|=1),d):(d.flags|=65536,d.lanes=P,d)}var Pt=j.ReactCurrentOwner,Zt=!1;function ct(d,p,w,M){p.child=d===null?th(p,null,w,M):oc(p,d.child,w,M)}function vi(d,p,w,M,P){w=w.render;var B=p.ref;return pl(p,P),M=oh(d,p,w,M,B,P),w=Lg(),d!==null&&!Zt?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~P,xc(d,p,P)):(er&&w&&kg(p),p.flags|=1,ct(d,p,M,P),p.child)}function Ps(d,p,w,M,P){if(d===null){var B=w.type;return typeof B=="function"&&!Iw(B)&&B.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=B,Ne(d,p,B,M,P)):(d=Gv(w.type,null,M,p,p.mode,P),d.ref=p.ref,d.return=p,p.child=d)}if(B=d.child,(d.lanes&P)===0){var W=B.memoizedProps;if(w=w.compare,w=w!==null?w:$l,w(W,M)&&d.ref===p.ref)return xc(d,p,P)}return p.flags|=1,d=Gu(B,M),d.ref=p.ref,d.return=p,p.child=d}function Ne(d,p,w,M,P){if(d!==null){var B=d.memoizedProps;if($l(B,M)&&d.ref===p.ref)if(Zt=!1,p.pendingProps=M=B,(d.lanes&P)!==0)(d.flags&131072)!==0&&(Zt=!0);else return p.lanes=d.lanes,xc(d,p,P)}return ot(d,p,w,M,P)}function ye(d,p,w){var M=p.pendingProps,P=M.children,B=d!==null?d.memoizedState:null;if(M.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(Ep,wa),wa|=w;else{if((w&1073741824)===0)return d=B!==null?B.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null,transitions:null},p.updateQueue=null,On(Ep,wa),wa|=d,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},M=B!==null?B.baseLanes:w,On(Ep,wa),wa|=M}else B!==null?(M=B.baseLanes|w,p.memoizedState=null):M=w,On(Ep,wa),wa|=M;return ct(d,p,P,w),p.child}function Be(d,p){var w=p.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function ot(d,p,w,M,P){var B=Pi(w)?So:pi.current;return B=rc(p,B),pl(p,P),w=oh(d,p,w,M,B,P),M=Lg(),d!==null&&!Zt?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~P,xc(d,p,P)):(er&&M&&kg(p),p.flags|=1,ct(d,p,w,P),p.child)}function St(d,p,w,M,P){if(Pi(w)){var B=!0;ic(p)}else B=!1;if(pl(p,P),p.stateNode===null)Pv(d,p),g(p,w,M),A(p,w,M,P),M=!0;else if(d===null){var W=p.stateNode,ae=p.memoizedProps;W.props=ae;var de=W.context,je=w.contextType;typeof je=="object"&&je!==null?je=Ns(je):(je=Pi(w)?So:pi.current,je=rc(p,je));var Ye=w.getDerivedStateFromProps,qe=typeof Ye=="function"||typeof W.getSnapshotBeforeUpdate=="function";qe||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ae!==M||de!==je)&&x(p,W,M,je),Rn=!1;var Xe=p.memoizedState;W.state=Xe,Sr(p,M,W,P),de=p.memoizedState,ae!==M||Xe!==de||Xi.current||Rn?(typeof Ye=="function"&&(hh(p,w,Ye,M),de=p.memoizedState),(ae=Rn||jv(p,w,ae,M,Xe,de,je))?(qe||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(p.flags|=4194308)):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=M,p.memoizedState=de),W.props=M,W.state=de,W.context=je,M=ae):(typeof W.componentDidMount=="function"&&(p.flags|=4194308),M=!1)}else{W=p.stateNode,jr(d,p),ae=p.memoizedProps,je=p.type===p.elementType?ae:$s(p.type,ae),W.props=je,qe=p.pendingProps,Xe=W.context,de=w.contextType,typeof de=="object"&&de!==null?de=Ns(de):(de=Pi(w)?So:pi.current,de=rc(p,de));var ht=w.getDerivedStateFromProps;(Ye=typeof ht=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ae!==qe||Xe!==de)&&x(p,W,M,de),Rn=!1,Xe=p.memoizedState,W.state=Xe,Sr(p,M,W,P);var bt=p.memoizedState;ae!==qe||Xe!==bt||Xi.current||Rn?(typeof ht=="function"&&(hh(p,w,ht,M),bt=p.memoizedState),(je=Rn||jv(p,w,je,M,Xe,bt,de)||!1)?(Ye||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(M,bt,de),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(M,bt,de)),typeof W.componentDidUpdate=="function"&&(p.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof W.componentDidUpdate!="function"||ae===d.memoizedProps&&Xe===d.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&Xe===d.memoizedState||(p.flags|=1024),p.memoizedProps=M,p.memoizedState=bt),W.props=M,W.state=bt,W.context=de,M=je):(typeof W.componentDidUpdate!="function"||ae===d.memoizedProps&&Xe===d.memoizedState||(p.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ae===d.memoizedProps&&Xe===d.memoizedState||(p.flags|=1024),M=!1)}return $t(d,p,w,M,B,P)}function $t(d,p,w,M,P,B){Be(d,p);var W=(p.flags&128)!==0;if(!M&&!W)return P&&Tg(p,w,!1),xc(d,p,B);M=p.stateNode,Pt.current=p;var ae=W&&typeof w.getDerivedStateFromError!="function"?null:M.render();return p.flags|=1,d!==null&&W?(p.child=oc(p,d.child,null,B),p.child=oc(p,null,ae,B)):ct(d,p,ae,B),p.memoizedState=M.state,P&&Tg(p,w,!0),p.child}function Jt(d){var p=d.stateNode;p.pendingContext?Ng(d,p.pendingContext,p.pendingContext!==p.context):p.context&&Ng(d,p.context,!1),sh(d,p.containerInfo)}function vn(d,p,w,M,P){return fl(),Pu(P),p.flags|=256,ct(d,p,w,M),p.child}var Ir={dehydrated:null,treeContext:null,retryLane:0};function xn(d){return{baseLanes:d,cachePool:null,transitions:null}}function ko(d,p,w){var M=p.pendingProps,P=tr.current,B=!1,W=(p.flags&128)!==0,ae;if((ae=W)||(ae=d!==null&&d.memoizedState===null?!1:(P&2)!==0),ae?(B=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(P|=1),On(tr,P&1),d===null)return pp(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((p.mode&1)===0?p.lanes=1:d.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(W=M.children,d=M.fallback,B?(M=p.mode,B=p.child,W={mode:"hidden",children:W},(M&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=W):B=Wv(W,M,0,null),d=xh(d,M,w,null),B.return=p,d.return=p,B.sibling=d,p.child=B,p.child.memoizedState=xn(w),p.memoizedState=Ir,d):Kg(p,W));if(P=d.memoizedState,P!==null&&(ae=P.dehydrated,ae!==null))return LU(d,p,W,M,ae,P,w);if(B){B=M.fallback,W=p.mode,P=d.child,ae=P.sibling;var de={mode:"hidden",children:M.children};return(W&1)===0&&p.child!==P?(M=p.child,M.childLanes=0,M.pendingProps=de,p.deletions=null):(M=Gu(P,de),M.subtreeFlags=P.subtreeFlags&14680064),ae!==null?B=Gu(ae,B):(B=xh(B,W,w,null),B.flags|=2),B.return=p,M.return=p,M.sibling=B,p.child=M,M=B,B=p.child,W=d.child.memoizedState,W=W===null?xn(w):{baseLanes:W.baseLanes|w,cachePool:null,transitions:W.transitions},B.memoizedState=W,B.childLanes=d.childLanes&~w,p.memoizedState=Ir,M}return B=d.child,d=B.sibling,M=Gu(B,{mode:"visible",children:M.children}),(p.mode&1)===0&&(M.lanes=w),M.return=p,M.sibling=null,d!==null&&(w=p.deletions,w===null?(p.deletions=[d],p.flags|=16):w.push(d)),p.child=M,p.memoizedState=null,M}function Kg(d,p){return p=Wv({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function kv(d,p,w,M){return M!==null&&Pu(M),oc(p,d.child,null,w),d=Kg(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function LU(d,p,w,M,P,B,W){if(w)return p.flags&256?(p.flags&=-257,M=F(Error(n(422))),kv(d,p,W,M)):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(B=M.fallback,P=p.mode,M=Wv({mode:"visible",children:M.children},P,0,null),B=xh(B,P,W,null),B.flags|=2,M.return=p,B.return=p,M.sibling=B,p.child=M,(p.mode&1)!==0&&oc(p,d.child,null,W),p.child.memoizedState=xn(W),p.memoizedState=Ir,B);if((p.mode&1)===0)return kv(d,p,W,null);if(P.data==="$!"){if(M=P.nextSibling&&P.nextSibling.dataset,M)var ae=M.dgst;return M=ae,B=Error(n(419)),M=F(B,M,void 0),kv(d,p,W,M)}if(ae=(W&d.childLanes)!==0,Zt||ae){if(M=Bi,M!==null){switch(W&-W){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(M.suspendedLanes|W))!==0?0:P,P!==0&&P!==B.retryLane&&(B.retryLane=P,xa(d,P),Fo(M,d,P,-1))}return Dw(),M=F(Error(n(421))),kv(d,p,W,M)}return P.data==="$?"?(p.flags|=128,p.child=d.child,p=$U.bind(null,d),P._reactRetry=p,null):(d=B.treeContext,Ji=yo(P.nextSibling),mi=p,er=!0,qs=null,d!==null&&(Yi[ri++]=tt,Yi[ri++]=Js,Yi[ri++]=ac,tt=d.id,Js=d.overflow,ac=p),p=Kg(p,M.children),p.flags|=4096,p)}function GT(d,p,w){d.lanes|=p;var M=d.alternate;M!==null&&(M.lanes|=p),rh(d.return,p,w)}function ww(d,p,w,M,P){var B=d.memoizedState;B===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:M,tail:w,tailMode:P}:(B.isBackwards=p,B.rendering=null,B.renderingStartTime=0,B.last=M,B.tail=w,B.tailMode=P)}function WT(d,p,w){var M=p.pendingProps,P=M.revealOrder,B=M.tail;if(ct(d,p,M.children,w),M=tr.current,(M&2)!==0)M=M&1|2,p.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&GT(d,w,p);else if(d.tag===19)GT(d,w,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}M&=1}if(On(tr,M),(p.mode&1)===0)p.memoizedState=null;else switch(P){case"forwards":for(w=p.child,P=null;w!==null;)d=w.alternate,d!==null&&va(d)===null&&(P=w),w=w.sibling;w=P,w===null?(P=p.child,p.child=null):(P=w.sibling,w.sibling=null),ww(p,!1,P,w,B);break;case"backwards":for(w=null,P=p.child,p.child=null;P!==null;){if(d=P.alternate,d!==null&&va(d)===null){p.child=P;break}d=P.sibling,P.sibling=w,w=P,P=d}ww(p,!0,w,null,B);break;case"together":ww(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Pv(d,p){(p.mode&1)===0&&d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2)}function xc(d,p,w){if(d!==null&&(p.dependencies=d.dependencies),fh|=p.lanes,(w&p.childLanes)===0)return null;if(d!==null&&p.child!==d.child)throw Error(n(153));if(p.child!==null){for(d=p.child,w=Gu(d,d.pendingProps),p.child=w,w.return=p;d.sibling!==null;)d=d.sibling,w=w.sibling=Gu(d,d.pendingProps),w.return=p;w.sibling=null}return p.child}function OU(d,p,w){switch(p.tag){case 3:Jt(p),fl();break;case 5:fc(p);break;case 1:Pi(p.type)&&ic(p);break;case 4:sh(p,p.stateNode.containerInfo);break;case 10:var M=p.type._context,P=p.memoizedProps.value;On(lc,M._currentValue),M._currentValue=P;break;case 13:if(M=p.memoizedState,M!==null)return M.dehydrated!==null?(On(tr,tr.current&1),p.flags|=128,null):(w&p.child.childLanes)!==0?ko(d,p,w):(On(tr,tr.current&1),d=xc(d,p,w),d!==null?d.sibling:null);On(tr,tr.current&1);break;case 19:if(M=(w&p.childLanes)!==0,(d.flags&128)!==0){if(M)return WT(d,p,w);p.flags|=128}if(P=p.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),On(tr,tr.current),M)break;return null;case 22:case 23:return p.lanes=0,ye(d,p,w)}return xc(d,p,w)}var VT,Sw,KT,XT;VT=function(d,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)d.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},Sw=function(){},KT=function(d,p,w,M){var P=d.memoizedProps;if(P!==M){d=p.stateNode,Dr(Ts.current);var B=null;switch(w){case"input":P=fe(d,P),M=fe(d,M),B=[];break;case"select":P=Q({},P,{value:void 0}),M=Q({},M,{value:void 0}),B=[];break;case"textarea":P=He(d,P),M=He(d,M),B=[];break;default:typeof P.onClick!="function"&&typeof M.onClick=="function"&&(d.onclick=Yd)}Xt(w,M);var W;w=null;for(je in P)if(!M.hasOwnProperty(je)&&P.hasOwnProperty(je)&&P[je]!=null)if(je==="style"){var ae=P[je];for(W in ae)ae.hasOwnProperty(W)&&(w||(w={}),w[W]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(i.hasOwnProperty(je)?B||(B=[]):(B=B||[]).push(je,null));for(je in M){var de=M[je];if(ae=P?.[je],M.hasOwnProperty(je)&&de!==ae&&(de!=null||ae!=null))if(je==="style")if(ae){for(W in ae)!ae.hasOwnProperty(W)||de&&de.hasOwnProperty(W)||(w||(w={}),w[W]="");for(W in de)de.hasOwnProperty(W)&&ae[W]!==de[W]&&(w||(w={}),w[W]=de[W])}else w||(B||(B=[]),B.push(je,w)),w=de;else je==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ae=ae?ae.__html:void 0,de!=null&&ae!==de&&(B=B||[]).push(je,de)):je==="children"?typeof de!="string"&&typeof de!="number"||(B=B||[]).push(je,""+de):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(i.hasOwnProperty(je)?(de!=null&&je==="onScroll"&&Kn("scroll",d),B||ae===de||(B=[])):(B=B||[]).push(je,de))}w&&(B=B||[]).push("style",w);var je=B;(p.updateQueue=je)&&(p.flags|=4)}},XT=function(d,p,w,M){w!==M&&(p.flags|=4)};function Xg(d,p){if(!er)switch(d.tailMode){case"hidden":p=d.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var M=null;w!==null;)w.alternate!==null&&(M=w),w=w.sibling;M===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:M.sibling=null}}function cs(d){var p=d.alternate!==null&&d.alternate.child===d.child,w=0,M=0;if(p)for(var P=d.child;P!==null;)w|=P.lanes|P.childLanes,M|=P.subtreeFlags&14680064,M|=P.flags&14680064,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)w|=P.lanes|P.childLanes,M|=P.subtreeFlags,M|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=M,d.childLanes=w,p}function UU(d,p,w){var M=p.pendingProps;switch(Ao(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cs(p),null;case 1:return Pi(p.type)&&Jd(),cs(p),null;case 3:return M=p.stateNode,ml(),Xn(Xi),Xn(pi),Wa(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(d===null||d.child===null)&&(ku(p)?p.flags|=4:d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,qs!==null&&(Rw(qs),qs=null))),Sw(d,p),cs(p),null;case 5:Bu(p);var P=Dr(Mo.current);if(w=p.type,d!==null&&p.stateNode!=null)KT(d,p,w,M,P),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!M){if(p.stateNode===null)throw Error(n(166));return cs(p),null}if(d=Dr(Ts.current),ku(p)){M=p.stateNode,w=p.type;var B=p.memoizedProps;switch(M[Xr]=p,M[ju]=B,d=(p.mode&1)!==0,w){case"dialog":Kn("cancel",M),Kn("close",M);break;case"iframe":case"object":case"embed":Kn("load",M);break;case"video":case"audio":for(P=0;P<dl.length;P++)Kn(dl[P],M);break;case"source":Kn("error",M);break;case"img":case"image":case"link":Kn("error",M),Kn("load",M);break;case"details":Kn("toggle",M);break;case"input":Ie(M,B),Kn("invalid",M);break;case"select":M._wrapperState={wasMultiple:!!B.multiple},Kn("invalid",M);break;case"textarea":Ve(M,B),Kn("invalid",M)}Xt(w,B),P=null;for(var W in B)if(B.hasOwnProperty(W)){var ae=B[W];W==="children"?typeof ae=="string"?M.textContent!==ae&&(B.suppressHydrationWarning!==!0&&Xd(M.textContent,ae,d),P=["children",ae]):typeof ae=="number"&&M.textContent!==""+ae&&(B.suppressHydrationWarning!==!0&&Xd(M.textContent,ae,d),P=["children",""+ae]):i.hasOwnProperty(W)&&ae!=null&&W==="onScroll"&&Kn("scroll",M)}switch(w){case"input":Ge(M),$e(M,B,!0);break;case"textarea":Ge(M),ve(M);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(M.onclick=Yd)}M=P,p.updateQueue=M,M!==null&&(p.flags|=4)}else{W=P.nodeType===9?P:P.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Le(w)),d==="http://www.w3.org/1999/xhtml"?w==="script"?(d=W.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof M.is=="string"?d=W.createElement(w,{is:M.is}):(d=W.createElement(w),w==="select"&&(W=d,M.multiple?W.multiple=!0:M.size&&(W.size=M.size))):d=W.createElementNS(d,w),d[Xr]=p,d[ju]=M,VT(d,p,!1,!1),p.stateNode=d;e:{switch(W=gn(w,M),w){case"dialog":Kn("cancel",d),Kn("close",d),P=M;break;case"iframe":case"object":case"embed":Kn("load",d),P=M;break;case"video":case"audio":for(P=0;P<dl.length;P++)Kn(dl[P],d);P=M;break;case"source":Kn("error",d),P=M;break;case"img":case"image":case"link":Kn("error",d),Kn("load",d),P=M;break;case"details":Kn("toggle",d),P=M;break;case"input":Ie(d,M),P=fe(d,M),Kn("invalid",d);break;case"option":P=M;break;case"select":d._wrapperState={wasMultiple:!!M.multiple},P=Q({},M,{value:void 0}),Kn("invalid",d);break;case"textarea":Ve(d,M),P=He(d,M),Kn("invalid",d);break;default:P=M}Xt(w,P),ae=P;for(B in ae)if(ae.hasOwnProperty(B)){var de=ae[B];B==="style"?jt(d,de):B==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Kt(d,de)):B==="children"?typeof de=="string"?(w!=="textarea"||de!=="")&&Ke(d,de):typeof de=="number"&&Ke(d,""+de):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?de!=null&&B==="onScroll"&&Kn("scroll",d):de!=null&&C(d,B,de,W))}switch(w){case"input":Ge(d),$e(d,M,!1);break;case"textarea":Ge(d),ve(d);break;case"option":M.value!=null&&d.setAttribute("value",""+pe(M.value));break;case"select":d.multiple=!!M.multiple,B=M.value,B!=null?ge(d,!!M.multiple,B,!1):M.defaultValue!=null&&ge(d,!!M.multiple,M.defaultValue,!0);break;default:typeof P.onClick=="function"&&(d.onclick=Yd)}switch(w){case"button":case"input":case"select":case"textarea":M=!!M.autoFocus;break e;case"img":M=!0;break e;default:M=!1}}M&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return cs(p),null;case 6:if(d&&p.stateNode!=null)XT(d,p,d.memoizedProps,M);else{if(typeof M!="string"&&p.stateNode===null)throw Error(n(166));if(w=Dr(Mo.current),Dr(Ts.current),ku(p)){if(M=p.stateNode,w=p.memoizedProps,M[Xr]=p,(B=M.nodeValue!==w)&&(d=mi,d!==null))switch(d.tag){case 3:Xd(M.nodeValue,w,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Xd(M.nodeValue,w,(d.mode&1)!==0)}B&&(p.flags|=4)}else M=(w.nodeType===9?w:w.ownerDocument).createTextNode(M),M[Xr]=p,p.stateNode=M}return cs(p),null;case 13:if(Xn(tr),M=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(er&&Ji!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Fg(),fl(),p.flags|=98560,B=!1;else if(B=ku(p),M!==null&&M.dehydrated!==null){if(d===null){if(!B)throw Error(n(318));if(B=p.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(n(317));B[Xr]=p}else fl(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;cs(p),B=!1}else qs!==null&&(Rw(qs),qs=null),B=!0;if(!B)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=w,p):(M=M!==null,M!==(d!==null&&d.memoizedState!==null)&&M&&(p.child.flags|=8192,(p.mode&1)!==0&&(d===null||(tr.current&1)!==0?yi===0&&(yi=3):Dw())),p.updateQueue!==null&&(p.flags|=4),cs(p),null);case 4:return ml(),Sw(d,p),d===null&&Mu(p.stateNode.containerInfo),cs(p),null;case 10:return nh(p.type._context),cs(p),null;case 17:return Pi(p.type)&&Jd(),cs(p),null;case 19:if(Xn(tr),B=p.memoizedState,B===null)return cs(p),null;if(M=(p.flags&128)!==0,W=B.rendering,W===null)if(M)Xg(B,!1);else{if(yi!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(W=va(d),W!==null){for(p.flags|=128,Xg(B,!1),M=W.updateQueue,M!==null&&(p.updateQueue=M,p.flags|=4),p.subtreeFlags=0,M=w,w=p.child;w!==null;)B=w,d=M,B.flags&=14680066,W=B.alternate,W===null?(B.childLanes=0,B.lanes=d,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=W.childLanes,B.lanes=W.lanes,B.child=W.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=W.memoizedProps,B.memoizedState=W.memoizedState,B.updateQueue=W.updateQueue,B.type=W.type,d=W.dependencies,B.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),w=w.sibling;return On(tr,tr.current&1|2),p.child}d=d.sibling}B.tail!==null&&dt()>Cp&&(p.flags|=128,M=!0,Xg(B,!1),p.lanes=4194304)}else{if(!M)if(d=va(W),d!==null){if(p.flags|=128,M=!0,w=d.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),Xg(B,!0),B.tail===null&&B.tailMode==="hidden"&&!W.alternate&&!er)return cs(p),null}else 2*dt()-B.renderingStartTime>Cp&&w!==1073741824&&(p.flags|=128,M=!0,Xg(B,!1),p.lanes=4194304);B.isBackwards?(W.sibling=p.child,p.child=W):(w=B.last,w!==null?w.sibling=W:p.child=W,B.last=W)}return B.tail!==null?(p=B.tail,B.rendering=p,B.tail=p.sibling,B.renderingStartTime=dt(),p.sibling=null,w=tr.current,On(tr,M?w&1|2:w&1),p):(cs(p),null);case 22:case 23:return Bw(),M=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==M&&(p.flags|=8192),M&&(p.mode&1)!==0?(wa&1073741824)!==0&&(cs(p),p.subtreeFlags&6&&(p.flags|=8192)):cs(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function zU(d,p){switch(Ao(p),p.tag){case 1:return Pi(p.type)&&Jd(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return ml(),Xn(Xi),Xn(pi),Wa(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 5:return Bu(p),null;case 13:if(Xn(tr),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(n(340));fl()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Xn(tr),null;case 4:return ml(),null;case 10:return nh(p.type._context),null;case 22:case 23:return Bw(),null;case 24:return null;default:return null}}var Rv=!1,us=!1,HU=typeof WeakSet=="function"?WeakSet:Set,gt=null;function Ap(d,p){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(M){Lr(d,p,M)}else w.current=null}function _w(d,p,w){try{w()}catch(M){Lr(d,p,M)}}var YT=!1;function GU(d,p){if(Tu=Gs,d=fr(),Zr(d)){if("selectionStart"in d)var w={start:d.selectionStart,end:d.selectionEnd};else e:{w=(w=d.ownerDocument)&&w.defaultView||window;var M=w.getSelection&&w.getSelection();if(M&&M.rangeCount!==0){w=M.anchorNode;var P=M.anchorOffset,B=M.focusNode;M=M.focusOffset;try{w.nodeType,B.nodeType}catch{w=null;break e}var W=0,ae=-1,de=-1,je=0,Ye=0,qe=d,Xe=null;t:for(;;){for(var ht;qe!==w||P!==0&&qe.nodeType!==3||(ae=W+P),qe!==B||M!==0&&qe.nodeType!==3||(de=W+M),qe.nodeType===3&&(W+=qe.nodeValue.length),(ht=qe.firstChild)!==null;)Xe=qe,qe=ht;for(;;){if(qe===d)break t;if(Xe===w&&++je===P&&(ae=W),Xe===B&&++Ye===M&&(de=W),(ht=qe.nextSibling)!==null)break;qe=Xe,Xe=qe.parentNode}qe=ht}w=ae===-1||de===-1?null:{start:ae,end:de}}else w=null}w=w||{start:0,end:0}}else w=null;for(Sg={focusedElem:d,selectionRange:w},Gs=!1,gt=p;gt!==null;)if(p=gt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,gt=d;else for(;gt!==null;){p=gt;try{var bt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var wt=bt.memoizedProps,Yr=bt.memoizedState,_e=p.stateNode,me=_e.getSnapshotBeforeUpdate(p.elementType===p.type?wt:$s(p.type,wt),Yr);_e.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var Me=p.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ze){Lr(p,p.return,Ze)}if(d=p.sibling,d!==null){d.return=p.return,gt=d;break}gt=p.return}return bt=YT,YT=!1,bt}function Yg(d,p,w){var M=p.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var P=M=M.next;do{if((P.tag&d)===d){var B=P.destroy;P.destroy=void 0,B!==void 0&&_w(p,w,B)}P=P.next}while(P!==M)}}function Fv(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&d)===d){var M=w.create;w.destroy=M()}w=w.next}while(w!==p)}}function Aw(d){var p=d.ref;if(p!==null){var w=d.stateNode;switch(d.tag){case 5:d=w;break;default:d=w}typeof p=="function"?p(d):p.current=d}}function JT(d){var p=d.alternate;p!==null&&(d.alternate=null,JT(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&(delete p[Xr],delete p[ju],delete p[nc],delete p[op],delete p[lp])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function qT(d){return d.tag===5||d.tag===3||d.tag===4}function $T(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||qT(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Ew(d,p,w){var M=d.tag;if(M===5||M===6)d=d.stateNode,p?w.nodeType===8?w.parentNode.insertBefore(d,p):w.insertBefore(d,p):(w.nodeType===8?(p=w.parentNode,p.insertBefore(d,w)):(p=w,p.appendChild(d)),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=Yd));else if(M!==4&&(d=d.child,d!==null))for(Ew(d,p,w),d=d.sibling;d!==null;)Ew(d,p,w),d=d.sibling}function Cw(d,p,w){var M=d.tag;if(M===5||M===6)d=d.stateNode,p?w.insertBefore(d,p):w.appendChild(d);else if(M!==4&&(d=d.child,d!==null))for(Cw(d,p,w),d=d.sibling;d!==null;)Cw(d,p,w),d=d.sibling}var $i=null,Po=!1;function Lu(d,p,w){for(w=w.child;w!==null;)QT(d,p,w),w=w.sibling}function QT(d,p,w){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(Mr,w)}catch{}switch(w.tag){case 5:us||Ap(w,p);case 6:var M=$i,P=Po;$i=null,Lu(d,p,w),$i=M,Po=P,$i!==null&&(Po?(d=$i,w=w.stateNode,d.nodeType===8?d.parentNode.removeChild(w):d.removeChild(w)):$i.removeChild(w.stateNode));break;case 18:$i!==null&&(Po?(d=$i,w=w.stateNode,d.nodeType===8?ap(d.parentNode,w):d.nodeType===1&&ap(d,w),Dd(d)):ap($i,w.stateNode));break;case 4:M=$i,P=Po,$i=w.stateNode.containerInfo,Po=!0,Lu(d,p,w),$i=M,Po=P;break;case 0:case 11:case 14:case 15:if(!us&&(M=w.updateQueue,M!==null&&(M=M.lastEffect,M!==null))){P=M=M.next;do{var B=P,W=B.destroy;B=B.tag,W!==void 0&&((B&2)!==0||(B&4)!==0)&&_w(w,p,W),P=P.next}while(P!==M)}Lu(d,p,w);break;case 1:if(!us&&(Ap(w,p),M=w.stateNode,typeof M.componentWillUnmount=="function"))try{M.props=w.memoizedProps,M.state=w.memoizedState,M.componentWillUnmount()}catch(ae){Lr(w,p,ae)}Lu(d,p,w);break;case 21:Lu(d,p,w);break;case 22:w.mode&1?(us=(M=us)||w.memoizedState!==null,Lu(d,p,w),us=M):Lu(d,p,w);break;default:Lu(d,p,w)}}function ZT(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new HU),p.forEach(function(M){var P=QU.bind(null,d,M);w.has(M)||(w.add(M),M.then(P,P))})}}function Ro(d,p){var w=p.deletions;if(w!==null)for(var M=0;M<w.length;M++){var P=w[M];try{var B=d,W=p,ae=W;e:for(;ae!==null;){switch(ae.tag){case 5:$i=ae.stateNode,Po=!1;break e;case 3:$i=ae.stateNode.containerInfo,Po=!0;break e;case 4:$i=ae.stateNode.containerInfo,Po=!0;break e}ae=ae.return}if($i===null)throw Error(n(160));QT(B,W,P),$i=null,Po=!1;var de=P.alternate;de!==null&&(de.return=null),P.return=null}catch(je){Lr(P,p,je)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)ej(p,d),p=p.sibling}function ej(d,p){var w=d.alternate,M=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Ro(p,d),xl(d),M&4){try{Yg(3,d,d.return),Fv(3,d)}catch(wt){Lr(d,d.return,wt)}try{Yg(5,d,d.return)}catch(wt){Lr(d,d.return,wt)}}break;case 1:Ro(p,d),xl(d),M&512&&w!==null&&Ap(w,w.return);break;case 5:if(Ro(p,d),xl(d),M&512&&w!==null&&Ap(w,w.return),d.flags&32){var P=d.stateNode;try{Ke(P,"")}catch(wt){Lr(d,d.return,wt)}}if(M&4&&(P=d.stateNode,P!=null)){var B=d.memoizedProps,W=w!==null?w.memoizedProps:B,ae=d.type,de=d.updateQueue;if(d.updateQueue=null,de!==null)try{ae==="input"&&B.type==="radio"&&B.name!=null&&ke(P,B),gn(ae,W);var je=gn(ae,B);for(W=0;W<de.length;W+=2){var Ye=de[W],qe=de[W+1];Ye==="style"?jt(P,qe):Ye==="dangerouslySetInnerHTML"?Kt(P,qe):Ye==="children"?Ke(P,qe):C(P,Ye,qe,je)}switch(ae){case"input":at(P,B);break;case"textarea":ze(P,B);break;case"select":var Xe=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!B.multiple;var ht=B.value;ht!=null?ge(P,!!B.multiple,ht,!1):Xe!==!!B.multiple&&(B.defaultValue!=null?ge(P,!!B.multiple,B.defaultValue,!0):ge(P,!!B.multiple,B.multiple?[]:"",!1))}P[ju]=B}catch(wt){Lr(d,d.return,wt)}}break;case 6:if(Ro(p,d),xl(d),M&4){if(d.stateNode===null)throw Error(n(162));P=d.stateNode,B=d.memoizedProps;try{P.nodeValue=B}catch(wt){Lr(d,d.return,wt)}}break;case 3:if(Ro(p,d),xl(d),M&4&&w!==null&&w.memoizedState.isDehydrated)try{Dd(p.containerInfo)}catch(wt){Lr(d,d.return,wt)}break;case 4:Ro(p,d),xl(d);break;case 13:Ro(p,d),xl(d),P=d.child,P.flags&8192&&(B=P.memoizedState!==null,P.stateNode.isHidden=B,!B||P.alternate!==null&&P.alternate.memoizedState!==null||(Tw=dt())),M&4&&ZT(d);break;case 22:if(Ye=w!==null&&w.memoizedState!==null,d.mode&1?(us=(je=us)||Ye,Ro(p,d),us=je):Ro(p,d),xl(d),M&8192){if(je=d.memoizedState!==null,(d.stateNode.isHidden=je)&&!Ye&&(d.mode&1)!==0)for(gt=d,Ye=d.child;Ye!==null;){for(qe=gt=Ye;gt!==null;){switch(Xe=gt,ht=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:Yg(4,Xe,Xe.return);break;case 1:Ap(Xe,Xe.return);var bt=Xe.stateNode;if(typeof bt.componentWillUnmount=="function"){M=Xe,w=Xe.return;try{p=M,bt.props=p.memoizedProps,bt.state=p.memoizedState,bt.componentWillUnmount()}catch(wt){Lr(M,w,wt)}}break;case 5:Ap(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){rj(qe);continue}}ht!==null?(ht.return=Xe,gt=ht):rj(qe)}Ye=Ye.sibling}e:for(Ye=null,qe=d;;){if(qe.tag===5){if(Ye===null){Ye=qe;try{P=qe.stateNode,je?(B=P.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(ae=qe.stateNode,de=qe.memoizedProps.style,W=de!=null&&de.hasOwnProperty("display")?de.display:null,ae.style.display=zt("display",W))}catch(wt){Lr(d,d.return,wt)}}}else if(qe.tag===6){if(Ye===null)try{qe.stateNode.nodeValue=je?"":qe.memoizedProps}catch(wt){Lr(d,d.return,wt)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===d)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===d)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===d)break e;Ye===qe&&(Ye=null),qe=qe.return}Ye===qe&&(Ye=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Ro(p,d),xl(d),M&4&&ZT(d);break;case 21:break;default:Ro(p,d),xl(d)}}function xl(d){var p=d.flags;if(p&2){try{e:{for(var w=d.return;w!==null;){if(qT(w)){var M=w;break e}w=w.return}throw Error(n(160))}switch(M.tag){case 5:var P=M.stateNode;M.flags&32&&(Ke(P,""),M.flags&=-33);var B=$T(d);Cw(d,B,P);break;case 3:case 4:var W=M.stateNode.containerInfo,ae=$T(d);Ew(d,ae,W);break;default:throw Error(n(161))}}catch(de){Lr(d,d.return,de)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function WU(d,p,w){gt=d,tj(d)}function tj(d,p,w){for(var M=(d.mode&1)!==0;gt!==null;){var P=gt,B=P.child;if(P.tag===22&&M){var W=P.memoizedState!==null||Rv;if(!W){var ae=P.alternate,de=ae!==null&&ae.memoizedState!==null||us;ae=Rv;var je=us;if(Rv=W,(us=de)&&!je)for(gt=P;gt!==null;)W=gt,de=W.child,W.tag===22&&W.memoizedState!==null?ij(P):de!==null?(de.return=W,gt=de):ij(P);for(;B!==null;)gt=B,tj(B),B=B.sibling;gt=P,Rv=ae,us=je}nj(d)}else(P.subtreeFlags&8772)!==0&&B!==null?(B.return=P,gt=B):nj(d)}}function nj(d){for(;gt!==null;){var p=gt;if((p.flags&8772)!==0){var w=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:us||Fv(5,p);break;case 1:var M=p.stateNode;if(p.flags&4&&!us)if(w===null)M.componentDidMount();else{var P=p.elementType===p.type?w.memoizedProps:$s(p.type,w.memoizedProps);M.componentDidUpdate(P,w.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var B=p.updateQueue;B!==null&&Fu(p,B,M);break;case 3:var W=p.updateQueue;if(W!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=p.child.stateNode;break;case 1:w=p.child.stateNode}Fu(p,W,w)}break;case 5:var ae=p.stateNode;if(w===null&&p.flags&4){w=ae;var de=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&w.focus();break;case"img":de.src&&(w.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var je=p.alternate;if(je!==null){var Ye=je.memoizedState;if(Ye!==null){var qe=Ye.dehydrated;qe!==null&&Dd(qe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}us||p.flags&512&&Aw(p)}catch(Xe){Lr(p,p.return,Xe)}}if(p===d){gt=null;break}if(w=p.sibling,w!==null){w.return=p.return,gt=w;break}gt=p.return}}function rj(d){for(;gt!==null;){var p=gt;if(p===d){gt=null;break}var w=p.sibling;if(w!==null){w.return=p.return,gt=w;break}gt=p.return}}function ij(d){for(;gt!==null;){var p=gt;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{Fv(4,p)}catch(de){Lr(p,w,de)}break;case 1:var M=p.stateNode;if(typeof M.componentDidMount=="function"){var P=p.return;try{M.componentDidMount()}catch(de){Lr(p,P,de)}}var B=p.return;try{Aw(p)}catch(de){Lr(p,B,de)}break;case 5:var W=p.return;try{Aw(p)}catch(de){Lr(p,W,de)}}}catch(de){Lr(p,p.return,de)}if(p===d){gt=null;break}var ae=p.sibling;if(ae!==null){ae.return=p.return,gt=ae;break}gt=p.return}}var VU=Math.ceil,Bv=j.ReactCurrentDispatcher,Mw=j.ReactCurrentOwner,Ka=j.ReactCurrentBatchConfig,En=0,Bi=null,ii=null,Qi=0,wa=0,Ep=wr(0),yi=0,Jg=null,fh=0,Dv=0,Nw=0,qg=null,Qs=null,Tw=0,Cp=1/0,vc=null,Iv=!1,jw=null,Ou=null,Lv=!1,Uu=null,Ov=0,$g=0,kw=null,Uv=-1,zv=0;function Rs(){return(En&6)!==0?dt():Uv!==-1?Uv:Uv=dt()}function zu(d){return(d.mode&1)===0?1:(En&2)!==0&&Qi!==0?Qi&-Qi:yw.transition!==null?(zv===0&&(zv=rs()),zv):(d=bn,d!==0||(d=window.event,d=d===void 0?16:av(d.type)),d)}function Fo(d,p,w,M){if(50<$g)throw $g=0,kw=null,Error(n(185));Pd(d,w,M),((En&2)===0||d!==Bi)&&(d===Bi&&((En&2)===0&&(Dv|=w),yi===4&&Hu(d,Qi)),Zs(d,M),w===1&&En===0&&(p.mode&1)===0&&(Cp=dt()+500,$d&&Ha()))}function Zs(d,p){var w=d.callbackNode;hi(d,p);var M=_s(d,d===Bi?Qi:0);if(M===0)w!==null&&ut(w),d.callbackNode=null,d.callbackPriority=0;else if(p=M&-M,d.callbackPriority!==p){if(w!=null&&ut(w),p===1)d.tag===0?bv(aj.bind(null,d)):Qd(aj.bind(null,d)),vw(function(){(En&6)===0&&Ha()}),w=null;else{switch(pu(M)){case 1:w=Ut;break;case 4:w=Ht;break;case 16:w=Wn;break;case 536870912:w=Vn;break;default:w=Wn}w=pj(w,sj.bind(null,d))}d.callbackPriority=p,d.callbackNode=w}}function sj(d,p){if(Uv=-1,zv=0,(En&6)!==0)throw Error(n(327));var w=d.callbackNode;if(Mp()&&d.callbackNode!==w)return null;var M=_s(d,d===Bi?Qi:0);if(M===0)return null;if((M&30)!==0||(M&d.expiredLanes)!==0||p)p=Hv(d,M);else{p=M;var P=En;En|=2;var B=lj();(Bi!==d||Qi!==p)&&(vc=null,Cp=dt()+500,mh(d,p));do try{YU();break}catch(ae){oj(d,ae)}while(!0);uc(),Bv.current=B,En=P,ii!==null?p=0:(Bi=null,Qi=0,p=yi)}if(p!==0){if(p===2&&(P=il(d),P!==0&&(M=P,p=Pw(d,P))),p===1)throw w=Jg,mh(d,0),Hu(d,M),Zs(d,dt()),w;if(p===6)Hu(d,M);else{if(P=d.current.alternate,(M&30)===0&&!KU(P)&&(p=Hv(d,M),p===2&&(B=il(d),B!==0&&(M=B,p=Pw(d,B))),p===1))throw w=Jg,mh(d,0),Hu(d,M),Zs(d,dt()),w;switch(d.finishedWork=P,d.finishedLanes=M,p){case 0:case 1:throw Error(n(345));case 2:gh(d,Qs,vc);break;case 3:if(Hu(d,M),(M&130023424)===M&&(p=Tw+500-dt(),10<p)){if(_s(d,0)!==0)break;if(P=d.suspendedLanes,(P&M)!==M){Rs(),d.pingedLanes|=d.suspendedLanes&P;break}d.timeoutHandle=Ag(gh.bind(null,d,Qs,vc),p);break}gh(d,Qs,vc);break;case 4:if(Hu(d,M),(M&4194240)===M)break;for(p=d.eventTimes,P=-1;0<M;){var W=31-yr(M);B=1<<W,W=p[W],W>P&&(P=W),M&=~B}if(M=P,M=dt()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*VU(M/1960))-M,10<M){d.timeoutHandle=Ag(gh.bind(null,d,Qs,vc),M);break}gh(d,Qs,vc);break;case 5:gh(d,Qs,vc);break;default:throw Error(n(329))}}}return Zs(d,dt()),d.callbackNode===w?sj.bind(null,d):null}function Pw(d,p){var w=qg;return d.current.memoizedState.isDehydrated&&(mh(d,p).flags|=256),d=Hv(d,p),d!==2&&(p=Qs,Qs=w,p!==null&&Rw(p)),d}function Rw(d){Qs===null?Qs=d:Qs.push.apply(Qs,d)}function KU(d){for(var p=d;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var M=0;M<w.length;M++){var P=w[M],B=P.getSnapshot;P=P.value;try{if(!Es(B(),P))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Hu(d,p){for(p&=~Nw,p&=~Dv,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var w=31-yr(p),M=1<<w;d[w]=-1,p&=~M}}function aj(d){if((En&6)!==0)throw Error(n(327));Mp();var p=_s(d,0);if((p&1)===0)return Zs(d,dt()),null;var w=Hv(d,p);if(d.tag!==0&&w===2){var M=il(d);M!==0&&(p=M,w=Pw(d,M))}if(w===1)throw w=Jg,mh(d,0),Hu(d,p),Zs(d,dt()),w;if(w===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,gh(d,Qs,vc),Zs(d,dt()),null}function Fw(d,p){var w=En;En|=1;try{return d(p)}finally{En=w,En===0&&(Cp=dt()+500,$d&&Ha())}}function ph(d){Uu!==null&&Uu.tag===0&&(En&6)===0&&Mp();var p=En;En|=1;var w=Ka.transition,M=bn;try{if(Ka.transition=null,bn=1,d)return d()}finally{bn=M,Ka.transition=w,En=p,(En&6)===0&&Ha()}}function Bw(){wa=Ep.current,Xn(Ep)}function mh(d,p){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==-1&&(d.timeoutHandle=-1,Eg(w)),ii!==null)for(w=ii.return;w!==null;){var M=w;switch(Ao(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&Jd();break;case 3:ml(),Xn(Xi),Xn(pi),Wa();break;case 5:Bu(M);break;case 4:ml();break;case 13:Xn(tr);break;case 19:Xn(tr);break;case 10:nh(M.type._context);break;case 22:case 23:Bw()}w=w.return}if(Bi=d,ii=d=Gu(d.current,null),Qi=wa=p,yi=0,Jg=null,Nw=Dv=fh=0,Qs=qg=null,Co!==null){for(p=0;p<Co.length;p++)if(w=Co[p],M=w.interleaved,M!==null){w.interleaved=null;var P=M.next,B=w.pending;if(B!==null){var W=B.next;B.next=P,M.next=W}w.pending=M}Co=null}return d}function oj(d,p){do{var w=ii;try{if(uc(),pc.current=Sp,ya){for(var M=Yn.memoizedState;M!==null;){var P=M.queue;P!==null&&(P.pending=null),M=M.next}ya=!1}if(No=0,wn=_r=Yn=null,Fi=!1,gl=0,Mw.current=null,w===null||w.return===null){yi=1,Jg=p,ii=null;break}e:{var B=d,W=w.return,ae=w,de=p;if(p=Qi,ae.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var je=de,Ye=ae,qe=Ye.tag;if((Ye.mode&1)===0&&(qe===0||qe===11||qe===15)){var Xe=Ye.alternate;Xe?(Ye.updateQueue=Xe.updateQueue,Ye.memoizedState=Xe.memoizedState,Ye.lanes=Xe.lanes):(Ye.updateQueue=null,Ye.memoizedState=null)}var ht=pt(W);if(ht!==null){ht.flags&=-257,Yt(ht,W,ae,B,p),ht.mode&1&&Qe(B,je,p),p=ht,de=je;var bt=p.updateQueue;if(bt===null){var wt=new Set;wt.add(de),p.updateQueue=wt}else bt.add(de);break e}else{if((p&1)===0){Qe(B,je,p),Dw();break e}de=Error(n(426))}}else if(er&&ae.mode&1){var Yr=pt(W);if(Yr!==null){(Yr.flags&65536)===0&&(Yr.flags|=256),Yt(Yr,W,ae,B,p),Pu(T(de,ae));break e}}B=de=T(de,ae),yi!==4&&(yi=2),qg===null?qg=[B]:qg.push(B),B=W;do{switch(B.tag){case 3:B.flags|=65536,p&=-p,B.lanes|=p;var _e=xe(B,de,p);dc(B,_e);break e;case 1:ae=de;var me=B.type,Me=B.stateNode;if((B.flags&128)===0&&(typeof me.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(Ou===null||!Ou.has(Me)))){B.flags|=65536,p&=-p,B.lanes|=p;var Ze=De(B,ae,p);dc(B,Ze);break e}}B=B.return}while(B!==null)}uj(w)}catch(Et){p=Et,ii===w&&w!==null&&(ii=w=w.return);continue}break}while(!0)}function lj(){var d=Bv.current;return Bv.current=Sp,d===null?Sp:d}function Dw(){(yi===0||yi===3||yi===2)&&(yi=4),Bi===null||(fh&268435455)===0&&(Dv&268435455)===0||Hu(Bi,Qi)}function Hv(d,p){var w=En;En|=2;var M=lj();(Bi!==d||Qi!==p)&&(vc=null,mh(d,p));do try{XU();break}catch(P){oj(d,P)}while(!0);if(uc(),En=w,Bv.current=M,ii!==null)throw Error(n(261));return Bi=null,Qi=0,yi}function XU(){for(;ii!==null;)cj(ii)}function YU(){for(;ii!==null&&!Ct();)cj(ii)}function cj(d){var p=fj(d.alternate,d,wa);d.memoizedProps=d.pendingProps,p===null?uj(d):ii=p,Mw.current=null}function uj(d){var p=d;do{var w=p.alternate;if(d=p.return,(p.flags&32768)===0){if(w=UU(w,p,wa),w!==null){ii=w;return}}else{if(w=zU(w,p),w!==null){w.flags&=32767,ii=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{yi=6,ii=null;return}}if(p=p.sibling,p!==null){ii=p;return}ii=p=d}while(p!==null);yi===0&&(yi=5)}function gh(d,p,w){var M=bn,P=Ka.transition;try{Ka.transition=null,bn=1,JU(d,p,w,M)}finally{Ka.transition=P,bn=M}return null}function JU(d,p,w,M){do Mp();while(Uu!==null);if((En&6)!==0)throw Error(n(327));w=d.finishedWork;var P=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var B=w.lanes|w.childLanes;if(pw(d,B),d===Bi&&(ii=Bi=null,Qi=0),(w.subtreeFlags&2064)===0&&(w.flags&2064)===0||Lv||(Lv=!0,pj(Wn,function(){return Mp(),null})),B=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||B){B=Ka.transition,Ka.transition=null;var W=bn;bn=1;var ae=En;En|=4,Mw.current=null,GU(d,w),ej(w,d),ei(Sg),Gs=!!Tu,Sg=Tu=null,d.current=w,WU(w),Bt(),En=ae,bn=W,Ka.transition=B}else d.current=w;if(Lv&&(Lv=!1,Uu=d,Ov=P),B=d.pendingLanes,B===0&&(Ou=null),mt(w.stateNode),Zs(d,dt()),p!==null)for(M=d.onRecoverableError,w=0;w<p.length;w++)P=p[w],M(P.value,{componentStack:P.stack,digest:P.digest});if(Iv)throw Iv=!1,d=jw,jw=null,d;return(Ov&1)!==0&&d.tag!==0&&Mp(),B=d.pendingLanes,(B&1)!==0?d===kw?$g++:($g=0,kw=d):$g=0,Ha(),null}function Mp(){if(Uu!==null){var d=pu(Ov),p=Ka.transition,w=bn;try{if(Ka.transition=null,bn=16>d?16:d,Uu===null)var M=!1;else{if(d=Uu,Uu=null,Ov=0,(En&6)!==0)throw Error(n(331));var P=En;for(En|=4,gt=d.current;gt!==null;){var B=gt,W=B.child;if((gt.flags&16)!==0){var ae=B.deletions;if(ae!==null){for(var de=0;de<ae.length;de++){var je=ae[de];for(gt=je;gt!==null;){var Ye=gt;switch(Ye.tag){case 0:case 11:case 15:Yg(8,Ye,B)}var qe=Ye.child;if(qe!==null)qe.return=Ye,gt=qe;else for(;gt!==null;){Ye=gt;var Xe=Ye.sibling,ht=Ye.return;if(JT(Ye),Ye===je){gt=null;break}if(Xe!==null){Xe.return=ht,gt=Xe;break}gt=ht}}}var bt=B.alternate;if(bt!==null){var wt=bt.child;if(wt!==null){bt.child=null;do{var Yr=wt.sibling;wt.sibling=null,wt=Yr}while(wt!==null)}}gt=B}}if((B.subtreeFlags&2064)!==0&&W!==null)W.return=B,gt=W;else e:for(;gt!==null;){if(B=gt,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:Yg(9,B,B.return)}var _e=B.sibling;if(_e!==null){_e.return=B.return,gt=_e;break e}gt=B.return}}var me=d.current;for(gt=me;gt!==null;){W=gt;var Me=W.child;if((W.subtreeFlags&2064)!==0&&Me!==null)Me.return=W,gt=Me;else e:for(W=me;gt!==null;){if(ae=gt,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Fv(9,ae)}}catch(Et){Lr(ae,ae.return,Et)}if(ae===W){gt=null;break e}var Ze=ae.sibling;if(Ze!==null){Ze.return=ae.return,gt=Ze;break e}gt=ae.return}}if(En=P,Ha(),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(Mr,d)}catch{}M=!0}return M}finally{bn=w,Ka.transition=p}}return!1}function dj(d,p,w){p=T(w,p),p=xe(d,p,1),d=ir(d,p,1),p=Rs(),d!==null&&(Pd(d,1,p),Zs(d,p))}function Lr(d,p,w){if(d.tag===3)dj(d,d,w);else for(;p!==null;){if(p.tag===3){dj(p,d,w);break}else if(p.tag===1){var M=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(Ou===null||!Ou.has(M))){d=T(w,d),d=De(p,d,1),p=ir(p,d,1),d=Rs(),p!==null&&(Pd(p,1,d),Zs(p,d));break}}p=p.return}}function qU(d,p,w){var M=d.pingCache;M!==null&&M.delete(p),p=Rs(),d.pingedLanes|=d.suspendedLanes&w,Bi===d&&(Qi&w)===w&&(yi===4||yi===3&&(Qi&130023424)===Qi&&500>dt()-Tw?mh(d,0):Nw|=w),Zs(d,p)}function hj(d,p){p===0&&((d.mode&1)===0?p=1:(p=Nr,Nr<<=1,(Nr&130023424)===0&&(Nr=4194304)));var w=Rs();d=xa(d,p),d!==null&&(Pd(d,p,w),Zs(d,w))}function $U(d){var p=d.memoizedState,w=0;p!==null&&(w=p.retryLane),hj(d,w)}function QU(d,p){var w=0;switch(d.tag){case 13:var M=d.stateNode,P=d.memoizedState;P!==null&&(w=P.retryLane);break;case 19:M=d.stateNode;break;default:throw Error(n(314))}M!==null&&M.delete(p),hj(d,w)}var fj;fj=function(d,p,w){if(d!==null)if(d.memoizedProps!==p.pendingProps||Xi.current)Zt=!0;else{if((d.lanes&w)===0&&(p.flags&128)===0)return Zt=!1,OU(d,p,w);Zt=(d.flags&131072)!==0}else Zt=!1,er&&(p.flags&1048576)!==0&&jg(p,hp,p.index);switch(p.lanes=0,p.tag){case 2:var M=p.type;Pv(d,p),d=p.pendingProps;var P=rc(p,pi.current);pl(p,w),P=oh(null,p,M,d,P,w);var B=Lg();return p.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Pi(M)?(B=!0,ic(p)):B=!1,p.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Qt(p),P.updater=_p,p.stateNode=P,P._reactInternals=p,A(p,M,d,w),p=$t(null,p,M,!0,B,w)):(p.tag=0,er&&B&&kg(p),ct(null,p,P,w),p=p.child),p;case 16:M=p.elementType;e:{switch(Pv(d,p),d=p.pendingProps,P=M._init,M=P(M._payload),p.type=M,P=p.tag=e9(M),d=$s(M,d),P){case 0:p=ot(null,p,M,d,w);break e;case 1:p=St(null,p,M,d,w);break e;case 11:p=vi(null,p,M,d,w);break e;case 14:p=Ps(null,p,M,$s(M.type,d),w);break e}throw Error(n(306,M,""))}return p;case 0:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:$s(M,P),ot(d,p,M,P,w);case 1:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:$s(M,P),St(d,p,M,P,w);case 3:e:{if(Jt(p),d===null)throw Error(n(387));M=p.pendingProps,B=p.memoizedState,P=B.element,jr(d,p),Sr(p,M,null,w);var W=p.memoizedState;if(M=W.element,B.isDehydrated)if(B={element:M,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},p.updateQueue.baseState=B,p.memoizedState=B,p.flags&256){P=T(Error(n(423)),p),p=vn(d,p,M,w,P);break e}else if(M!==P){P=T(Error(n(424)),p),p=vn(d,p,M,w,P);break e}else for(Ji=yo(p.stateNode.containerInfo.firstChild),mi=p,er=!0,qs=null,w=th(p,null,M,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(fl(),M===P){p=xc(d,p,w);break e}ct(d,p,M,w)}p=p.child}return p;case 5:return fc(p),d===null&&pp(p),M=p.type,P=p.pendingProps,B=d!==null?d.memoizedProps:null,W=P.children,_g(M,P)?W=null:B!==null&&_g(M,B)&&(p.flags|=32),Be(d,p),ct(d,p,W,w),p.child;case 6:return d===null&&pp(p),null;case 13:return ko(d,p,w);case 4:return sh(p,p.stateNode.containerInfo),M=p.pendingProps,d===null?p.child=oc(p,null,M,w):ct(d,p,M,w),p.child;case 11:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:$s(M,P),vi(d,p,M,P,w);case 7:return ct(d,p,p.pendingProps,w),p.child;case 8:return ct(d,p,p.pendingProps.children,w),p.child;case 12:return ct(d,p,p.pendingProps.children,w),p.child;case 10:e:{if(M=p.type._context,P=p.pendingProps,B=p.memoizedProps,W=P.value,On(lc,M._currentValue),M._currentValue=W,B!==null)if(Es(B.value,W)){if(B.children===P.children&&!Xi.current){p=xc(d,p,w);break e}}else for(B=p.child,B!==null&&(B.return=p);B!==null;){var ae=B.dependencies;if(ae!==null){W=B.child;for(var de=ae.firstContext;de!==null;){if(de.context===M){if(B.tag===1){de=Fn(-1,w&-w),de.tag=2;var je=B.updateQueue;if(je!==null){je=je.shared;var Ye=je.pending;Ye===null?de.next=de:(de.next=Ye.next,Ye.next=de),je.pending=de}}B.lanes|=w,de=B.alternate,de!==null&&(de.lanes|=w),rh(B.return,w,p),ae.lanes|=w;break}de=de.next}}else if(B.tag===10)W=B.type===p.type?null:B.child;else if(B.tag===18){if(W=B.return,W===null)throw Error(n(341));W.lanes|=w,ae=W.alternate,ae!==null&&(ae.lanes|=w),rh(W,w,p),W=B.sibling}else W=B.child;if(W!==null)W.return=B;else for(W=B;W!==null;){if(W===p){W=null;break}if(B=W.sibling,B!==null){B.return=W.return,W=B;break}W=W.return}B=W}ct(d,p,P.children,w),p=p.child}return p;case 9:return P=p.type,M=p.pendingProps.children,pl(p,w),P=Ns(P),M=M(P),p.flags|=1,ct(d,p,M,w),p.child;case 14:return M=p.type,P=$s(M,p.pendingProps),P=$s(M.type,P),Ps(d,p,M,P,w);case 15:return Ne(d,p,p.type,p.pendingProps,w);case 17:return M=p.type,P=p.pendingProps,P=p.elementType===M?P:$s(M,P),Pv(d,p),p.tag=1,Pi(M)?(d=!0,ic(p)):d=!1,pl(p,w),g(p,M,P),A(p,M,P,w),$t(null,p,M,!0,d,w);case 19:return WT(d,p,w);case 22:return ye(d,p,w)}throw Error(n(156,p.tag))};function pj(d,p){return Te(d,p)}function ZU(d,p,w,M){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xa(d,p,w,M){return new ZU(d,p,w,M)}function Iw(d){return d=d.prototype,!(!d||!d.isReactComponent)}function e9(d){if(typeof d=="function")return Iw(d)?1:0;if(d!=null){if(d=d.$$typeof,d===$)return 11;if(d===se)return 14}return 2}function Gu(d,p){var w=d.alternate;return w===null?(w=Xa(d.tag,p,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=p,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,p=d.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function Gv(d,p,w,M,P,B){var W=2;if(M=d,typeof d=="function")Iw(d)&&(W=1);else if(typeof d=="string")W=5;else e:switch(d){case D:return xh(w.children,P,B,p);case O:W=8,P|=8;break;case I:return d=Xa(12,w,p,P|2),d.elementType=I,d.lanes=B,d;case re:return d=Xa(13,w,p,P),d.elementType=re,d.lanes=B,d;case Y:return d=Xa(19,w,p,P),d.elementType=Y,d.lanes=B,d;case le:return Wv(w,P,B,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case U:W=10;break e;case K:W=9;break e;case $:W=11;break e;case se:W=14;break e;case oe:W=16,M=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return p=Xa(W,w,p,P),p.elementType=d,p.type=M,p.lanes=B,p}function xh(d,p,w,M){return d=Xa(7,d,M,p),d.lanes=w,d}function Wv(d,p,w,M){return d=Xa(22,d,M,p),d.elementType=le,d.lanes=w,d.stateNode={isHidden:!1},d}function Lw(d,p,w){return d=Xa(6,d,null,p),d.lanes=w,d}function Ow(d,p,w){return p=Xa(4,d.children!==null?d.children:[],d.key,p),p.lanes=w,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function t9(d,p,w,M,P){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hu(0),this.expirationTimes=hu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hu(0),this.identifierPrefix=M,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function Uw(d,p,w,M,P,B,W,ae,de){return d=new t9(d,p,w,ae,de),p===1?(p=1,B===!0&&(p|=8)):p=0,B=Xa(3,null,null,p),d.current=B,B.stateNode=d,B.memoizedState={element:M,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qt(B),d}function n9(d,p,w){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:M==null?null:""+M,children:d,containerInfo:p,implementation:w}}function mj(d){if(!d)return wo;d=d._reactInternals;e:{if(uo(d)!==d||d.tag!==1)throw Error(n(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Pi(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(d.tag===1){var w=d.type;if(Pi(w))return qd(d,w,p)}return p}function gj(d,p,w,M,P,B,W,ae,de){return d=Uw(w,M,!0,d,P,B,W,ae,de),d.context=mj(null),w=d.current,M=Rs(),P=zu(w),B=Fn(M,P),B.callback=p??null,ir(w,B,P),d.current.lanes=P,Pd(d,P,M),Zs(d,M),d}function Vv(d,p,w,M){var P=p.current,B=Rs(),W=zu(P);return w=mj(w),p.context===null?p.context=w:p.pendingContext=w,p=Fn(B,W),p.payload={element:d},M=M===void 0?null:M,M!==null&&(p.callback=M),d=ir(P,p,W),d!==null&&(Fo(d,P,W,B),Ri(d,P,W)),W}function Kv(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function xj(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<p?w:p}}function zw(d,p){xj(d,p),(d=d.alternate)&&xj(d,p)}function r9(){return null}var vj=typeof reportError=="function"?reportError:function(d){console.error(d)};function Hw(d){this._internalRoot=d}Xv.prototype.render=Hw.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(n(409));Vv(d,p,null,null)},Xv.prototype.unmount=Hw.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;ph(function(){Vv(null,d,null,null)}),p[Ms]=null}};function Xv(d){this._internalRoot=d}Xv.prototype.unstable_scheduleHydration=function(d){if(d){var p=kf();d={blockedOn:null,target:d,priority:p};for(var w=0;w<sl.length&&p!==0&&p<sl[w].priority;w++);sl.splice(w,0,d),w===0&&Ff(d)}};function Gw(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Yv(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function yj(){}function i9(d,p,w,M,P){if(P){if(typeof M=="function"){var B=M;M=function(){var je=Kv(W);B.call(je)}}var W=gj(p,M,d,0,null,!1,!1,"",yj);return d._reactRootContainer=W,d[Ms]=W.current,Mu(d.nodeType===8?d.parentNode:d),ph(),W}for(;P=d.lastChild;)d.removeChild(P);if(typeof M=="function"){var ae=M;M=function(){var je=Kv(de);ae.call(je)}}var de=Uw(d,0,!1,null,null,!1,!1,"",yj);return d._reactRootContainer=de,d[Ms]=de.current,Mu(d.nodeType===8?d.parentNode:d),ph(function(){Vv(p,de,w,M)}),de}function Jv(d,p,w,M,P){var B=w._reactRootContainer;if(B){var W=B;if(typeof P=="function"){var ae=P;P=function(){var de=Kv(W);ae.call(de)}}Vv(p,W,d,P)}else W=i9(w,p,d,P,M);return Kv(W)}Rd=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var w=Zn(p.pendingLanes);w!==0&&(fu(p,w|1),Zs(p,dt()),(En&6)===0&&(Cp=dt()+500,Ha()))}break;case 13:ph(function(){var M=xa(d,1);if(M!==null){var P=Rs();Fo(M,d,1,P)}}),zw(d,1)}},sg=function(d){if(d.tag===13){var p=xa(d,134217728);if(p!==null){var w=Rs();Fo(p,d,134217728,w)}zw(d,134217728)}},sv=function(d){if(d.tag===13){var p=zu(d),w=xa(d,p);if(w!==null){var M=Rs();Fo(w,d,p,M)}zw(d,p)}},kf=function(){return bn},Pf=function(d,p){var w=bn;try{return bn=d,p()}finally{bn=w}},et=function(d,p,w){switch(p){case"input":if(at(d,w),p=w.name,w.type==="radio"&&p!=null){for(w=d;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<w.length;p++){var M=w[p];if(M!==d&&M.form===d.form){var P=cp(M);if(!P)throw Error(n(90));J(M),at(M,P)}}}break;case"textarea":ze(d,w);break;case"select":p=w.value,p!=null&&ge(d,!!w.multiple,p,!1)}},jn=Fw,Mn=ph;var s9={usingClientEntryPoint:!1,Events:[bo,Tr,cp,Ft,kt,Fw]},Qg={findFiberByHostInstance:hl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a9={bundleType:Qg.bundleType,version:Qg.version,rendererPackageName:Qg.rendererPackageName,rendererConfig:Qg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Pe(d),d===null?null:d.stateNode},findFiberByHostInstance:Qg.findFiberByHostInstance||r9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qv.isDisabled&&qv.supportsFiber)try{Mr=qv.inject(a9),At=qv}catch{}}return ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s9,ea.createPortal=function(d,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(p))throw Error(n(200));return n9(d,p,null,w)},ea.createRoot=function(d,p){if(!Gw(d))throw Error(n(299));var w=!1,M="",P=vj;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(M=p.identifierPrefix),p.onRecoverableError!==void 0&&(P=p.onRecoverableError)),p=Uw(d,1,!1,null,null,w,!1,M,P),d[Ms]=p.current,Mu(d.nodeType===8?d.parentNode:d),new Hw(p)},ea.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Pe(p),d=d===null?null:d.stateNode,d},ea.flushSync=function(d){return ph(d)},ea.hydrate=function(d,p,w){if(!Yv(p))throw Error(n(200));return Jv(null,d,p,!0,w)},ea.hydrateRoot=function(d,p,w){if(!Gw(d))throw Error(n(405));var M=w!=null&&w.hydratedSources||null,P=!1,B="",W=vj;if(w!=null&&(w.unstable_strictMode===!0&&(P=!0),w.identifierPrefix!==void 0&&(B=w.identifierPrefix),w.onRecoverableError!==void 0&&(W=w.onRecoverableError)),p=gj(p,null,d,1,w??null,P,!1,B,W),d[Ms]=p.current,Mu(d),M)for(d=0;d<M.length;d++)w=M[d],P=w._getVersion,P=P(w._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[w,P]:p.mutableSourceEagerHydrationData.push(w,P);return new Xv(p)},ea.render=function(d,p,w){if(!Yv(p))throw Error(n(200));return Jv(null,d,p,!1,w)},ea.unmountComponentAtNode=function(d){if(!Yv(d))throw Error(n(40));return d._reactRootContainer?(ph(function(){Jv(null,null,d,!1,function(){d._reactRootContainer=null,d[Ms]=null})}),!0):!1},ea.unstable_batchedUpdates=Fw,ea.unstable_renderSubtreeIntoContainer=function(d,p,w,M){if(!Yv(w))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return Jv(d,p,w,!1,M)},ea.version="18.3.1-next-f1338f8080-20240426",ea}var Mj;function yB(){if(Mj)return Kw.exports;Mj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Kw.exports=p9(),Kw.exports}var Nj;function m9(){if(Nj)return $v;Nj=1;var t=yB();return $v.createRoot=t.createRoot,$v.hydrateRoot=t.hydrateRoot,$v}var g9=m9(),N=bf();const ub=Il(N),x9=l9({__proto__:null,default:ub},[N]),Bm=N.createContext(void 0),v9=({children:t})=>{const[e,n]=N.useState(window.location.pathname);N.useEffect(()=>{const s=()=>{n(window.location.pathname)};return window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)},[]);const r=s=>{s!==window.location.pathname&&(window.history.pushState({},"",s),n(s),window.scrollTo({top:0,behavior:"smooth"}))},i={};return a.jsx(Bm.Provider,{value:{currentPath:e,navigate:r,params:i},children:t})},FC=({children:t,basePath:e=""})=>{const n=N.useContext(Bm);if(!n)throw new Error("Routes must be used within a Router");const r=ub.Children.toArray(t);let i=n.currentPath,s=!0;if(e){const o=e.endsWith("/")?e.slice(0,-1):e,l=i.endsWith("/")&&i.length>1?i.slice(0,-1):i;l===o?i="/":l.startsWith(o+"/")?i=l.slice(o.length):s=!1}if(!s)return null;for(const o of r)if(ub.isValidElement(o)&&o.type===dn){const{path:l,element:c}=o.props,u=l===""?"/":l.startsWith("/")?l:"/"+l,h=e?(e+u).replace("//","/"):u,f=h.endsWith("/")&&h.length>1?h.slice(0,-1):h,m=n.currentPath.endsWith("/")&&n.currentPath.length>1?n.currentPath.slice(0,-1):n.currentPath;let v=!1;if(l==="*"?v=!1:l===""?v=m===normalizedBase||m===normalizedBase+"/":v=f===m||Tj(h,n.currentPath)||Tj(u,i),v){const y=b9(h,n.currentPath);return a.jsx(y9,{params:y,children:c})}}for(const o of r)if(ub.isValidElement(o)&&o.type===dn){const{path:l,element:c}=o.props;if(l==="*")return a.jsx(a.Fragment,{children:c})}return null},bB=N.createContext({}),y9=({params:t,children:e})=>a.jsx(bB.Provider,{value:t,children:e}),$o=()=>N.useContext(bB),Ll=()=>{const t=N.useContext(Bm);if(!t)throw new Error("useNavigate must be used within a Router");return t.navigate},g0=()=>{const t=N.useContext(Bm);if(!t)throw new Error("useLocation must be used within a Router");return{pathname:t.currentPath}},mr=({to:t,children:e,className:n,onClick:r,...i})=>{const s=N.useContext(Bm),o=l=>{l.preventDefault(),r&&r(l),s&&s.navigate(t)};return a.jsx("a",{href:t,onClick:o,className:n,...i,children:e})};function Tj(t,e){if(t.endsWith("/*")){const i=t.slice(0,-2);return e===i||e.startsWith(i+"/")}const n=t.split("/"),r=e.split("/");return n.length!==r.length?!1:n.every((i,s)=>i.startsWith(":")||i===r[s])}function b9(t,e){const n={},r=t.split("/"),i=e.split("/");return r.forEach((s,o)=>{s.startsWith(":")&&(n[s.slice(1)]=i[o])}),n}const dn=({path:t,element:e})=>null,db=({to:t,replace:e})=>{const n=N.useContext(Bm);return N.useEffect(()=>{n&&(e&&window.history.replaceState({},"",t),n.navigate(t))},[t,n,e]),null};function wB(t,e){return function(){return t.apply(e,arguments)}}const{toString:w9}=Object.prototype,{getPrototypeOf:BC}=Object,{iterator:I1,toStringTag:SB}=Symbol,L1=(t=>e=>{const n=w9.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Qo=t=>(t=t.toLowerCase(),e=>L1(e)===t),O1=t=>e=>typeof e===t,{isArray:Dm}=Array,vm=O1("undefined");function x0(t){return t!==null&&!vm(t)&&t.constructor!==null&&!vm(t.constructor)&&aa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const _B=Qo("ArrayBuffer");function S9(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&_B(t.buffer),e}const _9=O1("string"),aa=O1("function"),AB=O1("number"),v0=t=>t!==null&&typeof t=="object",A9=t=>t===!0||t===!1,hb=t=>{if(L1(t)!=="object")return!1;const e=BC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(SB in t)&&!(I1 in t)},E9=t=>{if(!v0(t)||x0(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},C9=Qo("Date"),M9=Qo("File"),N9=Qo("Blob"),T9=Qo("FileList"),j9=t=>v0(t)&&aa(t.pipe),k9=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||aa(t.append)&&((e=L1(t))==="formdata"||e==="object"&&aa(t.toString)&&t.toString()==="[object FormData]"))},P9=Qo("URLSearchParams"),[R9,F9,B9,D9]=["ReadableStream","Request","Response","Headers"].map(Qo),I9=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function y0(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Dm(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(x0(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function EB(t,e){if(x0(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Dh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,CB=t=>!vm(t)&&t!==Dh;function BA(){const{caseless:t,skipUndefined:e}=CB(this)&&this||{},n={},r=(i,s)=>{const o=t&&EB(n,s)||s;hb(n[o])&&hb(i)?n[o]=BA(n[o],i):hb(i)?n[o]=BA({},i):Dm(i)?n[o]=i.slice():(!e||!vm(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&y0(arguments[i],r);return n}const L9=(t,e,n,{allOwnKeys:r}={})=>(y0(e,(i,s)=>{n&&aa(i)?t[s]=wB(i,n):t[s]=i},{allOwnKeys:r}),t),O9=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),U9=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},z9=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&BC(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},H9=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},G9=t=>{if(!t)return null;if(Dm(t))return t;let e=t.length;if(!AB(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},W9=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&BC(Uint8Array)),V9=(t,e)=>{const r=(t&&t[I1]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},K9=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},X9=Qo("HTMLFormElement"),Y9=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),jj=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),J9=Qo("RegExp"),MB=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};y0(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},q9=t=>{MB(t,(e,n)=>{if(aa(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(aa(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},$9=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Dm(t)?r(t):r(String(t).split(e)),n},Q9=()=>{},Z9=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function ez(t){return!!(t&&aa(t.append)&&t[SB]==="FormData"&&t[I1])}const tz=t=>{const e=new Array(10),n=(r,i)=>{if(v0(r)){if(e.indexOf(r)>=0)return;if(x0(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Dm(r)?[]:{};return y0(r,(o,l)=>{const c=n(o,i+1);!vm(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},nz=Qo("AsyncFunction"),rz=t=>t&&(v0(t)||aa(t))&&aa(t.then)&&aa(t.catch),NB=((t,e)=>t?setImmediate:e?((n,r)=>(Dh.addEventListener("message",({source:i,data:s})=>{i===Dh&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Dh.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",aa(Dh.postMessage)),iz=typeof queueMicrotask<"u"?queueMicrotask.bind(Dh):typeof process<"u"&&process.nextTick||NB,sz=t=>t!=null&&aa(t[I1]),Re={isArray:Dm,isArrayBuffer:_B,isBuffer:x0,isFormData:k9,isArrayBufferView:S9,isString:_9,isNumber:AB,isBoolean:A9,isObject:v0,isPlainObject:hb,isEmptyObject:E9,isReadableStream:R9,isRequest:F9,isResponse:B9,isHeaders:D9,isUndefined:vm,isDate:C9,isFile:M9,isBlob:N9,isRegExp:J9,isFunction:aa,isStream:j9,isURLSearchParams:P9,isTypedArray:W9,isFileList:T9,forEach:y0,merge:BA,extend:L9,trim:I9,stripBOM:O9,inherits:U9,toFlatObject:z9,kindOf:L1,kindOfTest:Qo,endsWith:H9,toArray:G9,forEachEntry:V9,matchAll:K9,isHTMLForm:X9,hasOwnProperty:jj,hasOwnProp:jj,reduceDescriptors:MB,freezeMethods:q9,toObjectSet:$9,toCamelCase:Y9,noop:Q9,toFiniteNumber:Z9,findKey:EB,global:Dh,isContextDefined:CB,isSpecCompliantForm:ez,toJSONObject:tz,isAsyncFn:nz,isThenable:rz,setImmediate:NB,asap:iz,isIterable:sz};function en(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Re.inherits(en,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Re.toJSONObject(this.config),code:this.code,status:this.status}}});const TB=en.prototype,jB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{jB[t]={value:t}});Object.defineProperties(en,jB);Object.defineProperty(TB,"isAxiosError",{value:!0});en.from=(t,e,n,r,i,s)=>{const o=Object.create(TB);Re.toFlatObject(t,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const l=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return en.call(o,l,c,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const az=null;function DA(t){return Re.isPlainObject(t)||Re.isArray(t)}function kB(t){return Re.endsWith(t,"[]")?t.slice(0,-2):t}function kj(t,e,n){return t?t.concat(e).map(function(i,s){return i=kB(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function oz(t){return Re.isArray(t)&&!t.some(DA)}const lz=Re.toFlatObject(Re,{},null,function(e){return/^is[A-Z]/.test(e)});function U1(t,e,n){if(!Re.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Re.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,b){return!Re.isUndefined(b[S])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Re.isSpecCompliantForm(e);if(!Re.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(Re.isDate(y))return y.toISOString();if(Re.isBoolean(y))return y.toString();if(!c&&Re.isBlob(y))throw new en("Blob is not supported. Use a Buffer instead.");return Re.isArrayBuffer(y)||Re.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,S,b){let _=y;if(y&&!b&&typeof y=="object"){if(Re.endsWith(S,"{}"))S=r?S:S.slice(0,-2),y=JSON.stringify(y);else if(Re.isArray(y)&&oz(y)||(Re.isFileList(y)||Re.endsWith(S,"[]"))&&(_=Re.toArray(y)))return S=kB(S),_.forEach(function(C,j){!(Re.isUndefined(C)||C===null)&&e.append(o===!0?kj([S],j,s):o===null?S:S+"[]",u(C))}),!1}return DA(y)?!0:(e.append(kj(b,S,s),u(y)),!1)}const f=[],m=Object.assign(lz,{defaultVisitor:h,convertValue:u,isVisitable:DA});function v(y,S){if(!Re.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+S.join("."));f.push(y),Re.forEach(y,function(_,E){(!(Re.isUndefined(_)||_===null)&&i.call(e,_,Re.isString(E)?E.trim():E,S,m))===!0&&v(_,S?S.concat(E):[E])}),f.pop()}}if(!Re.isObject(t))throw new TypeError("data must be an object");return v(t),e}function Pj(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function DC(t,e){this._pairs=[],t&&U1(t,this,e)}const PB=DC.prototype;PB.append=function(e,n){this._pairs.push([e,n])};PB.toString=function(e){const n=e?function(r){return e.call(this,r,Pj)}:Pj;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function cz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function RB(t,e,n){if(!e)return t;const r=n&&n.encode||cz;Re.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Re.isURLSearchParams(e)?e.toString():new DC(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Rj{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Re.forEach(this.handlers,function(r){r!==null&&e(r)})}}const FB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uz=typeof URLSearchParams<"u"?URLSearchParams:DC,dz=typeof FormData<"u"?FormData:null,hz=typeof Blob<"u"?Blob:null,fz={isBrowser:!0,classes:{URLSearchParams:uz,FormData:dz,Blob:hz},protocols:["http","https","file","blob","url","data"]},IC=typeof window<"u"&&typeof document<"u",IA=typeof navigator=="object"&&navigator||void 0,pz=IC&&(!IA||["ReactNative","NativeScript","NS"].indexOf(IA.product)<0),mz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gz=IC&&window.location.href||"http://localhost",xz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:IC,hasStandardBrowserEnv:pz,hasStandardBrowserWebWorkerEnv:mz,navigator:IA,origin:gz},Symbol.toStringTag,{value:"Module"})),gs={...xz,...fz};function vz(t,e){return U1(t,new gs.classes.URLSearchParams,{visitor:function(n,r,i,s){return gs.isNode&&Re.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function yz(t){return Re.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function bz(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function BB(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&Re.isArray(i)?i.length:o,c?(Re.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Re.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Re.isArray(i[o])&&(i[o]=bz(i[o])),!l)}if(Re.isFormData(t)&&Re.isFunction(t.entries)){const n={};return Re.forEachEntry(t,(r,i)=>{e(yz(r),i,n,0)}),n}return null}function wz(t,e,n){if(Re.isString(t))try{return(e||JSON.parse)(t),Re.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const b0={transitional:FB,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Re.isObject(e);if(s&&Re.isHTMLForm(e)&&(e=new FormData(e)),Re.isFormData(e))return i?JSON.stringify(BB(e)):e;if(Re.isArrayBuffer(e)||Re.isBuffer(e)||Re.isStream(e)||Re.isFile(e)||Re.isBlob(e)||Re.isReadableStream(e))return e;if(Re.isArrayBufferView(e))return e.buffer;if(Re.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return vz(e,this.formSerializer).toString();if((l=Re.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return U1(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),wz(e)):e}],transformResponse:[function(e){const n=this.transitional||b0.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Re.isResponse(e)||Re.isReadableStream(e))return e;if(e&&Re.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?en.from(l,en.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gs.classes.FormData,Blob:gs.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Re.forEach(["delete","get","head","post","put","patch"],t=>{b0.headers[t]={}});const Sz=Re.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_z=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Sz[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Fj=Symbol("internals");function ex(t){return t&&String(t).trim().toLowerCase()}function fb(t){return t===!1||t==null?t:Re.isArray(t)?t.map(fb):String(t)}function Az(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Ez=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Jw(t,e,n,r,i){if(Re.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Re.isString(e)){if(Re.isString(r))return e.indexOf(r)!==-1;if(Re.isRegExp(r))return r.test(e)}}function Cz(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Mz(t,e){const n=Re.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let oa=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,u){const h=ex(c);if(!h)throw new Error("header name must be a non-empty string");const f=Re.findKey(i,h);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=fb(l))}const o=(l,c)=>Re.forEach(l,(u,h)=>s(u,h,c));if(Re.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Re.isString(e)&&(e=e.trim())&&!Ez(e))o(_z(e),n);else if(Re.isObject(e)&&Re.isIterable(e)){let l={},c,u;for(const h of e){if(!Re.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?Re.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=ex(e),e){const r=Re.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Az(i);if(Re.isFunction(n))return n.call(this,i,r);if(Re.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ex(e),e){const r=Re.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Jw(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=ex(o),o){const l=Re.findKey(r,o);l&&(!n||Jw(r,r[l],l,n))&&(delete r[l],i=!0)}}return Re.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Jw(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Re.forEach(this,(i,s)=>{const o=Re.findKey(r,s);if(o){n[o]=fb(i),delete n[s];return}const l=e?Cz(s):String(s).trim();l!==s&&delete n[s],n[l]=fb(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Re.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Re.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Fj]=this[Fj]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=ex(o);r[l]||(Mz(i,o),r[l]=!0)}return Re.isArray(e)?e.forEach(s):s(e),this}};oa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Re.reduceDescriptors(oa.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Re.freezeMethods(oa);function qw(t,e){const n=this||b0,r=e||n,i=oa.from(r.headers);let s=r.data;return Re.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function DB(t){return!!(t&&t.__CANCEL__)}function Im(t,e,n){en.call(this,t??"canceled",en.ERR_CANCELED,e,n),this.name="CanceledError"}Re.inherits(Im,en,{__CANCEL__:!0});function IB(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new en("Request failed with status code "+n.status,[en.ERR_BAD_REQUEST,en.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Nz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Tz(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),h=r[s];o||(o=u),n[i]=c,r[i]=u;let f=s,m=0;for(;f!==i;)m+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const v=h&&u-h;return v?Math.round(m*1e3/v):void 0}}function jz(t,e){let n=0,r=1e3/e,i,s;const o=(u,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?o(u,h):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const jb=(t,e,n=3)=>{let r=0;const i=Tz(50,250);return jz(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),h=o<=l;r=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(f)},n)},Bj=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Dj=t=>(...e)=>Re.asap(()=>t(...e)),kz=gs.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,gs.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(gs.origin),gs.navigator&&/(msie|trident)/i.test(gs.navigator.userAgent)):()=>!0,Pz=gs.hasStandardBrowserEnv?{write(t,e,n,r,i,s,o){if(typeof document>"u")return;const l=[`${t}=${encodeURIComponent(e)}`];Re.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),Re.isString(r)&&l.push(`path=${r}`),Re.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),Re.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Rz(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fz(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function LB(t,e,n){let r=!Rz(e);return t&&(r||n==!1)?Fz(t,e):e}const Ij=t=>t instanceof oa?{...t}:t;function rf(t,e){e=e||{};const n={};function r(u,h,f,m){return Re.isPlainObject(u)&&Re.isPlainObject(h)?Re.merge.call({caseless:m},u,h):Re.isPlainObject(h)?Re.merge({},h):Re.isArray(h)?h.slice():h}function i(u,h,f,m){if(Re.isUndefined(h)){if(!Re.isUndefined(u))return r(void 0,u,f,m)}else return r(u,h,f,m)}function s(u,h){if(!Re.isUndefined(h))return r(void 0,h)}function o(u,h){if(Re.isUndefined(h)){if(!Re.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,f){if(f in e)return r(u,h);if(f in t)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,f)=>i(Ij(u),Ij(h),f,!0)};return Re.forEach(Object.keys({...t,...e}),function(h){const f=c[h]||i,m=f(t[h],e[h],h);Re.isUndefined(m)&&f!==l||(n[h]=m)}),n}const OB=t=>{const e=rf({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;if(e.headers=o=oa.from(o),e.url=RB(LB(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Re.isFormData(n)){if(gs.hasStandardBrowserEnv||gs.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Re.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,f])=>{u.includes(h.toLowerCase())&&o.set(h,f)})}}if(gs.hasStandardBrowserEnv&&(r&&Re.isFunction(r)&&(r=r(e)),r||r!==!1&&kz(e.url))){const c=i&&s&&Pz.read(s);c&&o.set(i,c)}return e},Bz=typeof XMLHttpRequest<"u",Dz=Bz&&function(t){return new Promise(function(n,r){const i=OB(t);let s=i.data;const o=oa.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,h,f,m,v,y;function S(){v&&v(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function _(){if(!b)return;const C=oa.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),R={data:!l||l==="text"||l==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:C,config:t,request:b};IB(function(D){n(D),S()},function(D){r(D),S()},R),b=null}"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(_)},b.onabort=function(){b&&(r(new en("Request aborted",en.ECONNABORTED,t,b)),b=null)},b.onerror=function(j){const R=j&&j.message?j.message:"Network Error",k=new en(R,en.ERR_NETWORK,t,b);k.event=j||null,r(k),b=null},b.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const R=i.transitional||FB;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new en(j,R.clarifyTimeoutError?en.ETIMEDOUT:en.ECONNABORTED,t,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&Re.forEach(o.toJSON(),function(j,R){b.setRequestHeader(R,j)}),Re.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),l&&l!=="json"&&(b.responseType=i.responseType),u&&([m,y]=jb(u,!0),b.addEventListener("progress",m)),c&&b.upload&&([f,v]=jb(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(h=C=>{b&&(r(!C||C.type?new Im(null,t,b):C),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const E=Nz(i.url);if(E&&gs.protocols.indexOf(E)===-1){r(new en("Unsupported protocol "+E+":",en.ERR_BAD_REQUEST,t));return}b.send(s||null)})},Iz=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof en?h:new Im(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new en(`timeout ${e} of ms exceeded`,en.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Re.asap(l),c}},Lz=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},Oz=async function*(t,e){for await(const n of Uz(t))yield*Lz(n,e)},Uz=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Lj=(t,e,n,r)=>{const i=Oz(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await i.next();if(u){l(),c.close();return}let f=h.byteLength;if(n){let m=s+=f;n(m)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},Oj=64*1024,{isFunction:Qv}=Re,zz=(({Request:t,Response:e})=>({Request:t,Response:e}))(Re.global),{ReadableStream:Uj,TextEncoder:zj}=Re.global,Hj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Hz=t=>{t=Re.merge.call({skipUndefined:!0},zz,t);const{fetch:e,Request:n,Response:r}=t,i=e?Qv(e):typeof fetch=="function",s=Qv(n),o=Qv(r);if(!i)return!1;const l=i&&Qv(Uj),c=i&&(typeof zj=="function"?(y=>S=>y.encode(S))(new zj):async y=>new Uint8Array(await new n(y).arrayBuffer())),u=s&&l&&Hj(()=>{let y=!1;const S=new n(gs.origin,{body:new Uj,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!S}),h=o&&l&&Hj(()=>Re.isReadableStream(new r("").body)),f={stream:h&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(S,b)=>{let _=S&&S[y];if(_)return _.call(S);throw new en(`Response type '${y}' is not supported`,en.ERR_NOT_SUPPORT,b)})});const m=async y=>{if(y==null)return 0;if(Re.isBlob(y))return y.size;if(Re.isSpecCompliantForm(y))return(await new n(gs.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(Re.isArrayBufferView(y)||Re.isArrayBuffer(y))return y.byteLength;if(Re.isURLSearchParams(y)&&(y=y+""),Re.isString(y))return(await c(y)).byteLength},v=async(y,S)=>{const b=Re.toFiniteNumber(y.getContentLength());return b??m(S)};return async y=>{let{url:S,method:b,data:_,signal:E,cancelToken:C,timeout:j,onDownloadProgress:R,onUploadProgress:k,responseType:D,headers:O,withCredentials:I="same-origin",fetchOptions:U}=OB(y),K=e||fetch;D=D?(D+"").toLowerCase():"text";let $=Iz([E,C&&C.toAbortSignal()],j),re=null;const Y=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let se;try{if(k&&u&&b!=="get"&&b!=="head"&&(se=await v(O,_))!==0){let V=new n(S,{method:"POST",body:_,duplex:"half"}),ee;if(Re.isFormData(_)&&(ee=V.headers.get("content-type"))&&O.setContentType(ee),V.body){const[ce,ne]=Bj(se,jb(Dj(k)));_=Lj(V.body,Oj,ce,ne)}}Re.isString(I)||(I=I?"include":"omit");const oe=s&&"credentials"in n.prototype,le={...U,signal:$,method:b.toUpperCase(),headers:O.normalize().toJSON(),body:_,duplex:"half",credentials:oe?I:void 0};re=s&&new n(S,le);let H=await(s?K(re,U):K(S,le));const q=h&&(D==="stream"||D==="response");if(h&&(R||q&&Y)){const V={};["status","statusText","headers"].forEach(be=>{V[be]=H[be]});const ee=Re.toFiniteNumber(H.headers.get("content-length")),[ce,ne]=R&&Bj(ee,jb(Dj(R),!0))||[];H=new r(Lj(H.body,Oj,ce,()=>{ne&&ne(),Y&&Y()}),V)}D=D||"text";let Q=await f[Re.findKey(f,D)||"text"](H,y);return!q&&Y&&Y(),await new Promise((V,ee)=>{IB(V,ee,{data:Q,headers:oa.from(H.headers),status:H.status,statusText:H.statusText,config:y,request:re})})}catch(oe){throw Y&&Y(),oe&&oe.name==="TypeError"&&/Load failed|fetch/i.test(oe.message)?Object.assign(new en("Network Error",en.ERR_NETWORK,y,re),{cause:oe.cause||oe}):en.from(oe,oe&&oe.code,y,re)}}},Gz=new Map,UB=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,l=o,c,u,h=Gz;for(;l--;)c=s[l],u=h.get(c),u===void 0&&h.set(c,u=l?new Map:Hz(e)),h=u;return u};UB();const LC={http:az,xhr:Dz,fetch:{get:UB}};Re.forEach(LC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Gj=t=>`- ${t}`,Wz=t=>Re.isFunction(t)||t===null||t===!1;function Vz(t,e){t=Re.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let l;if(i=r,!Wz(r)&&(i=LC[(l=String(r)).toLowerCase()],i===void 0))throw new en(`Unknown adapter '${l}'`);if(i&&(Re.isFunction(i)||(i=i.get(e))))break;s[l||"#"+o]=i}if(!i){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(Gj).join(`
`):" "+Gj(o[0]):"as no adapter specified";throw new en("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const zB={getAdapter:Vz,adapters:LC};function $w(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Im(null,t)}function Wj(t){return $w(t),t.headers=oa.from(t.headers),t.data=qw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zB.getAdapter(t.adapter||b0.adapter,t)(t).then(function(r){return $w(t),r.data=qw.call(t,t.transformResponse,r),r.headers=oa.from(r.headers),r},function(r){return DB(r)||($w(t),r&&r.response&&(r.response.data=qw.call(t,t.transformResponse,r.response),r.response.headers=oa.from(r.response.headers))),Promise.reject(r)})}const HB="1.13.2",z1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{z1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Vj={};z1.transitional=function(e,n,r){function i(s,o){return"[Axios v"+HB+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new en(i(o," has been removed"+(n?" in "+n:"")),en.ERR_DEPRECATED);return n&&!Vj[o]&&(Vj[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};z1.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Kz(t,e,n){if(typeof t!="object")throw new en("options must be an object",en.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new en("option "+s+" must be "+c,en.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new en("Unknown option "+s,en.ERR_BAD_OPTION)}}const pb={assertOptions:Kz,validators:z1},vl=pb.validators;let Kh=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Rj,response:new Rj}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=rf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&pb.assertOptions(r,{silentJSONParsing:vl.transitional(vl.boolean),forcedJSONParsing:vl.transitional(vl.boolean),clarifyTimeoutError:vl.transitional(vl.boolean)},!1),i!=null&&(Re.isFunction(i)?n.paramsSerializer={serialize:i}:pb.assertOptions(i,{encode:vl.function,serialize:vl.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),pb.assertOptions(n,{baseUrl:vl.spelling("baseURL"),withXsrfToken:vl.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Re.merge(s.common,s[n.method]);s&&Re.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=oa.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(c=c&&S.synchronous,l.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let h,f=0,m;if(!c){const y=[Wj.bind(this),void 0];for(y.unshift(...l),y.push(...u),m=y.length,h=Promise.resolve(n);f<m;)h=h.then(y[f++],y[f++]);return h}m=l.length;let v=n;for(;f<m;){const y=l[f++],S=l[f++];try{v=y(v)}catch(b){S.call(this,b);break}}try{h=Wj.call(this,v)}catch(y){return Promise.reject(y)}for(f=0,m=u.length;f<m;)h=h.then(u[f++],u[f++]);return h}getUri(e){e=rf(this.defaults,e);const n=LB(e.baseURL,e.url,e.allowAbsoluteUrls);return RB(n,e.params,e.paramsSerializer)}};Re.forEach(["delete","get","head","options"],function(e){Kh.prototype[e]=function(n,r){return this.request(rf(r||{},{method:e,url:n,data:(r||{}).data}))}});Re.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(rf(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Kh.prototype[e]=n(),Kh.prototype[e+"Form"]=n(!0)});let Xz=class GB{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new Im(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new GB(function(i){e=i}),cancel:e}}};function Yz(t){return function(n){return t.apply(null,n)}}function Jz(t){return Re.isObject(t)&&t.isAxiosError===!0}const LA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(LA).forEach(([t,e])=>{LA[e]=t});function WB(t){const e=new Kh(t),n=wB(Kh.prototype.request,e);return Re.extend(n,Kh.prototype,e,{allOwnKeys:!0}),Re.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return WB(rf(t,i))},n}const Fr=WB(b0);Fr.Axios=Kh;Fr.CanceledError=Im;Fr.CancelToken=Xz;Fr.isCancel=DB;Fr.VERSION=HB;Fr.toFormData=U1;Fr.AxiosError=en;Fr.Cancel=Fr.CanceledError;Fr.all=function(e){return Promise.all(e)};Fr.spread=Yz;Fr.isAxiosError=Jz;Fr.mergeConfig=rf;Fr.AxiosHeaders=oa;Fr.formToJSON=t=>BB(Re.isHTMLForm(t)?new FormData(t):t);Fr.getAdapter=zB.getAdapter;Fr.HttpStatusCode=LA;Fr.default=Fr;const{Axios:kxe,AxiosError:Pxe,CanceledError:Rxe,isCancel:Fxe,CancelToken:Bxe,VERSION:Dxe,all:Ixe,Cancel:Lxe,isAxiosError:Oxe,spread:Uxe,toFormData:zxe,AxiosHeaders:Hxe,HttpStatusCode:Gxe,formToJSON:Wxe,getAdapter:Vxe,mergeConfig:Kxe}=Fr,OA="http://localhost:5000/api",Oo={getToken:()=>sessionStorage.getItem("access_token")||localStorage.getItem("access_token"),setToken:t=>{sessionStorage.setItem("access_token",t),localStorage.setItem("access_token",t)},removeToken:()=>{sessionStorage.removeItem("access_token"),localStorage.removeItem("access_token")},getUser:()=>{const t=sessionStorage.getItem("user"),e=localStorage.getItem("user");return t?JSON.parse(t):e?JSON.parse(e):null},setUser:t=>{sessionStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("user",JSON.stringify(t))},removeUser:()=>{sessionStorage.removeItem("user"),localStorage.removeItem("user")}},Mt=Fr.create({baseURL:OA,headers:{"Content-Type":"application/json"},withCredentials:!0});Mt.interceptors.request.use(t=>{const e=Oo.getToken();return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Mt.interceptors.response.use(t=>t,async t=>{const e=t.config;if(t.response?.status===401){console.log(" 401 Error on URL:",e?.url),console.log(" Current path:",window.location.pathname);const n=window.location.pathname,r=n==="/"||n.includes("login"),i=e?.url?.includes("auth");if(r||i)return Promise.reject(t);if(!e._retry){e._retry=!0;const s=Oo.getToken();if(s)return console.log(" Retrying request with token..."),e.headers.Authorization=`Bearer ${s}`,Mt(e)}console.log(" 401 after retry, but NOT clearing token automatically")}return Promise.reject(t)});const Kj={register:async t=>(await Mt.post("/auth/register",t)).data,login:async(t,e)=>{const n=await Mt.post("/auth/login",{email:t,password:e});return n.data.success&&n.data.access_token&&(Oo.setToken(n.data.access_token),Oo.setUser(n.data.user)),n.data},logout:()=>{Oo.removeToken(),Oo.removeUser(),window.location.href="/"},getCurrentUser:()=>Oo.getUser(),updateProfile:async t=>{const e=Oo.getToken();if(!e)throw new Error("No token found");const n=await Fr.put("http://localhost:5000/api/users/profile",t,{headers:{Authorization:`Bearer ${e}`}});return n.data.success&&n.data.user&&Oo.setUser(n.data.user),n.data}},pd={getDevices:async()=>(await Mt.get("/devices")).data,getDevice:async t=>(await Mt.get(`/devices/${t}`)).data,addDevice:async t=>(await Mt.post("/devices",t)).data,updateDevice:async(t,e)=>(await Mt.put(`/devices/${t}`,e)).data,deleteDevice:async t=>(await Mt.delete(`/devices/${t}`)).data,getUserDevices:async()=>(await Mt.get("/member/devices")).data,getDashboardWaterLatest:async t=>(await Mt.get(`/devices/${t}/dashboard/water-latest`)).data,getDashboardRobotStatus:async t=>(await Mt.get(`/devices/${t}/dashboard/robot-status`)).data,getDashboardDiseaseLatest:async t=>(await Mt.get(`/devices/${t}/dashboard/disease-latest`)).data,getDashboardNotificationsRecent:async t=>(await Mt.get(`/devices/${t}/dashboard/notifications-recent`)).data},OC={getSpecies:async(t,e)=>(await Mt.get("/fishpedia",{params:{search:t,category:e}})).data,getSpeciesDetail:async t=>(await Mt.get(`/fishpedia/${t}`)).data,admin:{getAllArticles:async t=>(await Mt.get("/admin/fishpedia",{params:t})).data,getArticleById:async t=>(await Mt.get(`/admin/fishpedia/${t}`)).data,createArticle:async t=>(await Mt.post("/admin/fishpedia",t)).data,updateArticle:async(t,e)=>(await Mt.put(`/admin/fishpedia/${t}`,e)).data,deleteArticle:async t=>(await Mt.delete(`/admin/fishpedia/${t}`)).data}},Is={getTopics:async(t,e)=>(await Mt.get("/forum/topics",{params:{category:t,search:e}})).data,getTopic:async t=>(await Mt.get(`/forum/topics/${t}`)).data,createTopic:async t=>(await Mt.post("/forum/topics",t)).data,updateTopic:async(t,e)=>(await Mt.put(`/forum/topics/${t}`,e)).data,deleteTopic:async t=>(await Mt.delete(`/forum/topics/${t}`)).data,addReply:async(t,e)=>(await Mt.post(`/forum/topics/${t}/replies`,{content:e})).data,updateReply:async(t,e)=>(await Mt.put(`/forum/replies/${t}`,{content:e})).data,deleteReply:async t=>(await Mt.delete(`/forum/replies/${t}`)).data,toggleTopicLike:async t=>(await Mt.post(`/forum/topics/${t}/like`)).data,toggleReplyLike:async t=>(await Mt.post(`/forum/replies/${t}/like`)).data,reportTopic:async(t,e)=>(await Mt.post(`/forum/topics/${t}/report`,e)).data,getReports:async(t="pending")=>(await Mt.get("/admin/forum/reports",{params:{status:t}})).data,approveReport:async(t,e)=>(await Mt.post(`/admin/forum/reports/${t}/approve`,{admin_notes:e})).data,rejectReport:async(t,e)=>(await Mt.post(`/admin/forum/reports/${t}/reject`,{admin_notes:e})).data,getAllTopics:async()=>(await Mt.get("/forum/topics")).data,getUserTopics:async()=>(await Mt.get("/forum/my-topics")).data,getTopicReplies:async t=>(await Mt.get(`/forum/topics/${t}/replies`)).data},Qw={sendMessage:async(t,e,n)=>(await Mt.post("/ai/chat",{message:t,image:e,image_url:n})).data,getHistory:async(t=50)=>(await Mt.get("/ai/chat/history",{params:{limit:t}})).data,deleteChat:async t=>(await Mt.delete(`/ai/chat/${t}`)).data},Cc={getMyOrders:async t=>{const e=t?{status:t}:{};return(await Mt.get("/orders/my-orders",{params:e})).data},createOrder:async t=>(await Mt.post("/orders",t)).data,getOrderDetail:async t=>(await Mt.get(`/orders/${t}/detail`)).data,cancelOrder:async t=>(await Mt.put(`/orders/${t}/cancel`)).data,getAllOrders:async t=>(await Mt.get("/admin/orders",{params:t})).data,updateOrderStatus:async(t,e)=>(await Mt.put(`/admin/orders/${t}/status`,{status:e})).data,updatePaymentStatus:async(t,e)=>(await Mt.put(`/admin/orders/${t}/payment`,{payment_status:e})).data,getOrderStats:async()=>(await Mt.get("/admin/orders/stats")).data,getOrderAnalytics:async()=>(await Mt.get("/admin/orders/analytics")).data,uploadPaymentProof:async(t,e)=>{const n=Oo.getToken(),r=new FormData;r.append("payment_proof",e);const i=await fetch(`${OA}/orders/${t}/upload-payment-proof`,{method:"POST",headers:{Authorization:`Bearer ${n}`},body:r});if(!i.ok)throw new Error("Failed to upload payment proof");return await i.json()},getPaymentProof:async t=>{const e=Oo.getToken(),n=await fetch(`${OA}/orders/${t}/payment-proof`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!n.ok)throw new Error("Failed to get payment proof");return await n.json()}},tx={getUsers:async()=>(await Mt.get("/admin/users")).data,createUser:async t=>(await Mt.post("/admin/users",t)).data,updateUser:async(t,e)=>(await Mt.put(`/admin/users/${t}`,e)).data,deleteUser:async t=>(await Mt.delete(`/admin/users/${t}`)).data,toggleUserStatus:async t=>(await Mt.put(`/admin/users/${t}/toggle-status`)).data,getStats:async()=>(await Mt.get("/admin/stats")).data,getDiseaseTrends:async(t=30)=>(await Mt.get("/admin/disease-trends",{params:{days:t}})).data},si={getToken:()=>sessionStorage.getItem("access_token")||localStorage.getItem("access_token"),setToken:t=>{sessionStorage.setItem("access_token",t),localStorage.setItem("access_token",t)},removeToken:()=>{sessionStorage.removeItem("access_token"),localStorage.removeItem("access_token")},getUser:()=>{const t=sessionStorage.getItem("user"),e=localStorage.getItem("user");return t?JSON.parse(t):e?JSON.parse(e):null},setUser:t=>{sessionStorage.setItem("user",JSON.stringify(t)),localStorage.setItem("user",JSON.stringify(t))},removeUser:()=>{sessionStorage.removeItem("user"),localStorage.removeItem("user")}},VB=N.createContext(void 0);function qz({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(!0);N.useEffect(()=>{(()=>{const h=si.getToken(),f=si.getUser();if(console.log(" Init auth check:"),console.log("  - Token:",h?"Ada":"TIDAK ADA"),console.log("  - User:",f?"Ada":"TIDAK ADA"),h&&f)try{const m=h.split(".");if(m.length!==3){console.log(" Invalid token format, clearing..."),si.removeToken(),si.removeUser(),n(null),i(!1);return}const v=JSON.parse(atob(m[1]));if(!f.id||!f.email){console.log(" Invalid user object (missing id or email), clearing..."),si.removeToken(),si.removeUser(),n(null),i(!1);return}v.exp?v.exp*1e3<Date.now()?(console.log(" Token expired, clearing..."),si.removeToken(),si.removeUser(),n(null)):(console.log(" Valid token found, restoring user"),n(f)):f.id&&f.email?(console.log(" Token without expiry, but user valid - restoring user"),n(f)):(console.log(" User invalid, clearing..."),si.removeToken(),si.removeUser(),n(null))}catch(m){console.error(" Error parsing token, clearing all auth data:",m),si.removeToken(),si.removeUser(),n(null)}else console.log(" No token or user found, setting user to null"),n(null),h||si.removeToken(),f||si.removeUser();i(!1)})()},[]);const s=async(u,h)=>{try{i(!0);const f=await Kj.login(u,h);return console.log(" Login response:",f),f.success&&f.access_token?(si.setToken(f.access_token),console.log(" Token saved:",f.access_token.substring(0,20)+"..."),f.user&&(si.setUser(f.user),n(f.user),console.log(" User saved:",f.user)),{success:!0,message:f.message||"Login berhasil"}):(console.error(" No access_token in response!"),{success:!1,message:f.message||"Login gagal. Token tidak diterima dari server."})}catch(f){return console.error("Login error:",f),{success:!1,message:f.response?.data?.message||f.response?.data?.error||"Login gagal. Pastikan backend berjalan di http://localhost:5000"}}finally{i(!1)}},o=async u=>{try{return{success:!0,message:(await Kj.register(u)).message||"Registrasi berhasil. Silahkan masuk dengan akun yang telah dibuat."}}catch(h){throw console.error("Registration error:",h),new Error(h.response?.data?.error||"Registrasi gagal")}},l=async u=>{try{const h=si.getToken();if(console.log("Token dari localStorage:",h?"Ada (length: "+h.length+")":"TIDAK ADA"),console.log("User dari state:",e),!h)return{success:!1,message:"Silahkan login kembali"};try{const m=JSON.parse(atob(h.split(".")[1]));if(console.log("Token payload:",m),console.log("Token exp:",new Date(m.exp*1e3)),console.log("Current time:",new Date),m.exp*1e3<Date.now())return console.log(" Token expired!"),c(),{success:!1,message:"Sesi Anda telah berakhir. Silahkan login kembali"}}catch(m){return console.error("Token decode error:",m),c(),{success:!1,message:"Token tidak valid. Silahkan login kembali"}}const f=await fetch("http://localhost:5000/api/users/profile",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify(u)});if(console.log("Response status:",f.status),f.ok){const m=await f.json();return n(m.user),si.setUser(m.user),{success:!0,message:m.message||"Profil berhasil diperbarui",user:m.user}}else{const m=await f.json();return console.log("Error response:",m),(f.status===422||f.status===401)&&(console.log("Auth error, logging out..."),c()),{success:!1,message:m.message||m.error||"Gagal memperbarui profil"}}}catch(h){return console.error("Update profile error:",h),{success:!1,message:"Terjadi kesalahan saat memperbarui profil"}}},c=()=>{si.removeToken(),si.removeUser(),n(null)};return a.jsx(VB.Provider,{value:{user:e,isLoggedIn:!!e,login:s,register:o,updateProfile:l,logout:c,loading:r},children:t})}function Da(){const t=N.useContext(VB);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const $z="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function ca(t){const[e,n]=N.useState(!1),r=()=>{n(!0)},{src:i,alt:s,style:o,className:l,...c}=t;return e?a.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:a.jsx("div",{className:"flex items-center justify-center w-full h-full",children:a.jsx("img",{src:$z,alt:"Error loading image",...c,"data-original-url":i})})}):a.jsx("img",{src:i,alt:s,className:l,style:o,...c,onError:r})}const Yo=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z"}),a.jsx("path",{d:"M18 12v.5"}),a.jsx("path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86"}),a.jsx("path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33"})]}),ka=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),a.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),UA=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"}),a.jsx("path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"})]}),Dx=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),a.jsx("circle",{cx:"9",cy:"7",r:"4"}),a.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),a.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),UC=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),a.jsx("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),a.jsx("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),md=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M18 6 6 18"}),a.jsx("path",{d:"m6 6 12 12"})]}),Qz=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}),Zz=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),a.jsx("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]}),eo=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),a.jsx("path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0"})]}),Wc=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),a.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),kb=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),a.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),e7=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"})}),Qr=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M12 8V4H8"}),a.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),a.jsx("path",{d:"M2 14h2"}),a.jsx("path",{d:"M20 14h2"}),a.jsx("path",{d:"M15 13v2"}),a.jsx("path",{d:"M9 13v2"})]}),Vc=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})}),la=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"}),a.jsx("path",{d:"M12 9v4"}),a.jsx("path",{d:"M12 17h.01"})]}),mb=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),a.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),od=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})}),to=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("circle",{cx:"11",cy:"11",r:"8"}),a.jsx("path",{d:"m21 21-4.3-4.3"})]}),Mc=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"m6 9 6 6 6-6"})}),t7=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"m18 15-6-6-6 6"})}),H1=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"m15 18-6-6 6-6"})}),w0=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"m9 18 6-6-6-6"})}),Th=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"M20 6 9 17l-5-5"})}),zA=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("circle",{cx:"12",cy:"12",r:"10"})}),sf=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M5 12h14"}),a.jsx("path",{d:"M12 5v14"})]}),KB=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),a.jsx("polyline",{points:"16 17 21 12 16 7"}),a.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),G1=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2"}),a.jsx("line",{x1:"16",x2:"16",y1:"2",y2:"6"}),a.jsx("line",{x1:"8",x2:"8",y1:"2",y2:"6"}),a.jsx("line",{x1:"3",x2:"21",y1:"10",y2:"10"})]}),gd=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17"}),a.jsx("polyline",{points:"16 7 22 7 22 13"})]}),HA=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),a.jsx("polyline",{points:"16 17 22 17 22 11"})]}),ym=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"}),a.jsx("path",{d:"m15 5 4 4"})]}),zC=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("polyline",{points:"3 6 5 6 21 6"}),a.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),a.jsx("line",{x1:"10",x2:"10",y1:"11",y2:"17"}),a.jsx("line",{x1:"14",x2:"14",y1:"11",y2:"17"})]}),n7=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"}),a.jsx("path",{d:"M21 3v5h-5"}),a.jsx("path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"}),a.jsx("path",{d:"M3 21v-5h5"})]}),r7=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),a.jsx("circle",{cx:"9",cy:"9",r:"2"}),a.jsx("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})]}),i7=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("line",{x1:"22",x2:"11",y1:"2",y2:"13"}),a.jsx("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})]}),s7=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M7 10v12"}),a.jsx("path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z"})]}),Pb=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"17 8 12 3 7 8"}),a.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),Rb=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),a.jsx("polyline",{points:"7 10 12 15 17 10"}),a.jsx("line",{x1:"12",x2:"12",y1:"15",y2:"3"})]}),Ix=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"}),a.jsx("circle",{cx:"12",cy:"13",r:"3"})]}),XB=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"})}),Lx=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("polyline",{points:"12 6 12 12 16 14"})]}),W1=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M12 19l-7-7 7-7"}),a.jsx("path",{d:"M19 12H5"})]}),Xj=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("line",{x1:"12",x2:"12",y1:"2",y2:"22"}),a.jsx("path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})]}),Yj=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"}),a.jsx("path",{d:"M3 6h18"}),a.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),ld=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),a.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]}),lr=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),a.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Vo=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("line",{x1:"15",x2:"9",y1:"9",y2:"15"}),a.jsx("line",{x1:"9",x2:"15",y1:"9",y2:"15"})]}),HC=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z"}),a.jsx("path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97"})]}),GC=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("circle",{cx:"12",cy:"12",r:"10"}),a.jsx("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),a.jsx("line",{x1:"12",x2:"12.01",y1:"8",y2:"8"})]}),Jj=({className:t,...e})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:a.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),a7=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),a.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),o7=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("polyline",{points:"1 4 1 10 7 10"}),a.jsx("path",{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"})]}),Fb=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2"}),a.jsx("line",{x1:"22",x2:"22",y1:"11",y2:"13"})]}),qj=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"m22 8-6 4 6 4V8Z"}),a.jsx("rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2"})]}),Zw=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"}),a.jsx("line",{x1:"4",x2:"4",y1:"22",y2:"15"})]}),l7=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M12 2v10"}),a.jsx("path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04"})]}),YB=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}),a.jsx("polyline",{points:"17 21 17 13 7 13 7 21"}),a.jsx("polyline",{points:"7 3 7 8 15 8"})]}),nx=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z"}),a.jsx("path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z"})]}),bm=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("circle",{cx:"8",cy:"21",r:"1"}),a.jsx("circle",{cx:"19",cy:"21",r:"1"}),a.jsx("path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"})]}),nm=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("path",{d:"m7.5 4.27 9 5.15"}),a.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),a.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),a.jsx("path",{d:"M12 22V12"})]}),eS=({className:t,...e})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,...e,children:[a.jsx("rect",{width:"20",height:"14",x:"2",y:"5",rx:"2"}),a.jsx("line",{x1:"2",x2:"22",y1:"10",y2:"10"})]}),c7=md,JB=Mc,u7=t7,d7=w0,qB=Th,h7=zA;function WC({onAuthClick:t,onSmartNavigate:e}){const[n,r]=N.useState(!1),[i,s]=N.useState("beranda"),[o,l]=N.useState(null),c=g0(),u=Ll(),h=N.useRef({});N.useEffect(()=>{if(c.pathname!=="/")return;const S=()=>{const b=["hero","tentang","fitur","forum","testimoni"],_=window.scrollY+100;for(let E=b.length-1;E>=0;E--){const C=document.getElementById(b[E]);if(C&&C.offsetTop<=_){s(b[E]==="hero"?"beranda":b[E]);break}}};return window.addEventListener("scroll",S),S(),()=>window.removeEventListener("scroll",S)},[c.pathname]),N.useEffect(()=>{c.pathname==="/produk"?s("produk"):c.pathname==="/fishpedia"?s("fishpedia"):c.pathname==="/"&&s("beranda")},[c.pathname]),N.useEffect(()=>{const S=b=>{if(o){const _=h.current[o];_&&!_.contains(b.target)&&l(null)}};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[o]);const f=S=>{r(!1),t&&t(S)},m=(S,b,_)=>{if(S.preventDefault(),r(!1),_)if(c.pathname==="/"){const E=document.getElementById(b==="beranda"?"hero":b);E&&E.scrollIntoView({behavior:"smooth",block:"start"})}else e?e(b):(u("/"),setTimeout(()=>{const E=document.getElementById(b==="beranda"?"hero":b);E&&E.scrollIntoView({behavior:"smooth",block:"start"})},100));else u(b)},v=S=>`px-4 py-2 rounded-full transition-all ${i===S?"bg-white/25":"hover:bg-white/20"}`,y=S=>({fontSize:"13px",fontWeight:500,textDecoration:"none",color:"#FFFFFF"});return a.jsxs("header",{className:"relative z-50",style:{background:"transparent"},children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between sticky top-3",style:{minHeight:"60px",background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"30px",padding:"10px 20px",margin:"8px auto",boxShadow:"rgba(72, 128, 255, 0.15) 0px 4px 20px, rgba(255, 255, 255, 0.2) 0px 0px 0px 1px inset",maxWidth:"95%"},children:[a.jsxs("button",{onClick:S=>m(S,"beranda",!0),className:"flex items-center gap-2 rounded-full px-4 py-2 transition-all hover:bg-white/20",style:{color:"#FFFFFF",backdropFilter:"blur(5px)"},children:[a.jsx(Yo,{className:"w-7 h-7",style:{color:"#FFFFFF"}}),a.jsx("span",{className:"text-lg font-bold",style:{color:"#FFFFFF"},children:"temanikan"})]}),a.jsxs("nav",{className:"hidden md:flex items-center gap-0.5",style:{marginLeft:"0cm"},children:[a.jsxs("div",{className:"relative",ref:S=>{h.current.beranda=S},onMouseEnter:()=>l("beranda"),onMouseLeave:()=>l(null),children:[a.jsxs("a",{href:"#beranda",onClick:S=>{S.preventDefault(),m(S,"beranda",!0)},className:`${v("beranda")} navbar-link ${i==="beranda"?"active":""} flex items-center gap-1`,style:y(),children:["Beranda",a.jsx(Mc,{className:"w-3 h-3",style:{color:"inherit"}})]}),o==="beranda"&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 rounded-2xl shadow-xl py-2 min-w-[180px] z-50",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 32px"},children:[a.jsx("a",{href:"#beranda",onClick:S=>{S.preventDefault(),m(S,"beranda",!0),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Beranda Utama"}),a.jsx("a",{href:"#tentang",onClick:S=>{S.preventDefault(),m(S,"tentang",!0),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Tentang Kami"})]})]}),a.jsxs("div",{className:"relative",ref:S=>{h.current.tentang=S},onMouseEnter:()=>l("tentang"),onMouseLeave:()=>l(null),children:[a.jsxs("a",{href:"#tentang",onClick:S=>{S.preventDefault(),m(S,"tentang",!0)},className:`${v("tentang")} navbar-link ${i==="tentang"?"active":""} flex items-center gap-1`,style:y(),children:["Tentang",a.jsx(Mc,{className:"w-3 h-3",style:{color:"inherit"}})]}),o==="tentang"&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 rounded-2xl shadow-xl py-2 min-w-[180px] z-50",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 32px"},children:[a.jsx("a",{href:"#tentang",onClick:S=>{S.preventDefault(),m(S,"tentang",!0),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Tentang Kami"}),a.jsx("a",{href:"#fitur",onClick:S=>{S.preventDefault(),m(S,"fitur",!0),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Fitur Kami"})]})]}),a.jsxs("div",{className:"relative",ref:S=>{h.current.fishpedia=S},onMouseEnter:()=>l("fishpedia"),onMouseLeave:()=>l(null),children:[a.jsxs("a",{href:"/fishpedia",onClick:S=>{S.preventDefault(),m(S,"/fishpedia",!1)},className:`${v("fishpedia")} navbar-link ${i==="fishpedia"?"active":""} flex items-center gap-1`,style:y(),children:["FishPedia",a.jsx(Mc,{className:"w-3 h-3",style:{color:"inherit"}})]}),o==="fishpedia"&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 rounded-2xl shadow-xl py-2 min-w-[180px] z-50",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 32px"},children:[a.jsx("a",{href:"/fishpedia",onClick:S=>{S.preventDefault(),m(S,"/fishpedia",!1),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Semua Ikan"}),a.jsx("a",{href:"/fishpedia",onClick:S=>{S.preventDefault(),m(S,"/fishpedia",!1),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Kategori Ikan"})]})]}),a.jsxs("div",{className:"relative",ref:S=>{h.current.fitur=S},onMouseEnter:()=>l("fitur"),onMouseLeave:()=>l(null),children:[a.jsxs("a",{href:"#fitur",onClick:S=>{S.preventDefault(),m(S,"fitur",!0)},className:`${v("fitur")} navbar-link ${i==="fitur"?"active":""} flex items-center gap-1`,style:y(),children:["Fitur",a.jsx(Mc,{className:"w-3 h-3",style:{color:"inherit"}})]}),o==="fitur"&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 rounded-2xl shadow-xl py-2 min-w-[180px] z-50",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 32px"},children:[a.jsx("a",{href:"#fitur",onClick:S=>{S.preventDefault(),m(S,"fitur",!0),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Semua Fitur"}),a.jsx("a",{href:"#fitur",onClick:S=>{S.preventDefault(),m(S,"fitur",!0),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Monitoring"})]})]}),a.jsxs("div",{className:"relative",ref:S=>{h.current.produk=S},onMouseEnter:()=>l("produk"),onMouseLeave:()=>l(null),children:[a.jsxs("a",{href:"/produk",onClick:S=>{S.preventDefault(),m(S,"/produk",!1)},className:`${v("produk")} navbar-link ${i==="produk"?"active":""} flex items-center gap-1`,style:y(),children:["Produk",a.jsx(Mc,{className:"w-3 h-3",style:{color:"inherit"}})]}),o==="produk"&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 rounded-2xl shadow-xl py-2 min-w-[180px] z-50",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 32px"},children:[a.jsx("a",{href:"/produk",onClick:S=>{S.preventDefault(),m(S,"/produk",!1),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Semua Produk"}),a.jsx("a",{href:"/produk",onClick:S=>{S.preventDefault(),m(S,"/produk",!1),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Kategori Produk"})]})]}),a.jsxs("div",{className:"relative",ref:S=>{h.current.forum=S},onMouseEnter:()=>l("forum"),onMouseLeave:()=>l(null),children:[a.jsxs("a",{href:"#forum",onClick:S=>{S.preventDefault(),m(S,"forum",!0)},className:`${v("forum")} navbar-link ${i==="forum"?"active":""} flex items-center gap-1`,style:y(),children:["Forum",a.jsx(Mc,{className:"w-3 h-3",style:{color:"inherit"}})]}),o==="forum"&&a.jsxs("div",{className:"absolute top-full left-0 mt-2 rounded-2xl shadow-xl py-2 min-w-[180px] z-50",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 32px"},children:[a.jsx("a",{href:"#forum",onClick:S=>{S.preventDefault(),m(S,"forum",!0),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Forum Diskusi"}),a.jsx("a",{href:"#forum",onClick:S=>{S.preventDefault(),m(S,"forum",!0),l(null)},className:"block px-4 py-2 text-sm rounded-full mx-2 hover:bg-white/30 transition-all",style:{color:"#FFFFFF"},children:"Topik Populer"})]})]})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[a.jsx("button",{onClick:()=>f("login"),className:"px-3 py-1 rounded-full transition-all hover:bg-white/25",style:{fontSize:"13px",color:"#FFFFFF",fontWeight:500,backgroundColor:"transparent",backdropFilter:"blur(5px)",cursor:"pointer",lineHeight:"1.5"},children:"Masuk"}),a.jsx("button",{onClick:()=>f("register"),className:"px-3 py-1 rounded-full transition-all hover:bg-white/30",style:{fontSize:"13px",backgroundColor:"rgba(255, 255, 255, 0.25)",color:"#FFFFFF",fontWeight:500,backdropFilter:"blur(5px)",cursor:"pointer",boxShadow:"rgba(255, 255, 255, 0.2) 0px 2px 8px",lineHeight:"1.5"},children:"Daftar"})]}),a.jsx("button",{onClick:()=>r(!n),className:"md:hidden p-2 rounded-full hover:bg-white/20 transition-all",style:{color:"#FFFFFF"},children:n?a.jsx(md,{className:"w-6 h-6"}):a.jsx(UC,{className:"w-6 h-6"})})]})}),n&&a.jsx("div",{className:"md:hidden rounded-3xl mt-2 mx-4",style:{background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(15px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"rgba(0, 0, 0, 0.2) 0px 8px 32px"},children:a.jsxs("nav",{className:"flex flex-col px-4 py-4 gap-2",children:[a.jsx("a",{href:"#beranda",onClick:S=>m(S,"beranda",!0),className:"py-2 px-4 rounded-full hover:bg-white/30 text-left transition-all",style:{fontSize:"13px",color:"#FFFFFF"},children:"Beranda"}),a.jsx("a",{href:"#tentang",onClick:S=>m(S,"tentang",!0),className:"py-2 px-4 rounded-full hover:bg-white/30 text-left transition-all",style:{fontSize:"13px",color:"#FFFFFF"},children:"Tentang"}),a.jsx("a",{href:"#fitur",onClick:S=>m(S,"fitur",!0),className:"py-2 px-4 rounded-full hover:bg-white/30 text-left transition-all",style:{fontSize:"13px",color:"#FFFFFF"},children:"Fitur"}),a.jsx("a",{href:"#forum",onClick:S=>m(S,"forum",!0),className:"py-2 px-4 rounded-full hover:bg-white/30 text-left transition-all",style:{fontSize:"13px",color:"#FFFFFF"},children:"Forum"}),a.jsx("a",{href:"#testimoni",onClick:S=>m(S,"testimoni",!0),className:"py-2 px-4 rounded-full hover:bg-white/30 text-left transition-all",style:{fontSize:"13px",color:"#FFFFFF"},children:"Testimoni"}),a.jsx("a",{href:"/fishpedia",onClick:S=>m(S,"/fishpedia",!1),className:"py-2 px-4 rounded-full hover:bg-white/30 text-left transition-all",style:{fontSize:"13px",color:"#FFFFFF"},children:"Fishpedia"}),a.jsx("a",{href:"/produk",onClick:S=>m(S,"/produk",!1),className:"py-2 px-4 rounded-full hover:bg-white/30 text-left transition-all",style:{fontSize:"13px",color:"#FFFFFF"},children:"Produk"}),a.jsxs("div",{className:"flex flex-col gap-2 mt-4 pt-4",style:{borderTop:"1px solid rgba(255, 255, 255, 0.3)"},children:[a.jsx("button",{onClick:()=>f("login"),className:"w-full py-2 px-4 rounded-full border transition-all hover:bg-white/20",style:{fontSize:"13px",color:"#FFFFFF",borderColor:"rgba(255, 255, 255, 0.5)"},children:"Masuk"}),a.jsx("button",{onClick:()=>f("register"),className:"w-full py-2 px-4 rounded-full transition-all hover:bg-white/30",style:{fontSize:"13px",backgroundColor:"rgba(255, 255, 255, 0.25)",color:"#FFFFFF"},children:"Daftar"})]})]})})]})}const f7="/assets/Landingpage_Ikan-rOuSwBsb.png";/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const S0="160",p7={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},m7={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},$B=0,GA=1,QB=2,g7=3,ZB=0,V1=1,Tx=2,Lo=3,Nl=0,Us=1,zo=2,x7=2,Ic=0,Xh=1,WA=2,VA=3,KA=4,eD=5,rd=100,tD=101,nD=102,XA=103,YA=104,rD=200,iD=201,sD=202,aD=203,Bb=204,Db=205,oD=206,lD=207,cD=208,uD=209,dD=210,hD=211,fD=212,pD=213,mD=214,gD=0,xD=1,vD=2,Ox=3,yD=4,bD=5,wD=6,SD=7,_0=0,_D=1,AD=2,Sl=0,ED=1,CD=2,MD=3,VC=4,ND=5,TD=6,JA="attached",jD="detached",K1=300,Kc=301,xd=302,Ux=303,zx=304,Lm=306,vd=1e3,es=1001,wm=1002,Ur=1003,Hx=1004,v7=1004,hm=1005,y7=1005,kr=1006,X1=1007,b7=1007,Tl=1008,w7=1008,_l=1009,kD=1010,PD=1011,Y1=1012,KC=1013,kc=1014,Ko=1015,Sm=1016,XC=1017,YC=1018,cd=1020,RD=1021,Ls=1023,FD=1024,BD=1025,ud=1026,af=1027,DD=1028,JC=1029,ID=1030,qC=1031,$C=1033,gb=33776,xb=33777,vb=33778,yb=33779,qA=35840,$A=35841,QA=35842,ZA=35843,QC=36196,eE=37492,tE=37496,nE=37808,rE=37809,iE=37810,sE=37811,aE=37812,oE=37813,lE=37814,cE=37815,uE=37816,dE=37817,hE=37818,fE=37819,pE=37820,mE=37821,bb=36492,gE=36494,xE=36495,LD=36283,vE=36284,yE=36285,bE=36286,OD=2200,UD=2201,zD=2202,_m=2300,of=2301,wb=2302,Ih=2400,Lh=2401,Gx=2402,J1=2500,ZC=2501,HD=0,eM=1,Ib=2,tM=3e3,dd=3001,GD=3200,WD=3201,Ad=0,VD=1,Na="",wi="srgb",jl="srgb-linear",q1="display-p3",A0="display-p3-linear",Wx="linear",sr="srgb",Vx="rec709",Kx="p3",S7=0,jh=7680,_7=7681,A7=7682,E7=7683,C7=34055,M7=34056,N7=5386,T7=512,j7=513,k7=514,P7=515,R7=516,F7=517,B7=518,wE=519,KD=512,XD=513,YD=514,nM=515,JD=516,qD=517,$D=518,QD=519,Xx=35044,D7=35048,I7=35040,L7=35045,O7=35049,U7=35041,z7=35046,H7=35050,G7=35042,W7="100",SE="300 es",Lb=1035,Xo=2e3,Am=2001;class ru{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const ds=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $j=1234567;const Yh=Math.PI/180,Em=180/Math.PI;function Pa(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ds[t&255]+ds[t>>8&255]+ds[t>>16&255]+ds[t>>24&255]+"-"+ds[e&255]+ds[e>>8&255]+"-"+ds[e>>16&15|64]+ds[e>>24&255]+"-"+ds[n&63|128]+ds[n>>8&255]+"-"+ds[n>>16&255]+ds[n>>24&255]+ds[r&255]+ds[r>>8&255]+ds[r>>16&255]+ds[r>>24&255]).toLowerCase()}function zr(t,e,n){return Math.max(e,Math.min(n,t))}function rM(t,e){return(t%e+e)%e}function V7(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function K7(t,e,n){return t!==e?(n-t)/(e-t):0}function jx(t,e,n){return(1-n)*t+n*e}function X7(t,e,n,r){return jx(t,e,1-Math.exp(-n*r))}function Y7(t,e=1){return e-Math.abs(rM(t,e*2)-e)}function J7(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function q7(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function $7(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Q7(t,e){return t+Math.random()*(e-t)}function Z7(t){return t*(.5-Math.random())}function eH(t){t!==void 0&&($j=t);let e=$j+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function tH(t){return t*Yh}function nH(t){return t*Em}function _E(t){return(t&t-1)===0&&t!==0}function rH(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Ob(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function iH(t,e,n,r,i){const s=Math.cos,o=Math.sin,l=s(n/2),c=o(n/2),u=s((e+r)/2),h=o((e+r)/2),f=s((e-r)/2),m=o((e-r)/2),v=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(l*h,c*f,c*m,l*u);break;case"YZY":t.set(c*m,l*h,c*f,l*u);break;case"ZXZ":t.set(c*f,c*m,l*h,l*u);break;case"XZX":t.set(l*h,c*y,c*v,l*u);break;case"YXY":t.set(c*v,l*h,c*y,l*u);break;case"ZYZ":t.set(c*y,c*v,l*h,l*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ia(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function on(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const ZD={DEG2RAD:Yh,RAD2DEG:Em,generateUUID:Pa,clamp:zr,euclideanModulo:rM,mapLinear:V7,inverseLerp:K7,lerp:jx,damp:X7,pingpong:Y7,smoothstep:J7,smootherstep:q7,randInt:$7,randFloat:Q7,randFloatSpread:Z7,seededRandom:eH,degToRad:tH,radToDeg:nH,isPowerOfTwo:_E,ceilPowerOfTwo:rH,floorPowerOfTwo:Ob,setQuaternionFromProperEuler:iH,normalize:on,denormalize:ia};class We{constructor(e=0,n=0){We.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(zr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ln{constructor(e,n,r,i,s,o,l,c,u){ln.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,l,c,u)}set(e,n,r,i,s,o,l,c,u){const h=this.elements;return h[0]=e,h[1]=i,h[2]=l,h[3]=n,h[4]=s,h[5]=c,h[6]=r,h[7]=o,h[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],l=r[3],c=r[6],u=r[1],h=r[4],f=r[7],m=r[2],v=r[5],y=r[8],S=i[0],b=i[3],_=i[6],E=i[1],C=i[4],j=i[7],R=i[2],k=i[5],D=i[8];return s[0]=o*S+l*E+c*R,s[3]=o*b+l*C+c*k,s[6]=o*_+l*j+c*D,s[1]=u*S+h*E+f*R,s[4]=u*b+h*C+f*k,s[7]=u*_+h*j+f*D,s[2]=m*S+v*E+y*R,s[5]=m*b+v*C+y*k,s[8]=m*_+v*j+y*D,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],h=e[8];return n*o*h-n*l*u-r*s*h+r*l*c+i*s*u-i*o*c}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=h*o-l*u,m=l*c-h*s,v=u*s-o*c,y=n*f+r*m+i*v;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/y;return e[0]=f*S,e[1]=(i*u-h*r)*S,e[2]=(l*r-i*o)*S,e[3]=m*S,e[4]=(h*n-i*c)*S,e[5]=(i*s-l*n)*S,e[6]=v*S,e[7]=(r*c-u*n)*S,e[8]=(o*n-r*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,l){const c=Math.cos(s),u=Math.sin(s);return this.set(r*c,r*u,-r*(c*o+u*l)+o+e,-i*u,i*c,-i*(-u*o+c*l)+l+n,0,0,1),this}scale(e,n){return this.premultiply(tS.makeScale(e,n)),this}rotate(e){return this.premultiply(tS.makeRotation(-e)),this}translate(e,n){return this.premultiply(tS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const tS=new ln;function eI(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const sH={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function rm(t,e){return new sH[t](e)}function Yx(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function tI(){const t=Yx("canvas");return t.style.display="block",t}const Qj={};function kx(t){t in Qj||(Qj[t]=!0,console.warn(t))}const Zj=new ln().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ek=new ln().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Zv={[jl]:{transfer:Wx,primaries:Vx,toReference:t=>t,fromReference:t=>t},[wi]:{transfer:sr,primaries:Vx,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[A0]:{transfer:Wx,primaries:Kx,toReference:t=>t.applyMatrix3(ek),fromReference:t=>t.applyMatrix3(Zj)},[q1]:{transfer:sr,primaries:Kx,toReference:t=>t.convertSRGBToLinear().applyMatrix3(ek),fromReference:t=>t.applyMatrix3(Zj).convertLinearToSRGB()}},aH=new Set([jl,A0]),Un={enabled:!0,_workingColorSpace:jl,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!aH.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Zv[e].toReference,i=Zv[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Zv[t].primaries},getTransfer:function(t){return t===Na?Wx:Zv[t].transfer}};function fm(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function nS(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Np;class iM{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Np===void 0&&(Np=Yx("canvas")),Np.width=e.width,Np.height=e.height;const r=Np.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Np}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Yx("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=fm(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(fm(n[r]/255)*255):n[r]=fm(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let oH=0;class Oh{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:oH++}),this.uuid=Pa(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,l=i.length;o<l;o++)i[o].isDataTexture?s.push(rS(i[o].image)):s.push(rS(i[o]))}else s=rS(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function rS(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?iM.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let lH=0;class Rr extends ru{constructor(e=Rr.DEFAULT_IMAGE,n=Rr.DEFAULT_MAPPING,r=es,i=es,s=kr,o=Tl,l=Ls,c=_l,u=Rr.DEFAULT_ANISOTROPY,h=Na){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lH++}),this.uuid=Pa(),this.name="",this.source=new Oh(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new We(0,0),this.repeat=new We(1,1),this.center=new We(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new ln,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof h=="string"?this.colorSpace=h:(kx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=h===dd?wi:Na),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==K1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case vd:e.x=e.x-Math.floor(e.x);break;case es:e.x=e.x<0?0:1;break;case wm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case vd:e.y=e.y-Math.floor(e.y);break;case es:e.y=e.y<0?0:1;break;case wm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return kx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===wi?dd:tM}set encoding(e){kx("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===dd?wi:Na}}Rr.DEFAULT_IMAGE=null;Rr.DEFAULT_MAPPING=K1;Rr.DEFAULT_ANISOTROPY=1;class Hn{constructor(e=0,n=0,r=0,i=1){Hn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const c=e.elements,u=c[0],h=c[4],f=c[8],m=c[1],v=c[5],y=c[9],S=c[2],b=c[6],_=c[10];if(Math.abs(h-m)<.01&&Math.abs(f-S)<.01&&Math.abs(y-b)<.01){if(Math.abs(h+m)<.1&&Math.abs(f+S)<.1&&Math.abs(y+b)<.1&&Math.abs(u+v+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const C=(u+1)/2,j=(v+1)/2,R=(_+1)/2,k=(h+m)/4,D=(f+S)/4,O=(y+b)/4;return C>j&&C>R?C<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(C),i=k/r,s=D/r):j>R?j<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(j),r=k/i,s=O/i):R<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(R),r=D/s,i=O/s),this.set(r,i,s,n),this}let E=Math.sqrt((b-y)*(b-y)+(f-S)*(f-S)+(m-h)*(m-h));return Math.abs(E)<.001&&(E=1),this.x=(b-y)/E,this.y=(f-S)/E,this.z=(m-h)/E,this.w=Math.acos((u+v+_-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class nI extends ru{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Hn(0,0,e,n),this.scissorTest=!1,this.viewport=new Hn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(kx("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===dd?wi:Na),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:kr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Rr(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Oh(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class qo extends nI{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class $1 extends Rr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ur,this.minFilter=Ur,this.wrapR=es,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class cH extends qo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new $1(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class sM extends Rr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ur,this.minFilter=Ur,this.wrapR=es,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uH extends qo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new sM(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class dH extends qo{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class xs{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,l){let c=r[i+0],u=r[i+1],h=r[i+2],f=r[i+3];const m=s[o+0],v=s[o+1],y=s[o+2],S=s[o+3];if(l===0){e[n+0]=c,e[n+1]=u,e[n+2]=h,e[n+3]=f;return}if(l===1){e[n+0]=m,e[n+1]=v,e[n+2]=y,e[n+3]=S;return}if(f!==S||c!==m||u!==v||h!==y){let b=1-l;const _=c*m+u*v+h*y+f*S,E=_>=0?1:-1,C=1-_*_;if(C>Number.EPSILON){const R=Math.sqrt(C),k=Math.atan2(R,_*E);b=Math.sin(b*k)/R,l=Math.sin(l*k)/R}const j=l*E;if(c=c*b+m*j,u=u*b+v*j,h=h*b+y*j,f=f*b+S*j,b===1-l){const R=1/Math.sqrt(c*c+u*u+h*h+f*f);c*=R,u*=R,h*=R,f*=R}}e[n]=c,e[n+1]=u,e[n+2]=h,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const l=r[i],c=r[i+1],u=r[i+2],h=r[i+3],f=s[o],m=s[o+1],v=s[o+2],y=s[o+3];return e[n]=l*y+h*f+c*v-u*m,e[n+1]=c*y+h*m+u*f-l*v,e[n+2]=u*y+h*v+l*m-c*f,e[n+3]=h*y-l*f-c*m-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,l=Math.cos,c=Math.sin,u=l(r/2),h=l(i/2),f=l(s/2),m=c(r/2),v=c(i/2),y=c(s/2);switch(o){case"XYZ":this._x=m*h*f+u*v*y,this._y=u*v*f-m*h*y,this._z=u*h*y+m*v*f,this._w=u*h*f-m*v*y;break;case"YXZ":this._x=m*h*f+u*v*y,this._y=u*v*f-m*h*y,this._z=u*h*y-m*v*f,this._w=u*h*f+m*v*y;break;case"ZXY":this._x=m*h*f-u*v*y,this._y=u*v*f+m*h*y,this._z=u*h*y+m*v*f,this._w=u*h*f-m*v*y;break;case"ZYX":this._x=m*h*f-u*v*y,this._y=u*v*f+m*h*y,this._z=u*h*y-m*v*f,this._w=u*h*f+m*v*y;break;case"YZX":this._x=m*h*f+u*v*y,this._y=u*v*f+m*h*y,this._z=u*h*y-m*v*f,this._w=u*h*f-m*v*y;break;case"XZY":this._x=m*h*f-u*v*y,this._y=u*v*f-m*h*y,this._z=u*h*y+m*v*f,this._w=u*h*f+m*v*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],l=n[5],c=n[9],u=n[2],h=n[6],f=n[10],m=r+l+f;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(h-c)*v,this._y=(s-u)*v,this._z=(o-i)*v}else if(r>l&&r>f){const v=2*Math.sqrt(1+r-l-f);this._w=(h-c)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(s+u)/v}else if(l>f){const v=2*Math.sqrt(1+l-r-f);this._w=(s-u)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(c+h)/v}else{const v=2*Math.sqrt(1+f-r-l);this._w=(o-i)/v,this._x=(s+u)/v,this._y=(c+h)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(zr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,l=n._x,c=n._y,u=n._z,h=n._w;return this._x=r*h+o*l+i*u-s*c,this._y=i*h+o*c+s*l-r*u,this._z=s*h+o*u+r*c-i*l,this._w=o*h-r*l-i*c-s*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let l=o*e._w+r*e._x+i*e._y+s*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const c=1-l*l;if(c<=Number.EPSILON){const v=1-n;return this._w=v*o+n*this._w,this._x=v*r+n*this._x,this._y=v*i+n*this._y,this._z=v*s+n*this._z,this.normalize(),this}const u=Math.sqrt(c),h=Math.atan2(u,l),f=Math.sin((1-n)*h)/u,m=Math.sin(n*h)/u;return this._w=o*f+this._w*m,this._x=r*f+this._x*m,this._y=i*f+this._y*m,this._z=s*f+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class te{constructor(e=0,n=0,r=0){te.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(tk.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(tk.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,l=e.z,c=e.w,u=2*(o*i-l*r),h=2*(l*n-s*i),f=2*(s*r-o*n);return this.x=n+c*u+o*f-l*h,this.y=r+c*h+l*u-s*f,this.z=i+c*f+s*h-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,l=n.y,c=n.z;return this.x=i*c-s*l,this.y=s*o-r*c,this.z=r*l-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return iS.copy(this).projectOnVector(e),this.sub(iS)}reflect(e){return this.sub(iS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(zr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const iS=new te,tk=new xs;class vs{constructor(e=new te(1/0,1/0,1/0),n=new te(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Bo.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Bo.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Bo.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=s.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,Bo):Bo.fromBufferAttribute(s,o),Bo.applyMatrix4(e.matrixWorld),this.expandByPoint(Bo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ey.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),ey.copy(r.boundingBox)),ey.applyMatrix4(e.matrixWorld),this.union(ey)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Bo),Bo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(rx),ty.subVectors(this.max,rx),Tp.subVectors(e.a,rx),jp.subVectors(e.b,rx),kp.subVectors(e.c,rx),Vu.subVectors(jp,Tp),Ku.subVectors(kp,jp),vh.subVectors(Tp,kp);let n=[0,-Vu.z,Vu.y,0,-Ku.z,Ku.y,0,-vh.z,vh.y,Vu.z,0,-Vu.x,Ku.z,0,-Ku.x,vh.z,0,-vh.x,-Vu.y,Vu.x,0,-Ku.y,Ku.x,0,-vh.y,vh.x,0];return!sS(n,Tp,jp,kp,ty)||(n=[1,0,0,0,1,0,0,0,1],!sS(n,Tp,jp,kp,ty))?!1:(ny.crossVectors(Vu,Ku),n=[ny.x,ny.y,ny.z],sS(n,Tp,jp,kp,ty))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Bo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Bo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(yc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),yc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),yc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),yc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),yc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),yc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),yc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),yc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(yc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yc=[new te,new te,new te,new te,new te,new te,new te,new te],Bo=new te,ey=new vs,Tp=new te,jp=new te,kp=new te,Vu=new te,Ku=new te,vh=new te,rx=new te,ty=new te,ny=new te,yh=new te;function sS(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){yh.fromArray(t,s);const l=i.x*Math.abs(yh.x)+i.y*Math.abs(yh.y)+i.z*Math.abs(yh.z),c=e.dot(yh),u=n.dot(yh),h=r.dot(yh);if(Math.max(-Math.max(c,u,h),Math.min(c,u,h))>l)return!1}return!0}const hH=new vs,ix=new te,aS=new te;class ts{constructor(e=new te,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):hH.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ix.subVectors(e,this.center);const n=ix.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ix,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(aS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ix.copy(e.center).add(aS)),this.expandByPoint(ix.copy(e.center).sub(aS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const bc=new te,oS=new te,ry=new te,Xu=new te,lS=new te,iy=new te,cS=new te;class Om{constructor(e=new te,n=new te(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,bc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=bc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(bc.copy(this.origin).addScaledVector(this.direction,n),bc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){oS.copy(e).add(n).multiplyScalar(.5),ry.copy(n).sub(e).normalize(),Xu.copy(this.origin).sub(oS);const s=e.distanceTo(n)*.5,o=-this.direction.dot(ry),l=Xu.dot(this.direction),c=-Xu.dot(ry),u=Xu.lengthSq(),h=Math.abs(1-o*o);let f,m,v,y;if(h>0)if(f=o*c-l,m=o*l-c,y=s*h,f>=0)if(m>=-y)if(m<=y){const S=1/h;f*=S,m*=S,v=f*(f+o*m+2*l)+m*(o*f+m+2*c)+u}else m=s,f=Math.max(0,-(o*m+l)),v=-f*f+m*(m+2*c)+u;else m=-s,f=Math.max(0,-(o*m+l)),v=-f*f+m*(m+2*c)+u;else m<=-y?(f=Math.max(0,-(-o*s+l)),m=f>0?-s:Math.min(Math.max(-s,-c),s),v=-f*f+m*(m+2*c)+u):m<=y?(f=0,m=Math.min(Math.max(-s,-c),s),v=m*(m+2*c)+u):(f=Math.max(0,-(o*s+l)),m=f>0?s:Math.min(Math.max(-s,-c),s),v=-f*f+m*(m+2*c)+u);else m=o>0?-s:s,f=Math.max(0,-(o*m+l)),v=-f*f+m*(m+2*c)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(oS).addScaledVector(ry,m),v}intersectSphere(e,n){bc.subVectors(e.center,this.origin);const r=bc.dot(this.direction),i=bc.dot(bc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),l=r-o,c=r+o;return c<0?null:l<0?this.at(c,n):this.at(l,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,l,c;const u=1/this.direction.x,h=1/this.direction.y,f=1/this.direction.z,m=this.origin;return u>=0?(r=(e.min.x-m.x)*u,i=(e.max.x-m.x)*u):(r=(e.max.x-m.x)*u,i=(e.min.x-m.x)*u),h>=0?(s=(e.min.y-m.y)*h,o=(e.max.y-m.y)*h):(s=(e.max.y-m.y)*h,o=(e.min.y-m.y)*h),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(l=(e.min.z-m.z)*f,c=(e.max.z-m.z)*f):(l=(e.max.z-m.z)*f,c=(e.min.z-m.z)*f),r>c||l>i)||((l>r||r!==r)&&(r=l),(c<i||i!==i)&&(i=c),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,bc)!==null}intersectTriangle(e,n,r,i,s){lS.subVectors(n,e),iy.subVectors(r,e),cS.crossVectors(lS,iy);let o=this.direction.dot(cS),l;if(o>0){if(i)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Xu.subVectors(this.origin,e);const c=l*this.direction.dot(iy.crossVectors(Xu,iy));if(c<0)return null;const u=l*this.direction.dot(lS.cross(Xu));if(u<0||c+u>o)return null;const h=-l*Xu.dot(cS);return h<0?null:this.at(h/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ot{constructor(e,n,r,i,s,o,l,c,u,h,f,m,v,y,S,b){Ot.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,l,c,u,h,f,m,v,y,S,b)}set(e,n,r,i,s,o,l,c,u,h,f,m,v,y,S,b){const _=this.elements;return _[0]=e,_[4]=n,_[8]=r,_[12]=i,_[1]=s,_[5]=o,_[9]=l,_[13]=c,_[2]=u,_[6]=h,_[10]=f,_[14]=m,_[3]=v,_[7]=y,_[11]=S,_[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ot().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Pp.setFromMatrixColumn(e,0).length(),s=1/Pp.setFromMatrixColumn(e,1).length(),o=1/Pp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i),h=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const m=o*h,v=o*f,y=l*h,S=l*f;n[0]=c*h,n[4]=-c*f,n[8]=u,n[1]=v+y*u,n[5]=m-S*u,n[9]=-l*c,n[2]=S-m*u,n[6]=y+v*u,n[10]=o*c}else if(e.order==="YXZ"){const m=c*h,v=c*f,y=u*h,S=u*f;n[0]=m+S*l,n[4]=y*l-v,n[8]=o*u,n[1]=o*f,n[5]=o*h,n[9]=-l,n[2]=v*l-y,n[6]=S+m*l,n[10]=o*c}else if(e.order==="ZXY"){const m=c*h,v=c*f,y=u*h,S=u*f;n[0]=m-S*l,n[4]=-o*f,n[8]=y+v*l,n[1]=v+y*l,n[5]=o*h,n[9]=S-m*l,n[2]=-o*u,n[6]=l,n[10]=o*c}else if(e.order==="ZYX"){const m=o*h,v=o*f,y=l*h,S=l*f;n[0]=c*h,n[4]=y*u-v,n[8]=m*u+S,n[1]=c*f,n[5]=S*u+m,n[9]=v*u-y,n[2]=-u,n[6]=l*c,n[10]=o*c}else if(e.order==="YZX"){const m=o*c,v=o*u,y=l*c,S=l*u;n[0]=c*h,n[4]=S-m*f,n[8]=y*f+v,n[1]=f,n[5]=o*h,n[9]=-l*h,n[2]=-u*h,n[6]=v*f+y,n[10]=m-S*f}else if(e.order==="XZY"){const m=o*c,v=o*u,y=l*c,S=l*u;n[0]=c*h,n[4]=-f,n[8]=u*h,n[1]=m*f+S,n[5]=o*h,n[9]=v*f-y,n[2]=y*f-v,n[6]=l*h,n[10]=S*f+m}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(fH,e,pH)}lookAt(e,n,r){const i=this.elements;return Sa.subVectors(e,n),Sa.lengthSq()===0&&(Sa.z=1),Sa.normalize(),Yu.crossVectors(r,Sa),Yu.lengthSq()===0&&(Math.abs(r.z)===1?Sa.x+=1e-4:Sa.z+=1e-4,Sa.normalize(),Yu.crossVectors(r,Sa)),Yu.normalize(),sy.crossVectors(Sa,Yu),i[0]=Yu.x,i[4]=sy.x,i[8]=Sa.x,i[1]=Yu.y,i[5]=sy.y,i[9]=Sa.y,i[2]=Yu.z,i[6]=sy.z,i[10]=Sa.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],l=r[4],c=r[8],u=r[12],h=r[1],f=r[5],m=r[9],v=r[13],y=r[2],S=r[6],b=r[10],_=r[14],E=r[3],C=r[7],j=r[11],R=r[15],k=i[0],D=i[4],O=i[8],I=i[12],U=i[1],K=i[5],$=i[9],re=i[13],Y=i[2],se=i[6],oe=i[10],le=i[14],H=i[3],q=i[7],Q=i[11],V=i[15];return s[0]=o*k+l*U+c*Y+u*H,s[4]=o*D+l*K+c*se+u*q,s[8]=o*O+l*$+c*oe+u*Q,s[12]=o*I+l*re+c*le+u*V,s[1]=h*k+f*U+m*Y+v*H,s[5]=h*D+f*K+m*se+v*q,s[9]=h*O+f*$+m*oe+v*Q,s[13]=h*I+f*re+m*le+v*V,s[2]=y*k+S*U+b*Y+_*H,s[6]=y*D+S*K+b*se+_*q,s[10]=y*O+S*$+b*oe+_*Q,s[14]=y*I+S*re+b*le+_*V,s[3]=E*k+C*U+j*Y+R*H,s[7]=E*D+C*K+j*se+R*q,s[11]=E*O+C*$+j*oe+R*Q,s[15]=E*I+C*re+j*le+R*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],l=e[5],c=e[9],u=e[13],h=e[2],f=e[6],m=e[10],v=e[14],y=e[3],S=e[7],b=e[11],_=e[15];return y*(+s*c*f-i*u*f-s*l*m+r*u*m+i*l*v-r*c*v)+S*(+n*c*v-n*u*m+s*o*m-i*o*v+i*u*h-s*c*h)+b*(+n*u*f-n*l*v-s*o*f+r*o*v+s*l*h-r*u*h)+_*(-i*l*h-n*c*f+n*l*m+i*o*f-r*o*m+r*c*h)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],l=e[5],c=e[6],u=e[7],h=e[8],f=e[9],m=e[10],v=e[11],y=e[12],S=e[13],b=e[14],_=e[15],E=f*b*u-S*m*u+S*c*v-l*b*v-f*c*_+l*m*_,C=y*m*u-h*b*u-y*c*v+o*b*v+h*c*_-o*m*_,j=h*S*u-y*f*u+y*l*v-o*S*v-h*l*_+o*f*_,R=y*f*c-h*S*c-y*l*m+o*S*m+h*l*b-o*f*b,k=n*E+r*C+i*j+s*R;if(k===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/k;return e[0]=E*D,e[1]=(S*m*s-f*b*s-S*i*v+r*b*v+f*i*_-r*m*_)*D,e[2]=(l*b*s-S*c*s+S*i*u-r*b*u-l*i*_+r*c*_)*D,e[3]=(f*c*s-l*m*s-f*i*u+r*m*u+l*i*v-r*c*v)*D,e[4]=C*D,e[5]=(h*b*s-y*m*s+y*i*v-n*b*v-h*i*_+n*m*_)*D,e[6]=(y*c*s-o*b*s-y*i*u+n*b*u+o*i*_-n*c*_)*D,e[7]=(o*m*s-h*c*s+h*i*u-n*m*u-o*i*v+n*c*v)*D,e[8]=j*D,e[9]=(y*f*s-h*S*s-y*r*v+n*S*v+h*r*_-n*f*_)*D,e[10]=(o*S*s-y*l*s+y*r*u-n*S*u-o*r*_+n*l*_)*D,e[11]=(h*l*s-o*f*s-h*r*u+n*f*u+o*r*v-n*l*v)*D,e[12]=R*D,e[13]=(h*S*i-y*f*i+y*r*m-n*S*m-h*r*b+n*f*b)*D,e[14]=(y*l*i-o*S*i-y*r*c+n*S*c+o*r*b-n*l*b)*D,e[15]=(o*f*i-h*l*i+h*r*c-n*f*c-o*r*m+n*l*m)*D,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,l=e.y,c=e.z,u=s*o,h=s*l;return this.set(u*o+r,u*l-i*c,u*c+i*l,0,u*l+i*c,h*l+r,h*c-i*o,0,u*c-i*l,h*c+i*o,s*c*c+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,l=n._z,c=n._w,u=s+s,h=o+o,f=l+l,m=s*u,v=s*h,y=s*f,S=o*h,b=o*f,_=l*f,E=c*u,C=c*h,j=c*f,R=r.x,k=r.y,D=r.z;return i[0]=(1-(S+_))*R,i[1]=(v+j)*R,i[2]=(y-C)*R,i[3]=0,i[4]=(v-j)*k,i[5]=(1-(m+_))*k,i[6]=(b+E)*k,i[7]=0,i[8]=(y+C)*D,i[9]=(b-E)*D,i[10]=(1-(m+S))*D,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Pp.set(i[0],i[1],i[2]).length();const o=Pp.set(i[4],i[5],i[6]).length(),l=Pp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Do.copy(this);const u=1/s,h=1/o,f=1/l;return Do.elements[0]*=u,Do.elements[1]*=u,Do.elements[2]*=u,Do.elements[4]*=h,Do.elements[5]*=h,Do.elements[6]*=h,Do.elements[8]*=f,Do.elements[9]*=f,Do.elements[10]*=f,n.setFromRotationMatrix(Do),r.x=s,r.y=o,r.z=l,this}makePerspective(e,n,r,i,s,o,l=Xo){const c=this.elements,u=2*s/(n-e),h=2*s/(r-i),f=(n+e)/(n-e),m=(r+i)/(r-i);let v,y;if(l===Xo)v=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(l===Am)v=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=h,c[9]=m,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=y,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,o,l=Xo){const c=this.elements,u=1/(n-e),h=1/(r-i),f=1/(o-s),m=(n+e)*u,v=(r+i)*h;let y,S;if(l===Xo)y=(o+s)*f,S=-2*f;else if(l===Am)y=s*f,S=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return c[0]=2*u,c[4]=0,c[8]=0,c[12]=-m,c[1]=0,c[5]=2*h,c[9]=0,c[13]=-v,c[2]=0,c[6]=0,c[10]=S,c[14]=-y,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Pp=new te,Do=new Ot,fH=new te(0,0,0),pH=new te(1,1,1),Yu=new te,sy=new te,Sa=new te,nk=new Ot,rk=new xs;class E0{constructor(e=0,n=0,r=0,i=E0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],l=i[8],c=i[1],u=i[5],h=i[9],f=i[2],m=i[6],v=i[10];switch(n){case"XYZ":this._y=Math.asin(zr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-h,v),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-zr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(l,v),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(zr(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-f,v),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(c,s));break;case"ZYX":this._y=Math.asin(-zr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(c,s)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(zr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(l,v));break;case"XZY":this._z=Math.asin(-zr(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(l,s)):(this._x=Math.atan2(-h,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return nk.makeRotationFromQuaternion(e),this.setFromRotationMatrix(nk,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return rk.setFromEuler(this),this.setFromQuaternion(rk,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}E0.DEFAULT_ORDER="XYZ";class Jh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let mH=0;const ik=new te,Rp=new xs,wc=new Ot,ay=new te,sx=new te,gH=new te,xH=new xs,sk=new te(1,0,0),ak=new te(0,1,0),ok=new te(0,0,1),vH={type:"added"},yH={type:"removed"};class _n extends ru{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:mH++}),this.uuid=Pa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=_n.DEFAULT_UP.clone();const e=new te,n=new E0,r=new xs,i=new te(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ot},normalMatrix:{value:new ln}}),this.matrix=new Ot,this.matrixWorld=new Ot,this.matrixAutoUpdate=_n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=_n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Jh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Rp.setFromAxisAngle(e,n),this.quaternion.multiply(Rp),this}rotateOnWorldAxis(e,n){return Rp.setFromAxisAngle(e,n),this.quaternion.premultiply(Rp),this}rotateX(e){return this.rotateOnAxis(sk,e)}rotateY(e){return this.rotateOnAxis(ak,e)}rotateZ(e){return this.rotateOnAxis(ok,e)}translateOnAxis(e,n){return ik.copy(e).applyQuaternion(this.quaternion),this.position.add(ik.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(sk,e)}translateY(e){return this.translateOnAxis(ak,e)}translateZ(e){return this.translateOnAxis(ok,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(wc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ay.copy(e):ay.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),sx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wc.lookAt(sx,ay,this.up):wc.lookAt(ay,sx,this.up),this.quaternion.setFromRotationMatrix(wc),i&&(wc.extractRotation(i.matrixWorld),Rp.setFromRotationMatrix(wc),this.quaternion.premultiply(Rp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(vH)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(yH)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),wc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),wc.multiply(e.parent.matrixWorld)),e.applyMatrix4(wc),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sx,e,gH),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sx,xH,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const l=i[s];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const c=l.shapes;if(Array.isArray(c))for(let u=0,h=c.length;u<h;u++){const f=c[u];s(e.shapes,f)}else s(e.shapes,c)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(s(e.materials,this.material[c]));i.material=l}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let l=0;l<this.children.length;l++)i.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let l=0;l<this.animations.length;l++){const c=this.animations[l];i.animations.push(s(e.animations,c))}}if(n){const l=o(e.geometries),c=o(e.materials),u=o(e.textures),h=o(e.images),f=o(e.shapes),m=o(e.skeletons),v=o(e.animations),y=o(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),h.length>0&&(r.images=h),f.length>0&&(r.shapes=f),m.length>0&&(r.skeletons=m),v.length>0&&(r.animations=v),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(l){const c=[];for(const u in l){const h=l[u];delete h.metadata,c.push(h)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}_n.DEFAULT_UP=new te(0,1,0);_n.DEFAULT_MATRIX_AUTO_UPDATE=!0;_n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Io=new te,Sc=new te,uS=new te,_c=new te,Fp=new te,Bp=new te,lk=new te,dS=new te,hS=new te,fS=new te;let oy=!1;class ra{constructor(e=new te,n=new te,r=new te){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Io.subVectors(e,n),i.cross(Io);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Io.subVectors(i,n),Sc.subVectors(r,n),uS.subVectors(e,n);const o=Io.dot(Io),l=Io.dot(Sc),c=Io.dot(uS),u=Sc.dot(Sc),h=Sc.dot(uS),f=o*u-l*l;if(f===0)return s.set(0,0,0),null;const m=1/f,v=(u*c-l*h)*m,y=(o*h-l*c)*m;return s.set(1-v-y,y,v)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,_c)===null?!1:_c.x>=0&&_c.y>=0&&_c.x+_c.y<=1}static getUV(e,n,r,i,s,o,l,c){return oy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oy=!0),this.getInterpolation(e,n,r,i,s,o,l,c)}static getInterpolation(e,n,r,i,s,o,l,c){return this.getBarycoord(e,n,r,i,_c)===null?(c.x=0,c.y=0,"z"in c&&(c.z=0),"w"in c&&(c.w=0),null):(c.setScalar(0),c.addScaledVector(s,_c.x),c.addScaledVector(o,_c.y),c.addScaledVector(l,_c.z),c)}static isFrontFacing(e,n,r,i){return Io.subVectors(r,n),Sc.subVectors(e,n),Io.cross(Sc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Io.subVectors(this.c,this.b),Sc.subVectors(this.a,this.b),Io.cross(Sc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ra.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ra.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return oy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),oy=!0),ra.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return ra.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return ra.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ra.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,l;Fp.subVectors(i,r),Bp.subVectors(s,r),dS.subVectors(e,r);const c=Fp.dot(dS),u=Bp.dot(dS);if(c<=0&&u<=0)return n.copy(r);hS.subVectors(e,i);const h=Fp.dot(hS),f=Bp.dot(hS);if(h>=0&&f<=h)return n.copy(i);const m=c*f-h*u;if(m<=0&&c>=0&&h<=0)return o=c/(c-h),n.copy(r).addScaledVector(Fp,o);fS.subVectors(e,s);const v=Fp.dot(fS),y=Bp.dot(fS);if(y>=0&&v<=y)return n.copy(s);const S=v*u-c*y;if(S<=0&&u>=0&&y<=0)return l=u/(u-y),n.copy(r).addScaledVector(Bp,l);const b=h*y-v*f;if(b<=0&&f-h>=0&&v-y>=0)return lk.subVectors(s,i),l=(f-h)/(f-h+(v-y)),n.copy(i).addScaledVector(lk,l);const _=1/(b+S+m);return o=S*_,l=m*_,n.copy(r).addScaledVector(Fp,o).addScaledVector(Bp,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const rI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ju={h:0,s:0,l:0},ly={h:0,s:0,l:0};function pS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let lt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=wi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Un.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Un.workingColorSpace){return this.r=e,this.g=n,this.b=r,Un.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Un.workingColorSpace){if(e=rM(e,1),n=zr(n,0,1),r=zr(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=pS(o,s,e+1/3),this.g=pS(o,s,e),this.b=pS(o,s,e-1/3)}return Un.toWorkingColorSpace(this,i),this}setStyle(e,n=wi){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],l=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=wi){const r=rI[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=fm(e.r),this.g=fm(e.g),this.b=fm(e.b),this}copyLinearToSRGB(e){return this.r=nS(e.r),this.g=nS(e.g),this.b=nS(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wi){return Un.fromWorkingColorSpace(hs.copy(this),e),Math.round(zr(hs.r*255,0,255))*65536+Math.round(zr(hs.g*255,0,255))*256+Math.round(zr(hs.b*255,0,255))}getHexString(e=wi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Un.workingColorSpace){Un.fromWorkingColorSpace(hs.copy(this),n);const r=hs.r,i=hs.g,s=hs.b,o=Math.max(r,i,s),l=Math.min(r,i,s);let c,u;const h=(l+o)/2;if(l===o)c=0,u=0;else{const f=o-l;switch(u=h<=.5?f/(o+l):f/(2-o-l),o){case r:c=(i-s)/f+(i<s?6:0);break;case i:c=(s-r)/f+2;break;case s:c=(r-i)/f+4;break}c/=6}return e.h=c,e.s=u,e.l=h,e}getRGB(e,n=Un.workingColorSpace){return Un.fromWorkingColorSpace(hs.copy(this),n),e.r=hs.r,e.g=hs.g,e.b=hs.b,e}getStyle(e=wi){Un.fromWorkingColorSpace(hs.copy(this),e);const n=hs.r,r=hs.g,i=hs.b;return e!==wi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Ju),this.setHSL(Ju.h+e,Ju.s+n,Ju.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Ju),e.getHSL(ly);const r=jx(Ju.h,ly.h,n),i=jx(Ju.s,ly.s,n),s=jx(Ju.l,ly.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const hs=new lt;lt.NAMES=rI;let bH=0;class Ai extends ru{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:bH++}),this.uuid=Pa(),this.name="",this.type="Material",this.blending=Xh,this.side=Nl,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Bb,this.blendDst=Db,this.blendEquation=rd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new lt(0,0,0),this.blendAlpha=0,this.depthFunc=Ox,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=jh,this.stencilZFail=jh,this.stencilZPass=jh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Xh&&(r.blending=this.blending),this.side!==Nl&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Bb&&(r.blendSrc=this.blendSrc),this.blendDst!==Db&&(r.blendDst=this.blendDst),this.blendEquation!==rd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ox&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==wE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==jh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==jh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==jh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const l in s){const c=s[l];delete c.metadata,o.push(c)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ja extends Ai{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Nc=wH();function wH(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let c=0;c<256;++c){const u=c-127;u<-27?(r[c]=0,r[c|256]=32768,i[c]=24,i[c|256]=24):u<-14?(r[c]=1024>>-u-14,r[c|256]=1024>>-u-14|32768,i[c]=-u-1,i[c|256]=-u-1):u<=15?(r[c]=u+15<<10,r[c|256]=u+15<<10|32768,i[c]=13,i[c|256]=13):u<128?(r[c]=31744,r[c|256]=64512,i[c]=24,i[c|256]=24):(r[c]=31744,r[c|256]=64512,i[c]=13,i[c|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let c=1;c<1024;++c){let u=c<<13,h=0;for(;(u&8388608)===0;)u<<=1,h-=8388608;u&=-8388609,h+=947912704,s[c]=u|h}for(let c=1024;c<2048;++c)s[c]=939524096+(c-1024<<13);for(let c=1;c<31;++c)o[c]=c<<23;o[31]=1199570944,o[32]=2147483648;for(let c=33;c<63;++c)o[c]=2147483648+(c-32<<23);o[63]=3347054592;for(let c=1;c<64;++c)c!==32&&(l[c]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:l}}function ta(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=zr(t,-65504,65504),Nc.floatView[0]=t;const e=Nc.uint32View[0],n=e>>23&511;return Nc.baseTable[n]+((e&8388607)>>Nc.shiftTable[n])}function Cx(t){const e=t>>10;return Nc.uint32View[0]=Nc.mantissaTable[Nc.offsetTable[e]+(t&1023)]+Nc.exponentTable[e],Nc.floatView[0]}const SH={toHalfFloat:ta,fromHalfFloat:Cx},ai=new te,cy=new We;class An{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Xx,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Ko,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)cy.fromBufferAttribute(this,n),cy.applyMatrix3(e),this.setXY(n,cy.x,cy.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix3(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyMatrix4(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.applyNormalMatrix(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ai.fromBufferAttribute(this,n),ai.transformDirection(e),this.setXYZ(n,ai.x,ai.y,ai.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ia(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=on(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ia(n,this.array)),n}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ia(n,this.array)),n}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ia(n,this.array)),n}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ia(n,this.array)),n}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),s=on(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Xx&&(e.usage=this.usage),e}}class _H extends An{constructor(e,n,r){super(new Int8Array(e),n,r)}}class AH extends An{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class EH extends An{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class CH extends An{constructor(e,n,r){super(new Int16Array(e),n,r)}}class aM extends An{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class MH extends An{constructor(e,n,r){super(new Int32Array(e),n,r)}}class oM extends An{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class NH extends An{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Cx(this.array[e*this.itemSize]);return this.normalized&&(n=ia(n,this.array)),n}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize]=ta(n),this}getY(e){let n=Cx(this.array[e*this.itemSize+1]);return this.normalized&&(n=ia(n,this.array)),n}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+1]=ta(n),this}getZ(e){let n=Cx(this.array[e*this.itemSize+2]);return this.normalized&&(n=ia(n,this.array)),n}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+2]=ta(n),this}getW(e){let n=Cx(this.array[e*this.itemSize+3]);return this.normalized&&(n=ia(n,this.array)),n}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.array[e*this.itemSize+3]=ta(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.array[e+0]=ta(n),this.array[e+1]=ta(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.array[e+0]=ta(n),this.array[e+1]=ta(r),this.array[e+2]=ta(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),s=on(s,this.array)),this.array[e+0]=ta(n),this.array[e+1]=ta(r),this.array[e+2]=ta(i),this.array[e+3]=ta(s),this}}class _t extends An{constructor(e,n,r){super(new Float32Array(e),n,r)}}class TH extends An{constructor(e,n,r){super(new Float64Array(e),n,r)}}let jH=0;const Ya=new Ot,mS=new _n,Dp=new te,_a=new vs,ax=new vs,Ii=new te;class tn extends ru{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:jH++}),this.uuid=Pa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(eI(e)?oM:aM)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new ln().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ya.makeRotationFromQuaternion(e),this.applyMatrix4(Ya),this}rotateX(e){return Ya.makeRotationX(e),this.applyMatrix4(Ya),this}rotateY(e){return Ya.makeRotationY(e),this.applyMatrix4(Ya),this}rotateZ(e){return Ya.makeRotationZ(e),this.applyMatrix4(Ya),this}translate(e,n,r){return Ya.makeTranslation(e,n,r),this.applyMatrix4(Ya),this}scale(e,n,r){return Ya.makeScale(e,n,r),this.applyMatrix4(Ya),this}lookAt(e){return mS.lookAt(e),mS.updateMatrix(),this.applyMatrix4(mS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Dp).negate(),this.translate(Dp.x,Dp.y,Dp.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new _t(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new te(-1/0,-1/0,-1/0),new te(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];_a.setFromBufferAttribute(s),this.morphTargetsRelative?(Ii.addVectors(this.boundingBox.min,_a.min),this.boundingBox.expandByPoint(Ii),Ii.addVectors(this.boundingBox.max,_a.max),this.boundingBox.expandByPoint(Ii)):(this.boundingBox.expandByPoint(_a.min),this.boundingBox.expandByPoint(_a.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ts);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new te,1/0);return}if(e){const r=this.boundingSphere.center;if(_a.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const l=n[s];ax.setFromBufferAttribute(l),this.morphTargetsRelative?(Ii.addVectors(_a.min,ax.min),_a.expandByPoint(Ii),Ii.addVectors(_a.max,ax.max),_a.expandByPoint(Ii)):(_a.expandByPoint(ax.min),_a.expandByPoint(ax.max))}_a.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Ii.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Ii));if(n)for(let s=0,o=n.length;s<o;s++){const l=n[s],c=this.morphTargetsRelative;for(let u=0,h=l.count;u<h;u++)Ii.fromBufferAttribute(l,u),c&&(Dp.fromBufferAttribute(e,u),Ii.add(Dp)),i=Math.max(i,r.distanceToSquared(Ii))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,l=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new An(new Float32Array(4*l),4));const c=this.getAttribute("tangent").array,u=[],h=[];for(let U=0;U<l;U++)u[U]=new te,h[U]=new te;const f=new te,m=new te,v=new te,y=new We,S=new We,b=new We,_=new te,E=new te;function C(U,K,$){f.fromArray(i,U*3),m.fromArray(i,K*3),v.fromArray(i,$*3),y.fromArray(o,U*2),S.fromArray(o,K*2),b.fromArray(o,$*2),m.sub(f),v.sub(f),S.sub(y),b.sub(y);const re=1/(S.x*b.y-b.x*S.y);isFinite(re)&&(_.copy(m).multiplyScalar(b.y).addScaledVector(v,-S.y).multiplyScalar(re),E.copy(v).multiplyScalar(S.x).addScaledVector(m,-b.x).multiplyScalar(re),u[U].add(_),u[K].add(_),u[$].add(_),h[U].add(E),h[K].add(E),h[$].add(E))}let j=this.groups;j.length===0&&(j=[{start:0,count:r.length}]);for(let U=0,K=j.length;U<K;++U){const $=j[U],re=$.start,Y=$.count;for(let se=re,oe=re+Y;se<oe;se+=3)C(r[se+0],r[se+1],r[se+2])}const R=new te,k=new te,D=new te,O=new te;function I(U){D.fromArray(s,U*3),O.copy(D);const K=u[U];R.copy(K),R.sub(D.multiplyScalar(D.dot(K))).normalize(),k.crossVectors(O,K);const re=k.dot(h[U])<0?-1:1;c[U*4]=R.x,c[U*4+1]=R.y,c[U*4+2]=R.z,c[U*4+3]=re}for(let U=0,K=j.length;U<K;++U){const $=j[U],re=$.start,Y=$.count;for(let se=re,oe=re+Y;se<oe;se+=3)I(r[se+0]),I(r[se+1]),I(r[se+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new An(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let m=0,v=r.count;m<v;m++)r.setXYZ(m,0,0,0);const i=new te,s=new te,o=new te,l=new te,c=new te,u=new te,h=new te,f=new te;if(e)for(let m=0,v=e.count;m<v;m+=3){const y=e.getX(m+0),S=e.getX(m+1),b=e.getX(m+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,S),o.fromBufferAttribute(n,b),h.subVectors(o,s),f.subVectors(i,s),h.cross(f),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,S),u.fromBufferAttribute(r,b),l.add(h),c.add(h),u.add(h),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(S,c.x,c.y,c.z),r.setXYZ(b,u.x,u.y,u.z)}else for(let m=0,v=n.count;m<v;m+=3)i.fromBufferAttribute(n,m+0),s.fromBufferAttribute(n,m+1),o.fromBufferAttribute(n,m+2),h.subVectors(o,s),f.subVectors(i,s),h.cross(f),r.setXYZ(m+0,h.x,h.y,h.z),r.setXYZ(m+1,h.x,h.y,h.z),r.setXYZ(m+2,h.x,h.y,h.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Ii.fromBufferAttribute(e,n),Ii.normalize(),e.setXYZ(n,Ii.x,Ii.y,Ii.z)}toNonIndexed(){function e(l,c){const u=l.array,h=l.itemSize,f=l.normalized,m=new u.constructor(c.length*h);let v=0,y=0;for(let S=0,b=c.length;S<b;S++){l.isInterleavedBufferAttribute?v=c[S]*l.data.stride+l.offset:v=c[S]*h;for(let _=0;_<h;_++)m[y++]=u[v++]}return new An(m,h,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new tn,r=this.index.array,i=this.attributes;for(const l in i){const c=i[l],u=e(c,r);n.setAttribute(l,u)}const s=this.morphAttributes;for(const l in s){const c=[],u=s[l];for(let h=0,f=u.length;h<f;h++){const m=u[h],v=e(m,r);c.push(v)}n.morphAttributes[l]=c}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,c=o.length;l<c;l++){const u=o[l];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const c=this.parameters;for(const u in c)c[u]!==void 0&&(e[u]=c[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const c in r){const u=r[c];e.data.attributes[c]=u.toJSON(e.data)}const i={};let s=!1;for(const c in this.morphAttributes){const u=this.morphAttributes[c],h=[];for(let f=0,m=u.length;f<m;f++){const v=u[f];h.push(v.toJSON(e.data))}h.length>0&&(i[c]=h,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const h=i[u];this.setAttribute(u,h.clone(n))}const s=e.morphAttributes;for(const u in s){const h=[],f=s[u];for(let m=0,v=f.length;m<v;m++)h.push(f[m].clone(n));this.morphAttributes[u]=h}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,h=o.length;u<h;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ck=new Ot,bh=new Om,uy=new ts,uk=new te,Ip=new te,Lp=new te,Op=new te,gS=new te,dy=new te,hy=new We,fy=new We,py=new We,dk=new te,hk=new te,fk=new te,my=new te,gy=new te;class li extends _n{constructor(e=new tn,n=new ja){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const l=this.morphTargetInfluences;if(s&&l){dy.set(0,0,0);for(let c=0,u=s.length;c<u;c++){const h=l[c],f=s[c];h!==0&&(gS.fromBufferAttribute(f,e),o?dy.addScaledVector(gS,h):dy.addScaledVector(gS.sub(n),h))}n.add(dy)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uy.copy(r.boundingSphere),uy.applyMatrix4(s),bh.copy(e.ray).recast(e.near),!(uy.containsPoint(bh.origin)===!1&&(bh.intersectSphere(uy,uk)===null||bh.origin.distanceToSquared(uk)>(e.far-e.near)**2))&&(ck.copy(s).invert(),bh.copy(e.ray).applyMatrix4(ck),!(r.boundingBox!==null&&bh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,bh)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,l=s.index,c=s.attributes.position,u=s.attributes.uv,h=s.attributes.uv1,f=s.attributes.normal,m=s.groups,v=s.drawRange;if(l!==null)if(Array.isArray(o))for(let y=0,S=m.length;y<S;y++){const b=m[y],_=o[b.materialIndex],E=Math.max(b.start,v.start),C=Math.min(l.count,Math.min(b.start+b.count,v.start+v.count));for(let j=E,R=C;j<R;j+=3){const k=l.getX(j),D=l.getX(j+1),O=l.getX(j+2);i=xy(this,_,e,r,u,h,f,k,D,O),i&&(i.faceIndex=Math.floor(j/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const y=Math.max(0,v.start),S=Math.min(l.count,v.start+v.count);for(let b=y,_=S;b<_;b+=3){const E=l.getX(b),C=l.getX(b+1),j=l.getX(b+2);i=xy(this,o,e,r,u,h,f,E,C,j),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}else if(c!==void 0)if(Array.isArray(o))for(let y=0,S=m.length;y<S;y++){const b=m[y],_=o[b.materialIndex],E=Math.max(b.start,v.start),C=Math.min(c.count,Math.min(b.start+b.count,v.start+v.count));for(let j=E,R=C;j<R;j+=3){const k=j,D=j+1,O=j+2;i=xy(this,_,e,r,u,h,f,k,D,O),i&&(i.faceIndex=Math.floor(j/3),i.face.materialIndex=b.materialIndex,n.push(i))}}else{const y=Math.max(0,v.start),S=Math.min(c.count,v.start+v.count);for(let b=y,_=S;b<_;b+=3){const E=b,C=b+1,j=b+2;i=xy(this,o,e,r,u,h,f,E,C,j),i&&(i.faceIndex=Math.floor(b/3),n.push(i))}}}}function kH(t,e,n,r,i,s,o,l){let c;if(e.side===Us?c=r.intersectTriangle(o,s,i,!0,l):c=r.intersectTriangle(i,s,o,e.side===Nl,l),c===null)return null;gy.copy(l),gy.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(gy);return u<n.near||u>n.far?null:{distance:u,point:gy.clone(),object:t}}function xy(t,e,n,r,i,s,o,l,c,u){t.getVertexPosition(l,Ip),t.getVertexPosition(c,Lp),t.getVertexPosition(u,Op);const h=kH(t,e,n,r,Ip,Lp,Op,my);if(h){i&&(hy.fromBufferAttribute(i,l),fy.fromBufferAttribute(i,c),py.fromBufferAttribute(i,u),h.uv=ra.getInterpolation(my,Ip,Lp,Op,hy,fy,py,new We)),s&&(hy.fromBufferAttribute(s,l),fy.fromBufferAttribute(s,c),py.fromBufferAttribute(s,u),h.uv1=ra.getInterpolation(my,Ip,Lp,Op,hy,fy,py,new We),h.uv2=h.uv1),o&&(dk.fromBufferAttribute(o,l),hk.fromBufferAttribute(o,c),fk.fromBufferAttribute(o,u),h.normal=ra.getInterpolation(my,Ip,Lp,Op,dk,hk,fk,new te),h.normal.dot(r.direction)>0&&h.normal.multiplyScalar(-1));const f={a:l,b:c,c:u,normal:new te,materialIndex:0};ra.getNormal(Ip,Lp,Op,f.normal),h.face=f}return h}class wf extends tn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const l=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const c=[],u=[],h=[],f=[];let m=0,v=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(c),this.setAttribute("position",new _t(u,3)),this.setAttribute("normal",new _t(h,3)),this.setAttribute("uv",new _t(f,2));function y(S,b,_,E,C,j,R,k,D,O,I){const U=j/D,K=R/O,$=j/2,re=R/2,Y=k/2,se=D+1,oe=O+1;let le=0,H=0;const q=new te;for(let Q=0;Q<oe;Q++){const V=Q*K-re;for(let ee=0;ee<se;ee++){const ce=ee*U-$;q[S]=ce*E,q[b]=V*C,q[_]=Y,u.push(q.x,q.y,q.z),q[S]=0,q[b]=0,q[_]=k>0?1:-1,h.push(q.x,q.y,q.z),f.push(ee/D),f.push(1-Q/O),le+=1}}for(let Q=0;Q<O;Q++)for(let V=0;V<D;V++){const ee=m+V+se*Q,ce=m+V+se*(Q+1),ne=m+(V+1)+se*(Q+1),be=m+(V+1)+se*Q;c.push(ee,ce,be),c.push(ce,ne,be),H+=6}l.addGroup(v,H,I),v+=H,m+=le}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new wf(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Cm(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Bs(t){const e={};for(let n=0;n<t.length;n++){const r=Cm(t[n]);for(const i in r)e[i]=r[i]}return e}function PH(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function iI(t){return t.getRenderTarget()===null?t.outputColorSpace:Un.workingColorSpace}const sI={clone:Cm,merge:Bs};var RH=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,FH=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class kl extends Ai{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=RH,this.fragmentShader=FH,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Cm(e.uniforms),this.uniformsGroups=PH(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class C0 extends _n{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ot,this.projectionMatrix=new Ot,this.projectionMatrixInverse=new Ot,this.coordinateSystem=Xo}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Si extends C0{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Em*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Em*2*Math.atan(Math.tan(Yh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Yh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const c=o.fullWidth,u=o.fullHeight;s+=o.offsetX*i/c,n-=o.offsetY*r/u,i*=o.width/c,r*=o.height/u}const l=this.filmOffset;l!==0&&(s+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Up=-90,zp=1;class aI extends _n{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Si(Up,zp,e,n);i.layers=this.layers,this.add(i);const s=new Si(Up,zp,e,n);s.layers=this.layers,this.add(s);const o=new Si(Up,zp,e,n);o.layers=this.layers,this.add(o);const l=new Si(Up,zp,e,n);l.layers=this.layers,this.add(l);const c=new Si(Up,zp,e,n);c.layers=this.layers,this.add(c);const u=new Si(Up,zp,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,l,c]=n;for(const u of n)this.remove(u);if(e===Xo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),c.up.set(0,1,0),c.lookAt(0,0,-1);else if(e===Am)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),c.up.set(0,-1,0),c.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,l,c,u,h]=this.children,f=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,l),e.setRenderTarget(r,3,i),e.render(n,c),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,h),e.setRenderTarget(f,m,v),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class M0 extends Rr{constructor(e,n,r,i,s,o,l,c,u,h){e=e!==void 0?e:[],n=n!==void 0?n:Kc,super(e,n,r,i,s,o,l,c,u,h),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class oI extends qo{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(kx("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===dd?wi:Na),this.texture=new M0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:kr}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new wf(5,5,5),s=new kl({name:"CubemapFromEquirect",uniforms:Cm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Us,blending:Ic});s.uniforms.tEquirect.value=n;const o=new li(i,s),l=n.minFilter;return n.minFilter===Tl&&(n.minFilter=kr),new aI(1,10,this).update(e,o),n.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const xS=new te,BH=new te,DH=new ln;class ed{constructor(e=new te(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=xS.subVectors(r,n).cross(BH.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(xS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||DH.getNormalMatrix(e),i=this.coplanarPoint(xS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wh=new ts,vy=new te;class N0{constructor(e=new ed,n=new ed,r=new ed,i=new ed,s=new ed,o=new ed){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const l=this.planes;return l[0].copy(e),l[1].copy(n),l[2].copy(r),l[3].copy(i),l[4].copy(s),l[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Xo){const r=this.planes,i=e.elements,s=i[0],o=i[1],l=i[2],c=i[3],u=i[4],h=i[5],f=i[6],m=i[7],v=i[8],y=i[9],S=i[10],b=i[11],_=i[12],E=i[13],C=i[14],j=i[15];if(r[0].setComponents(c-s,m-u,b-v,j-_).normalize(),r[1].setComponents(c+s,m+u,b+v,j+_).normalize(),r[2].setComponents(c+o,m+h,b+y,j+E).normalize(),r[3].setComponents(c-o,m-h,b-y,j-E).normalize(),r[4].setComponents(c-l,m-f,b-S,j-C).normalize(),n===Xo)r[5].setComponents(c+l,m+f,b+S,j+C).normalize();else if(n===Am)r[5].setComponents(l,f,S,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),wh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wh)}intersectsSprite(e){return wh.center.set(0,0,0),wh.radius=.7071067811865476,wh.applyMatrix4(e.matrixWorld),this.intersectsSphere(wh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(vy.x=i.normal.x>0?e.max.x:e.min.x,vy.y=i.normal.y>0?e.max.y:e.min.y,vy.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(vy)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function lI(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function IH(t,e){const n=e.isWebGL2,r=new WeakMap;function i(u,h){const f=u.array,m=u.usage,v=f.byteLength,y=t.createBuffer();t.bindBuffer(h,y),t.bufferData(h,f,m),u.onUploadCallback();let S;if(f instanceof Float32Array)S=t.FLOAT;else if(f instanceof Uint16Array)if(u.isFloat16BufferAttribute)if(n)S=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else S=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)S=t.SHORT;else if(f instanceof Uint32Array)S=t.UNSIGNED_INT;else if(f instanceof Int32Array)S=t.INT;else if(f instanceof Int8Array)S=t.BYTE;else if(f instanceof Uint8Array)S=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)S=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:S,bytesPerElement:f.BYTES_PER_ELEMENT,version:u.version,size:v}}function s(u,h,f){const m=h.array,v=h._updateRange,y=h.updateRanges;if(t.bindBuffer(f,u),v.count===-1&&y.length===0&&t.bufferSubData(f,0,m),y.length!==0){for(let S=0,b=y.length;S<b;S++){const _=y[S];n?t.bufferSubData(f,_.start*m.BYTES_PER_ELEMENT,m,_.start,_.count):t.bufferSubData(f,_.start*m.BYTES_PER_ELEMENT,m.subarray(_.start,_.start+_.count))}h.clearUpdateRanges()}v.count!==-1&&(n?t.bufferSubData(f,v.offset*m.BYTES_PER_ELEMENT,m,v.offset,v.count):t.bufferSubData(f,v.offset*m.BYTES_PER_ELEMENT,m.subarray(v.offset,v.offset+v.count)),v.count=-1),h.onUploadCallback()}function o(u){return u.isInterleavedBufferAttribute&&(u=u.data),r.get(u)}function l(u){u.isInterleavedBufferAttribute&&(u=u.data);const h=r.get(u);h&&(t.deleteBuffer(h.buffer),r.delete(u))}function c(u,h){if(u.isGLBufferAttribute){const m=r.get(u);(!m||m.version<u.version)&&r.set(u,{buffer:u.buffer,type:u.type,bytesPerElement:u.elementSize,version:u.version});return}u.isInterleavedBufferAttribute&&(u=u.data);const f=r.get(u);if(f===void 0)r.set(u,i(u,h));else if(f.version<u.version){if(f.size!==u.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,u,h),f.version=u.version}}return{get:o,remove:l,update:c}}class T0 extends tn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,l=Math.floor(r),c=Math.floor(i),u=l+1,h=c+1,f=e/l,m=n/c,v=[],y=[],S=[],b=[];for(let _=0;_<h;_++){const E=_*m-o;for(let C=0;C<u;C++){const j=C*f-s;y.push(j,-E,0),S.push(0,0,1),b.push(C/l),b.push(1-_/c)}}for(let _=0;_<c;_++)for(let E=0;E<l;E++){const C=E+u*_,j=E+u*(_+1),R=E+1+u*(_+1),k=E+1+u*_;v.push(C,j,k),v.push(j,R,k)}this.setIndex(v),this.setAttribute("position",new _t(y,3)),this.setAttribute("normal",new _t(S,3)),this.setAttribute("uv",new _t(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new T0(e.width,e.height,e.widthSegments,e.heightSegments)}}var LH=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,OH=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,UH=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,zH=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,HH=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,GH=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,WH=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,VH=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,KH=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,XH=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,YH=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,JH=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,qH=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,$H=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,QH=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ZH=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,eG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,tG=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,nG=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,rG=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,iG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,sG=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,aG=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,oG=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,lG=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,cG=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,uG=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,dG=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hG=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,fG=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,pG="gl_FragColor = linearToOutputTexel( gl_FragColor );",mG=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,gG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,xG=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,vG=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,yG=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,bG=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,wG=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,SG=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,_G=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,AG=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,EG=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,CG=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,MG=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,NG=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,TG=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jG=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,kG=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,PG=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,RG=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,FG=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,BG=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,DG=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,IG=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,LG=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,OG=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,UG=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,zG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,HG=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,GG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,WG=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,VG=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,KG=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,XG=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,YG=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,JG=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,qG=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,$G=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,QG=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,ZG=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,eW=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,tW=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,nW=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,rW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,iW=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sW=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,aW=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,oW=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,lW=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,cW=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,uW=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,dW=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,hW=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,fW=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,pW=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,mW=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,gW=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,xW=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vW=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,yW=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,bW=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,wW=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,SW=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,_W=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,AW=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,EW=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,CW=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,MW=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,NW=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,TW=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,jW=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,kW=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,PW=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,RW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,FW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,BW=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,DW=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const IW=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,LW=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,OW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,UW=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,zW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,HW=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,GW=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,WW=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,VW=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,KW=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,XW=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,YW=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,JW=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,qW=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,$W=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,QW=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,ZW=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,eV=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,tV=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,nV=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,rV=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,iV=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,sV=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,aV=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oV=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,lV=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cV=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uV=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dV=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,hV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,fV=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pV=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mV=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gV=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,an={alphahash_fragment:LH,alphahash_pars_fragment:OH,alphamap_fragment:UH,alphamap_pars_fragment:zH,alphatest_fragment:HH,alphatest_pars_fragment:GH,aomap_fragment:WH,aomap_pars_fragment:VH,batching_pars_vertex:KH,batching_vertex:XH,begin_vertex:YH,beginnormal_vertex:JH,bsdfs:qH,iridescence_fragment:$H,bumpmap_pars_fragment:QH,clipping_planes_fragment:ZH,clipping_planes_pars_fragment:eG,clipping_planes_pars_vertex:tG,clipping_planes_vertex:nG,color_fragment:rG,color_pars_fragment:iG,color_pars_vertex:sG,color_vertex:aG,common:oG,cube_uv_reflection_fragment:lG,defaultnormal_vertex:cG,displacementmap_pars_vertex:uG,displacementmap_vertex:dG,emissivemap_fragment:hG,emissivemap_pars_fragment:fG,colorspace_fragment:pG,colorspace_pars_fragment:mG,envmap_fragment:gG,envmap_common_pars_fragment:xG,envmap_pars_fragment:vG,envmap_pars_vertex:yG,envmap_physical_pars_fragment:kG,envmap_vertex:bG,fog_vertex:wG,fog_pars_vertex:SG,fog_fragment:_G,fog_pars_fragment:AG,gradientmap_pars_fragment:EG,lightmap_fragment:CG,lightmap_pars_fragment:MG,lights_lambert_fragment:NG,lights_lambert_pars_fragment:TG,lights_pars_begin:jG,lights_toon_fragment:PG,lights_toon_pars_fragment:RG,lights_phong_fragment:FG,lights_phong_pars_fragment:BG,lights_physical_fragment:DG,lights_physical_pars_fragment:IG,lights_fragment_begin:LG,lights_fragment_maps:OG,lights_fragment_end:UG,logdepthbuf_fragment:zG,logdepthbuf_pars_fragment:HG,logdepthbuf_pars_vertex:GG,logdepthbuf_vertex:WG,map_fragment:VG,map_pars_fragment:KG,map_particle_fragment:XG,map_particle_pars_fragment:YG,metalnessmap_fragment:JG,metalnessmap_pars_fragment:qG,morphcolor_vertex:$G,morphnormal_vertex:QG,morphtarget_pars_vertex:ZG,morphtarget_vertex:eW,normal_fragment_begin:tW,normal_fragment_maps:nW,normal_pars_fragment:rW,normal_pars_vertex:iW,normal_vertex:sW,normalmap_pars_fragment:aW,clearcoat_normal_fragment_begin:oW,clearcoat_normal_fragment_maps:lW,clearcoat_pars_fragment:cW,iridescence_pars_fragment:uW,opaque_fragment:dW,packing:hW,premultiplied_alpha_fragment:fW,project_vertex:pW,dithering_fragment:mW,dithering_pars_fragment:gW,roughnessmap_fragment:xW,roughnessmap_pars_fragment:vW,shadowmap_pars_fragment:yW,shadowmap_pars_vertex:bW,shadowmap_vertex:wW,shadowmask_pars_fragment:SW,skinbase_vertex:_W,skinning_pars_vertex:AW,skinning_vertex:EW,skinnormal_vertex:CW,specularmap_fragment:MW,specularmap_pars_fragment:NW,tonemapping_fragment:TW,tonemapping_pars_fragment:jW,transmission_fragment:kW,transmission_pars_fragment:PW,uv_pars_fragment:RW,uv_pars_vertex:FW,uv_vertex:BW,worldpos_vertex:DW,background_vert:IW,background_frag:LW,backgroundCube_vert:OW,backgroundCube_frag:UW,cube_vert:zW,cube_frag:HW,depth_vert:GW,depth_frag:WW,distanceRGBA_vert:VW,distanceRGBA_frag:KW,equirect_vert:XW,equirect_frag:YW,linedashed_vert:JW,linedashed_frag:qW,meshbasic_vert:$W,meshbasic_frag:QW,meshlambert_vert:ZW,meshlambert_frag:eV,meshmatcap_vert:tV,meshmatcap_frag:nV,meshnormal_vert:rV,meshnormal_frag:iV,meshphong_vert:sV,meshphong_frag:aV,meshphysical_vert:oV,meshphysical_frag:lV,meshtoon_vert:cV,meshtoon_frag:uV,points_vert:dV,points_frag:hV,shadow_vert:fV,shadow_frag:pV,sprite_vert:mV,sprite_frag:gV},it={common:{diffuse:{value:new lt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new ln},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new ln}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new ln}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new ln}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new ln},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new ln},normalScale:{value:new We(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new ln},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new ln}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new ln}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new ln}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new lt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new lt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0},uvTransform:{value:new ln}},sprite:{diffuse:{value:new lt(16777215)},opacity:{value:1},center:{value:new We(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new ln},alphaMap:{value:null},alphaMapTransform:{value:new ln},alphaTest:{value:0}}},Uo={basic:{uniforms:Bs([it.common,it.specularmap,it.envmap,it.aomap,it.lightmap,it.fog]),vertexShader:an.meshbasic_vert,fragmentShader:an.meshbasic_frag},lambert:{uniforms:Bs([it.common,it.specularmap,it.envmap,it.aomap,it.lightmap,it.emissivemap,it.bumpmap,it.normalmap,it.displacementmap,it.fog,it.lights,{emissive:{value:new lt(0)}}]),vertexShader:an.meshlambert_vert,fragmentShader:an.meshlambert_frag},phong:{uniforms:Bs([it.common,it.specularmap,it.envmap,it.aomap,it.lightmap,it.emissivemap,it.bumpmap,it.normalmap,it.displacementmap,it.fog,it.lights,{emissive:{value:new lt(0)},specular:{value:new lt(1118481)},shininess:{value:30}}]),vertexShader:an.meshphong_vert,fragmentShader:an.meshphong_frag},standard:{uniforms:Bs([it.common,it.envmap,it.aomap,it.lightmap,it.emissivemap,it.bumpmap,it.normalmap,it.displacementmap,it.roughnessmap,it.metalnessmap,it.fog,it.lights,{emissive:{value:new lt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:an.meshphysical_vert,fragmentShader:an.meshphysical_frag},toon:{uniforms:Bs([it.common,it.aomap,it.lightmap,it.emissivemap,it.bumpmap,it.normalmap,it.displacementmap,it.gradientmap,it.fog,it.lights,{emissive:{value:new lt(0)}}]),vertexShader:an.meshtoon_vert,fragmentShader:an.meshtoon_frag},matcap:{uniforms:Bs([it.common,it.bumpmap,it.normalmap,it.displacementmap,it.fog,{matcap:{value:null}}]),vertexShader:an.meshmatcap_vert,fragmentShader:an.meshmatcap_frag},points:{uniforms:Bs([it.points,it.fog]),vertexShader:an.points_vert,fragmentShader:an.points_frag},dashed:{uniforms:Bs([it.common,it.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:an.linedashed_vert,fragmentShader:an.linedashed_frag},depth:{uniforms:Bs([it.common,it.displacementmap]),vertexShader:an.depth_vert,fragmentShader:an.depth_frag},normal:{uniforms:Bs([it.common,it.bumpmap,it.normalmap,it.displacementmap,{opacity:{value:1}}]),vertexShader:an.meshnormal_vert,fragmentShader:an.meshnormal_frag},sprite:{uniforms:Bs([it.sprite,it.fog]),vertexShader:an.sprite_vert,fragmentShader:an.sprite_frag},background:{uniforms:{uvTransform:{value:new ln},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:an.background_vert,fragmentShader:an.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:an.backgroundCube_vert,fragmentShader:an.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:an.cube_vert,fragmentShader:an.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:an.equirect_vert,fragmentShader:an.equirect_frag},distanceRGBA:{uniforms:Bs([it.common,it.displacementmap,{referencePosition:{value:new te},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:an.distanceRGBA_vert,fragmentShader:an.distanceRGBA_frag},shadow:{uniforms:Bs([it.lights,it.fog,{color:{value:new lt(0)},opacity:{value:1}}]),vertexShader:an.shadow_vert,fragmentShader:an.shadow_frag}};Uo.physical={uniforms:Bs([Uo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new ln},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new ln},clearcoatNormalScale:{value:new We(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new ln},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new ln},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new ln},sheen:{value:0},sheenColor:{value:new lt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new ln},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new ln},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new ln},transmissionSamplerSize:{value:new We},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new ln},attenuationDistance:{value:0},attenuationColor:{value:new lt(0)},specularColor:{value:new lt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new ln},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new ln},anisotropyVector:{value:new We},anisotropyMap:{value:null},anisotropyMapTransform:{value:new ln}}]),vertexShader:an.meshphysical_vert,fragmentShader:an.meshphysical_frag};const yy={r:0,b:0,g:0};function xV(t,e,n,r,i,s,o){const l=new lt(0);let c=s===!0?0:1,u,h,f=null,m=0,v=null;function y(b,_){let E=!1,C=_.isScene===!0?_.background:null;C&&C.isTexture&&(C=(_.backgroundBlurriness>0?n:e).get(C)),C===null?S(l,c):C&&C.isColor&&(S(C,1),E=!0);const j=t.xr.getEnvironmentBlendMode();j==="additive"?r.buffers.color.setClear(0,0,0,1,o):j==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||E)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),C&&(C.isCubeTexture||C.mapping===Lm)?(h===void 0&&(h=new li(new wf(1,1,1),new kl({name:"BackgroundCubeMaterial",uniforms:Cm(Uo.backgroundCube.uniforms),vertexShader:Uo.backgroundCube.vertexShader,fragmentShader:Uo.backgroundCube.fragmentShader,side:Us,depthTest:!1,depthWrite:!1,fog:!1})),h.geometry.deleteAttribute("normal"),h.geometry.deleteAttribute("uv"),h.onBeforeRender=function(R,k,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(h.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(h)),h.material.uniforms.envMap.value=C,h.material.uniforms.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,h.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,h.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,h.material.toneMapped=Un.getTransfer(C.colorSpace)!==sr,(f!==C||m!==C.version||v!==t.toneMapping)&&(h.material.needsUpdate=!0,f=C,m=C.version,v=t.toneMapping),h.layers.enableAll(),b.unshift(h,h.geometry,h.material,0,0,null)):C&&C.isTexture&&(u===void 0&&(u=new li(new T0(2,2),new kl({name:"BackgroundMaterial",uniforms:Cm(Uo.background.uniforms),vertexShader:Uo.background.vertexShader,fragmentShader:Uo.background.fragmentShader,side:Nl,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=C,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=Un.getTransfer(C.colorSpace)!==sr,C.matrixAutoUpdate===!0&&C.updateMatrix(),u.material.uniforms.uvTransform.value.copy(C.matrix),(f!==C||m!==C.version||v!==t.toneMapping)&&(u.material.needsUpdate=!0,f=C,m=C.version,v=t.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null))}function S(b,_){b.getRGB(yy,iI(t)),r.buffers.color.setClear(yy.r,yy.g,yy.b,_,o)}return{getClearColor:function(){return l},setClearColor:function(b,_=1){l.set(b),c=_,S(l,c)},getClearAlpha:function(){return c},setClearAlpha:function(b){c=b,S(l,c)},render:y}}function vV(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,l={},c=b(null);let u=c,h=!1;function f(Y,se,oe,le,H){let q=!1;if(o){const Q=S(le,oe,se);u!==Q&&(u=Q,v(u.object)),q=_(Y,le,oe,H),q&&E(Y,le,oe,H)}else{const Q=se.wireframe===!0;(u.geometry!==le.id||u.program!==oe.id||u.wireframe!==Q)&&(u.geometry=le.id,u.program=oe.id,u.wireframe=Q,q=!0)}H!==null&&n.update(H,t.ELEMENT_ARRAY_BUFFER),(q||h)&&(h=!1,O(Y,se,oe,le),H!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(H).buffer))}function m(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function v(Y){return r.isWebGL2?t.bindVertexArray(Y):s.bindVertexArrayOES(Y)}function y(Y){return r.isWebGL2?t.deleteVertexArray(Y):s.deleteVertexArrayOES(Y)}function S(Y,se,oe){const le=oe.wireframe===!0;let H=l[Y.id];H===void 0&&(H={},l[Y.id]=H);let q=H[se.id];q===void 0&&(q={},H[se.id]=q);let Q=q[le];return Q===void 0&&(Q=b(m()),q[le]=Q),Q}function b(Y){const se=[],oe=[],le=[];for(let H=0;H<i;H++)se[H]=0,oe[H]=0,le[H]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:se,enabledAttributes:oe,attributeDivisors:le,object:Y,attributes:{},index:null}}function _(Y,se,oe,le){const H=u.attributes,q=se.attributes;let Q=0;const V=oe.getAttributes();for(const ee in V)if(V[ee].location>=0){const ne=H[ee];let be=q[ee];if(be===void 0&&(ee==="instanceMatrix"&&Y.instanceMatrix&&(be=Y.instanceMatrix),ee==="instanceColor"&&Y.instanceColor&&(be=Y.instanceColor)),ne===void 0||ne.attribute!==be||be&&ne.data!==be.data)return!0;Q++}return u.attributesNum!==Q||u.index!==le}function E(Y,se,oe,le){const H={},q=se.attributes;let Q=0;const V=oe.getAttributes();for(const ee in V)if(V[ee].location>=0){let ne=q[ee];ne===void 0&&(ee==="instanceMatrix"&&Y.instanceMatrix&&(ne=Y.instanceMatrix),ee==="instanceColor"&&Y.instanceColor&&(ne=Y.instanceColor));const be={};be.attribute=ne,ne&&ne.data&&(be.data=ne.data),H[ee]=be,Q++}u.attributes=H,u.attributesNum=Q,u.index=le}function C(){const Y=u.newAttributes;for(let se=0,oe=Y.length;se<oe;se++)Y[se]=0}function j(Y){R(Y,0)}function R(Y,se){const oe=u.newAttributes,le=u.enabledAttributes,H=u.attributeDivisors;oe[Y]=1,le[Y]===0&&(t.enableVertexAttribArray(Y),le[Y]=1),H[Y]!==se&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Y,se),H[Y]=se)}function k(){const Y=u.newAttributes,se=u.enabledAttributes;for(let oe=0,le=se.length;oe<le;oe++)se[oe]!==Y[oe]&&(t.disableVertexAttribArray(oe),se[oe]=0)}function D(Y,se,oe,le,H,q,Q){Q===!0?t.vertexAttribIPointer(Y,se,oe,H,q):t.vertexAttribPointer(Y,se,oe,le,H,q)}function O(Y,se,oe,le){if(r.isWebGL2===!1&&(Y.isInstancedMesh||le.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;C();const H=le.attributes,q=oe.getAttributes(),Q=se.defaultAttributeValues;for(const V in q){const ee=q[V];if(ee.location>=0){let ce=H[V];if(ce===void 0&&(V==="instanceMatrix"&&Y.instanceMatrix&&(ce=Y.instanceMatrix),V==="instanceColor"&&Y.instanceColor&&(ce=Y.instanceColor)),ce!==void 0){const ne=ce.normalized,be=ce.itemSize,Ae=n.get(ce);if(Ae===void 0)continue;const Se=Ae.buffer,pe=Ae.type,X=Ae.bytesPerElement,Ce=r.isWebGL2===!0&&(pe===t.INT||pe===t.UNSIGNED_INT||ce.gpuType===KC);if(ce.isInterleavedBufferAttribute){const Ge=ce.data,J=Ge.stride,ue=ce.offset;if(Ge.isInstancedInterleavedBuffer){for(let fe=0;fe<ee.locationSize;fe++)R(ee.location+fe,Ge.meshPerAttribute);Y.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=Ge.meshPerAttribute*Ge.count)}else for(let fe=0;fe<ee.locationSize;fe++)j(ee.location+fe);t.bindBuffer(t.ARRAY_BUFFER,Se);for(let fe=0;fe<ee.locationSize;fe++)D(ee.location+fe,be/ee.locationSize,pe,ne,J*X,(ue+be/ee.locationSize*fe)*X,Ce)}else{if(ce.isInstancedBufferAttribute){for(let Ge=0;Ge<ee.locationSize;Ge++)R(ee.location+Ge,ce.meshPerAttribute);Y.isInstancedMesh!==!0&&le._maxInstanceCount===void 0&&(le._maxInstanceCount=ce.meshPerAttribute*ce.count)}else for(let Ge=0;Ge<ee.locationSize;Ge++)j(ee.location+Ge);t.bindBuffer(t.ARRAY_BUFFER,Se);for(let Ge=0;Ge<ee.locationSize;Ge++)D(ee.location+Ge,be/ee.locationSize,pe,ne,be*X,be/ee.locationSize*Ge*X,Ce)}}else if(Q!==void 0){const ne=Q[V];if(ne!==void 0)switch(ne.length){case 2:t.vertexAttrib2fv(ee.location,ne);break;case 3:t.vertexAttrib3fv(ee.location,ne);break;case 4:t.vertexAttrib4fv(ee.location,ne);break;default:t.vertexAttrib1fv(ee.location,ne)}}}}k()}function I(){$();for(const Y in l){const se=l[Y];for(const oe in se){const le=se[oe];for(const H in le)y(le[H].object),delete le[H];delete se[oe]}delete l[Y]}}function U(Y){if(l[Y.id]===void 0)return;const se=l[Y.id];for(const oe in se){const le=se[oe];for(const H in le)y(le[H].object),delete le[H];delete se[oe]}delete l[Y.id]}function K(Y){for(const se in l){const oe=l[se];if(oe[Y.id]===void 0)continue;const le=oe[Y.id];for(const H in le)y(le[H].object),delete le[H];delete oe[Y.id]}}function $(){re(),h=!0,u!==c&&(u=c,v(u.object))}function re(){c.geometry=null,c.program=null,c.wireframe=!1}return{setup:f,reset:$,resetDefaultState:re,dispose:I,releaseStatesOfGeometry:U,releaseStatesOfProgram:K,initAttributes:C,enableAttribute:j,disableUnusedAttributes:k}}function yV(t,e,n,r){const i=r.isWebGL2;let s;function o(h){s=h}function l(h,f){t.drawArrays(s,h,f),n.update(f,s,1)}function c(h,f,m){if(m===0)return;let v,y;if(i)v=t,y="drawArraysInstanced";else if(v=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",v===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[y](s,h,f,m),n.update(f,s,m)}function u(h,f,m){if(m===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<m;y++)this.render(h[y],f[y]);else{v.multiDrawArraysWEBGL(s,h,0,f,0,m);let y=0;for(let S=0;S<m;S++)y+=f[S];n.update(y,s,1)}}this.setMode=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u}function bV(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const D=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(D){if(D==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return D==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let l=n.precision!==void 0?n.precision:"highp";const c=s(l);c!==l&&(console.warn("THREE.WebGLRenderer:",l,"not supported, using",c,"instead."),l=c);const u=o||e.has("WEBGL_draw_buffers"),h=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),S=t.getParameter(t.MAX_VERTEX_ATTRIBS),b=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),C=m>0,j=o||e.has("OES_texture_float"),R=C&&j,k=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:u,getMaxAnisotropy:i,getMaxPrecision:s,precision:l,logarithmicDepthBuffer:h,maxTextures:f,maxVertexTextures:m,maxTextureSize:v,maxCubemapSize:y,maxAttributes:S,maxVertexUniforms:b,maxVaryings:_,maxFragmentUniforms:E,vertexTextures:C,floatFragmentTextures:j,floatVertexTextures:R,maxSamples:k}}function wV(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new ed,l=new ln,c={value:null,needsUpdate:!1};this.uniform=c,this.numPlanes=0,this.numIntersection=0,this.init=function(f,m){const v=f.length!==0||m||r!==0||i;return i=m,r=f.length,v},this.beginShadows=function(){s=!0,h(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,m){n=h(f,m,0)},this.setState=function(f,m,v){const y=f.clippingPlanes,S=f.clipIntersection,b=f.clipShadows,_=t.get(f);if(!i||y===null||y.length===0||s&&!b)s?h(null):u();else{const E=s?0:r,C=E*4;let j=_.clippingState||null;c.value=j,j=h(y,m,C,v);for(let R=0;R!==C;++R)j[R]=n[R];_.clippingState=j,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=E}};function u(){c.value!==n&&(c.value=n,c.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function h(f,m,v,y){const S=f!==null?f.length:0;let b=null;if(S!==0){if(b=c.value,y!==!0||b===null){const _=v+S*4,E=m.matrixWorldInverse;l.getNormalMatrix(E),(b===null||b.length<_)&&(b=new Float32Array(_));for(let C=0,j=v;C!==S;++C,j+=4)o.copy(f[C]).applyMatrix4(E,l),o.normal.toArray(b,j),b[j+3]=o.constant}c.value=b,c.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,b}}function SV(t){let e=new WeakMap;function n(o,l){return l===Ux?o.mapping=Kc:l===zx&&(o.mapping=xd),o}function r(o){if(o&&o.isTexture){const l=o.mapping;if(l===Ux||l===zx)if(e.has(o)){const c=e.get(o).texture;return n(c,o.mapping)}else{const c=o.image;if(c&&c.height>0){const u=new oI(c.height/2);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const l=o.target;l.removeEventListener("dispose",i);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Um extends C0{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,l=i+n,c=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,h=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,o=s+u*this.view.width,l-=h*this.view.offsetY,c=l-h*this.view.height}this.projectionMatrix.makeOrthographic(s,o,l,c,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const im=4,pk=[.125,.215,.35,.446,.526,.582],Bh=20,vS=new Um,mk=new lt;let yS=null,bS=0,wS=0;const kh=(1+Math.sqrt(5))/2,Hp=1/kh,gk=[new te(1,1,1),new te(-1,1,1),new te(1,1,-1),new te(-1,1,-1),new te(0,kh,Hp),new te(0,kh,-Hp),new te(Hp,0,kh),new te(-Hp,0,kh),new te(kh,Hp,0),new te(-kh,Hp,0)];class AE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){yS=this._renderer.getRenderTarget(),bS=this._renderer.getActiveCubeFace(),wS=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=yk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=vk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(yS,bS,wS),e.scissorTest=!1,by(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Kc||e.mapping===xd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),yS=this._renderer.getRenderTarget(),bS=this._renderer.getActiveCubeFace(),wS=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:kr,minFilter:kr,generateMipmaps:!1,type:Sm,format:Ls,colorSpace:jl,depthBuffer:!1},i=xk(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=xk(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_V(s)),this._blurMaterial=AV(s,e,n)}return i}_compileMaterial(e){const n=new li(this._lodPlanes[0],e);this._renderer.compile(n,vS)}_sceneToCubeUV(e,n,r,i){const l=new Si(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],h=this._renderer,f=h.autoClear,m=h.toneMapping;h.getClearColor(mk),h.toneMapping=Sl,h.autoClear=!1;const v=new ja({name:"PMREM.Background",side:Us,depthWrite:!1,depthTest:!1}),y=new li(new wf,v);let S=!1;const b=e.background;b?b.isColor&&(v.color.copy(b),e.background=null,S=!0):(v.color.copy(mk),S=!0);for(let _=0;_<6;_++){const E=_%3;E===0?(l.up.set(0,c[_],0),l.lookAt(u[_],0,0)):E===1?(l.up.set(0,0,c[_]),l.lookAt(0,u[_],0)):(l.up.set(0,c[_],0),l.lookAt(0,0,u[_]));const C=this._cubeSize;by(i,E*C,_>2?C:0,C,C),h.setRenderTarget(i),S&&h.render(y,l),h.render(e,l)}y.geometry.dispose(),y.material.dispose(),h.toneMapping=m,h.autoClear=f,e.background=b}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Kc||e.mapping===xd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=yk()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=vk());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new li(this._lodPlanes[0],s),l=s.uniforms;l.envMap.value=e;const c=this._cubeSize;by(n,0,0,3*c,2*c),r.setRenderTarget(n),r.render(o,vS)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=gk[(i-1)%gk.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,l){const c=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const h=3,f=new li(this._lodPlanes[i],u),m=u.uniforms,v=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Bh-1),S=s/y,b=isFinite(s)?1+Math.floor(h*S):Bh;b>Bh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${Bh}`);const _=[];let E=0;for(let D=0;D<Bh;++D){const O=D/S,I=Math.exp(-O*O/2);_.push(I),D===0?E+=I:D<b&&(E+=2*I)}for(let D=0;D<_.length;D++)_[D]=_[D]/E;m.envMap.value=e.texture,m.samples.value=b,m.weights.value=_,m.latitudinal.value=o==="latitudinal",l&&(m.poleAxis.value=l);const{_lodMax:C}=this;m.dTheta.value=y,m.mipInt.value=C-r;const j=this._sizeLods[i],R=3*j*(i>C-im?i-C+im:0),k=4*(this._cubeSize-j);by(n,R,k,3*j,2*j),c.setRenderTarget(n),c.render(f,vS)}}function _V(t){const e=[],n=[],r=[];let i=t;const s=t-im+1+pk.length;for(let o=0;o<s;o++){const l=Math.pow(2,i);n.push(l);let c=1/l;o>t-im?c=pk[o-t+im-1]:o===0&&(c=0),r.push(c);const u=1/(l-2),h=-u,f=1+u,m=[h,h,f,h,f,f,h,h,f,f,h,f],v=6,y=6,S=3,b=2,_=1,E=new Float32Array(S*y*v),C=new Float32Array(b*y*v),j=new Float32Array(_*y*v);for(let k=0;k<v;k++){const D=k%3*2/3-1,O=k>2?0:-1,I=[D,O,0,D+2/3,O,0,D+2/3,O+1,0,D,O,0,D+2/3,O+1,0,D,O+1,0];E.set(I,S*y*k),C.set(m,b*y*k);const U=[k,k,k,k,k,k];j.set(U,_*y*k)}const R=new tn;R.setAttribute("position",new An(E,S)),R.setAttribute("uv",new An(C,b)),R.setAttribute("faceIndex",new An(j,_)),e.push(R),i>im&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function xk(t,e,n){const r=new qo(t,e,n);return r.texture.mapping=Lm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function by(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function AV(t,e,n){const r=new Float32Array(Bh),i=new te(0,1,0);return new kl({name:"SphericalGaussianBlur",defines:{n:Bh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:lM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function vk(){return new kl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function yk(){return new kl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lM(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ic,depthTest:!1,depthWrite:!1})}function lM(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function EV(t){let e=new WeakMap,n=null;function r(l){if(l&&l.isTexture){const c=l.mapping,u=c===Ux||c===zx,h=c===Kc||c===xd;if(u||h)if(l.isRenderTargetTexture&&l.needsPMREMUpdate===!0){l.needsPMREMUpdate=!1;let f=e.get(l);return n===null&&(n=new AE(t)),f=u?n.fromEquirectangular(l,f):n.fromCubemap(l,f),e.set(l,f),f.texture}else{if(e.has(l))return e.get(l).texture;{const f=l.image;if(u&&f&&f.height>0||h&&f&&i(f)){n===null&&(n=new AE(t));const m=u?n.fromEquirectangular(l):n.fromCubemap(l);return e.set(l,m),l.addEventListener("dispose",s),m.texture}else return null}}}return l}function i(l){let c=0;const u=6;for(let h=0;h<u;h++)l[h]!==void 0&&c++;return c===u}function s(l){const c=l.target;c.removeEventListener("dispose",s);const u=e.get(c);u!==void 0&&(e.delete(c),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function CV(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function MV(t,e,n,r){const i={},s=new WeakMap;function o(f){const m=f.target;m.index!==null&&e.remove(m.index);for(const y in m.attributes)e.remove(m.attributes[y]);for(const y in m.morphAttributes){const S=m.morphAttributes[y];for(let b=0,_=S.length;b<_;b++)e.remove(S[b])}m.removeEventListener("dispose",o),delete i[m.id];const v=s.get(m);v&&(e.remove(v),s.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,n.memory.geometries--}function l(f,m){return i[m.id]===!0||(m.addEventListener("dispose",o),i[m.id]=!0,n.memory.geometries++),m}function c(f){const m=f.attributes;for(const y in m)e.update(m[y],t.ARRAY_BUFFER);const v=f.morphAttributes;for(const y in v){const S=v[y];for(let b=0,_=S.length;b<_;b++)e.update(S[b],t.ARRAY_BUFFER)}}function u(f){const m=[],v=f.index,y=f.attributes.position;let S=0;if(v!==null){const E=v.array;S=v.version;for(let C=0,j=E.length;C<j;C+=3){const R=E[C+0],k=E[C+1],D=E[C+2];m.push(R,k,k,D,D,R)}}else if(y!==void 0){const E=y.array;S=y.version;for(let C=0,j=E.length/3-1;C<j;C+=3){const R=C+0,k=C+1,D=C+2;m.push(R,k,k,D,D,R)}}else return;const b=new(eI(m)?oM:aM)(m,1);b.version=S;const _=s.get(f);_&&e.remove(_),s.set(f,b)}function h(f){const m=s.get(f);if(m){const v=f.index;v!==null&&m.version<v.version&&u(f)}else u(f);return s.get(f)}return{get:l,update:c,getWireframeAttribute:h}}function NV(t,e,n,r){const i=r.isWebGL2;let s;function o(v){s=v}let l,c;function u(v){l=v.type,c=v.bytesPerElement}function h(v,y){t.drawElements(s,y,l,v*c),n.update(y,s,1)}function f(v,y,S){if(S===0)return;let b,_;if(i)b=t,_="drawElementsInstanced";else if(b=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",b===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[_](s,y,l,v*c,S),n.update(y,s,S)}function m(v,y,S){if(S===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<S;_++)this.render(v[_]/c,y[_]);else{b.multiDrawElementsWEBGL(s,y,0,l,v,0,S);let _=0;for(let E=0;E<S;E++)_+=y[E];n.update(_,s,1)}}this.setMode=o,this.setIndex=u,this.render=h,this.renderInstances=f,this.renderMultiDraw=m}function TV(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,l){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=l*(s/3);break;case t.LINES:n.lines+=l*(s/2);break;case t.LINE_STRIP:n.lines+=l*(s-1);break;case t.LINE_LOOP:n.lines+=l*s;break;case t.POINTS:n.points+=l*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function jV(t,e){return t[0]-e[0]}function kV(t,e){return Math.abs(e[1])-Math.abs(t[1])}function PV(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new Hn,l=[];for(let u=0;u<8;u++)l[u]=[u,0];function c(u,h,f){const m=u.morphTargetInfluences;if(e.isWebGL2===!0){const y=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,S=y!==void 0?y.length:0;let b=s.get(h);if(b===void 0||b.count!==S){let se=function(){re.dispose(),s.delete(h),h.removeEventListener("dispose",se)};var v=se;b!==void 0&&b.texture.dispose();const C=h.morphAttributes.position!==void 0,j=h.morphAttributes.normal!==void 0,R=h.morphAttributes.color!==void 0,k=h.morphAttributes.position||[],D=h.morphAttributes.normal||[],O=h.morphAttributes.color||[];let I=0;C===!0&&(I=1),j===!0&&(I=2),R===!0&&(I=3);let U=h.attributes.position.count*I,K=1;U>e.maxTextureSize&&(K=Math.ceil(U/e.maxTextureSize),U=e.maxTextureSize);const $=new Float32Array(U*K*4*S),re=new $1($,U,K,S);re.type=Ko,re.needsUpdate=!0;const Y=I*4;for(let oe=0;oe<S;oe++){const le=k[oe],H=D[oe],q=O[oe],Q=U*K*4*oe;for(let V=0;V<le.count;V++){const ee=V*Y;C===!0&&(o.fromBufferAttribute(le,V),$[Q+ee+0]=o.x,$[Q+ee+1]=o.y,$[Q+ee+2]=o.z,$[Q+ee+3]=0),j===!0&&(o.fromBufferAttribute(H,V),$[Q+ee+4]=o.x,$[Q+ee+5]=o.y,$[Q+ee+6]=o.z,$[Q+ee+7]=0),R===!0&&(o.fromBufferAttribute(q,V),$[Q+ee+8]=o.x,$[Q+ee+9]=o.y,$[Q+ee+10]=o.z,$[Q+ee+11]=q.itemSize===4?o.w:1)}}b={count:S,texture:re,size:new We(U,K)},s.set(h,b),h.addEventListener("dispose",se)}let _=0;for(let C=0;C<m.length;C++)_+=m[C];const E=h.morphTargetsRelative?1:1-_;f.getUniforms().setValue(t,"morphTargetBaseInfluence",E),f.getUniforms().setValue(t,"morphTargetInfluences",m),f.getUniforms().setValue(t,"morphTargetsTexture",b.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",b.size)}else{const y=m===void 0?0:m.length;let S=r[h.id];if(S===void 0||S.length!==y){S=[];for(let j=0;j<y;j++)S[j]=[j,0];r[h.id]=S}for(let j=0;j<y;j++){const R=S[j];R[0]=j,R[1]=m[j]}S.sort(kV);for(let j=0;j<8;j++)j<y&&S[j][1]?(l[j][0]=S[j][0],l[j][1]=S[j][1]):(l[j][0]=Number.MAX_SAFE_INTEGER,l[j][1]=0);l.sort(jV);const b=h.morphAttributes.position,_=h.morphAttributes.normal;let E=0;for(let j=0;j<8;j++){const R=l[j],k=R[0],D=R[1];k!==Number.MAX_SAFE_INTEGER&&D?(b&&h.getAttribute("morphTarget"+j)!==b[k]&&h.setAttribute("morphTarget"+j,b[k]),_&&h.getAttribute("morphNormal"+j)!==_[k]&&h.setAttribute("morphNormal"+j,_[k]),i[j]=D,E+=D):(b&&h.hasAttribute("morphTarget"+j)===!0&&h.deleteAttribute("morphTarget"+j),_&&h.hasAttribute("morphNormal"+j)===!0&&h.deleteAttribute("morphNormal"+j),i[j]=0)}const C=h.morphTargetsRelative?1:1-E;f.getUniforms().setValue(t,"morphTargetBaseInfluence",C),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:c}}function RV(t,e,n,r){let i=new WeakMap;function s(c){const u=r.render.frame,h=c.geometry,f=e.get(c,h);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),i.get(c)!==u&&(n.update(c.instanceMatrix,t.ARRAY_BUFFER),c.instanceColor!==null&&n.update(c.instanceColor,t.ARRAY_BUFFER),i.set(c,u))),c.isSkinnedMesh){const m=c.skeleton;i.get(m)!==u&&(m.update(),i.set(m,u))}return f}function o(){i=new WeakMap}function l(c){const u=c.target;u.removeEventListener("dispose",l),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:s,dispose:o}}class cM extends Rr{constructor(e,n,r,i,s,o,l,c,u,h){if(h=h!==void 0?h:ud,h!==ud&&h!==af)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&h===ud&&(r=kc),r===void 0&&h===af&&(r=cd),super(null,i,s,o,l,c,h,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=l!==void 0?l:Ur,this.minFilter=c!==void 0?c:Ur,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const cI=new Rr,uI=new cM(1,1);uI.compareFunction=nM;const dI=new $1,hI=new sM,fI=new M0,bk=[],wk=[],Sk=new Float32Array(16),_k=new Float32Array(9),Ak=new Float32Array(4);function zm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=bk[i];if(s===void 0&&(s=new Float32Array(i),bk[i]=s),e!==0){r.toArray(s,0);for(let o=1,l=0;o!==e;++o)l+=n,t[o].toArray(s,l)}return s}function Ei(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ci(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Q1(t,e){let n=wk[e];n===void 0&&(n=new Int32Array(e),wk[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function FV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function BV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ei(n,e))return;t.uniform2fv(this.addr,e),Ci(n,e)}}function DV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ei(n,e))return;t.uniform3fv(this.addr,e),Ci(n,e)}}function IV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ei(n,e))return;t.uniform4fv(this.addr,e),Ci(n,e)}}function LV(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ei(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ci(n,e)}else{if(Ei(n,r))return;Ak.set(r),t.uniformMatrix2fv(this.addr,!1,Ak),Ci(n,r)}}function OV(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ei(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ci(n,e)}else{if(Ei(n,r))return;_k.set(r),t.uniformMatrix3fv(this.addr,!1,_k),Ci(n,r)}}function UV(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ei(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ci(n,e)}else{if(Ei(n,r))return;Sk.set(r),t.uniformMatrix4fv(this.addr,!1,Sk),Ci(n,r)}}function zV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function HV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ei(n,e))return;t.uniform2iv(this.addr,e),Ci(n,e)}}function GV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ei(n,e))return;t.uniform3iv(this.addr,e),Ci(n,e)}}function WV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ei(n,e))return;t.uniform4iv(this.addr,e),Ci(n,e)}}function VV(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function KV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ei(n,e))return;t.uniform2uiv(this.addr,e),Ci(n,e)}}function XV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ei(n,e))return;t.uniform3uiv(this.addr,e),Ci(n,e)}}function YV(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ei(n,e))return;t.uniform4uiv(this.addr,e),Ci(n,e)}}function JV(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?uI:cI;n.setTexture2D(e||s,i)}function qV(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||hI,i)}function $V(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||fI,i)}function QV(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||dI,i)}function ZV(t){switch(t){case 5126:return FV;case 35664:return BV;case 35665:return DV;case 35666:return IV;case 35674:return LV;case 35675:return OV;case 35676:return UV;case 5124:case 35670:return zV;case 35667:case 35671:return HV;case 35668:case 35672:return GV;case 35669:case 35673:return WV;case 5125:return VV;case 36294:return KV;case 36295:return XV;case 36296:return YV;case 35678:case 36198:case 36298:case 36306:case 35682:return JV;case 35679:case 36299:case 36307:return qV;case 35680:case 36300:case 36308:case 36293:return $V;case 36289:case 36303:case 36311:case 36292:return QV}}function eK(t,e){t.uniform1fv(this.addr,e)}function tK(t,e){const n=zm(e,this.size,2);t.uniform2fv(this.addr,n)}function nK(t,e){const n=zm(e,this.size,3);t.uniform3fv(this.addr,n)}function rK(t,e){const n=zm(e,this.size,4);t.uniform4fv(this.addr,n)}function iK(t,e){const n=zm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function sK(t,e){const n=zm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function aK(t,e){const n=zm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function oK(t,e){t.uniform1iv(this.addr,e)}function lK(t,e){t.uniform2iv(this.addr,e)}function cK(t,e){t.uniform3iv(this.addr,e)}function uK(t,e){t.uniform4iv(this.addr,e)}function dK(t,e){t.uniform1uiv(this.addr,e)}function hK(t,e){t.uniform2uiv(this.addr,e)}function fK(t,e){t.uniform3uiv(this.addr,e)}function pK(t,e){t.uniform4uiv(this.addr,e)}function mK(t,e,n){const r=this.cache,i=e.length,s=Q1(n,i);Ei(r,s)||(t.uniform1iv(this.addr,s),Ci(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||cI,s[o])}function gK(t,e,n){const r=this.cache,i=e.length,s=Q1(n,i);Ei(r,s)||(t.uniform1iv(this.addr,s),Ci(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||hI,s[o])}function xK(t,e,n){const r=this.cache,i=e.length,s=Q1(n,i);Ei(r,s)||(t.uniform1iv(this.addr,s),Ci(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||fI,s[o])}function vK(t,e,n){const r=this.cache,i=e.length,s=Q1(n,i);Ei(r,s)||(t.uniform1iv(this.addr,s),Ci(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||dI,s[o])}function yK(t){switch(t){case 5126:return eK;case 35664:return tK;case 35665:return nK;case 35666:return rK;case 35674:return iK;case 35675:return sK;case 35676:return aK;case 5124:case 35670:return oK;case 35667:case 35671:return lK;case 35668:case 35672:return cK;case 35669:case 35673:return uK;case 5125:return dK;case 36294:return hK;case 36295:return fK;case 36296:return pK;case 35678:case 36198:case 36298:case 36306:case 35682:return mK;case 35679:case 36299:case 36307:return gK;case 35680:case 36300:case 36308:case 36293:return xK;case 36289:case 36303:case 36311:case 36292:return vK}}class bK{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=ZV(n.type)}}class wK{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=yK(n.type)}}class SK{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const l=i[s];l.setValue(e,n[l.id],r)}}}const SS=/(\w+)(\])?(\[|\.)?/g;function Ek(t,e){t.seq.push(e),t.map[e.id]=e}function _K(t,e,n){const r=t.name,i=r.length;for(SS.lastIndex=0;;){const s=SS.exec(r),o=SS.lastIndex;let l=s[1];const c=s[2]==="]",u=s[3];if(c&&(l=l|0),u===void 0||u==="["&&o+2===i){Ek(n,u===void 0?new bK(l,t,e):new wK(l,t,e));break}else{let f=n.map[l];f===void 0&&(f=new SK(l),Ek(n,f)),n=f}}}class Sb{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);_K(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const l=n[s],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function Ck(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const AK=37297;let EK=0;function CK(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const l=o+1;r.push(`${l===e?">":" "} ${l}: ${n[o]}`)}return r.join(`
`)}function MK(t){const e=Un.getPrimaries(Un.workingColorSpace),n=Un.getPrimaries(t);let r;switch(e===n?r="":e===Kx&&n===Vx?r="LinearDisplayP3ToLinearSRGB":e===Vx&&n===Kx&&(r="LinearSRGBToLinearDisplayP3"),t){case jl:case A0:return[r,"LinearTransferOETF"];case wi:case q1:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function Mk(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+CK(t.getShaderSource(e),o)}else return i}function NK(t,e){const n=MK(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function TK(t,e){let n;switch(e){case ED:n="Linear";break;case CD:n="Reinhard";break;case MD:n="OptimizedCineon";break;case VC:n="ACESFilmic";break;case TD:n="AgX";break;case ND:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function jK(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(sm).join(`
`)}function kK(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(sm).join(`
`)}function PK(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function RK(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let l=1;s.type===t.FLOAT_MAT2&&(l=2),s.type===t.FLOAT_MAT3&&(l=3),s.type===t.FLOAT_MAT4&&(l=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:l}}return n}function sm(t){return t!==""}function Nk(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function Tk(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const FK=/^[ \t]*#include +<([\w\d./]+)>/gm;function EE(t){return t.replace(FK,DK)}const BK=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function DK(t,e){let n=an[e];if(n===void 0){const r=BK.get(e);if(r!==void 0)n=an[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return EE(n)}const IK=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jk(t){return t.replace(IK,LK)}function LK(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function kk(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function OK(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===V1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Tx?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Lo&&(e="SHADOWMAP_TYPE_VSM"),e}function UK(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Kc:case xd:e="ENVMAP_TYPE_CUBE";break;case Lm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function zK(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case xd:e="ENVMAP_MODE_REFRACTION";break}return e}function HK(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case _0:e="ENVMAP_BLENDING_MULTIPLY";break;case _D:e="ENVMAP_BLENDING_MIX";break;case AD:e="ENVMAP_BLENDING_ADD";break}return e}function GK(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}function WK(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,l=n.fragmentShader;const c=OK(n),u=UK(n),h=zK(n),f=HK(n),m=GK(n),v=n.isWebGL2?"":jK(n),y=kK(n),S=PK(s),b=i.createProgram();let _,E,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(sm).join(`
`),_.length>0&&(_+=`
`),E=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S].filter(sm).join(`
`),E.length>0&&(E+=`
`)):(_=[kk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(sm).join(`
`),E=[v,kk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,S,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Sl?"#define TONE_MAPPING":"",n.toneMapping!==Sl?an.tonemapping_pars_fragment:"",n.toneMapping!==Sl?TK("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",an.colorspace_pars_fragment,NK("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(sm).join(`
`)),o=EE(o),o=Nk(o,n),o=Tk(o,n),l=EE(l),l=Nk(l,n),l=Tk(l,n),o=jk(o),l=jk(l),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,_=[y,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+_,E=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===SE?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===SE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const j=C+_+o,R=C+E+l,k=Ck(i,i.VERTEX_SHADER,j),D=Ck(i,i.FRAGMENT_SHADER,R);i.attachShader(b,k),i.attachShader(b,D),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function O($){if(t.debug.checkShaderErrors){const re=i.getProgramInfoLog(b).trim(),Y=i.getShaderInfoLog(k).trim(),se=i.getShaderInfoLog(D).trim();let oe=!0,le=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(oe=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,k,D);else{const H=Mk(i,k,"vertex"),q=Mk(i,D,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Program Info Log: `+re+`
`+H+`
`+q)}else re!==""?console.warn("THREE.WebGLProgram: Program Info Log:",re):(Y===""||se==="")&&(le=!1);le&&($.diagnostics={runnable:oe,programLog:re,vertexShader:{log:Y,prefix:_},fragmentShader:{log:se,prefix:E}})}i.deleteShader(k),i.deleteShader(D),I=new Sb(i,b),U=RK(i,b)}let I;this.getUniforms=function(){return I===void 0&&O(this),I};let U;this.getAttributes=function(){return U===void 0&&O(this),U};let K=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return K===!1&&(K=i.getProgramParameter(b,AK)),K},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=EK++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=k,this.fragmentShader=D,this}let VK=0;class KK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new XK(e),n.set(e,r)),r}}class XK{constructor(e){this.id=VK++,this.code=e,this.usedTimes=0}}function YK(t,e,n,r,i,s,o){const l=new Jh,c=new KK,u=[],h=i.isWebGL2,f=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(I){return I===0?"uv":`uv${I}`}function b(I,U,K,$,re){const Y=$.fog,se=re.geometry,oe=I.isMeshStandardMaterial?$.environment:null,le=(I.isMeshStandardMaterial?n:e).get(I.envMap||oe),H=le&&le.mapping===Lm?le.image.height:null,q=y[I.type];I.precision!==null&&(v=i.getMaxPrecision(I.precision),v!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",v,"instead."));const Q=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,V=Q!==void 0?Q.length:0;let ee=0;se.morphAttributes.position!==void 0&&(ee=1),se.morphAttributes.normal!==void 0&&(ee=2),se.morphAttributes.color!==void 0&&(ee=3);let ce,ne,be,Ae;if(q){const Wr=Uo[q];ce=Wr.vertexShader,ne=Wr.fragmentShader}else ce=I.vertexShader,ne=I.fragmentShader,c.update(I),be=c.getVertexShaderID(I),Ae=c.getFragmentShaderID(I);const Se=t.getRenderTarget(),pe=re.isInstancedMesh===!0,X=re.isBatchedMesh===!0,Ce=!!I.map,Ge=!!I.matcap,J=!!le,ue=!!I.aoMap,fe=!!I.lightMap,Ie=!!I.bumpMap,ke=!!I.normalMap,at=!!I.displacementMap,$e=!!I.emissiveMap,z=!!I.metalnessMap,G=!!I.roughnessMap,ge=I.anisotropy>0,He=I.clearcoat>0,Ve=I.iridescence>0,ze=I.sheen>0,ve=I.transmission>0,Le=ge&&!!I.anisotropyMap,nt=He&&!!I.clearcoatMap,Tt=He&&!!I.clearcoatNormalMap,Kt=He&&!!I.clearcoatRoughnessMap,Ke=Ve&&!!I.iridescenceMap,cn=Ve&&!!I.iridescenceThicknessMap,nn=ze&&!!I.sheenColorMap,zt=ze&&!!I.sheenRoughnessMap,jt=!!I.specularMap,vt=!!I.specularColorMap,Xt=!!I.specularIntensityMap,gn=ve&&!!I.transmissionMap,Gn=ve&&!!I.thicknessMap,qt=!!I.gradientMap,et=!!I.alphaMap,he=I.alphaTest>0,rt=!!I.alphaHash,st=!!I.extensions,Ft=!!se.attributes.uv1,kt=!!se.attributes.uv2,jn=!!se.attributes.uv3;let Mn=Sl;return I.toneMapped&&(Se===null||Se.isXRRenderTarget===!0)&&(Mn=t.toneMapping),{isWebGL2:h,shaderID:q,shaderType:I.type,shaderName:I.name,vertexShader:ce,fragmentShader:ne,defines:I.defines,customVertexShaderID:be,customFragmentShaderID:Ae,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:v,batching:X,instancing:pe,instancingColor:pe&&re.instanceColor!==null,supportsVertexTextures:m,outputColorSpace:Se===null?t.outputColorSpace:Se.isXRRenderTarget===!0?Se.texture.colorSpace:jl,map:Ce,matcap:Ge,envMap:J,envMapMode:J&&le.mapping,envMapCubeUVHeight:H,aoMap:ue,lightMap:fe,bumpMap:Ie,normalMap:ke,displacementMap:m&&at,emissiveMap:$e,normalMapObjectSpace:ke&&I.normalMapType===VD,normalMapTangentSpace:ke&&I.normalMapType===Ad,metalnessMap:z,roughnessMap:G,anisotropy:ge,anisotropyMap:Le,clearcoat:He,clearcoatMap:nt,clearcoatNormalMap:Tt,clearcoatRoughnessMap:Kt,iridescence:Ve,iridescenceMap:Ke,iridescenceThicknessMap:cn,sheen:ze,sheenColorMap:nn,sheenRoughnessMap:zt,specularMap:jt,specularColorMap:vt,specularIntensityMap:Xt,transmission:ve,transmissionMap:gn,thicknessMap:Gn,gradientMap:qt,opaque:I.transparent===!1&&I.blending===Xh,alphaMap:et,alphaTest:he,alphaHash:rt,combine:I.combine,mapUv:Ce&&S(I.map.channel),aoMapUv:ue&&S(I.aoMap.channel),lightMapUv:fe&&S(I.lightMap.channel),bumpMapUv:Ie&&S(I.bumpMap.channel),normalMapUv:ke&&S(I.normalMap.channel),displacementMapUv:at&&S(I.displacementMap.channel),emissiveMapUv:$e&&S(I.emissiveMap.channel),metalnessMapUv:z&&S(I.metalnessMap.channel),roughnessMapUv:G&&S(I.roughnessMap.channel),anisotropyMapUv:Le&&S(I.anisotropyMap.channel),clearcoatMapUv:nt&&S(I.clearcoatMap.channel),clearcoatNormalMapUv:Tt&&S(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Kt&&S(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Ke&&S(I.iridescenceMap.channel),iridescenceThicknessMapUv:cn&&S(I.iridescenceThicknessMap.channel),sheenColorMapUv:nn&&S(I.sheenColorMap.channel),sheenRoughnessMapUv:zt&&S(I.sheenRoughnessMap.channel),specularMapUv:jt&&S(I.specularMap.channel),specularColorMapUv:vt&&S(I.specularColorMap.channel),specularIntensityMapUv:Xt&&S(I.specularIntensityMap.channel),transmissionMapUv:gn&&S(I.transmissionMap.channel),thicknessMapUv:Gn&&S(I.thicknessMap.channel),alphaMapUv:et&&S(I.alphaMap.channel),vertexTangents:!!se.attributes.tangent&&(ke||ge),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!se.attributes.color&&se.attributes.color.itemSize===4,vertexUv1s:Ft,vertexUv2s:kt,vertexUv3s:jn,pointsUvs:re.isPoints===!0&&!!se.attributes.uv&&(Ce||et),fog:!!Y,useFog:I.fog===!0,fogExp2:Y&&Y.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:re.isSkinnedMesh===!0,morphTargets:se.morphAttributes.position!==void 0,morphNormals:se.morphAttributes.normal!==void 0,morphColors:se.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:ee,numDirLights:U.directional.length,numPointLights:U.point.length,numSpotLights:U.spot.length,numSpotLightMaps:U.spotLightMap.length,numRectAreaLights:U.rectArea.length,numHemiLights:U.hemi.length,numDirLightShadows:U.directionalShadowMap.length,numPointLightShadows:U.pointShadowMap.length,numSpotLightShadows:U.spotShadowMap.length,numSpotLightShadowsWithMaps:U.numSpotLightShadowsWithMaps,numLightProbes:U.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:t.shadowMap.enabled&&K.length>0,shadowMapType:t.shadowMap.type,toneMapping:Mn,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Ce&&I.map.isVideoTexture===!0&&Un.getTransfer(I.map.colorSpace)===sr,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===zo,flipSided:I.side===Us,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionDerivatives:st&&I.extensions.derivatives===!0,extensionFragDepth:st&&I.extensions.fragDepth===!0,extensionDrawBuffers:st&&I.extensions.drawBuffers===!0,extensionShaderTextureLOD:st&&I.extensions.shaderTextureLOD===!0,extensionClipCullDistance:st&&I.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()}}function _(I){const U=[];if(I.shaderID?U.push(I.shaderID):(U.push(I.customVertexShaderID),U.push(I.customFragmentShaderID)),I.defines!==void 0)for(const K in I.defines)U.push(K),U.push(I.defines[K]);return I.isRawShaderMaterial===!1&&(E(U,I),C(U,I),U.push(t.outputColorSpace)),U.push(I.customProgramCacheKey),U.join()}function E(I,U){I.push(U.precision),I.push(U.outputColorSpace),I.push(U.envMapMode),I.push(U.envMapCubeUVHeight),I.push(U.mapUv),I.push(U.alphaMapUv),I.push(U.lightMapUv),I.push(U.aoMapUv),I.push(U.bumpMapUv),I.push(U.normalMapUv),I.push(U.displacementMapUv),I.push(U.emissiveMapUv),I.push(U.metalnessMapUv),I.push(U.roughnessMapUv),I.push(U.anisotropyMapUv),I.push(U.clearcoatMapUv),I.push(U.clearcoatNormalMapUv),I.push(U.clearcoatRoughnessMapUv),I.push(U.iridescenceMapUv),I.push(U.iridescenceThicknessMapUv),I.push(U.sheenColorMapUv),I.push(U.sheenRoughnessMapUv),I.push(U.specularMapUv),I.push(U.specularColorMapUv),I.push(U.specularIntensityMapUv),I.push(U.transmissionMapUv),I.push(U.thicknessMapUv),I.push(U.combine),I.push(U.fogExp2),I.push(U.sizeAttenuation),I.push(U.morphTargetsCount),I.push(U.morphAttributeCount),I.push(U.numDirLights),I.push(U.numPointLights),I.push(U.numSpotLights),I.push(U.numSpotLightMaps),I.push(U.numHemiLights),I.push(U.numRectAreaLights),I.push(U.numDirLightShadows),I.push(U.numPointLightShadows),I.push(U.numSpotLightShadows),I.push(U.numSpotLightShadowsWithMaps),I.push(U.numLightProbes),I.push(U.shadowMapType),I.push(U.toneMapping),I.push(U.numClippingPlanes),I.push(U.numClipIntersection),I.push(U.depthPacking)}function C(I,U){l.disableAll(),U.isWebGL2&&l.enable(0),U.supportsVertexTextures&&l.enable(1),U.instancing&&l.enable(2),U.instancingColor&&l.enable(3),U.matcap&&l.enable(4),U.envMap&&l.enable(5),U.normalMapObjectSpace&&l.enable(6),U.normalMapTangentSpace&&l.enable(7),U.clearcoat&&l.enable(8),U.iridescence&&l.enable(9),U.alphaTest&&l.enable(10),U.vertexColors&&l.enable(11),U.vertexAlphas&&l.enable(12),U.vertexUv1s&&l.enable(13),U.vertexUv2s&&l.enable(14),U.vertexUv3s&&l.enable(15),U.vertexTangents&&l.enable(16),U.anisotropy&&l.enable(17),U.alphaHash&&l.enable(18),U.batching&&l.enable(19),I.push(l.mask),l.disableAll(),U.fog&&l.enable(0),U.useFog&&l.enable(1),U.flatShading&&l.enable(2),U.logarithmicDepthBuffer&&l.enable(3),U.skinning&&l.enable(4),U.morphTargets&&l.enable(5),U.morphNormals&&l.enable(6),U.morphColors&&l.enable(7),U.premultipliedAlpha&&l.enable(8),U.shadowMapEnabled&&l.enable(9),U.useLegacyLights&&l.enable(10),U.doubleSided&&l.enable(11),U.flipSided&&l.enable(12),U.useDepthPacking&&l.enable(13),U.dithering&&l.enable(14),U.transmission&&l.enable(15),U.sheen&&l.enable(16),U.opaque&&l.enable(17),U.pointsUvs&&l.enable(18),U.decodeVideoTexture&&l.enable(19),I.push(l.mask)}function j(I){const U=y[I.type];let K;if(U){const $=Uo[U];K=sI.clone($.uniforms)}else K=I.uniforms;return K}function R(I,U){let K;for(let $=0,re=u.length;$<re;$++){const Y=u[$];if(Y.cacheKey===U){K=Y,++K.usedTimes;break}}return K===void 0&&(K=new WK(t,U,I,s),u.push(K)),K}function k(I){if(--I.usedTimes===0){const U=u.indexOf(I);u[U]=u[u.length-1],u.pop(),I.destroy()}}function D(I){c.remove(I)}function O(){c.dispose()}return{getParameters:b,getProgramCacheKey:_,getUniforms:j,acquireProgram:R,releaseProgram:k,releaseShaderCache:D,programs:u,dispose:O}}function JK(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,l){t.get(s)[o]=l}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function qK(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Pk(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Rk(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,m,v,y,S,b){let _=t[e];return _===void 0?(_={id:f.id,object:f,geometry:m,material:v,groupOrder:y,renderOrder:f.renderOrder,z:S,group:b},t[e]=_):(_.id=f.id,_.object=f,_.geometry=m,_.material=v,_.groupOrder=y,_.renderOrder=f.renderOrder,_.z=S,_.group=b),e++,_}function l(f,m,v,y,S,b){const _=o(f,m,v,y,S,b);v.transmission>0?r.push(_):v.transparent===!0?i.push(_):n.push(_)}function c(f,m,v,y,S,b){const _=o(f,m,v,y,S,b);v.transmission>0?r.unshift(_):v.transparent===!0?i.unshift(_):n.unshift(_)}function u(f,m){n.length>1&&n.sort(f||qK),r.length>1&&r.sort(m||Pk),i.length>1&&i.sort(m||Pk)}function h(){for(let f=e,m=t.length;f<m;f++){const v=t[f];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:l,unshift:c,finish:h,sort:u}}function $K(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new Rk,t.set(r,[o])):i>=s.length?(o=new Rk,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function QK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new te,color:new lt};break;case"SpotLight":n={position:new te,direction:new te,color:new lt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new te,color:new lt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new te,skyColor:new lt,groundColor:new lt};break;case"RectAreaLight":n={color:new lt,position:new te,halfWidth:new te,halfHeight:new te};break}return t[e.id]=n,n}}}function ZK(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let eX=0;function tX(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function nX(t,e){const n=new QK,r=ZK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let h=0;h<9;h++)i.probe.push(new te);const s=new te,o=new Ot,l=new Ot;function c(h,f){let m=0,v=0,y=0;for(let $=0;$<9;$++)i.probe[$].set(0,0,0);let S=0,b=0,_=0,E=0,C=0,j=0,R=0,k=0,D=0,O=0,I=0;h.sort(tX);const U=f===!0?Math.PI:1;for(let $=0,re=h.length;$<re;$++){const Y=h[$],se=Y.color,oe=Y.intensity,le=Y.distance,H=Y.shadow&&Y.shadow.map?Y.shadow.map.texture:null;if(Y.isAmbientLight)m+=se.r*oe*U,v+=se.g*oe*U,y+=se.b*oe*U;else if(Y.isLightProbe){for(let q=0;q<9;q++)i.probe[q].addScaledVector(Y.sh.coefficients[q],oe);I++}else if(Y.isDirectionalLight){const q=n.get(Y);if(q.color.copy(Y.color).multiplyScalar(Y.intensity*U),Y.castShadow){const Q=Y.shadow,V=r.get(Y);V.shadowBias=Q.bias,V.shadowNormalBias=Q.normalBias,V.shadowRadius=Q.radius,V.shadowMapSize=Q.mapSize,i.directionalShadow[S]=V,i.directionalShadowMap[S]=H,i.directionalShadowMatrix[S]=Y.shadow.matrix,j++}i.directional[S]=q,S++}else if(Y.isSpotLight){const q=n.get(Y);q.position.setFromMatrixPosition(Y.matrixWorld),q.color.copy(se).multiplyScalar(oe*U),q.distance=le,q.coneCos=Math.cos(Y.angle),q.penumbraCos=Math.cos(Y.angle*(1-Y.penumbra)),q.decay=Y.decay,i.spot[_]=q;const Q=Y.shadow;if(Y.map&&(i.spotLightMap[D]=Y.map,D++,Q.updateMatrices(Y),Y.castShadow&&O++),i.spotLightMatrix[_]=Q.matrix,Y.castShadow){const V=r.get(Y);V.shadowBias=Q.bias,V.shadowNormalBias=Q.normalBias,V.shadowRadius=Q.radius,V.shadowMapSize=Q.mapSize,i.spotShadow[_]=V,i.spotShadowMap[_]=H,k++}_++}else if(Y.isRectAreaLight){const q=n.get(Y);q.color.copy(se).multiplyScalar(oe),q.halfWidth.set(Y.width*.5,0,0),q.halfHeight.set(0,Y.height*.5,0),i.rectArea[E]=q,E++}else if(Y.isPointLight){const q=n.get(Y);if(q.color.copy(Y.color).multiplyScalar(Y.intensity*U),q.distance=Y.distance,q.decay=Y.decay,Y.castShadow){const Q=Y.shadow,V=r.get(Y);V.shadowBias=Q.bias,V.shadowNormalBias=Q.normalBias,V.shadowRadius=Q.radius,V.shadowMapSize=Q.mapSize,V.shadowCameraNear=Q.camera.near,V.shadowCameraFar=Q.camera.far,i.pointShadow[b]=V,i.pointShadowMap[b]=H,i.pointShadowMatrix[b]=Y.shadow.matrix,R++}i.point[b]=q,b++}else if(Y.isHemisphereLight){const q=n.get(Y);q.skyColor.copy(Y.color).multiplyScalar(oe*U),q.groundColor.copy(Y.groundColor).multiplyScalar(oe*U),i.hemi[C]=q,C++}}E>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=it.LTC_FLOAT_1,i.rectAreaLTC2=it.LTC_FLOAT_2):(i.rectAreaLTC1=it.LTC_HALF_1,i.rectAreaLTC2=it.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=it.LTC_FLOAT_1,i.rectAreaLTC2=it.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=it.LTC_HALF_1,i.rectAreaLTC2=it.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=m,i.ambient[1]=v,i.ambient[2]=y;const K=i.hash;(K.directionalLength!==S||K.pointLength!==b||K.spotLength!==_||K.rectAreaLength!==E||K.hemiLength!==C||K.numDirectionalShadows!==j||K.numPointShadows!==R||K.numSpotShadows!==k||K.numSpotMaps!==D||K.numLightProbes!==I)&&(i.directional.length=S,i.spot.length=_,i.rectArea.length=E,i.point.length=b,i.hemi.length=C,i.directionalShadow.length=j,i.directionalShadowMap.length=j,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=k,i.spotShadowMap.length=k,i.directionalShadowMatrix.length=j,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=k+D-O,i.spotLightMap.length=D,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=I,K.directionalLength=S,K.pointLength=b,K.spotLength=_,K.rectAreaLength=E,K.hemiLength=C,K.numDirectionalShadows=j,K.numPointShadows=R,K.numSpotShadows=k,K.numSpotMaps=D,K.numLightProbes=I,i.version=eX++)}function u(h,f){let m=0,v=0,y=0,S=0,b=0;const _=f.matrixWorldInverse;for(let E=0,C=h.length;E<C;E++){const j=h[E];if(j.isDirectionalLight){const R=i.directional[m];R.direction.setFromMatrixPosition(j.matrixWorld),s.setFromMatrixPosition(j.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(_),m++}else if(j.isSpotLight){const R=i.spot[y];R.position.setFromMatrixPosition(j.matrixWorld),R.position.applyMatrix4(_),R.direction.setFromMatrixPosition(j.matrixWorld),s.setFromMatrixPosition(j.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(_),y++}else if(j.isRectAreaLight){const R=i.rectArea[S];R.position.setFromMatrixPosition(j.matrixWorld),R.position.applyMatrix4(_),l.identity(),o.copy(j.matrixWorld),o.premultiply(_),l.extractRotation(o),R.halfWidth.set(j.width*.5,0,0),R.halfHeight.set(0,j.height*.5,0),R.halfWidth.applyMatrix4(l),R.halfHeight.applyMatrix4(l),S++}else if(j.isPointLight){const R=i.point[v];R.position.setFromMatrixPosition(j.matrixWorld),R.position.applyMatrix4(_),v++}else if(j.isHemisphereLight){const R=i.hemi[b];R.direction.setFromMatrixPosition(j.matrixWorld),R.direction.transformDirection(_),b++}}}return{setup:c,setupView:u,state:i}}function Fk(t,e){const n=new nX(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function l(f){i.push(f)}function c(f){n.setup(r,f)}function u(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:c,setupLightsView:u,pushLight:o,pushShadow:l}}function rX(t,e){let n=new WeakMap;function r(s,o=0){const l=n.get(s);let c;return l===void 0?(c=new Fk(t,e),n.set(s,[c])):o>=l.length?(c=new Fk(t,e),l.push(c)):c=l[o],c}function i(){n=new WeakMap}return{get:r,dispose:i}}class uM extends Ai{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=GD,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class dM extends Ai{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const iX=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,sX=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function aX(t,e,n){let r=new N0;const i=new We,s=new We,o=new Hn,l=new uM({depthPacking:WD}),c=new dM,u={},h=n.maxTextureSize,f={[Nl]:Us,[Us]:Nl,[zo]:zo},m=new kl({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new We},radius:{value:4}},vertexShader:iX,fragmentShader:sX}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const y=new tn;y.setAttribute("position",new An(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new li(y,m),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=V1;let _=this.type;this.render=function(k,D,O){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||k.length===0)return;const I=t.getRenderTarget(),U=t.getActiveCubeFace(),K=t.getActiveMipmapLevel(),$=t.state;$.setBlending(Ic),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const re=_!==Lo&&this.type===Lo,Y=_===Lo&&this.type!==Lo;for(let se=0,oe=k.length;se<oe;se++){const le=k[se],H=le.shadow;if(H===void 0){console.warn("THREE.WebGLShadowMap:",le,"has no shadow.");continue}if(H.autoUpdate===!1&&H.needsUpdate===!1)continue;i.copy(H.mapSize);const q=H.getFrameExtents();if(i.multiply(q),s.copy(H.mapSize),(i.x>h||i.y>h)&&(i.x>h&&(s.x=Math.floor(h/q.x),i.x=s.x*q.x,H.mapSize.x=s.x),i.y>h&&(s.y=Math.floor(h/q.y),i.y=s.y*q.y,H.mapSize.y=s.y)),H.map===null||re===!0||Y===!0){const V=this.type!==Lo?{minFilter:Ur,magFilter:Ur}:{};H.map!==null&&H.map.dispose(),H.map=new qo(i.x,i.y,V),H.map.texture.name=le.name+".shadowMap",H.camera.updateProjectionMatrix()}t.setRenderTarget(H.map),t.clear();const Q=H.getViewportCount();for(let V=0;V<Q;V++){const ee=H.getViewport(V);o.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),$.viewport(o),H.updateMatrices(le,V),r=H.getFrustum(),j(D,O,H.camera,le,this.type)}H.isPointLightShadow!==!0&&this.type===Lo&&E(H,O),H.needsUpdate=!1}_=this.type,b.needsUpdate=!1,t.setRenderTarget(I,U,K)};function E(k,D){const O=e.update(S);m.defines.VSM_SAMPLES!==k.blurSamples&&(m.defines.VSM_SAMPLES=k.blurSamples,v.defines.VSM_SAMPLES=k.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),k.mapPass===null&&(k.mapPass=new qo(i.x,i.y)),m.uniforms.shadow_pass.value=k.map.texture,m.uniforms.resolution.value=k.mapSize,m.uniforms.radius.value=k.radius,t.setRenderTarget(k.mapPass),t.clear(),t.renderBufferDirect(D,null,O,m,S,null),v.uniforms.shadow_pass.value=k.mapPass.texture,v.uniforms.resolution.value=k.mapSize,v.uniforms.radius.value=k.radius,t.setRenderTarget(k.map),t.clear(),t.renderBufferDirect(D,null,O,v,S,null)}function C(k,D,O,I){let U=null;const K=O.isPointLight===!0?k.customDistanceMaterial:k.customDepthMaterial;if(K!==void 0)U=K;else if(U=O.isPointLight===!0?c:l,t.localClippingEnabled&&D.clipShadows===!0&&Array.isArray(D.clippingPlanes)&&D.clippingPlanes.length!==0||D.displacementMap&&D.displacementScale!==0||D.alphaMap&&D.alphaTest>0||D.map&&D.alphaTest>0){const $=U.uuid,re=D.uuid;let Y=u[$];Y===void 0&&(Y={},u[$]=Y);let se=Y[re];se===void 0&&(se=U.clone(),Y[re]=se,D.addEventListener("dispose",R)),U=se}if(U.visible=D.visible,U.wireframe=D.wireframe,I===Lo?U.side=D.shadowSide!==null?D.shadowSide:D.side:U.side=D.shadowSide!==null?D.shadowSide:f[D.side],U.alphaMap=D.alphaMap,U.alphaTest=D.alphaTest,U.map=D.map,U.clipShadows=D.clipShadows,U.clippingPlanes=D.clippingPlanes,U.clipIntersection=D.clipIntersection,U.displacementMap=D.displacementMap,U.displacementScale=D.displacementScale,U.displacementBias=D.displacementBias,U.wireframeLinewidth=D.wireframeLinewidth,U.linewidth=D.linewidth,O.isPointLight===!0&&U.isMeshDistanceMaterial===!0){const $=t.properties.get(U);$.light=O}return U}function j(k,D,O,I,U){if(k.visible===!1)return;if(k.layers.test(D.layers)&&(k.isMesh||k.isLine||k.isPoints)&&(k.castShadow||k.receiveShadow&&U===Lo)&&(!k.frustumCulled||r.intersectsObject(k))){k.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,k.matrixWorld);const re=e.update(k),Y=k.material;if(Array.isArray(Y)){const se=re.groups;for(let oe=0,le=se.length;oe<le;oe++){const H=se[oe],q=Y[H.materialIndex];if(q&&q.visible){const Q=C(k,q,I,U);k.onBeforeShadow(t,k,D,O,re,Q,H),t.renderBufferDirect(O,null,re,Q,k,H),k.onAfterShadow(t,k,D,O,re,Q,H)}}}else if(Y.visible){const se=C(k,Y,I,U);k.onBeforeShadow(t,k,D,O,re,se,null),t.renderBufferDirect(O,null,re,se,k,null),k.onAfterShadow(t,k,D,O,re,se,null)}}const $=k.children;for(let re=0,Y=$.length;re<Y;re++)j($[re],D,O,I,U)}function R(k){k.target.removeEventListener("dispose",R);for(const O in u){const I=u[O],U=k.target.uuid;U in I&&(I[U].dispose(),delete I[U])}}}function oX(t,e,n){const r=n.isWebGL2;function i(){let he=!1;const rt=new Hn;let st=null;const Ft=new Hn(0,0,0,0);return{setMask:function(kt){st!==kt&&!he&&(t.colorMask(kt,kt,kt,kt),st=kt)},setLocked:function(kt){he=kt},setClear:function(kt,jn,Mn,dr,Wr){Wr===!0&&(kt*=dr,jn*=dr,Mn*=dr),rt.set(kt,jn,Mn,dr),Ft.equals(rt)===!1&&(t.clearColor(kt,jn,Mn,dr),Ft.copy(rt))},reset:function(){he=!1,st=null,Ft.set(-1,0,0,0)}}}function s(){let he=!1,rt=null,st=null,Ft=null;return{setTest:function(kt){kt?X(t.DEPTH_TEST):Ce(t.DEPTH_TEST)},setMask:function(kt){rt!==kt&&!he&&(t.depthMask(kt),rt=kt)},setFunc:function(kt){if(st!==kt){switch(kt){case gD:t.depthFunc(t.NEVER);break;case xD:t.depthFunc(t.ALWAYS);break;case vD:t.depthFunc(t.LESS);break;case Ox:t.depthFunc(t.LEQUAL);break;case yD:t.depthFunc(t.EQUAL);break;case bD:t.depthFunc(t.GEQUAL);break;case wD:t.depthFunc(t.GREATER);break;case SD:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}st=kt}},setLocked:function(kt){he=kt},setClear:function(kt){Ft!==kt&&(t.clearDepth(kt),Ft=kt)},reset:function(){he=!1,rt=null,st=null,Ft=null}}}function o(){let he=!1,rt=null,st=null,Ft=null,kt=null,jn=null,Mn=null,dr=null,Wr=null;return{setTest:function(yn){he||(yn?X(t.STENCIL_TEST):Ce(t.STENCIL_TEST))},setMask:function(yn){rt!==yn&&!he&&(t.stencilMask(yn),rt=yn)},setFunc:function(yn,Vr,ki){(st!==yn||Ft!==Vr||kt!==ki)&&(t.stencilFunc(yn,Vr,ki),st=yn,Ft=Vr,kt=ki)},setOp:function(yn,Vr,ki){(jn!==yn||Mn!==Vr||dr!==ki)&&(t.stencilOp(yn,Vr,ki),jn=yn,Mn=Vr,dr=ki)},setLocked:function(yn){he=yn},setClear:function(yn){Wr!==yn&&(t.clearStencil(yn),Wr=yn)},reset:function(){he=!1,rt=null,st=null,Ft=null,kt=null,jn=null,Mn=null,dr=null,Wr=null}}}const l=new i,c=new s,u=new o,h=new WeakMap,f=new WeakMap;let m={},v={},y=new WeakMap,S=[],b=null,_=!1,E=null,C=null,j=null,R=null,k=null,D=null,O=null,I=new lt(0,0,0),U=0,K=!1,$=null,re=null,Y=null,se=null,oe=null;const le=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,q=0;const Q=t.getParameter(t.VERSION);Q.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(Q)[1]),H=q>=1):Q.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),H=q>=2);let V=null,ee={};const ce=t.getParameter(t.SCISSOR_BOX),ne=t.getParameter(t.VIEWPORT),be=new Hn().fromArray(ce),Ae=new Hn().fromArray(ne);function Se(he,rt,st,Ft){const kt=new Uint8Array(4),jn=t.createTexture();t.bindTexture(he,jn),t.texParameteri(he,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(he,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Mn=0;Mn<st;Mn++)r&&(he===t.TEXTURE_3D||he===t.TEXTURE_2D_ARRAY)?t.texImage3D(rt,0,t.RGBA,1,1,Ft,0,t.RGBA,t.UNSIGNED_BYTE,kt):t.texImage2D(rt+Mn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,kt);return jn}const pe={};pe[t.TEXTURE_2D]=Se(t.TEXTURE_2D,t.TEXTURE_2D,1),pe[t.TEXTURE_CUBE_MAP]=Se(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(pe[t.TEXTURE_2D_ARRAY]=Se(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),pe[t.TEXTURE_3D]=Se(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),l.setClear(0,0,0,1),c.setClear(1),u.setClear(0),X(t.DEPTH_TEST),c.setFunc(Ox),$e(!1),z(GA),X(t.CULL_FACE),ke(Ic);function X(he){m[he]!==!0&&(t.enable(he),m[he]=!0)}function Ce(he){m[he]!==!1&&(t.disable(he),m[he]=!1)}function Ge(he,rt){return v[he]!==rt?(t.bindFramebuffer(he,rt),v[he]=rt,r&&(he===t.DRAW_FRAMEBUFFER&&(v[t.FRAMEBUFFER]=rt),he===t.FRAMEBUFFER&&(v[t.DRAW_FRAMEBUFFER]=rt)),!0):!1}function J(he,rt){let st=S,Ft=!1;if(he)if(st=y.get(rt),st===void 0&&(st=[],y.set(rt,st)),he.isWebGLMultipleRenderTargets){const kt=he.texture;if(st.length!==kt.length||st[0]!==t.COLOR_ATTACHMENT0){for(let jn=0,Mn=kt.length;jn<Mn;jn++)st[jn]=t.COLOR_ATTACHMENT0+jn;st.length=kt.length,Ft=!0}}else st[0]!==t.COLOR_ATTACHMENT0&&(st[0]=t.COLOR_ATTACHMENT0,Ft=!0);else st[0]!==t.BACK&&(st[0]=t.BACK,Ft=!0);Ft&&(n.isWebGL2?t.drawBuffers(st):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(st))}function ue(he){return b!==he?(t.useProgram(he),b=he,!0):!1}const fe={[rd]:t.FUNC_ADD,[tD]:t.FUNC_SUBTRACT,[nD]:t.FUNC_REVERSE_SUBTRACT};if(r)fe[XA]=t.MIN,fe[YA]=t.MAX;else{const he=e.get("EXT_blend_minmax");he!==null&&(fe[XA]=he.MIN_EXT,fe[YA]=he.MAX_EXT)}const Ie={[rD]:t.ZERO,[iD]:t.ONE,[sD]:t.SRC_COLOR,[Bb]:t.SRC_ALPHA,[dD]:t.SRC_ALPHA_SATURATE,[cD]:t.DST_COLOR,[oD]:t.DST_ALPHA,[aD]:t.ONE_MINUS_SRC_COLOR,[Db]:t.ONE_MINUS_SRC_ALPHA,[uD]:t.ONE_MINUS_DST_COLOR,[lD]:t.ONE_MINUS_DST_ALPHA,[hD]:t.CONSTANT_COLOR,[fD]:t.ONE_MINUS_CONSTANT_COLOR,[pD]:t.CONSTANT_ALPHA,[mD]:t.ONE_MINUS_CONSTANT_ALPHA};function ke(he,rt,st,Ft,kt,jn,Mn,dr,Wr,yn){if(he===Ic){_===!0&&(Ce(t.BLEND),_=!1);return}if(_===!1&&(X(t.BLEND),_=!0),he!==eD){if(he!==E||yn!==K){if((C!==rd||k!==rd)&&(t.blendEquation(t.FUNC_ADD),C=rd,k=rd),yn)switch(he){case Xh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case WA:t.blendFunc(t.ONE,t.ONE);break;case VA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case KA:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case Xh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case WA:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case VA:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case KA:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}j=null,R=null,D=null,O=null,I.set(0,0,0),U=0,E=he,K=yn}return}kt=kt||rt,jn=jn||st,Mn=Mn||Ft,(rt!==C||kt!==k)&&(t.blendEquationSeparate(fe[rt],fe[kt]),C=rt,k=kt),(st!==j||Ft!==R||jn!==D||Mn!==O)&&(t.blendFuncSeparate(Ie[st],Ie[Ft],Ie[jn],Ie[Mn]),j=st,R=Ft,D=jn,O=Mn),(dr.equals(I)===!1||Wr!==U)&&(t.blendColor(dr.r,dr.g,dr.b,Wr),I.copy(dr),U=Wr),E=he,K=!1}function at(he,rt){he.side===zo?Ce(t.CULL_FACE):X(t.CULL_FACE);let st=he.side===Us;rt&&(st=!st),$e(st),he.blending===Xh&&he.transparent===!1?ke(Ic):ke(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),c.setFunc(he.depthFunc),c.setTest(he.depthTest),c.setMask(he.depthWrite),l.setMask(he.colorWrite);const Ft=he.stencilWrite;u.setTest(Ft),Ft&&(u.setMask(he.stencilWriteMask),u.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),u.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),ge(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?X(t.SAMPLE_ALPHA_TO_COVERAGE):Ce(t.SAMPLE_ALPHA_TO_COVERAGE)}function $e(he){$!==he&&(he?t.frontFace(t.CW):t.frontFace(t.CCW),$=he)}function z(he){he!==$B?(X(t.CULL_FACE),he!==re&&(he===GA?t.cullFace(t.BACK):he===QB?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ce(t.CULL_FACE),re=he}function G(he){he!==Y&&(H&&t.lineWidth(he),Y=he)}function ge(he,rt,st){he?(X(t.POLYGON_OFFSET_FILL),(se!==rt||oe!==st)&&(t.polygonOffset(rt,st),se=rt,oe=st)):Ce(t.POLYGON_OFFSET_FILL)}function He(he){he?X(t.SCISSOR_TEST):Ce(t.SCISSOR_TEST)}function Ve(he){he===void 0&&(he=t.TEXTURE0+le-1),V!==he&&(t.activeTexture(he),V=he)}function ze(he,rt,st){st===void 0&&(V===null?st=t.TEXTURE0+le-1:st=V);let Ft=ee[st];Ft===void 0&&(Ft={type:void 0,texture:void 0},ee[st]=Ft),(Ft.type!==he||Ft.texture!==rt)&&(V!==st&&(t.activeTexture(st),V=st),t.bindTexture(he,rt||pe[he]),Ft.type=he,Ft.texture=rt)}function ve(){const he=ee[V];he!==void 0&&he.type!==void 0&&(t.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function Le(){try{t.compressedTexImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function nt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Tt(){try{t.texSubImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Kt(){try{t.texSubImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Ke(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function cn(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function nn(){try{t.texStorage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function zt(){try{t.texStorage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function jt(){try{t.texImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function vt(){try{t.texImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Xt(he){be.equals(he)===!1&&(t.scissor(he.x,he.y,he.z,he.w),be.copy(he))}function gn(he){Ae.equals(he)===!1&&(t.viewport(he.x,he.y,he.z,he.w),Ae.copy(he))}function Gn(he,rt){let st=f.get(rt);st===void 0&&(st=new WeakMap,f.set(rt,st));let Ft=st.get(he);Ft===void 0&&(Ft=t.getUniformBlockIndex(rt,he.name),st.set(he,Ft))}function qt(he,rt){const Ft=f.get(rt).get(he);h.get(rt)!==Ft&&(t.uniformBlockBinding(rt,Ft,he.__bindingPointIndex),h.set(rt,Ft))}function et(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),m={},V=null,ee={},v={},y=new WeakMap,S=[],b=null,_=!1,E=null,C=null,j=null,R=null,k=null,D=null,O=null,I=new lt(0,0,0),U=0,K=!1,$=null,re=null,Y=null,se=null,oe=null,be.set(0,0,t.canvas.width,t.canvas.height),Ae.set(0,0,t.canvas.width,t.canvas.height),l.reset(),c.reset(),u.reset()}return{buffers:{color:l,depth:c,stencil:u},enable:X,disable:Ce,bindFramebuffer:Ge,drawBuffers:J,useProgram:ue,setBlending:ke,setMaterial:at,setFlipSided:$e,setCullFace:z,setLineWidth:G,setPolygonOffset:ge,setScissorTest:He,activeTexture:Ve,bindTexture:ze,unbindTexture:ve,compressedTexImage2D:Le,compressedTexImage3D:nt,texImage2D:jt,texImage3D:vt,updateUBOMapping:Gn,uniformBlockBinding:qt,texStorage2D:nn,texStorage3D:zt,texSubImage2D:Tt,texSubImage3D:Kt,compressedTexSubImage2D:Ke,compressedTexSubImage3D:cn,scissor:Xt,viewport:gn,reset:et}}function lX(t,e,n,r,i,s,o){const l=i.isWebGL2,c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,u=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap;let f;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(z,G){return v?new OffscreenCanvas(z,G):Yx("canvas")}function S(z,G,ge,He){let Ve=1;if((z.width>He||z.height>He)&&(Ve=He/Math.max(z.width,z.height)),Ve<1||G===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const ze=G?Ob:Math.floor,ve=ze(Ve*z.width),Le=ze(Ve*z.height);f===void 0&&(f=y(ve,Le));const nt=ge?y(ve,Le):f;return nt.width=ve,nt.height=Le,nt.getContext("2d").drawImage(z,0,0,ve,Le),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+ve+"x"+Le+")."),nt}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function b(z){return _E(z.width)&&_E(z.height)}function _(z){return l?!1:z.wrapS!==es||z.wrapT!==es||z.minFilter!==Ur&&z.minFilter!==kr}function E(z,G){return z.generateMipmaps&&G&&z.minFilter!==Ur&&z.minFilter!==kr}function C(z){t.generateMipmap(z)}function j(z,G,ge,He,Ve=!1){if(l===!1)return G;if(z!==null){if(t[z]!==void 0)return t[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let ze=G;if(G===t.RED&&(ge===t.FLOAT&&(ze=t.R32F),ge===t.HALF_FLOAT&&(ze=t.R16F),ge===t.UNSIGNED_BYTE&&(ze=t.R8)),G===t.RED_INTEGER&&(ge===t.UNSIGNED_BYTE&&(ze=t.R8UI),ge===t.UNSIGNED_SHORT&&(ze=t.R16UI),ge===t.UNSIGNED_INT&&(ze=t.R32UI),ge===t.BYTE&&(ze=t.R8I),ge===t.SHORT&&(ze=t.R16I),ge===t.INT&&(ze=t.R32I)),G===t.RG&&(ge===t.FLOAT&&(ze=t.RG32F),ge===t.HALF_FLOAT&&(ze=t.RG16F),ge===t.UNSIGNED_BYTE&&(ze=t.RG8)),G===t.RGBA){const ve=Ve?Wx:Un.getTransfer(He);ge===t.FLOAT&&(ze=t.RGBA32F),ge===t.HALF_FLOAT&&(ze=t.RGBA16F),ge===t.UNSIGNED_BYTE&&(ze=ve===sr?t.SRGB8_ALPHA8:t.RGBA8),ge===t.UNSIGNED_SHORT_4_4_4_4&&(ze=t.RGBA4),ge===t.UNSIGNED_SHORT_5_5_5_1&&(ze=t.RGB5_A1)}return(ze===t.R16F||ze===t.R32F||ze===t.RG16F||ze===t.RG32F||ze===t.RGBA16F||ze===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ze}function R(z,G,ge){return E(z,ge)===!0||z.isFramebufferTexture&&z.minFilter!==Ur&&z.minFilter!==kr?Math.log2(Math.max(G.width,G.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?G.mipmaps.length:1}function k(z){return z===Ur||z===Hx||z===hm?t.NEAREST:t.LINEAR}function D(z){const G=z.target;G.removeEventListener("dispose",D),I(G),G.isVideoTexture&&h.delete(G)}function O(z){const G=z.target;G.removeEventListener("dispose",O),K(G)}function I(z){const G=r.get(z);if(G.__webglInit===void 0)return;const ge=z.source,He=m.get(ge);if(He){const Ve=He[G.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&U(z),Object.keys(He).length===0&&m.delete(ge)}r.remove(z)}function U(z){const G=r.get(z);t.deleteTexture(G.__webglTexture);const ge=z.source,He=m.get(ge);delete He[G.__cacheKey],o.memory.textures--}function K(z){const G=z.texture,ge=r.get(z),He=r.get(G);if(He.__webglTexture!==void 0&&(t.deleteTexture(He.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Ve=0;Ve<6;Ve++){if(Array.isArray(ge.__webglFramebuffer[Ve]))for(let ze=0;ze<ge.__webglFramebuffer[Ve].length;ze++)t.deleteFramebuffer(ge.__webglFramebuffer[Ve][ze]);else t.deleteFramebuffer(ge.__webglFramebuffer[Ve]);ge.__webglDepthbuffer&&t.deleteRenderbuffer(ge.__webglDepthbuffer[Ve])}else{if(Array.isArray(ge.__webglFramebuffer))for(let Ve=0;Ve<ge.__webglFramebuffer.length;Ve++)t.deleteFramebuffer(ge.__webglFramebuffer[Ve]);else t.deleteFramebuffer(ge.__webglFramebuffer);if(ge.__webglDepthbuffer&&t.deleteRenderbuffer(ge.__webglDepthbuffer),ge.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ge.__webglMultisampledFramebuffer),ge.__webglColorRenderbuffer)for(let Ve=0;Ve<ge.__webglColorRenderbuffer.length;Ve++)ge.__webglColorRenderbuffer[Ve]&&t.deleteRenderbuffer(ge.__webglColorRenderbuffer[Ve]);ge.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ge.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let Ve=0,ze=G.length;Ve<ze;Ve++){const ve=r.get(G[Ve]);ve.__webglTexture&&(t.deleteTexture(ve.__webglTexture),o.memory.textures--),r.remove(G[Ve])}r.remove(G),r.remove(z)}let $=0;function re(){$=0}function Y(){const z=$;return z>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+i.maxTextures),$+=1,z}function se(z){const G=[];return G.push(z.wrapS),G.push(z.wrapT),G.push(z.wrapR||0),G.push(z.magFilter),G.push(z.minFilter),G.push(z.anisotropy),G.push(z.internalFormat),G.push(z.format),G.push(z.type),G.push(z.generateMipmaps),G.push(z.premultiplyAlpha),G.push(z.flipY),G.push(z.unpackAlignment),G.push(z.colorSpace),G.join()}function oe(z,G){const ge=r.get(z);if(z.isVideoTexture&&at(z),z.isRenderTargetTexture===!1&&z.version>0&&ge.__version!==z.version){const He=z.image;if(He===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(He.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{be(ge,z,G);return}}n.bindTexture(t.TEXTURE_2D,ge.__webglTexture,t.TEXTURE0+G)}function le(z,G){const ge=r.get(z);if(z.version>0&&ge.__version!==z.version){be(ge,z,G);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ge.__webglTexture,t.TEXTURE0+G)}function H(z,G){const ge=r.get(z);if(z.version>0&&ge.__version!==z.version){be(ge,z,G);return}n.bindTexture(t.TEXTURE_3D,ge.__webglTexture,t.TEXTURE0+G)}function q(z,G){const ge=r.get(z);if(z.version>0&&ge.__version!==z.version){Ae(ge,z,G);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ge.__webglTexture,t.TEXTURE0+G)}const Q={[vd]:t.REPEAT,[es]:t.CLAMP_TO_EDGE,[wm]:t.MIRRORED_REPEAT},V={[Ur]:t.NEAREST,[Hx]:t.NEAREST_MIPMAP_NEAREST,[hm]:t.NEAREST_MIPMAP_LINEAR,[kr]:t.LINEAR,[X1]:t.LINEAR_MIPMAP_NEAREST,[Tl]:t.LINEAR_MIPMAP_LINEAR},ee={[KD]:t.NEVER,[QD]:t.ALWAYS,[XD]:t.LESS,[nM]:t.LEQUAL,[YD]:t.EQUAL,[$D]:t.GEQUAL,[JD]:t.GREATER,[qD]:t.NOTEQUAL};function ce(z,G,ge){if(ge?(t.texParameteri(z,t.TEXTURE_WRAP_S,Q[G.wrapS]),t.texParameteri(z,t.TEXTURE_WRAP_T,Q[G.wrapT]),(z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(z,t.TEXTURE_WRAP_R,Q[G.wrapR]),t.texParameteri(z,t.TEXTURE_MAG_FILTER,V[G.magFilter]),t.texParameteri(z,t.TEXTURE_MIN_FILTER,V[G.minFilter])):(t.texParameteri(z,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(z,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(z,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(G.wrapS!==es||G.wrapT!==es)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(z,t.TEXTURE_MAG_FILTER,k(G.magFilter)),t.texParameteri(z,t.TEXTURE_MIN_FILTER,k(G.minFilter)),G.minFilter!==Ur&&G.minFilter!==kr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),G.compareFunction&&(t.texParameteri(z,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(z,t.TEXTURE_COMPARE_FUNC,ee[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const He=e.get("EXT_texture_filter_anisotropic");if(G.magFilter===Ur||G.minFilter!==hm&&G.minFilter!==Tl||G.type===Ko&&e.has("OES_texture_float_linear")===!1||l===!1&&G.type===Sm&&e.has("OES_texture_half_float_linear")===!1)return;(G.anisotropy>1||r.get(G).__currentAnisotropy)&&(t.texParameterf(z,He.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,i.getMaxAnisotropy())),r.get(G).__currentAnisotropy=G.anisotropy)}}function ne(z,G){let ge=!1;z.__webglInit===void 0&&(z.__webglInit=!0,G.addEventListener("dispose",D));const He=G.source;let Ve=m.get(He);Ve===void 0&&(Ve={},m.set(He,Ve));const ze=se(G);if(ze!==z.__cacheKey){Ve[ze]===void 0&&(Ve[ze]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ge=!0),Ve[ze].usedTimes++;const ve=Ve[z.__cacheKey];ve!==void 0&&(Ve[z.__cacheKey].usedTimes--,ve.usedTimes===0&&U(G)),z.__cacheKey=ze,z.__webglTexture=Ve[ze].texture}return ge}function be(z,G,ge){let He=t.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(He=t.TEXTURE_2D_ARRAY),G.isData3DTexture&&(He=t.TEXTURE_3D);const Ve=ne(z,G),ze=G.source;n.bindTexture(He,z.__webglTexture,t.TEXTURE0+ge);const ve=r.get(ze);if(ze.version!==ve.__version||Ve===!0){n.activeTexture(t.TEXTURE0+ge);const Le=Un.getPrimaries(Un.workingColorSpace),nt=G.colorSpace===Na?null:Un.getPrimaries(G.colorSpace),Tt=G.colorSpace===Na||Le===nt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);const Kt=_(G)&&b(G.image)===!1;let Ke=S(G.image,Kt,!1,i.maxTextureSize);Ke=$e(G,Ke);const cn=b(Ke)||l,nn=s.convert(G.format,G.colorSpace);let zt=s.convert(G.type),jt=j(G.internalFormat,nn,zt,G.colorSpace,G.isVideoTexture);ce(He,G,cn);let vt;const Xt=G.mipmaps,gn=l&&G.isVideoTexture!==!0&&jt!==QC,Gn=ve.__version===void 0||Ve===!0,qt=R(G,Ke,cn);if(G.isDepthTexture)jt=t.DEPTH_COMPONENT,l?G.type===Ko?jt=t.DEPTH_COMPONENT32F:G.type===kc?jt=t.DEPTH_COMPONENT24:G.type===cd?jt=t.DEPTH24_STENCIL8:jt=t.DEPTH_COMPONENT16:G.type===Ko&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),G.format===ud&&jt===t.DEPTH_COMPONENT&&G.type!==Y1&&G.type!==kc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),G.type=kc,zt=s.convert(G.type)),G.format===af&&jt===t.DEPTH_COMPONENT&&(jt=t.DEPTH_STENCIL,G.type!==cd&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),G.type=cd,zt=s.convert(G.type))),Gn&&(gn?n.texStorage2D(t.TEXTURE_2D,1,jt,Ke.width,Ke.height):n.texImage2D(t.TEXTURE_2D,0,jt,Ke.width,Ke.height,0,nn,zt,null));else if(G.isDataTexture)if(Xt.length>0&&cn){gn&&Gn&&n.texStorage2D(t.TEXTURE_2D,qt,jt,Xt[0].width,Xt[0].height);for(let et=0,he=Xt.length;et<he;et++)vt=Xt[et],gn?n.texSubImage2D(t.TEXTURE_2D,et,0,0,vt.width,vt.height,nn,zt,vt.data):n.texImage2D(t.TEXTURE_2D,et,jt,vt.width,vt.height,0,nn,zt,vt.data);G.generateMipmaps=!1}else gn?(Gn&&n.texStorage2D(t.TEXTURE_2D,qt,jt,Ke.width,Ke.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ke.width,Ke.height,nn,zt,Ke.data)):n.texImage2D(t.TEXTURE_2D,0,jt,Ke.width,Ke.height,0,nn,zt,Ke.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){gn&&Gn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,qt,jt,Xt[0].width,Xt[0].height,Ke.depth);for(let et=0,he=Xt.length;et<he;et++)vt=Xt[et],G.format!==Ls?nn!==null?gn?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,et,0,0,0,vt.width,vt.height,Ke.depth,nn,vt.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,et,jt,vt.width,vt.height,Ke.depth,0,vt.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gn?n.texSubImage3D(t.TEXTURE_2D_ARRAY,et,0,0,0,vt.width,vt.height,Ke.depth,nn,zt,vt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,et,jt,vt.width,vt.height,Ke.depth,0,nn,zt,vt.data)}else{gn&&Gn&&n.texStorage2D(t.TEXTURE_2D,qt,jt,Xt[0].width,Xt[0].height);for(let et=0,he=Xt.length;et<he;et++)vt=Xt[et],G.format!==Ls?nn!==null?gn?n.compressedTexSubImage2D(t.TEXTURE_2D,et,0,0,vt.width,vt.height,nn,vt.data):n.compressedTexImage2D(t.TEXTURE_2D,et,jt,vt.width,vt.height,0,vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gn?n.texSubImage2D(t.TEXTURE_2D,et,0,0,vt.width,vt.height,nn,zt,vt.data):n.texImage2D(t.TEXTURE_2D,et,jt,vt.width,vt.height,0,nn,zt,vt.data)}else if(G.isDataArrayTexture)gn?(Gn&&n.texStorage3D(t.TEXTURE_2D_ARRAY,qt,jt,Ke.width,Ke.height,Ke.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ke.width,Ke.height,Ke.depth,nn,zt,Ke.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,jt,Ke.width,Ke.height,Ke.depth,0,nn,zt,Ke.data);else if(G.isData3DTexture)gn?(Gn&&n.texStorage3D(t.TEXTURE_3D,qt,jt,Ke.width,Ke.height,Ke.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ke.width,Ke.height,Ke.depth,nn,zt,Ke.data)):n.texImage3D(t.TEXTURE_3D,0,jt,Ke.width,Ke.height,Ke.depth,0,nn,zt,Ke.data);else if(G.isFramebufferTexture){if(Gn)if(gn)n.texStorage2D(t.TEXTURE_2D,qt,jt,Ke.width,Ke.height);else{let et=Ke.width,he=Ke.height;for(let rt=0;rt<qt;rt++)n.texImage2D(t.TEXTURE_2D,rt,jt,et,he,0,nn,zt,null),et>>=1,he>>=1}}else if(Xt.length>0&&cn){gn&&Gn&&n.texStorage2D(t.TEXTURE_2D,qt,jt,Xt[0].width,Xt[0].height);for(let et=0,he=Xt.length;et<he;et++)vt=Xt[et],gn?n.texSubImage2D(t.TEXTURE_2D,et,0,0,nn,zt,vt):n.texImage2D(t.TEXTURE_2D,et,jt,nn,zt,vt);G.generateMipmaps=!1}else gn?(Gn&&n.texStorage2D(t.TEXTURE_2D,qt,jt,Ke.width,Ke.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,nn,zt,Ke)):n.texImage2D(t.TEXTURE_2D,0,jt,nn,zt,Ke);E(G,cn)&&C(He),ve.__version=ze.version,G.onUpdate&&G.onUpdate(G)}z.__version=G.version}function Ae(z,G,ge){if(G.image.length!==6)return;const He=ne(z,G),Ve=G.source;n.bindTexture(t.TEXTURE_CUBE_MAP,z.__webglTexture,t.TEXTURE0+ge);const ze=r.get(Ve);if(Ve.version!==ze.__version||He===!0){n.activeTexture(t.TEXTURE0+ge);const ve=Un.getPrimaries(Un.workingColorSpace),Le=G.colorSpace===Na?null:Un.getPrimaries(G.colorSpace),nt=G.colorSpace===Na||ve===Le?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,nt);const Tt=G.isCompressedTexture||G.image[0].isCompressedTexture,Kt=G.image[0]&&G.image[0].isDataTexture,Ke=[];for(let et=0;et<6;et++)!Tt&&!Kt?Ke[et]=S(G.image[et],!1,!0,i.maxCubemapSize):Ke[et]=Kt?G.image[et].image:G.image[et],Ke[et]=$e(G,Ke[et]);const cn=Ke[0],nn=b(cn)||l,zt=s.convert(G.format,G.colorSpace),jt=s.convert(G.type),vt=j(G.internalFormat,zt,jt,G.colorSpace),Xt=l&&G.isVideoTexture!==!0,gn=ze.__version===void 0||He===!0;let Gn=R(G,cn,nn);ce(t.TEXTURE_CUBE_MAP,G,nn);let qt;if(Tt){Xt&&gn&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Gn,vt,cn.width,cn.height);for(let et=0;et<6;et++){qt=Ke[et].mipmaps;for(let he=0;he<qt.length;he++){const rt=qt[he];G.format!==Ls?zt!==null?Xt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,he,0,0,rt.width,rt.height,zt,rt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,he,vt,rt.width,rt.height,0,rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Xt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,he,0,0,rt.width,rt.height,zt,jt,rt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,he,vt,rt.width,rt.height,0,zt,jt,rt.data)}}}else{qt=G.mipmaps,Xt&&gn&&(qt.length>0&&Gn++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Gn,vt,Ke[0].width,Ke[0].height));for(let et=0;et<6;et++)if(Kt){Xt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,0,0,Ke[et].width,Ke[et].height,zt,jt,Ke[et].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,vt,Ke[et].width,Ke[et].height,0,zt,jt,Ke[et].data);for(let he=0;he<qt.length;he++){const st=qt[he].image[et].image;Xt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,he+1,0,0,st.width,st.height,zt,jt,st.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,he+1,vt,st.width,st.height,0,zt,jt,st.data)}}else{Xt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,0,0,zt,jt,Ke[et]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,0,vt,zt,jt,Ke[et]);for(let he=0;he<qt.length;he++){const rt=qt[he];Xt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,he+1,0,0,zt,jt,rt.image[et]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+et,he+1,vt,zt,jt,rt.image[et])}}}E(G,nn)&&C(t.TEXTURE_CUBE_MAP),ze.__version=Ve.version,G.onUpdate&&G.onUpdate(G)}z.__version=G.version}function Se(z,G,ge,He,Ve,ze){const ve=s.convert(ge.format,ge.colorSpace),Le=s.convert(ge.type),nt=j(ge.internalFormat,ve,Le,ge.colorSpace);if(!r.get(G).__hasExternalTextures){const Kt=Math.max(1,G.width>>ze),Ke=Math.max(1,G.height>>ze);Ve===t.TEXTURE_3D||Ve===t.TEXTURE_2D_ARRAY?n.texImage3D(Ve,ze,nt,Kt,Ke,G.depth,0,ve,Le,null):n.texImage2D(Ve,ze,nt,Kt,Ke,0,ve,Le,null)}n.bindFramebuffer(t.FRAMEBUFFER,z),ke(G)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,He,Ve,r.get(ge).__webglTexture,0,Ie(G)):(Ve===t.TEXTURE_2D||Ve>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,He,Ve,r.get(ge).__webglTexture,ze),n.bindFramebuffer(t.FRAMEBUFFER,null)}function pe(z,G,ge){if(t.bindRenderbuffer(t.RENDERBUFFER,z),G.depthBuffer&&!G.stencilBuffer){let He=l===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ge||ke(G)){const Ve=G.depthTexture;Ve&&Ve.isDepthTexture&&(Ve.type===Ko?He=t.DEPTH_COMPONENT32F:Ve.type===kc&&(He=t.DEPTH_COMPONENT24));const ze=Ie(G);ke(G)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ze,He,G.width,G.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,He,G.width,G.height)}else t.renderbufferStorage(t.RENDERBUFFER,He,G.width,G.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,z)}else if(G.depthBuffer&&G.stencilBuffer){const He=Ie(G);ge&&ke(G)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,He,t.DEPTH24_STENCIL8,G.width,G.height):ke(G)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,t.DEPTH24_STENCIL8,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,z)}else{const He=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let Ve=0;Ve<He.length;Ve++){const ze=He[Ve],ve=s.convert(ze.format,ze.colorSpace),Le=s.convert(ze.type),nt=j(ze.internalFormat,ve,Le,ze.colorSpace),Tt=Ie(G);ge&&ke(G)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Tt,nt,G.width,G.height):ke(G)?c.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Tt,nt,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,nt,G.width,G.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function X(z,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,z),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(G.depthTexture).__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),oe(G.depthTexture,0);const He=r.get(G.depthTexture).__webglTexture,Ve=Ie(G);if(G.depthTexture.format===ud)ke(G)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,He,0,Ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,He,0);else if(G.depthTexture.format===af)ke(G)?c.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,He,0,Ve):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,He,0);else throw new Error("Unknown depthTexture format")}function Ce(z){const G=r.get(z),ge=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!G.__autoAllocateDepthBuffer){if(ge)throw new Error("target.depthTexture not supported in Cube render targets");X(G.__webglFramebuffer,z)}else if(ge){G.__webglDepthbuffer=[];for(let He=0;He<6;He++)n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[He]),G.__webglDepthbuffer[He]=t.createRenderbuffer(),pe(G.__webglDepthbuffer[He],z,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer=t.createRenderbuffer(),pe(G.__webglDepthbuffer,z,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ge(z,G,ge){const He=r.get(z);G!==void 0&&Se(He.__webglFramebuffer,z,z.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ge!==void 0&&Ce(z)}function J(z){const G=z.texture,ge=r.get(z),He=r.get(G);z.addEventListener("dispose",O),z.isWebGLMultipleRenderTargets!==!0&&(He.__webglTexture===void 0&&(He.__webglTexture=t.createTexture()),He.__version=G.version,o.memory.textures++);const Ve=z.isWebGLCubeRenderTarget===!0,ze=z.isWebGLMultipleRenderTargets===!0,ve=b(z)||l;if(Ve){ge.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)if(l&&G.mipmaps&&G.mipmaps.length>0){ge.__webglFramebuffer[Le]=[];for(let nt=0;nt<G.mipmaps.length;nt++)ge.__webglFramebuffer[Le][nt]=t.createFramebuffer()}else ge.__webglFramebuffer[Le]=t.createFramebuffer()}else{if(l&&G.mipmaps&&G.mipmaps.length>0){ge.__webglFramebuffer=[];for(let Le=0;Le<G.mipmaps.length;Le++)ge.__webglFramebuffer[Le]=t.createFramebuffer()}else ge.__webglFramebuffer=t.createFramebuffer();if(ze)if(i.drawBuffers){const Le=z.texture;for(let nt=0,Tt=Le.length;nt<Tt;nt++){const Kt=r.get(Le[nt]);Kt.__webglTexture===void 0&&(Kt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&z.samples>0&&ke(z)===!1){const Le=ze?G:[G];ge.__webglMultisampledFramebuffer=t.createFramebuffer(),ge.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ge.__webglMultisampledFramebuffer);for(let nt=0;nt<Le.length;nt++){const Tt=Le[nt];ge.__webglColorRenderbuffer[nt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ge.__webglColorRenderbuffer[nt]);const Kt=s.convert(Tt.format,Tt.colorSpace),Ke=s.convert(Tt.type),cn=j(Tt.internalFormat,Kt,Ke,Tt.colorSpace,z.isXRRenderTarget===!0),nn=Ie(z);t.renderbufferStorageMultisample(t.RENDERBUFFER,nn,cn,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+nt,t.RENDERBUFFER,ge.__webglColorRenderbuffer[nt])}t.bindRenderbuffer(t.RENDERBUFFER,null),z.depthBuffer&&(ge.__webglDepthRenderbuffer=t.createRenderbuffer(),pe(ge.__webglDepthRenderbuffer,z,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ve){n.bindTexture(t.TEXTURE_CUBE_MAP,He.__webglTexture),ce(t.TEXTURE_CUBE_MAP,G,ve);for(let Le=0;Le<6;Le++)if(l&&G.mipmaps&&G.mipmaps.length>0)for(let nt=0;nt<G.mipmaps.length;nt++)Se(ge.__webglFramebuffer[Le][nt],z,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,nt);else Se(ge.__webglFramebuffer[Le],z,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0);E(G,ve)&&C(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ze){const Le=z.texture;for(let nt=0,Tt=Le.length;nt<Tt;nt++){const Kt=Le[nt],Ke=r.get(Kt);n.bindTexture(t.TEXTURE_2D,Ke.__webglTexture),ce(t.TEXTURE_2D,Kt,ve),Se(ge.__webglFramebuffer,z,Kt,t.COLOR_ATTACHMENT0+nt,t.TEXTURE_2D,0),E(Kt,ve)&&C(t.TEXTURE_2D)}n.unbindTexture()}else{let Le=t.TEXTURE_2D;if((z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(l?Le=z.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Le,He.__webglTexture),ce(Le,G,ve),l&&G.mipmaps&&G.mipmaps.length>0)for(let nt=0;nt<G.mipmaps.length;nt++)Se(ge.__webglFramebuffer[nt],z,G,t.COLOR_ATTACHMENT0,Le,nt);else Se(ge.__webglFramebuffer,z,G,t.COLOR_ATTACHMENT0,Le,0);E(G,ve)&&C(Le),n.unbindTexture()}z.depthBuffer&&Ce(z)}function ue(z){const G=b(z)||l,ge=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let He=0,Ve=ge.length;He<Ve;He++){const ze=ge[He];if(E(ze,G)){const ve=z.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Le=r.get(ze).__webglTexture;n.bindTexture(ve,Le),C(ve),n.unbindTexture()}}}function fe(z){if(l&&z.samples>0&&ke(z)===!1){const G=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],ge=z.width,He=z.height;let Ve=t.COLOR_BUFFER_BIT;const ze=[],ve=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Le=r.get(z),nt=z.isWebGLMultipleRenderTargets===!0;if(nt)for(let Tt=0;Tt<G.length;Tt++)n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Le.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Le.__webglFramebuffer);for(let Tt=0;Tt<G.length;Tt++){ze.push(t.COLOR_ATTACHMENT0+Tt),z.depthBuffer&&ze.push(ve);const Kt=Le.__ignoreDepthValues!==void 0?Le.__ignoreDepthValues:!1;if(Kt===!1&&(z.depthBuffer&&(Ve|=t.DEPTH_BUFFER_BIT),z.stencilBuffer&&(Ve|=t.STENCIL_BUFFER_BIT)),nt&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Le.__webglColorRenderbuffer[Tt]),Kt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ve]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ve])),nt){const Ke=r.get(G[Tt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ke,0)}t.blitFramebuffer(0,0,ge,He,0,0,ge,He,Ve,t.NEAREST),u&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ze)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),nt)for(let Tt=0;Tt<G.length;Tt++){n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.RENDERBUFFER,Le.__webglColorRenderbuffer[Tt]);const Kt=r.get(G[Tt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Le.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.TEXTURE_2D,Kt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Le.__webglMultisampledFramebuffer)}}function Ie(z){return Math.min(i.maxSamples,z.samples)}function ke(z){const G=r.get(z);return l&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function at(z){const G=o.render.frame;h.get(z)!==G&&(h.set(z,G),z.update())}function $e(z,G){const ge=z.colorSpace,He=z.format,Ve=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===Lb||ge!==jl&&ge!==Na&&(Un.getTransfer(ge)===sr?l===!1?e.has("EXT_sRGB")===!0&&He===Ls?(z.format=Lb,z.minFilter=kr,z.generateMipmaps=!1):G=iM.sRGBToLinear(G):(He!==Ls||Ve!==_l)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ge)),G}this.allocateTextureUnit=Y,this.resetTextureUnits=re,this.setTexture2D=oe,this.setTexture2DArray=le,this.setTexture3D=H,this.setTextureCube=q,this.rebindTextures=Ge,this.setupRenderTarget=J,this.updateRenderTargetMipmap=ue,this.updateMultisampleRenderTarget=fe,this.setupDepthRenderbuffer=Ce,this.setupFrameBufferTexture=Se,this.useMultisampledRTT=ke}function pI(t,e,n){const r=n.isWebGL2;function i(s,o=Na){let l;const c=Un.getTransfer(o);if(s===_l)return t.UNSIGNED_BYTE;if(s===XC)return t.UNSIGNED_SHORT_4_4_4_4;if(s===YC)return t.UNSIGNED_SHORT_5_5_5_1;if(s===kD)return t.BYTE;if(s===PD)return t.SHORT;if(s===Y1)return t.UNSIGNED_SHORT;if(s===KC)return t.INT;if(s===kc)return t.UNSIGNED_INT;if(s===Ko)return t.FLOAT;if(s===Sm)return r?t.HALF_FLOAT:(l=e.get("OES_texture_half_float"),l!==null?l.HALF_FLOAT_OES:null);if(s===RD)return t.ALPHA;if(s===Ls)return t.RGBA;if(s===FD)return t.LUMINANCE;if(s===BD)return t.LUMINANCE_ALPHA;if(s===ud)return t.DEPTH_COMPONENT;if(s===af)return t.DEPTH_STENCIL;if(s===Lb)return l=e.get("EXT_sRGB"),l!==null?l.SRGB_ALPHA_EXT:null;if(s===DD)return t.RED;if(s===JC)return t.RED_INTEGER;if(s===ID)return t.RG;if(s===qC)return t.RG_INTEGER;if(s===$C)return t.RGBA_INTEGER;if(s===gb||s===xb||s===vb||s===yb)if(c===sr)if(l=e.get("WEBGL_compressed_texture_s3tc_srgb"),l!==null){if(s===gb)return l.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===xb)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===vb)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===yb)return l.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(l=e.get("WEBGL_compressed_texture_s3tc"),l!==null){if(s===gb)return l.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===xb)return l.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===vb)return l.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===yb)return l.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===qA||s===$A||s===QA||s===ZA)if(l=e.get("WEBGL_compressed_texture_pvrtc"),l!==null){if(s===qA)return l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===$A)return l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===QA)return l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===ZA)return l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===QC)return l=e.get("WEBGL_compressed_texture_etc1"),l!==null?l.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===eE||s===tE)if(l=e.get("WEBGL_compressed_texture_etc"),l!==null){if(s===eE)return c===sr?l.COMPRESSED_SRGB8_ETC2:l.COMPRESSED_RGB8_ETC2;if(s===tE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:l.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===nE||s===rE||s===iE||s===sE||s===aE||s===oE||s===lE||s===cE||s===uE||s===dE||s===hE||s===fE||s===pE||s===mE)if(l=e.get("WEBGL_compressed_texture_astc"),l!==null){if(s===nE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:l.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===rE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:l.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===iE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:l.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===sE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:l.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===aE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:l.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===oE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:l.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===lE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:l.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===cE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:l.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===uE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:l.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===dE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:l.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===hE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:l.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===fE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:l.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===pE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:l.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===mE)return c===sr?l.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:l.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===bb||s===gE||s===xE)if(l=e.get("EXT_texture_compression_bptc"),l!==null){if(s===bb)return c===sr?l.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:l.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===gE)return l.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===xE)return l.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===LD||s===vE||s===yE||s===bE)if(l=e.get("EXT_texture_compression_rgtc"),l!==null){if(s===bb)return l.COMPRESSED_RED_RGTC1_EXT;if(s===vE)return l.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===yE)return l.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===bE)return l.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===cd?r?t.UNSIGNED_INT_24_8:(l=e.get("WEBGL_depth_texture"),l!==null?l.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class mI extends Si{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Pc extends _n{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cX={type:"move"};class _S{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Pc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Pc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new te,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new te),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Pc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new te,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new te),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const l=this._targetRay,c=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const S of e.hand.values()){const b=n.getJointPose(S,r),_=this._getHandJoint(u,S);b!==null&&(_.matrix.fromArray(b.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=b.radius),_.visible=b!==null}const h=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],m=h.position.distanceTo(f.position),v=.02,y=.005;u.inputState.pinching&&m>v+y?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=v-y&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(c.matrix.fromArray(s.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,s.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(s.linearVelocity)):c.hasLinearVelocity=!1,s.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(s.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(l.matrix.fromArray(i.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,i.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(i.linearVelocity)):l.hasLinearVelocity=!1,i.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(i.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(cX)))}return l!==null&&(l.visible=i!==null),c!==null&&(c.visible=s!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Pc;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class uX extends ru{constructor(e,n){super();const r=this;let i=null,s=1,o=null,l="local-floor",c=1,u=null,h=null,f=null,m=null,v=null,y=null;const S=n.getContextAttributes();let b=null,_=null;const E=[],C=[],j=new We;let R=null;const k=new Si;k.layers.enable(1),k.viewport=new Hn;const D=new Si;D.layers.enable(2),D.viewport=new Hn;const O=[k,D],I=new mI;I.layers.enable(1),I.layers.enable(2);let U=null,K=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ce){let ne=E[ce];return ne===void 0&&(ne=new _S,E[ce]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(ce){let ne=E[ce];return ne===void 0&&(ne=new _S,E[ce]=ne),ne.getGripSpace()},this.getHand=function(ce){let ne=E[ce];return ne===void 0&&(ne=new _S,E[ce]=ne),ne.getHandSpace()};function $(ce){const ne=C.indexOf(ce.inputSource);if(ne===-1)return;const be=E[ne];be!==void 0&&(be.update(ce.inputSource,ce.frame,u||o),be.dispatchEvent({type:ce.type,data:ce.inputSource}))}function re(){i.removeEventListener("select",$),i.removeEventListener("selectstart",$),i.removeEventListener("selectend",$),i.removeEventListener("squeeze",$),i.removeEventListener("squeezestart",$),i.removeEventListener("squeezeend",$),i.removeEventListener("end",re),i.removeEventListener("inputsourceschange",Y);for(let ce=0;ce<E.length;ce++){const ne=C[ce];ne!==null&&(C[ce]=null,E[ce].disconnect(ne))}U=null,K=null,e.setRenderTarget(b),v=null,m=null,f=null,i=null,_=null,ee.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(j.width,j.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ce){s=ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ce){l=ce,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(ce){u=ce},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(ce){if(i=ce,i!==null){if(b=e.getRenderTarget(),i.addEventListener("select",$),i.addEventListener("selectstart",$),i.addEventListener("selectend",$),i.addEventListener("squeeze",$),i.addEventListener("squeezestart",$),i.addEventListener("squeezeend",$),i.addEventListener("end",re),i.addEventListener("inputsourceschange",Y),S.xrCompatible!==!0&&await n.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(j),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ne={antialias:i.renderState.layers===void 0?S.antialias:!0,alpha:!0,depth:S.depth,stencil:S.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(i,n,ne),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),_=new qo(v.framebufferWidth,v.framebufferHeight,{format:Ls,type:_l,colorSpace:e.outputColorSpace,stencilBuffer:S.stencil})}else{let ne=null,be=null,Ae=null;S.depth&&(Ae=S.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ne=S.stencil?af:ud,be=S.stencil?cd:kc);const Se={colorFormat:n.RGBA8,depthFormat:Ae,scaleFactor:s};f=new XRWebGLBinding(i,n),m=f.createProjectionLayer(Se),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),_=new qo(m.textureWidth,m.textureHeight,{format:Ls,type:_l,depthTexture:new cM(m.textureWidth,m.textureHeight,be,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:S.stencil,colorSpace:e.outputColorSpace,samples:S.antialias?4:0});const pe=e.properties.get(_);pe.__ignoreDepthValues=m.ignoreDepthValues}_.isXRRenderTarget=!0,this.setFoveation(c),u=null,o=await i.requestReferenceSpace(l),ee.setContext(i),ee.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function Y(ce){for(let ne=0;ne<ce.removed.length;ne++){const be=ce.removed[ne],Ae=C.indexOf(be);Ae>=0&&(C[Ae]=null,E[Ae].disconnect(be))}for(let ne=0;ne<ce.added.length;ne++){const be=ce.added[ne];let Ae=C.indexOf(be);if(Ae===-1){for(let pe=0;pe<E.length;pe++)if(pe>=C.length){C.push(be),Ae=pe;break}else if(C[pe]===null){C[pe]=be,Ae=pe;break}if(Ae===-1)break}const Se=E[Ae];Se&&Se.connect(be)}}const se=new te,oe=new te;function le(ce,ne,be){se.setFromMatrixPosition(ne.matrixWorld),oe.setFromMatrixPosition(be.matrixWorld);const Ae=se.distanceTo(oe),Se=ne.projectionMatrix.elements,pe=be.projectionMatrix.elements,X=Se[14]/(Se[10]-1),Ce=Se[14]/(Se[10]+1),Ge=(Se[9]+1)/Se[5],J=(Se[9]-1)/Se[5],ue=(Se[8]-1)/Se[0],fe=(pe[8]+1)/pe[0],Ie=X*ue,ke=X*fe,at=Ae/(-ue+fe),$e=at*-ue;ne.matrixWorld.decompose(ce.position,ce.quaternion,ce.scale),ce.translateX($e),ce.translateZ(at),ce.matrixWorld.compose(ce.position,ce.quaternion,ce.scale),ce.matrixWorldInverse.copy(ce.matrixWorld).invert();const z=X+at,G=Ce+at,ge=Ie-$e,He=ke+(Ae-$e),Ve=Ge*Ce/G*z,ze=J*Ce/G*z;ce.projectionMatrix.makePerspective(ge,He,Ve,ze,z,G),ce.projectionMatrixInverse.copy(ce.projectionMatrix).invert()}function H(ce,ne){ne===null?ce.matrixWorld.copy(ce.matrix):ce.matrixWorld.multiplyMatrices(ne.matrixWorld,ce.matrix),ce.matrixWorldInverse.copy(ce.matrixWorld).invert()}this.updateCamera=function(ce){if(i===null)return;I.near=D.near=k.near=ce.near,I.far=D.far=k.far=ce.far,(U!==I.near||K!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),U=I.near,K=I.far);const ne=ce.parent,be=I.cameras;H(I,ne);for(let Ae=0;Ae<be.length;Ae++)H(be[Ae],ne);be.length===2?le(I,k,D):I.projectionMatrix.copy(k.projectionMatrix),q(ce,I,ne)};function q(ce,ne,be){be===null?ce.matrix.copy(ne.matrixWorld):(ce.matrix.copy(be.matrixWorld),ce.matrix.invert(),ce.matrix.multiply(ne.matrixWorld)),ce.matrix.decompose(ce.position,ce.quaternion,ce.scale),ce.updateMatrixWorld(!0),ce.projectionMatrix.copy(ne.projectionMatrix),ce.projectionMatrixInverse.copy(ne.projectionMatrixInverse),ce.isPerspectiveCamera&&(ce.fov=Em*2*Math.atan(1/ce.projectionMatrix.elements[5]),ce.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(m===null&&v===null))return c},this.setFoveation=function(ce){c=ce,m!==null&&(m.fixedFoveation=ce),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=ce)};let Q=null;function V(ce,ne){if(h=ne.getViewerPose(u||o),y=ne,h!==null){const be=h.views;v!==null&&(e.setRenderTargetFramebuffer(_,v.framebuffer),e.setRenderTarget(_));let Ae=!1;be.length!==I.cameras.length&&(I.cameras.length=0,Ae=!0);for(let Se=0;Se<be.length;Se++){const pe=be[Se];let X=null;if(v!==null)X=v.getViewport(pe);else{const Ge=f.getViewSubImage(m,pe);X=Ge.viewport,Se===0&&(e.setRenderTargetTextures(_,Ge.colorTexture,m.ignoreDepthValues?void 0:Ge.depthStencilTexture),e.setRenderTarget(_))}let Ce=O[Se];Ce===void 0&&(Ce=new Si,Ce.layers.enable(Se),Ce.viewport=new Hn,O[Se]=Ce),Ce.matrix.fromArray(pe.transform.matrix),Ce.matrix.decompose(Ce.position,Ce.quaternion,Ce.scale),Ce.projectionMatrix.fromArray(pe.projectionMatrix),Ce.projectionMatrixInverse.copy(Ce.projectionMatrix).invert(),Ce.viewport.set(X.x,X.y,X.width,X.height),Se===0&&(I.matrix.copy(Ce.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),Ae===!0&&I.cameras.push(Ce)}}for(let be=0;be<E.length;be++){const Ae=C[be],Se=E[be];Ae!==null&&Se!==void 0&&Se.update(Ae,ne,u||o)}Q&&Q(ce,ne),ne.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ne}),y=null}const ee=new lI;ee.setAnimationLoop(V),this.setAnimationLoop=function(ce){Q=ce},this.dispose=function(){}}}function dX(t,e){function n(b,_){b.matrixAutoUpdate===!0&&b.updateMatrix(),_.value.copy(b.matrix)}function r(b,_){_.color.getRGB(b.fogColor.value,iI(t)),_.isFog?(b.fogNear.value=_.near,b.fogFar.value=_.far):_.isFogExp2&&(b.fogDensity.value=_.density)}function i(b,_,E,C,j){_.isMeshBasicMaterial||_.isMeshLambertMaterial?s(b,_):_.isMeshToonMaterial?(s(b,_),f(b,_)):_.isMeshPhongMaterial?(s(b,_),h(b,_)):_.isMeshStandardMaterial?(s(b,_),m(b,_),_.isMeshPhysicalMaterial&&v(b,_,j)):_.isMeshMatcapMaterial?(s(b,_),y(b,_)):_.isMeshDepthMaterial?s(b,_):_.isMeshDistanceMaterial?(s(b,_),S(b,_)):_.isMeshNormalMaterial?s(b,_):_.isLineBasicMaterial?(o(b,_),_.isLineDashedMaterial&&l(b,_)):_.isPointsMaterial?c(b,_,E,C):_.isSpriteMaterial?u(b,_):_.isShadowMaterial?(b.color.value.copy(_.color),b.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function s(b,_){b.opacity.value=_.opacity,_.color&&b.diffuse.value.copy(_.color),_.emissive&&b.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(b.map.value=_.map,n(_.map,b.mapTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,n(_.alphaMap,b.alphaMapTransform)),_.bumpMap&&(b.bumpMap.value=_.bumpMap,n(_.bumpMap,b.bumpMapTransform),b.bumpScale.value=_.bumpScale,_.side===Us&&(b.bumpScale.value*=-1)),_.normalMap&&(b.normalMap.value=_.normalMap,n(_.normalMap,b.normalMapTransform),b.normalScale.value.copy(_.normalScale),_.side===Us&&b.normalScale.value.negate()),_.displacementMap&&(b.displacementMap.value=_.displacementMap,n(_.displacementMap,b.displacementMapTransform),b.displacementScale.value=_.displacementScale,b.displacementBias.value=_.displacementBias),_.emissiveMap&&(b.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,b.emissiveMapTransform)),_.specularMap&&(b.specularMap.value=_.specularMap,n(_.specularMap,b.specularMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest);const E=e.get(_).envMap;if(E&&(b.envMap.value=E,b.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=_.reflectivity,b.ior.value=_.ior,b.refractionRatio.value=_.refractionRatio),_.lightMap){b.lightMap.value=_.lightMap;const C=t._useLegacyLights===!0?Math.PI:1;b.lightMapIntensity.value=_.lightMapIntensity*C,n(_.lightMap,b.lightMapTransform)}_.aoMap&&(b.aoMap.value=_.aoMap,b.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,b.aoMapTransform))}function o(b,_){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,_.map&&(b.map.value=_.map,n(_.map,b.mapTransform))}function l(b,_){b.dashSize.value=_.dashSize,b.totalSize.value=_.dashSize+_.gapSize,b.scale.value=_.scale}function c(b,_,E,C){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,b.size.value=_.size*E,b.scale.value=C*.5,_.map&&(b.map.value=_.map,n(_.map,b.uvTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,n(_.alphaMap,b.alphaMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest)}function u(b,_){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,b.rotation.value=_.rotation,_.map&&(b.map.value=_.map,n(_.map,b.mapTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,n(_.alphaMap,b.alphaMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest)}function h(b,_){b.specular.value.copy(_.specular),b.shininess.value=Math.max(_.shininess,1e-4)}function f(b,_){_.gradientMap&&(b.gradientMap.value=_.gradientMap)}function m(b,_){b.metalness.value=_.metalness,_.metalnessMap&&(b.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,b.metalnessMapTransform)),b.roughness.value=_.roughness,_.roughnessMap&&(b.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,b.roughnessMapTransform)),e.get(_).envMap&&(b.envMapIntensity.value=_.envMapIntensity)}function v(b,_,E){b.ior.value=_.ior,_.sheen>0&&(b.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),b.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(b.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,b.sheenColorMapTransform)),_.sheenRoughnessMap&&(b.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,b.sheenRoughnessMapTransform))),_.clearcoat>0&&(b.clearcoat.value=_.clearcoat,b.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(b.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,b.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(b.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Us&&b.clearcoatNormalScale.value.negate())),_.iridescence>0&&(b.iridescence.value=_.iridescence,b.iridescenceIOR.value=_.iridescenceIOR,b.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(b.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,b.iridescenceMapTransform)),_.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),_.transmission>0&&(b.transmission.value=_.transmission,b.transmissionSamplerMap.value=E.texture,b.transmissionSamplerSize.value.set(E.width,E.height),_.transmissionMap&&(b.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,b.transmissionMapTransform)),b.thickness.value=_.thickness,_.thicknessMap&&(b.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=_.attenuationDistance,b.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(b.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(b.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=_.specularIntensity,b.specularColor.value.copy(_.specularColor),_.specularColorMap&&(b.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,b.specularColorMapTransform)),_.specularIntensityMap&&(b.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,b.specularIntensityMapTransform))}function y(b,_){_.matcap&&(b.matcap.value=_.matcap)}function S(b,_){const E=e.get(_).light;b.referencePosition.value.setFromMatrixPosition(E.matrixWorld),b.nearDistance.value=E.shadow.camera.near,b.farDistance.value=E.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function hX(t,e,n,r){let i={},s={},o=[];const l=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function c(E,C){const j=C.program;r.uniformBlockBinding(E,j)}function u(E,C){let j=i[E.id];j===void 0&&(y(E),j=h(E),i[E.id]=j,E.addEventListener("dispose",b));const R=C.program;r.updateUBOMapping(E,R);const k=e.render.frame;s[E.id]!==k&&(m(E),s[E.id]=k)}function h(E){const C=f();E.__bindingPointIndex=C;const j=t.createBuffer(),R=E.__size,k=E.usage;return t.bindBuffer(t.UNIFORM_BUFFER,j),t.bufferData(t.UNIFORM_BUFFER,R,k),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,C,j),j}function f(){for(let E=0;E<l;E++)if(o.indexOf(E)===-1)return o.push(E),E;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(E){const C=i[E.id],j=E.uniforms,R=E.__cache;t.bindBuffer(t.UNIFORM_BUFFER,C);for(let k=0,D=j.length;k<D;k++){const O=Array.isArray(j[k])?j[k]:[j[k]];for(let I=0,U=O.length;I<U;I++){const K=O[I];if(v(K,k,I,R)===!0){const $=K.__offset,re=Array.isArray(K.value)?K.value:[K.value];let Y=0;for(let se=0;se<re.length;se++){const oe=re[se],le=S(oe);typeof oe=="number"||typeof oe=="boolean"?(K.__data[0]=oe,t.bufferSubData(t.UNIFORM_BUFFER,$+Y,K.__data)):oe.isMatrix3?(K.__data[0]=oe.elements[0],K.__data[1]=oe.elements[1],K.__data[2]=oe.elements[2],K.__data[3]=0,K.__data[4]=oe.elements[3],K.__data[5]=oe.elements[4],K.__data[6]=oe.elements[5],K.__data[7]=0,K.__data[8]=oe.elements[6],K.__data[9]=oe.elements[7],K.__data[10]=oe.elements[8],K.__data[11]=0):(oe.toArray(K.__data,Y),Y+=le.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,$,K.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function v(E,C,j,R){const k=E.value,D=C+"_"+j;if(R[D]===void 0)return typeof k=="number"||typeof k=="boolean"?R[D]=k:R[D]=k.clone(),!0;{const O=R[D];if(typeof k=="number"||typeof k=="boolean"){if(O!==k)return R[D]=k,!0}else if(O.equals(k)===!1)return O.copy(k),!0}return!1}function y(E){const C=E.uniforms;let j=0;const R=16;for(let D=0,O=C.length;D<O;D++){const I=Array.isArray(C[D])?C[D]:[C[D]];for(let U=0,K=I.length;U<K;U++){const $=I[U],re=Array.isArray($.value)?$.value:[$.value];for(let Y=0,se=re.length;Y<se;Y++){const oe=re[Y],le=S(oe),H=j%R;H!==0&&R-H<le.boundary&&(j+=R-H),$.__data=new Float32Array(le.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=j,j+=le.storage}}}const k=j%R;return k>0&&(j+=R-k),E.__size=j,E.__cache={},this}function S(E){const C={boundary:0,storage:0};return typeof E=="number"||typeof E=="boolean"?(C.boundary=4,C.storage=4):E.isVector2?(C.boundary=8,C.storage=8):E.isVector3||E.isColor?(C.boundary=16,C.storage=12):E.isVector4?(C.boundary=16,C.storage=16):E.isMatrix3?(C.boundary=48,C.storage=48):E.isMatrix4?(C.boundary=64,C.storage=64):E.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",E),C}function b(E){const C=E.target;C.removeEventListener("dispose",b);const j=o.indexOf(C.__bindingPointIndex);o.splice(j,1),t.deleteBuffer(i[C.id]),delete i[C.id],delete s[C.id]}function _(){for(const E in i)t.deleteBuffer(i[E]);o=[],i={},s={}}return{bind:c,update:u,dispose:_}}class hM{constructor(e={}){const{canvas:n=tI(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:l=!1,premultipliedAlpha:c=!0,preserveDrawingBuffer:u=!1,powerPreference:h="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let m;r!==null?m=r.getContextAttributes().alpha:m=o;const v=new Uint32Array(4),y=new Int32Array(4);let S=null,b=null;const _=[],E=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=wi,this._useLegacyLights=!1,this.toneMapping=Sl,this.toneMappingExposure=1;const C=this;let j=!1,R=0,k=0,D=null,O=-1,I=null;const U=new Hn,K=new Hn;let $=null;const re=new lt(0);let Y=0,se=n.width,oe=n.height,le=1,H=null,q=null;const Q=new Hn(0,0,se,oe),V=new Hn(0,0,se,oe);let ee=!1;const ce=new N0;let ne=!1,be=!1,Ae=null;const Se=new Ot,pe=new We,X=new te,Ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ge(){return D===null?le:1}let J=r;function ue(Z,we){for(let Pe=0;Pe<Z.length;Pe++){const Fe=Z[Pe],Te=n.getContext(Fe,we);if(Te!==null)return Te}return null}try{const Z={alpha:!0,depth:i,stencil:s,antialias:l,premultipliedAlpha:c,preserveDrawingBuffer:u,powerPreference:h,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${S0}`),n.addEventListener("webglcontextlost",et,!1),n.addEventListener("webglcontextrestored",he,!1),n.addEventListener("webglcontextcreationerror",rt,!1),J===null){const we=["webgl2","webgl","experimental-webgl"];if(C.isWebGL1Renderer===!0&&we.shift(),J=ue(we,Z),J===null)throw ue(we)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&J instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),J.getShaderPrecisionFormat===void 0&&(J.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Z){throw console.error("THREE.WebGLRenderer: "+Z.message),Z}let fe,Ie,ke,at,$e,z,G,ge,He,Ve,ze,ve,Le,nt,Tt,Kt,Ke,cn,nn,zt,jt,vt,Xt,gn;function Gn(){fe=new CV(J),Ie=new bV(J,fe,e),fe.init(Ie),vt=new pI(J,fe,Ie),ke=new oX(J,fe,Ie),at=new TV(J),$e=new JK,z=new lX(J,fe,ke,$e,Ie,vt,at),G=new SV(C),ge=new EV(C),He=new IH(J,Ie),Xt=new vV(J,fe,He,Ie),Ve=new MV(J,He,at,Xt),ze=new RV(J,Ve,He,at),nn=new PV(J,Ie,z),Kt=new wV($e),ve=new YK(C,G,ge,fe,Ie,Xt,Kt),Le=new dX(C,$e),nt=new $K,Tt=new rX(fe,Ie),cn=new xV(C,G,ge,ke,ze,m,c),Ke=new aX(C,ze,Ie),gn=new hX(J,at,Ie,ke),zt=new yV(J,fe,at,Ie),jt=new NV(J,fe,at,Ie),at.programs=ve.programs,C.capabilities=Ie,C.extensions=fe,C.properties=$e,C.renderLists=nt,C.shadowMap=Ke,C.state=ke,C.info=at}Gn();const qt=new uX(C,J);this.xr=qt,this.getContext=function(){return J},this.getContextAttributes=function(){return J.getContextAttributes()},this.forceContextLoss=function(){const Z=fe.get("WEBGL_lose_context");Z&&Z.loseContext()},this.forceContextRestore=function(){const Z=fe.get("WEBGL_lose_context");Z&&Z.restoreContext()},this.getPixelRatio=function(){return le},this.setPixelRatio=function(Z){Z!==void 0&&(le=Z,this.setSize(se,oe,!1))},this.getSize=function(Z){return Z.set(se,oe)},this.setSize=function(Z,we,Pe=!0){if(qt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}se=Z,oe=we,n.width=Math.floor(Z*le),n.height=Math.floor(we*le),Pe===!0&&(n.style.width=Z+"px",n.style.height=we+"px"),this.setViewport(0,0,Z,we)},this.getDrawingBufferSize=function(Z){return Z.set(se*le,oe*le).floor()},this.setDrawingBufferSize=function(Z,we,Pe){se=Z,oe=we,le=Pe,n.width=Math.floor(Z*Pe),n.height=Math.floor(we*Pe),this.setViewport(0,0,Z,we)},this.getCurrentViewport=function(Z){return Z.copy(U)},this.getViewport=function(Z){return Z.copy(Q)},this.setViewport=function(Z,we,Pe,Fe){Z.isVector4?Q.set(Z.x,Z.y,Z.z,Z.w):Q.set(Z,we,Pe,Fe),ke.viewport(U.copy(Q).multiplyScalar(le).floor())},this.getScissor=function(Z){return Z.copy(V)},this.setScissor=function(Z,we,Pe,Fe){Z.isVector4?V.set(Z.x,Z.y,Z.z,Z.w):V.set(Z,we,Pe,Fe),ke.scissor(K.copy(V).multiplyScalar(le).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(Z){ke.setScissorTest(ee=Z)},this.setOpaqueSort=function(Z){H=Z},this.setTransparentSort=function(Z){q=Z},this.getClearColor=function(Z){return Z.copy(cn.getClearColor())},this.setClearColor=function(){cn.setClearColor.apply(cn,arguments)},this.getClearAlpha=function(){return cn.getClearAlpha()},this.setClearAlpha=function(){cn.setClearAlpha.apply(cn,arguments)},this.clear=function(Z=!0,we=!0,Pe=!0){let Fe=0;if(Z){let Te=!1;if(D!==null){const ut=D.texture.format;Te=ut===$C||ut===qC||ut===JC}if(Te){const ut=D.texture.type,Ct=ut===_l||ut===kc||ut===Y1||ut===cd||ut===XC||ut===YC,Bt=cn.getClearColor(),dt=cn.getClearAlpha(),Wt=Bt.r,Ut=Bt.g,Ht=Bt.b;Ct?(v[0]=Wt,v[1]=Ut,v[2]=Ht,v[3]=dt,J.clearBufferuiv(J.COLOR,0,v)):(y[0]=Wt,y[1]=Ut,y[2]=Ht,y[3]=dt,J.clearBufferiv(J.COLOR,0,y))}else Fe|=J.COLOR_BUFFER_BIT}we&&(Fe|=J.DEPTH_BUFFER_BIT),Pe&&(Fe|=J.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),J.clear(Fe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",et,!1),n.removeEventListener("webglcontextrestored",he,!1),n.removeEventListener("webglcontextcreationerror",rt,!1),nt.dispose(),Tt.dispose(),$e.dispose(),G.dispose(),ge.dispose(),ze.dispose(),Xt.dispose(),gn.dispose(),ve.dispose(),qt.dispose(),qt.removeEventListener("sessionstart",Wr),qt.removeEventListener("sessionend",yn),Ae&&(Ae.dispose(),Ae=null),Vr.stop()};function et(Z){Z.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),j=!0}function he(){console.log("THREE.WebGLRenderer: Context Restored."),j=!1;const Z=at.autoReset,we=Ke.enabled,Pe=Ke.autoUpdate,Fe=Ke.needsUpdate,Te=Ke.type;Gn(),at.autoReset=Z,Ke.enabled=we,Ke.autoUpdate=Pe,Ke.needsUpdate=Fe,Ke.type=Te}function rt(Z){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Z.statusMessage)}function st(Z){const we=Z.target;we.removeEventListener("dispose",st),Ft(we)}function Ft(Z){kt(Z),$e.remove(Z)}function kt(Z){const we=$e.get(Z).programs;we!==void 0&&(we.forEach(function(Pe){ve.releaseProgram(Pe)}),Z.isShaderMaterial&&ve.releaseShaderCache(Z))}this.renderBufferDirect=function(Z,we,Pe,Fe,Te,ut){we===null&&(we=Ce);const Ct=Te.isMesh&&Te.matrixWorld.determinant()<0,Bt=ig(Z,we,Pe,Fe,Te);ke.setMaterial(Fe,Ct);let dt=Pe.index,Wt=1;if(Fe.wireframe===!0){if(dt=Ve.getWireframeAttribute(Pe),dt===void 0)return;Wt=2}const Ut=Pe.drawRange,Ht=Pe.attributes.position;let Wn=Ut.start*Wt,di=(Ut.start+Ut.count)*Wt;ut!==null&&(Wn=Math.max(Wn,ut.start*Wt),di=Math.min(di,(ut.start+ut.count)*Wt)),dt!==null?(Wn=Math.max(Wn,0),di=Math.min(di,dt.count)):Ht!=null&&(Wn=Math.max(Wn,0),di=Math.min(di,Ht.count));const Vn=di-Wn;if(Vn<0||Vn===1/0)return;Xt.setup(Te,Fe,Bt,Pe,dt);let Mr,At=zt;if(dt!==null&&(Mr=He.get(dt),At=jt,At.setIndex(Mr)),Te.isMesh)Fe.wireframe===!0?(ke.setLineWidth(Fe.wireframeLinewidth*Ge()),At.setMode(J.LINES)):At.setMode(J.TRIANGLES);else if(Te.isLine){let mt=Fe.linewidth;mt===void 0&&(mt=1),ke.setLineWidth(mt*Ge()),Te.isLineSegments?At.setMode(J.LINES):Te.isLineLoop?At.setMode(J.LINE_LOOP):At.setMode(J.LINE_STRIP)}else Te.isPoints?At.setMode(J.POINTS):Te.isSprite&&At.setMode(J.TRIANGLES);if(Te.isBatchedMesh)At.renderMultiDraw(Te._multiDrawStarts,Te._multiDrawCounts,Te._multiDrawCount);else if(Te.isInstancedMesh)At.renderInstances(Wn,Vn,Te.count);else if(Pe.isInstancedBufferGeometry){const mt=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,yr=Math.min(Pe.instanceCount,mt);At.renderInstances(Wn,Vn,yr)}else At.render(Wn,Vn)};function jn(Z,we,Pe){Z.transparent===!0&&Z.side===zo&&Z.forceSinglePass===!1?(Z.side=Us,Z.needsUpdate=!0,rl(Z,we,Pe),Z.side=Nl,Z.needsUpdate=!0,rl(Z,we,Pe),Z.side=zo):rl(Z,we,Pe)}this.compile=function(Z,we,Pe=null){Pe===null&&(Pe=Z),b=Tt.get(Pe),b.init(),E.push(b),Pe.traverseVisible(function(Te){Te.isLight&&Te.layers.test(we.layers)&&(b.pushLight(Te),Te.castShadow&&b.pushShadow(Te))}),Z!==Pe&&Z.traverseVisible(function(Te){Te.isLight&&Te.layers.test(we.layers)&&(b.pushLight(Te),Te.castShadow&&b.pushShadow(Te))}),b.setupLights(C._useLegacyLights);const Fe=new Set;return Z.traverse(function(Te){const ut=Te.material;if(ut)if(Array.isArray(ut))for(let Ct=0;Ct<ut.length;Ct++){const Bt=ut[Ct];jn(Bt,Pe,Te),Fe.add(Bt)}else jn(ut,Pe,Te),Fe.add(ut)}),E.pop(),b=null,Fe},this.compileAsync=function(Z,we,Pe=null){const Fe=this.compile(Z,we,Pe);return new Promise(Te=>{function ut(){if(Fe.forEach(function(Ct){$e.get(Ct).currentProgram.isReady()&&Fe.delete(Ct)}),Fe.size===0){Te(Z);return}setTimeout(ut,10)}fe.get("KHR_parallel_shader_compile")!==null?ut():setTimeout(ut,10)})};let Mn=null;function dr(Z){Mn&&Mn(Z)}function Wr(){Vr.stop()}function yn(){Vr.start()}const Vr=new lI;Vr.setAnimationLoop(dr),typeof self<"u"&&Vr.setContext(self),this.setAnimationLoop=function(Z){Mn=Z,qt.setAnimationLoop(Z),Z===null?Vr.stop():Vr.start()},qt.addEventListener("sessionstart",Wr),qt.addEventListener("sessionend",yn),this.render=function(Z,we){if(we!==void 0&&we.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(j===!0)return;Z.matrixWorldAutoUpdate===!0&&Z.updateMatrixWorld(),we.parent===null&&we.matrixWorldAutoUpdate===!0&&we.updateMatrixWorld(),qt.enabled===!0&&qt.isPresenting===!0&&(qt.cameraAutoUpdate===!0&&qt.updateCamera(we),we=qt.getCamera()),Z.isScene===!0&&Z.onBeforeRender(C,Z,we,D),b=Tt.get(Z,E.length),b.init(),E.push(b),Se.multiplyMatrices(we.projectionMatrix,we.matrixWorldInverse),ce.setFromProjectionMatrix(Se),be=this.localClippingEnabled,ne=Kt.init(this.clippingPlanes,be),S=nt.get(Z,_.length),S.init(),_.push(S),ki(Z,we,0,C.sortObjects),S.finish(),C.sortObjects===!0&&S.sort(H,q),this.info.render.frame++,ne===!0&&Kt.beginShadows();const Pe=b.state.shadowsArray;if(Ke.render(Pe,Z,we),ne===!0&&Kt.endShadows(),this.info.autoReset===!0&&this.info.reset(),cn.render(S,Z),b.setupLights(C._useLegacyLights),we.isArrayCamera){const Fe=we.cameras;for(let Te=0,ut=Fe.length;Te<ut;Te++){const Ct=Fe[Te];kd(S,Z,Ct,Ct.viewport)}}else kd(S,Z,we);D!==null&&(z.updateMultisampleRenderTarget(D),z.updateRenderTargetMipmap(D)),Z.isScene===!0&&Z.onAfterRender(C,Z,we),Xt.resetDefaultState(),O=-1,I=null,E.pop(),E.length>0?b=E[E.length-1]:b=null,_.pop(),_.length>0?S=_[_.length-1]:S=null};function ki(Z,we,Pe,Fe){if(Z.visible===!1)return;if(Z.layers.test(we.layers)){if(Z.isGroup)Pe=Z.renderOrder;else if(Z.isLOD)Z.autoUpdate===!0&&Z.update(we);else if(Z.isLight)b.pushLight(Z),Z.castShadow&&b.pushShadow(Z);else if(Z.isSprite){if(!Z.frustumCulled||ce.intersectsSprite(Z)){Fe&&X.setFromMatrixPosition(Z.matrixWorld).applyMatrix4(Se);const Ct=ze.update(Z),Bt=Z.material;Bt.visible&&S.push(Z,Ct,Bt,Pe,X.z,null)}}else if((Z.isMesh||Z.isLine||Z.isPoints)&&(!Z.frustumCulled||ce.intersectsObject(Z))){const Ct=ze.update(Z),Bt=Z.material;if(Fe&&(Z.boundingSphere!==void 0?(Z.boundingSphere===null&&Z.computeBoundingSphere(),X.copy(Z.boundingSphere.center)):(Ct.boundingSphere===null&&Ct.computeBoundingSphere(),X.copy(Ct.boundingSphere.center)),X.applyMatrix4(Z.matrixWorld).applyMatrix4(Se)),Array.isArray(Bt)){const dt=Ct.groups;for(let Wt=0,Ut=dt.length;Wt<Ut;Wt++){const Ht=dt[Wt],Wn=Bt[Ht.materialIndex];Wn&&Wn.visible&&S.push(Z,Ct,Wn,Pe,X.z,Ht)}}else Bt.visible&&S.push(Z,Ct,Bt,Pe,X.z,null)}}const ut=Z.children;for(let Ct=0,Bt=ut.length;Ct<Bt;Ct++)ki(ut[Ct],we,Pe,Fe)}function kd(Z,we,Pe,Fe){const Te=Z.opaque,ut=Z.transmissive,Ct=Z.transparent;b.setupLightsView(Pe),ne===!0&&Kt.setGlobalState(C.clippingPlanes,Pe),ut.length>0&&lo(Te,ut,we,Pe),Fe&&ke.viewport(U.copy(Fe)),Te.length>0&&co(Te,we,Pe),ut.length>0&&co(ut,we,Pe),Ct.length>0&&co(Ct,we,Pe),ke.buffers.depth.setTest(!0),ke.buffers.depth.setMask(!0),ke.buffers.color.setMask(!0),ke.setPolygonOffset(!1)}function lo(Z,we,Pe,Fe){if((Pe.isScene===!0?Pe.overrideMaterial:null)!==null)return;const ut=Ie.isWebGL2;Ae===null&&(Ae=new qo(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")?Sm:_l,minFilter:Tl,samples:ut?4:0})),C.getDrawingBufferSize(pe),ut?Ae.setSize(pe.x,pe.y):Ae.setSize(Ob(pe.x),Ob(pe.y));const Ct=C.getRenderTarget();C.setRenderTarget(Ae),C.getClearColor(re),Y=C.getClearAlpha(),Y<1&&C.setClearColor(16777215,.5),C.clear();const Bt=C.toneMapping;C.toneMapping=Sl,co(Z,Pe,Fe),z.updateMultisampleRenderTarget(Ae),z.updateRenderTargetMipmap(Ae);let dt=!1;for(let Wt=0,Ut=we.length;Wt<Ut;Wt++){const Ht=we[Wt],Wn=Ht.object,di=Ht.geometry,Vn=Ht.material,Mr=Ht.group;if(Vn.side===zo&&Wn.layers.test(Fe.layers)){const At=Vn.side;Vn.side=Us,Vn.needsUpdate=!0,da(Wn,Pe,Fe,di,Vn,Mr),Vn.side=At,Vn.needsUpdate=!0,dt=!0}}dt===!0&&(z.updateMultisampleRenderTarget(Ae),z.updateRenderTargetMipmap(Ae)),C.setRenderTarget(Ct),C.setClearColor(re,Y),C.toneMapping=Bt}function co(Z,we,Pe){const Fe=we.isScene===!0?we.overrideMaterial:null;for(let Te=0,ut=Z.length;Te<ut;Te++){const Ct=Z[Te],Bt=Ct.object,dt=Ct.geometry,Wt=Fe===null?Ct.material:Fe,Ut=Ct.group;Bt.layers.test(Pe.layers)&&da(Bt,we,Pe,dt,Wt,Ut)}}function da(Z,we,Pe,Fe,Te,ut){Z.onBeforeRender(C,we,Pe,Fe,Te,ut),Z.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,Z.matrixWorld),Z.normalMatrix.getNormalMatrix(Z.modelViewMatrix),Te.onBeforeRender(C,we,Pe,Fe,Z,ut),Te.transparent===!0&&Te.side===zo&&Te.forceSinglePass===!1?(Te.side=Us,Te.needsUpdate=!0,C.renderBufferDirect(Pe,we,Fe,Te,Z,ut),Te.side=Nl,Te.needsUpdate=!0,C.renderBufferDirect(Pe,we,Fe,Te,Z,ut),Te.side=zo):C.renderBufferDirect(Pe,we,Fe,Te,Z,ut),Z.onAfterRender(C,we,Pe,Fe,Te,ut)}function rl(Z,we,Pe){we.isScene!==!0&&(we=Ce);const Fe=$e.get(Z),Te=b.state.lights,ut=b.state.shadowsArray,Ct=Te.state.version,Bt=ve.getParameters(Z,Te.state,ut,we,Pe),dt=ve.getProgramCacheKey(Bt);let Wt=Fe.programs;Fe.environment=Z.isMeshStandardMaterial?we.environment:null,Fe.fog=we.fog,Fe.envMap=(Z.isMeshStandardMaterial?ge:G).get(Z.envMap||Fe.environment),Wt===void 0&&(Z.addEventListener("dispose",st),Wt=new Map,Fe.programs=Wt);let Ut=Wt.get(dt);if(Ut!==void 0){if(Fe.currentProgram===Ut&&Fe.lightsStateVersion===Ct)return Tf(Z,Bt),Ut}else Bt.uniforms=ve.getUniforms(Z),Z.onBuild(Pe,Bt,C),Z.onBeforeCompile(Bt,C),Ut=ve.acquireProgram(Bt,dt),Wt.set(dt,Ut),Fe.uniforms=Bt.uniforms;const Ht=Fe.uniforms;return(!Z.isShaderMaterial&&!Z.isRawShaderMaterial||Z.clipping===!0)&&(Ht.clippingPlanes=Kt.uniform),Tf(Z,Bt),Fe.needsLights=jf(Z),Fe.lightsStateVersion=Ct,Fe.needsLights&&(Ht.ambientLightColor.value=Te.state.ambient,Ht.lightProbe.value=Te.state.probe,Ht.directionalLights.value=Te.state.directional,Ht.directionalLightShadows.value=Te.state.directionalShadow,Ht.spotLights.value=Te.state.spot,Ht.spotLightShadows.value=Te.state.spotShadow,Ht.rectAreaLights.value=Te.state.rectArea,Ht.ltc_1.value=Te.state.rectAreaLTC1,Ht.ltc_2.value=Te.state.rectAreaLTC2,Ht.pointLights.value=Te.state.point,Ht.pointLightShadows.value=Te.state.pointShadow,Ht.hemisphereLights.value=Te.state.hemi,Ht.directionalShadowMap.value=Te.state.directionalShadowMap,Ht.directionalShadowMatrix.value=Te.state.directionalShadowMatrix,Ht.spotShadowMap.value=Te.state.spotShadowMap,Ht.spotLightMatrix.value=Te.state.spotLightMatrix,Ht.spotLightMap.value=Te.state.spotLightMap,Ht.pointShadowMap.value=Te.state.pointShadowMap,Ht.pointShadowMatrix.value=Te.state.pointShadowMatrix),Fe.currentProgram=Ut,Fe.uniformsList=null,Ut}function Nf(Z){if(Z.uniformsList===null){const we=Z.currentProgram.getUniforms();Z.uniformsList=Sb.seqWithValue(we.seq,Z.uniforms)}return Z.uniformsList}function Tf(Z,we){const Pe=$e.get(Z);Pe.outputColorSpace=we.outputColorSpace,Pe.batching=we.batching,Pe.instancing=we.instancing,Pe.instancingColor=we.instancingColor,Pe.skinning=we.skinning,Pe.morphTargets=we.morphTargets,Pe.morphNormals=we.morphNormals,Pe.morphColors=we.morphColors,Pe.morphTargetsCount=we.morphTargetsCount,Pe.numClippingPlanes=we.numClippingPlanes,Pe.numIntersection=we.numClipIntersection,Pe.vertexAlphas=we.vertexAlphas,Pe.vertexTangents=we.vertexTangents,Pe.toneMapping=we.toneMapping}function ig(Z,we,Pe,Fe,Te){we.isScene!==!0&&(we=Ce),z.resetTextureUnits();const ut=we.fog,Ct=Fe.isMeshStandardMaterial?we.environment:null,Bt=D===null?C.outputColorSpace:D.isXRRenderTarget===!0?D.texture.colorSpace:jl,dt=(Fe.isMeshStandardMaterial?ge:G).get(Fe.envMap||Ct),Wt=Fe.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,Ut=!!Pe.attributes.tangent&&(!!Fe.normalMap||Fe.anisotropy>0),Ht=!!Pe.morphAttributes.position,Wn=!!Pe.morphAttributes.normal,di=!!Pe.morphAttributes.color;let Vn=Sl;Fe.toneMapped&&(D===null||D.isXRRenderTarget===!0)&&(Vn=C.toneMapping);const Mr=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,At=Mr!==void 0?Mr.length:0,mt=$e.get(Fe),yr=b.state.lights;if(ne===!0&&(be===!0||Z!==I)){const hi=Z===I&&Fe.id===O;Kt.setState(Fe,Z,hi)}let rn=!1;Fe.version===mt.__version?(mt.needsLights&&mt.lightsStateVersion!==yr.state.version||mt.outputColorSpace!==Bt||Te.isBatchedMesh&&mt.batching===!1||!Te.isBatchedMesh&&mt.batching===!0||Te.isInstancedMesh&&mt.instancing===!1||!Te.isInstancedMesh&&mt.instancing===!0||Te.isSkinnedMesh&&mt.skinning===!1||!Te.isSkinnedMesh&&mt.skinning===!0||Te.isInstancedMesh&&mt.instancingColor===!0&&Te.instanceColor===null||Te.isInstancedMesh&&mt.instancingColor===!1&&Te.instanceColor!==null||mt.envMap!==dt||Fe.fog===!0&&mt.fog!==ut||mt.numClippingPlanes!==void 0&&(mt.numClippingPlanes!==Kt.numPlanes||mt.numIntersection!==Kt.numIntersection)||mt.vertexAlphas!==Wt||mt.vertexTangents!==Ut||mt.morphTargets!==Ht||mt.morphNormals!==Wn||mt.morphColors!==di||mt.toneMapping!==Vn||Ie.isWebGL2===!0&&mt.morphTargetsCount!==At)&&(rn=!0):(rn=!0,mt.__version=Fe.version);let br=mt.currentProgram;rn===!0&&(br=rl(Fe,we,Te));let Ia=!1,Gi=!1,Nr=!1;const Zn=br.getUniforms(),_s=mt.uniforms;if(ke.useProgram(br.program)&&(Ia=!0,Gi=!0,Nr=!0),Fe.id!==O&&(O=Fe.id,Gi=!0),Ia||I!==Z){Zn.setValue(J,"projectionMatrix",Z.projectionMatrix),Zn.setValue(J,"viewMatrix",Z.matrixWorldInverse);const hi=Zn.map.cameraPosition;hi!==void 0&&hi.setValue(J,X.setFromMatrixPosition(Z.matrixWorld)),Ie.logarithmicDepthBuffer&&Zn.setValue(J,"logDepthBufFC",2/(Math.log(Z.far+1)/Math.LN2)),(Fe.isMeshPhongMaterial||Fe.isMeshToonMaterial||Fe.isMeshLambertMaterial||Fe.isMeshBasicMaterial||Fe.isMeshStandardMaterial||Fe.isShaderMaterial)&&Zn.setValue(J,"isOrthographic",Z.isOrthographicCamera===!0),I!==Z&&(I=Z,Gi=!0,Nr=!0)}if(Te.isSkinnedMesh){Zn.setOptional(J,Te,"bindMatrix"),Zn.setOptional(J,Te,"bindMatrixInverse");const hi=Te.skeleton;hi&&(Ie.floatVertexTextures?(hi.boneTexture===null&&hi.computeBoneTexture(),Zn.setValue(J,"boneTexture",hi.boneTexture,z)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Te.isBatchedMesh&&(Zn.setOptional(J,Te,"batchingTexture"),Zn.setValue(J,"batchingTexture",Te._matricesTexture,z));const du=Pe.morphAttributes;if((du.position!==void 0||du.normal!==void 0||du.color!==void 0&&Ie.isWebGL2===!0)&&nn.update(Te,Pe,br),(Gi||mt.receiveShadow!==Te.receiveShadow)&&(mt.receiveShadow=Te.receiveShadow,Zn.setValue(J,"receiveShadow",Te.receiveShadow)),Fe.isMeshGouraudMaterial&&Fe.envMap!==null&&(_s.envMap.value=dt,_s.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),Gi&&(Zn.setValue(J,"toneMappingExposure",C.toneMappingExposure),mt.needsLights&&uo(_s,Nr),ut&&Fe.fog===!0&&Le.refreshFogUniforms(_s,ut),Le.refreshMaterialUniforms(_s,Fe,le,oe,Ae),Sb.upload(J,Nf(mt),_s,z)),Fe.isShaderMaterial&&Fe.uniformsNeedUpdate===!0&&(Sb.upload(J,Nf(mt),_s,z),Fe.uniformsNeedUpdate=!1),Fe.isSpriteMaterial&&Zn.setValue(J,"center",Te.center),Zn.setValue(J,"modelViewMatrix",Te.modelViewMatrix),Zn.setValue(J,"normalMatrix",Te.normalMatrix),Zn.setValue(J,"modelMatrix",Te.matrixWorld),Fe.isShaderMaterial||Fe.isRawShaderMaterial){const hi=Fe.uniformsGroups;for(let il=0,rs=hi.length;il<rs;il++)if(Ie.isWebGL2){const hu=hi[il];gn.update(hu,br),gn.bind(hu,br)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return br}function uo(Z,we){Z.ambientLightColor.needsUpdate=we,Z.lightProbe.needsUpdate=we,Z.directionalLights.needsUpdate=we,Z.directionalLightShadows.needsUpdate=we,Z.pointLights.needsUpdate=we,Z.pointLightShadows.needsUpdate=we,Z.spotLights.needsUpdate=we,Z.spotLightShadows.needsUpdate=we,Z.rectAreaLights.needsUpdate=we,Z.hemisphereLights.needsUpdate=we}function jf(Z){return Z.isMeshLambertMaterial||Z.isMeshToonMaterial||Z.isMeshPhongMaterial||Z.isMeshStandardMaterial||Z.isShadowMaterial||Z.isShaderMaterial&&Z.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return k},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(Z,we,Pe){$e.get(Z.texture).__webglTexture=we,$e.get(Z.depthTexture).__webglTexture=Pe;const Fe=$e.get(Z);Fe.__hasExternalTextures=!0,Fe.__hasExternalTextures&&(Fe.__autoAllocateDepthBuffer=Pe===void 0,Fe.__autoAllocateDepthBuffer||fe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Fe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Z,we){const Pe=$e.get(Z);Pe.__webglFramebuffer=we,Pe.__useDefaultFramebuffer=we===void 0},this.setRenderTarget=function(Z,we=0,Pe=0){D=Z,R=we,k=Pe;let Fe=!0,Te=null,ut=!1,Ct=!1;if(Z){const dt=$e.get(Z);dt.__useDefaultFramebuffer!==void 0?(ke.bindFramebuffer(J.FRAMEBUFFER,null),Fe=!1):dt.__webglFramebuffer===void 0?z.setupRenderTarget(Z):dt.__hasExternalTextures&&z.rebindTextures(Z,$e.get(Z.texture).__webglTexture,$e.get(Z.depthTexture).__webglTexture);const Wt=Z.texture;(Wt.isData3DTexture||Wt.isDataArrayTexture||Wt.isCompressedArrayTexture)&&(Ct=!0);const Ut=$e.get(Z).__webglFramebuffer;Z.isWebGLCubeRenderTarget?(Array.isArray(Ut[we])?Te=Ut[we][Pe]:Te=Ut[we],ut=!0):Ie.isWebGL2&&Z.samples>0&&z.useMultisampledRTT(Z)===!1?Te=$e.get(Z).__webglMultisampledFramebuffer:Array.isArray(Ut)?Te=Ut[Pe]:Te=Ut,U.copy(Z.viewport),K.copy(Z.scissor),$=Z.scissorTest}else U.copy(Q).multiplyScalar(le).floor(),K.copy(V).multiplyScalar(le).floor(),$=ee;if(ke.bindFramebuffer(J.FRAMEBUFFER,Te)&&Ie.drawBuffers&&Fe&&ke.drawBuffers(Z,Te),ke.viewport(U),ke.scissor(K),ke.setScissorTest($),ut){const dt=$e.get(Z.texture);J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_CUBE_MAP_POSITIVE_X+we,dt.__webglTexture,Pe)}else if(Ct){const dt=$e.get(Z.texture),Wt=we||0;J.framebufferTextureLayer(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,dt.__webglTexture,Pe||0,Wt)}O=-1},this.readRenderTargetPixels=function(Z,we,Pe,Fe,Te,ut,Ct){if(!(Z&&Z.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Bt=$e.get(Z).__webglFramebuffer;if(Z.isWebGLCubeRenderTarget&&Ct!==void 0&&(Bt=Bt[Ct]),Bt){ke.bindFramebuffer(J.FRAMEBUFFER,Bt);try{const dt=Z.texture,Wt=dt.format,Ut=dt.type;if(Wt!==Ls&&vt.convert(Wt)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Ht=Ut===Sm&&(fe.has("EXT_color_buffer_half_float")||Ie.isWebGL2&&fe.has("EXT_color_buffer_float"));if(Ut!==_l&&vt.convert(Ut)!==J.getParameter(J.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ut===Ko&&(Ie.isWebGL2||fe.has("OES_texture_float")||fe.has("WEBGL_color_buffer_float")))&&!Ht){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}we>=0&&we<=Z.width-Fe&&Pe>=0&&Pe<=Z.height-Te&&J.readPixels(we,Pe,Fe,Te,vt.convert(Wt),vt.convert(Ut),ut)}finally{const dt=D!==null?$e.get(D).__webglFramebuffer:null;ke.bindFramebuffer(J.FRAMEBUFFER,dt)}}},this.copyFramebufferToTexture=function(Z,we,Pe=0){const Fe=Math.pow(2,-Pe),Te=Math.floor(we.image.width*Fe),ut=Math.floor(we.image.height*Fe);z.setTexture2D(we,0),J.copyTexSubImage2D(J.TEXTURE_2D,Pe,0,0,Z.x,Z.y,Te,ut),ke.unbindTexture()},this.copyTextureToTexture=function(Z,we,Pe,Fe=0){const Te=we.image.width,ut=we.image.height,Ct=vt.convert(Pe.format),Bt=vt.convert(Pe.type);z.setTexture2D(Pe,0),J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,Pe.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Pe.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,Pe.unpackAlignment),we.isDataTexture?J.texSubImage2D(J.TEXTURE_2D,Fe,Z.x,Z.y,Te,ut,Ct,Bt,we.image.data):we.isCompressedTexture?J.compressedTexSubImage2D(J.TEXTURE_2D,Fe,Z.x,Z.y,we.mipmaps[0].width,we.mipmaps[0].height,Ct,we.mipmaps[0].data):J.texSubImage2D(J.TEXTURE_2D,Fe,Z.x,Z.y,Ct,Bt,we.image),Fe===0&&Pe.generateMipmaps&&J.generateMipmap(J.TEXTURE_2D),ke.unbindTexture()},this.copyTextureToTexture3D=function(Z,we,Pe,Fe,Te=0){if(C.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ut=Z.max.x-Z.min.x+1,Ct=Z.max.y-Z.min.y+1,Bt=Z.max.z-Z.min.z+1,dt=vt.convert(Fe.format),Wt=vt.convert(Fe.type);let Ut;if(Fe.isData3DTexture)z.setTexture3D(Fe,0),Ut=J.TEXTURE_3D;else if(Fe.isDataArrayTexture||Fe.isCompressedArrayTexture)z.setTexture2DArray(Fe,0),Ut=J.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,Fe.flipY),J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Fe.premultiplyAlpha),J.pixelStorei(J.UNPACK_ALIGNMENT,Fe.unpackAlignment);const Ht=J.getParameter(J.UNPACK_ROW_LENGTH),Wn=J.getParameter(J.UNPACK_IMAGE_HEIGHT),di=J.getParameter(J.UNPACK_SKIP_PIXELS),Vn=J.getParameter(J.UNPACK_SKIP_ROWS),Mr=J.getParameter(J.UNPACK_SKIP_IMAGES),At=Pe.isCompressedTexture?Pe.mipmaps[Te]:Pe.image;J.pixelStorei(J.UNPACK_ROW_LENGTH,At.width),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,At.height),J.pixelStorei(J.UNPACK_SKIP_PIXELS,Z.min.x),J.pixelStorei(J.UNPACK_SKIP_ROWS,Z.min.y),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Z.min.z),Pe.isDataTexture||Pe.isData3DTexture?J.texSubImage3D(Ut,Te,we.x,we.y,we.z,ut,Ct,Bt,dt,Wt,At.data):Pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),J.compressedTexSubImage3D(Ut,Te,we.x,we.y,we.z,ut,Ct,Bt,dt,At.data)):J.texSubImage3D(Ut,Te,we.x,we.y,we.z,ut,Ct,Bt,dt,Wt,At),J.pixelStorei(J.UNPACK_ROW_LENGTH,Ht),J.pixelStorei(J.UNPACK_IMAGE_HEIGHT,Wn),J.pixelStorei(J.UNPACK_SKIP_PIXELS,di),J.pixelStorei(J.UNPACK_SKIP_ROWS,Vn),J.pixelStorei(J.UNPACK_SKIP_IMAGES,Mr),Te===0&&Fe.generateMipmaps&&J.generateMipmap(Ut),ke.unbindTexture()},this.initTexture=function(Z){Z.isCubeTexture?z.setTextureCube(Z,0):Z.isData3DTexture?z.setTexture3D(Z,0):Z.isDataArrayTexture||Z.isCompressedArrayTexture?z.setTexture2DArray(Z,0):z.setTexture2D(Z,0),ke.unbindTexture()},this.resetState=function(){R=0,k=0,D=null,ke.reset(),Xt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Xo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===q1?"display-p3":"srgb",n.unpackColorSpace=Un.workingColorSpace===A0?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===wi?dd:tM}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===dd?wi:jl}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class gI extends hM{}gI.prototype.isWebGL1Renderer=!0;class Z1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new lt(e),this.density=n}clone(){return new Z1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class e2{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new lt(e),this.near=n,this.far=r}clone(){return new e2(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class fM extends _n{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class j0{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Xx,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Pa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Pa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Pa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Fs=new te;class yd{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Fs.fromBufferAttribute(this,n),Fs.applyMatrix4(e),this.setXYZ(n,Fs.x,Fs.y,Fs.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Fs.fromBufferAttribute(this,n),Fs.applyNormalMatrix(e),this.setXYZ(n,Fs.x,Fs.y,Fs.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Fs.fromBufferAttribute(this,n),Fs.transformDirection(e),this.setXYZ(n,Fs.x,Fs.y,Fs.z);return this}setX(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=on(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ia(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ia(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ia(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ia(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=on(n,this.array),r=on(r,this.array),i=on(i,this.array),s=on(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new An(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new yd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class pM extends Ai{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new lt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Gp;const ox=new te,Wp=new te,Vp=new te,Kp=new We,lx=new We,xI=new Ot,wy=new te,cx=new te,Sy=new te,Bk=new We,AS=new We,Dk=new We;class vI extends _n{constructor(e=new pM){if(super(),this.isSprite=!0,this.type="Sprite",Gp===void 0){Gp=new tn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new j0(n,5);Gp.setIndex([0,1,2,0,2,3]),Gp.setAttribute("position",new yd(r,3,0,!1)),Gp.setAttribute("uv",new yd(r,2,3,!1))}this.geometry=Gp,this.material=e,this.center=new We(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wp.setFromMatrixScale(this.matrixWorld),xI.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Vp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Wp.multiplyScalar(-Vp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;_y(wy.set(-.5,-.5,0),Vp,o,Wp,i,s),_y(cx.set(.5,-.5,0),Vp,o,Wp,i,s),_y(Sy.set(.5,.5,0),Vp,o,Wp,i,s),Bk.set(0,0),AS.set(1,0),Dk.set(1,1);let l=e.ray.intersectTriangle(wy,cx,Sy,!1,ox);if(l===null&&(_y(cx.set(-.5,.5,0),Vp,o,Wp,i,s),AS.set(0,1),l=e.ray.intersectTriangle(wy,Sy,cx,!1,ox),l===null))return;const c=e.ray.origin.distanceTo(ox);c<e.near||c>e.far||n.push({distance:c,point:ox.clone(),uv:ra.getInterpolation(ox,wy,cx,Sy,Bk,AS,Dk,new We),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function _y(t,e,n,r,i,s){Kp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(lx.x=s*Kp.x-i*Kp.y,lx.y=i*Kp.x+s*Kp.y):lx.copy(Kp),t.copy(e),t.x+=lx.x,t.y+=lx.y,t.applyMatrix4(xI)}const Ay=new te,Ik=new te;class yI extends _n{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Ay.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ay);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Ay.setFromMatrixPosition(e.matrixWorld),Ik.setFromMatrixPosition(this.matrixWorld);const r=Ay.distanceTo(Ik)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const Lk=new te,Ok=new Hn,Uk=new Hn,fX=new te,zk=new Ot,Ey=new te,ES=new ts,Hk=new Ot,CS=new Om;class mM extends li{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=JA,this.bindMatrix=new Ot,this.bindMatrixInverse=new Ot,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new vs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Ey),this.boundingBox.expandByPoint(Ey)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ts),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Ey),this.boundingSphere.expandByPoint(Ey)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ES.copy(this.boundingSphere),ES.applyMatrix4(i),e.ray.intersectsSphere(ES)!==!1&&(Hk.copy(i).invert(),CS.copy(e.ray).applyMatrix4(Hk),!(this.boundingBox!==null&&CS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,CS)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Hn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===JA?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===jD?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;Ok.fromBufferAttribute(i.attributes.skinIndex,e),Uk.fromBufferAttribute(i.attributes.skinWeight,e),Lk.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=Uk.getComponent(s);if(o!==0){const l=Ok.getComponent(s);zk.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),n.addScaledVector(fX.copy(Lk).applyMatrix4(zk),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class t2 extends _n{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qh extends Rr{constructor(e=null,n=1,r=1,i,s,o,l,c,u=Ur,h=Ur,f,m){super(null,o,l,c,u,h,i,s,f,m),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Gk=new Ot,pX=new Ot;class k0{constructor(e=[],n=[]){this.uuid=Pa(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Ot)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Ot;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const l=e[s]?e[s].matrixWorld:pX;Gk.multiplyMatrices(l,n[s]),Gk.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new k0(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new qh(n,e,e,Ls,Ko);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new t2),this.bones.push(o),this.boneInverses.push(new Ot().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const l=r[i];e.boneInverses.push(l.toArray())}return e}}class lf extends An{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Xp=new Ot,Wk=new Ot,Cy=[],Vk=new vs,mX=new Ot,ux=new li,dx=new ts;class gM extends li{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new lf(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,mX)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new vs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Xp),Vk.copy(e.boundingBox).applyMatrix4(Xp),this.boundingBox.union(Vk)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new ts),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Xp),dx.copy(e.boundingSphere).applyMatrix4(Xp),this.boundingSphere.union(dx)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(ux.geometry=this.geometry,ux.material=this.material,ux.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),dx.copy(this.boundingSphere),dx.applyMatrix4(r),e.ray.intersectsSphere(dx)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Xp),Wk.multiplyMatrices(r,Xp),ux.matrixWorld=Wk,ux.raycast(e,Cy);for(let o=0,l=Cy.length;o<l;o++){const c=Cy[o];c.instanceId=s,c.object=this,n.push(c)}Cy.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new lf(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function gX(t,e){return t.z-e.z}function xX(t,e){return e.z-t.z}class vX{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const Yp="batchId",qu=new Ot,Kk=new Ot,yX=new Ot,Xk=new Ot,MS=new N0,My=new vs,Sh=new ts,hx=new te,NS=new vX,fs=new li,Ny=[];function bX(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class bI extends li{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new tn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new qh(n,e,e,Ls,Ko);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const l in e.attributes){const c=e.getAttribute(l),{array:u,itemSize:h,normalized:f}=c,m=new u.constructor(r*h),v=new c.constructor(m,h,f);v.setUsage(c.usage),n.setAttribute(l,v)}if(e.getIndex()!==null){const l=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new An(l,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(Yp,new An(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Yp))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Yp}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===Yp)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new vs);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,qu),this.getBoundingBoxAt(i,My).applyMatrix4(qu),n.union(My))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ts);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,qu),this.getBoundingSphereAt(i,Sh).applyMatrix4(qu),n.union(Sh))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,l=this._drawRanges,c=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const u=e.getIndex(),h=u!==null;if(h&&(r===-1?i.indexCount=u.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,m=this._active,v=this._matricesTexture,y=this._matricesTexture.image.data;f.push(!0),m.push(!0);const S=this._geometryCount;this._geometryCount++,yX.toArray(y,S*16),v.needsUpdate=!0,o.push(i),l.push({start:h?i.indexStart:i.vertexStart,count:-1}),c.push({boxInitialized:!1,box:new vs,sphereInitialized:!1,sphere:new ts});const b=this.geometry.getAttribute(Yp);for(let _=0;_<i.vertexCount;_++)b.setX(i.vertexStart+_,S);return b.needsUpdate=!0,this.setGeometryAt(S,e),S}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),l=this._reservedRanges[e];if(i&&o.count>l.indexCount||n.attributes.position.count>l.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const c=l.vertexStart,u=l.vertexCount;for(const v in r.attributes){if(v===Yp)continue;const y=n.getAttribute(v),S=r.getAttribute(v);bX(y,S,c);const b=y.itemSize;for(let _=y.count,E=u;_<E;_++){const C=c+_;for(let j=0;j<b;j++)S.setComponent(C,j,0)}S.needsUpdate=!0}if(i){const v=l.indexStart;for(let y=0;y<o.count;y++)s.setX(v+y,c+o.getX(y));for(let y=o.count,S=l.indexCount;y<S;y++)s.setX(v+y,c);s.needsUpdate=!0}const h=this._bounds[e];n.boundingBox!==null?(h.box.copy(n.boundingBox),h.boxInitialized=!0):h.boxInitialized=!1,n.boundingSphere!==null?(h.sphere.copy(n.boundingSphere),h.sphereInitialized=!0):h.sphereInitialized=!1;const f=this._drawRanges[e],m=n.getAttribute("position");return f.count=i?o.count:m.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const l=o.index,c=o.attributes.position,u=this._drawRanges[e];for(let h=u.start,f=u.start+u.count;h<f;h++){let m=h;l&&(m=l.getX(m)),s.expandByPoint(hx.fromBufferAttribute(c,m))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,My),My.getCenter(s.center);const l=o.index,c=o.attributes.position,u=this._drawRanges[e];let h=0;for(let f=u.start,m=u.start+u.count;f<m;f++){let v=f;l&&(v=l.getX(v)),hx.fromBufferAttribute(c,v),h=Math.max(h,s.center.distanceToSquared(hx))}s.radius=Math.sqrt(h),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,l=this.matrixWorld,c=this.geometry;fs.material=this.material,fs.geometry.index=c.index,fs.geometry.attributes=c.attributes,fs.geometry.boundingBox===null&&(fs.geometry.boundingBox=new vs),fs.geometry.boundingSphere===null&&(fs.geometry.boundingSphere=new ts);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const h=s[u];fs.geometry.setDrawRange(h.start,h.count),this.getMatrixAt(u,fs.matrixWorld).premultiply(l),this.getBoundingBoxAt(u,fs.geometry.boundingBox),this.getBoundingSphereAt(u,fs.geometry.boundingSphere),fs.raycast(e,Ny);for(let f=0,m=Ny.length;f<m;f++){const v=Ny[f];v.object=this,v.batchId=u,n.push(v)}Ny.length=0}fs.material=null,fs.geometry.index=null,fs.geometry.attributes={},fs.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,c=this._visibility,u=this._multiDrawStarts,h=this._multiDrawCounts,f=this._drawRanges,m=this.perObjectFrustumCulled;m&&(Xk.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),MS.setFromProjectionMatrix(Xk,e.isWebGPURenderer?Am:Xo));let v=0;if(this.sortObjects){Kk.copy(this.matrixWorld).invert(),hx.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Kk);for(let b=0,_=c.length;b<_;b++)if(c[b]){this.getMatrixAt(b,qu),this.getBoundingSphereAt(b,Sh).applyMatrix4(qu);let E=!1;if(m&&(E=!MS.intersectsSphere(Sh)),!E){const C=hx.distanceTo(Sh.center);NS.push(f[b],C)}}const y=NS.list,S=this.customSort;S===null?y.sort(s.transparent?xX:gX):S.call(this,y,r);for(let b=0,_=y.length;b<_;b++){const E=y[b];u[v]=E.start*l,h[v]=E.count,v++}NS.reset()}else for(let y=0,S=c.length;y<S;y++)if(c[y]){let b=!1;if(m&&(this.getMatrixAt(y,qu),this.getBoundingSphereAt(y,Sh).applyMatrix4(qu),b=!MS.intersectsSphere(Sh)),!b){const _=f[y];u[v]=_.start*l,h[v]=_.count,v++}}this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class ws extends Ai{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new lt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Yk=new te,Jk=new te,qk=new Ot,TS=new Om,Ty=new ts;let Xc=class extends _n{constructor(e=new tn,n=new ws){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)Yk.fromBufferAttribute(n,i-1),Jk.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Yk.distanceTo(Jk);e.setAttribute("lineDistance",new _t(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ty.copy(r.boundingSphere),Ty.applyMatrix4(i),Ty.radius+=s,e.ray.intersectsSphere(Ty)===!1)return;qk.copy(i).invert(),TS.copy(e.ray).applyMatrix4(qk);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=new te,h=new te,f=new te,m=new te,v=this.isLineSegments?2:1,y=r.index,b=r.attributes.position;if(y!==null){const _=Math.max(0,o.start),E=Math.min(y.count,o.start+o.count);for(let C=_,j=E-1;C<j;C+=v){const R=y.getX(C),k=y.getX(C+1);if(u.fromBufferAttribute(b,R),h.fromBufferAttribute(b,k),TS.distanceSqToSegment(u,h,m,f)>c)continue;m.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(m);O<e.near||O>e.far||n.push({distance:O,point:f.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}else{const _=Math.max(0,o.start),E=Math.min(b.count,o.start+o.count);for(let C=_,j=E-1;C<j;C+=v){if(u.fromBufferAttribute(b,C),h.fromBufferAttribute(b,C+1),TS.distanceSqToSegment(u,h,m,f)>c)continue;m.applyMatrix4(this.matrixWorld);const k=e.ray.origin.distanceTo(m);k<e.near||k>e.far||n.push({distance:k,point:f.clone().applyMatrix4(this.matrixWorld),index:C,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}};const $k=new te,Qk=new te;class Zo extends Xc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)$k.fromBufferAttribute(n,i),Qk.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+$k.distanceTo(Qk);e.setAttribute("lineDistance",new _t(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class xM extends Xc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class n2 extends Ai{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new lt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Zk=new Ot,CE=new Om,jy=new ts,ky=new te;class vM extends _n{constructor(e=new tn,n=new n2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),jy.copy(r.boundingSphere),jy.applyMatrix4(i),jy.radius+=s,e.ray.intersectsSphere(jy)===!1)return;Zk.copy(i).invert(),CE.copy(e.ray).applyMatrix4(Zk);const l=s/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,u=r.index,f=r.attributes.position;if(u!==null){const m=Math.max(0,o.start),v=Math.min(u.count,o.start+o.count);for(let y=m,S=v;y<S;y++){const b=u.getX(y);ky.fromBufferAttribute(f,b),e3(ky,b,c,i,e,n,this)}}else{const m=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let y=m,S=v;y<S;y++)ky.fromBufferAttribute(f,y),e3(ky,y,c,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const l=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=s}}}}}function e3(t,e,n,r,i,s,o){const l=CE.distanceSqToPoint(t);if(l<n){const c=new te;CE.closestPointToPoint(t,c),c.applyMatrix4(r);const u=i.ray.origin.distanceTo(c);if(u<i.near||u>i.far)return;s.push({distance:u,distanceToRay:Math.sqrt(l),point:c,index:e,face:null,object:o})}}class wX extends Rr{constructor(e,n,r,i,s,o,l,c,u){super(e,n,r,i,s,o,l,c,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:kr,this.magFilter=s!==void 0?s:kr,this.generateMipmaps=!1;const h=this;function f(){h.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class SX extends Rr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Ur,this.minFilter=Ur,this.generateMipmaps=!1,this.needsUpdate=!0}}class r2 extends Rr{constructor(e,n,r,i,s,o,l,c,u,h,f,m){super(null,o,l,c,u,h,i,s,f,m),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class _X extends r2{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=es}}class AX extends r2{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Kc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class EX extends Rr{constructor(e,n,r,i,s,o,l,c,u){super(e,n,r,i,s,o,l,c,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}let el=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let l=0,c=s-1,u;for(;l<=c;)if(i=Math.floor(l+(c-l)/2),u=r[i]-o,u<0)l=i+1;else if(u>0)c=i-1;else{c=i;break}if(i=c,r[i]===o)return i/(s-1);const h=r[i],m=r[i+1]-h,v=(o-h)/m;return(i+v)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),l=this.getPoint(s),c=n||(o.isVector2?new We:new te);return c.copy(l).sub(o).normalize(),c}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new te,i=[],s=[],o=[],l=new te,c=new Ot;for(let v=0;v<=e;v++){const y=v/e;i[v]=this.getTangentAt(y,new te)}s[0]=new te,o[0]=new te;let u=Number.MAX_VALUE;const h=Math.abs(i[0].x),f=Math.abs(i[0].y),m=Math.abs(i[0].z);h<=u&&(u=h,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),m<=u&&r.set(0,0,1),l.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],l),o[0].crossVectors(i[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),o[v]=o[v-1].clone(),l.crossVectors(i[v-1],i[v]),l.length()>Number.EPSILON){l.normalize();const y=Math.acos(zr(i[v-1].dot(i[v]),-1,1));s[v].applyMatrix4(c.makeRotationAxis(l,y))}o[v].crossVectors(i[v],s[v])}if(n===!0){let v=Math.acos(zr(s[0].dot(s[e]),-1,1));v/=e,i[0].dot(l.crossVectors(s[0],s[e]))>0&&(v=-v);for(let y=1;y<=e;y++)s[y].applyMatrix4(c.makeRotationAxis(i[y],v*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class i2 extends el{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,n){const r=n||new We,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const l=this.aStartAngle+e*s;let c=this.aX+this.xRadius*Math.cos(l),u=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const h=Math.cos(this.aRotation),f=Math.sin(this.aRotation),m=c-this.aX,v=u-this.aY;c=m*h-v*f+this.aX,u=m*f+v*h+this.aY}return r.set(c,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class wI extends i2{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function yM(){let t=0,e=0,n=0,r=0;function i(s,o,l,c){t=s,e=l,n=-3*s+3*o-2*l-c,r=2*s-2*o+l+c}return{initCatmullRom:function(s,o,l,c,u){i(o,l,u*(l-s),u*(c-o))},initNonuniformCatmullRom:function(s,o,l,c,u,h,f){let m=(o-s)/u-(l-s)/(u+h)+(l-o)/h,v=(l-o)/h-(c-o)/(h+f)+(c-l)/f;m*=h,v*=h,i(o,l,m,v)},calc:function(s){const o=s*s,l=o*s;return t+e*s+n*o+r*l}}}const Py=new te,jS=new yM,kS=new yM,PS=new yM;class SI extends el{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new te){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/s)+1)*s:c===0&&l===s-1&&(l=s-2,c=1);let u,h;this.closed||l>0?u=i[(l-1)%s]:(Py.subVectors(i[0],i[1]).add(i[0]),u=Py);const f=i[l%s],m=i[(l+1)%s];if(this.closed||l+2<s?h=i[(l+2)%s]:(Py.subVectors(i[s-1],i[s-2]).add(i[s-1]),h=Py),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let y=Math.pow(u.distanceToSquared(f),v),S=Math.pow(f.distanceToSquared(m),v),b=Math.pow(m.distanceToSquared(h),v);S<1e-4&&(S=1),y<1e-4&&(y=S),b<1e-4&&(b=S),jS.initNonuniformCatmullRom(u.x,f.x,m.x,h.x,y,S,b),kS.initNonuniformCatmullRom(u.y,f.y,m.y,h.y,y,S,b),PS.initNonuniformCatmullRom(u.z,f.z,m.z,h.z,y,S,b)}else this.curveType==="catmullrom"&&(jS.initCatmullRom(u.x,f.x,m.x,h.x,this.tension),kS.initCatmullRom(u.y,f.y,m.y,h.y,this.tension),PS.initCatmullRom(u.z,f.z,m.z,h.z,this.tension));return r.set(jS.calc(c),kS.calc(c),PS.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new te().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function t3(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,l=t*t,c=t*l;return(2*n-2*r+s+o)*c+(-3*n+3*r-2*s-o)*l+s*t+n}function CX(t,e){const n=1-t;return n*n*e}function MX(t,e){return 2*(1-t)*t*e}function NX(t,e){return t*t*e}function Px(t,e,n,r){return CX(t,e)+MX(t,n)+NX(t,r)}function TX(t,e){const n=1-t;return n*n*n*e}function jX(t,e){const n=1-t;return 3*n*n*t*e}function kX(t,e){return 3*(1-t)*t*t*e}function PX(t,e){return t*t*t*e}function Rx(t,e,n,r,i){return TX(t,e)+jX(t,n)+kX(t,r)+PX(t,i)}class bM extends el{constructor(e=new We,n=new We,r=new We,i=new We){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new We){const r=n,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return r.set(Rx(e,i.x,s.x,o.x,l.x),Rx(e,i.y,s.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _I extends el{constructor(e=new te,n=new te,r=new te,i=new te){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new te){const r=n,i=this.v0,s=this.v1,o=this.v2,l=this.v3;return r.set(Rx(e,i.x,s.x,o.x,l.x),Rx(e,i.y,s.y,o.y,l.y),Rx(e,i.z,s.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wM extends el{constructor(e=new We,n=new We){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new We){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new We){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AI extends el{constructor(e=new te,n=new te){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new te){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SM extends el{constructor(e=new We,n=new We,r=new We){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new We){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Px(e,i.x,s.x,o.x),Px(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class _M extends el{constructor(e=new te,n=new te,r=new te){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new te){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Px(e,i.x,s.x,o.x),Px(e,i.y,s.y,o.y),Px(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AM extends el{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new We){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),l=s-o,c=i[o===0?o:o-1],u=i[o],h=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(t3(l,c.x,u.x,h.x,f.x),t3(l,c.y,u.y,h.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new We().fromArray(i))}return this}}var Ub=Object.freeze({__proto__:null,ArcCurve:wI,CatmullRomCurve3:SI,CubicBezierCurve:bM,CubicBezierCurve3:_I,EllipseCurve:i2,LineCurve:wM,LineCurve3:AI,QuadraticBezierCurve:SM,QuadraticBezierCurve3:_M,SplineCurve:AM});class EI extends el{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Ub[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,l=this.curves[s],c=l.getLength(),u=c===0?0:1-o/c;return l.getPointAt(u,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let u=0;u<c.length;u++){const h=c[u];r&&r.equals(h)||(n.push(h),r=h)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Ub[i.type]().fromJSON(i))}return this}}let Jx=class extends EI{constructor(e){super(),this.type="Path",this.currentPoint=new We,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new wM(this.currentPoint.clone(),new We(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new SM(this.currentPoint.clone(),new We(e,n),new We(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const l=new bM(this.currentPoint.clone(),new We(e,n),new We(r,i),new We(s,o));return this.curves.push(l),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new AM(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,n+c,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,l,c){const u=this.currentPoint.x,h=this.currentPoint.y;return this.absellipse(e+u,n+h,r,i,s,o,l,c),this}absellipse(e,n,r,i,s,o,l,c){const u=new i2(e,n,r,i,s,o,l,c);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const h=u.getPoint(1);return this.currentPoint.copy(h),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class P0 extends tn{constructor(e=[new We(0,-.5),new We(.5,0),new We(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=zr(i,0,Math.PI*2);const s=[],o=[],l=[],c=[],u=[],h=1/n,f=new te,m=new We,v=new te,y=new te,S=new te;let b=0,_=0;for(let E=0;E<=e.length-1;E++)switch(E){case 0:b=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,v.x=_*1,v.y=-b,v.z=_*0,S.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case e.length-1:c.push(S.x,S.y,S.z);break;default:b=e[E+1].x-e[E].x,_=e[E+1].y-e[E].y,v.x=_*1,v.y=-b,v.z=_*0,y.copy(v),v.x+=S.x,v.y+=S.y,v.z+=S.z,v.normalize(),c.push(v.x,v.y,v.z),S.copy(y)}for(let E=0;E<=n;E++){const C=r+E*h*i,j=Math.sin(C),R=Math.cos(C);for(let k=0;k<=e.length-1;k++){f.x=e[k].x*j,f.y=e[k].y,f.z=e[k].x*R,o.push(f.x,f.y,f.z),m.x=E/n,m.y=k/(e.length-1),l.push(m.x,m.y);const D=c[3*k+0]*j,O=c[3*k+1],I=c[3*k+0]*R;u.push(D,O,I)}}for(let E=0;E<n;E++)for(let C=0;C<e.length-1;C++){const j=C+E*e.length,R=j,k=j+e.length,D=j+e.length+1,O=j+1;s.push(R,k,O),s.push(D,O,k)}this.setIndex(s),this.setAttribute("position",new _t(o,3)),this.setAttribute("uv",new _t(l,2)),this.setAttribute("normal",new _t(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new P0(e.points,e.segments,e.phiStart,e.phiLength)}}class s2 extends P0{constructor(e=1,n=1,r=4,i=8){const s=new Jx;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new s2(e.radius,e.length,e.capSegments,e.radialSegments)}}class a2 extends tn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],l=[],c=[],u=new te,h=new We;o.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(let f=0,m=3;f<=n;f++,m+=3){const v=r+f/n*i;u.x=e*Math.cos(v),u.y=e*Math.sin(v),o.push(u.x,u.y,u.z),l.push(0,0,1),h.x=(o[m]/e+1)/2,h.y=(o[m+1]/e+1)/2,c.push(h.x,h.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new _t(o,3)),this.setAttribute("normal",new _t(l,3)),this.setAttribute("uv",new _t(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a2(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Hm extends tn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:l,thetaLength:c};const u=this;i=Math.floor(i),s=Math.floor(s);const h=[],f=[],m=[],v=[];let y=0;const S=[],b=r/2;let _=0;E(),o===!1&&(e>0&&C(!0),n>0&&C(!1)),this.setIndex(h),this.setAttribute("position",new _t(f,3)),this.setAttribute("normal",new _t(m,3)),this.setAttribute("uv",new _t(v,2));function E(){const j=new te,R=new te;let k=0;const D=(n-e)/r;for(let O=0;O<=s;O++){const I=[],U=O/s,K=U*(n-e)+e;for(let $=0;$<=i;$++){const re=$/i,Y=re*c+l,se=Math.sin(Y),oe=Math.cos(Y);R.x=K*se,R.y=-U*r+b,R.z=K*oe,f.push(R.x,R.y,R.z),j.set(se,D,oe).normalize(),m.push(j.x,j.y,j.z),v.push(re,1-U),I.push(y++)}S.push(I)}for(let O=0;O<i;O++)for(let I=0;I<s;I++){const U=S[I][O],K=S[I+1][O],$=S[I+1][O+1],re=S[I][O+1];h.push(U,K,re),h.push(K,$,re),k+=6}u.addGroup(_,k,0),_+=k}function C(j){const R=y,k=new We,D=new te;let O=0;const I=j===!0?e:n,U=j===!0?1:-1;for(let $=1;$<=i;$++)f.push(0,b*U,0),m.push(0,U,0),v.push(.5,.5),y++;const K=y;for(let $=0;$<=i;$++){const Y=$/i*c+l,se=Math.cos(Y),oe=Math.sin(Y);D.x=I*oe,D.y=b*U,D.z=I*se,f.push(D.x,D.y,D.z),m.push(0,U,0),k.x=se*.5+.5,k.y=oe*.5*U+.5,v.push(k.x,k.y),y++}for(let $=0;$<i;$++){const re=R+$,Y=K+$;j===!0?h.push(Y,Y+1,re):h.push(Y+1,Y,re),O+=3}u.addGroup(_,O,j===!0?1:2),_+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class o2 extends Hm{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,l=Math.PI*2){super(0,e,n,r,i,s,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:l}}static fromJSON(e){return new o2(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ed extends tn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];l(i),u(r),h(),this.setAttribute("position",new _t(s,3)),this.setAttribute("normal",new _t(s.slice(),3)),this.setAttribute("uv",new _t(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function l(E){const C=new te,j=new te,R=new te;for(let k=0;k<n.length;k+=3)v(n[k+0],C),v(n[k+1],j),v(n[k+2],R),c(C,j,R,E)}function c(E,C,j,R){const k=R+1,D=[];for(let O=0;O<=k;O++){D[O]=[];const I=E.clone().lerp(j,O/k),U=C.clone().lerp(j,O/k),K=k-O;for(let $=0;$<=K;$++)$===0&&O===k?D[O][$]=I:D[O][$]=I.clone().lerp(U,$/K)}for(let O=0;O<k;O++)for(let I=0;I<2*(k-O)-1;I++){const U=Math.floor(I/2);I%2===0?(m(D[O][U+1]),m(D[O+1][U]),m(D[O][U])):(m(D[O][U+1]),m(D[O+1][U+1]),m(D[O+1][U]))}}function u(E){const C=new te;for(let j=0;j<s.length;j+=3)C.x=s[j+0],C.y=s[j+1],C.z=s[j+2],C.normalize().multiplyScalar(E),s[j+0]=C.x,s[j+1]=C.y,s[j+2]=C.z}function h(){const E=new te;for(let C=0;C<s.length;C+=3){E.x=s[C+0],E.y=s[C+1],E.z=s[C+2];const j=b(E)/2/Math.PI+.5,R=_(E)/Math.PI+.5;o.push(j,1-R)}y(),f()}function f(){for(let E=0;E<o.length;E+=6){const C=o[E+0],j=o[E+2],R=o[E+4],k=Math.max(C,j,R),D=Math.min(C,j,R);k>.9&&D<.1&&(C<.2&&(o[E+0]+=1),j<.2&&(o[E+2]+=1),R<.2&&(o[E+4]+=1))}}function m(E){s.push(E.x,E.y,E.z)}function v(E,C){const j=E*3;C.x=e[j+0],C.y=e[j+1],C.z=e[j+2]}function y(){const E=new te,C=new te,j=new te,R=new te,k=new We,D=new We,O=new We;for(let I=0,U=0;I<s.length;I+=9,U+=6){E.set(s[I+0],s[I+1],s[I+2]),C.set(s[I+3],s[I+4],s[I+5]),j.set(s[I+6],s[I+7],s[I+8]),k.set(o[U+0],o[U+1]),D.set(o[U+2],o[U+3]),O.set(o[U+4],o[U+5]),R.copy(E).add(C).add(j).divideScalar(3);const K=b(R);S(k,U+0,E,K),S(D,U+2,C,K),S(O,U+4,j,K)}}function S(E,C,j,R){R<0&&E.x===1&&(o[C]=E.x-1),j.x===0&&j.z===0&&(o[C]=R/2/Math.PI+.5)}function b(E){return Math.atan2(E.z,-E.x)}function _(E){return Math.atan2(-E.y,Math.sqrt(E.x*E.x+E.z*E.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ed(e.vertices,e.indices,e.radius,e.details)}}class l2 extends Ed{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new l2(e.radius,e.detail)}}const Ry=new te,Fy=new te,RS=new te,By=new ra;class CI extends tn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Yh*n),o=e.getIndex(),l=e.getAttribute("position"),c=o?o.count:l.count,u=[0,0,0],h=["a","b","c"],f=new Array(3),m={},v=[];for(let y=0;y<c;y+=3){o?(u[0]=o.getX(y),u[1]=o.getX(y+1),u[2]=o.getX(y+2)):(u[0]=y,u[1]=y+1,u[2]=y+2);const{a:S,b,c:_}=By;if(S.fromBufferAttribute(l,u[0]),b.fromBufferAttribute(l,u[1]),_.fromBufferAttribute(l,u[2]),By.getNormal(RS),f[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,f[1]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,f[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let E=0;E<3;E++){const C=(E+1)%3,j=f[E],R=f[C],k=By[h[E]],D=By[h[C]],O=`${j}_${R}`,I=`${R}_${j}`;I in m&&m[I]?(RS.dot(m[I].normal)<=s&&(v.push(k.x,k.y,k.z),v.push(D.x,D.y,D.z)),m[I]=null):O in m||(m[O]={index0:u[E],index1:u[C],normal:RS.clone()})}}for(const y in m)if(m[y]){const{index0:S,index1:b}=m[y];Ry.fromBufferAttribute(l,S),Fy.fromBufferAttribute(l,b),v.push(Ry.x,Ry.y,Ry.z),v.push(Fy.x,Fy.y,Fy.z)}this.setAttribute("position",new _t(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let $h=class extends Jx{constructor(e){super(e),this.uuid=Pa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Jx().fromJSON(i))}return this}};const RX={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=MI(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let l,c,u,h,f,m,v;if(r&&(s=LX(t,e,s,n)),t.length>80*n){l=u=t[0],c=h=t[1];for(let y=n;y<i;y+=n)f=t[y],m=t[y+1],f<l&&(l=f),m<c&&(c=m),f>u&&(u=f),m>h&&(h=m);v=Math.max(u-l,h-c),v=v!==0?32767/v:0}return qx(s,o,n,l,c,v,0),o}};function MI(t,e,n,r,i){let s,o;if(i===JX(t,e,n,r)>0)for(s=e;s<n;s+=r)o=n3(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=n3(s,t[s],t[s+1],o);return o&&c2(o,o.next)&&(Qx(o),o=o.next),o}function cf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(c2(n,n.next)||Pr(n.prev,n,n.next)===0)){if(Qx(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function qx(t,e,n,r,i,s,o){if(!t)return;!o&&s&&GX(t,r,i,s);let l=t,c,u;for(;t.prev!==t.next;){if(c=t.prev,u=t.next,s?BX(t,r,i,s):FX(t)){e.push(c.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),Qx(t),t=u.next,l=u.next;continue}if(t=u,t===l){o?o===1?(t=DX(cf(t),e,n),qx(t,e,n,r,i,s,2)):o===2&&IX(t,e,n,r,i,s):qx(cf(t),e,n,r,i,s,1);break}}}function FX(t){const e=t.prev,n=t,r=t.next;if(Pr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,l=e.y,c=n.y,u=r.y,h=i<s?i<o?i:o:s<o?s:o,f=l<c?l<u?l:u:c<u?c:u,m=i>s?i>o?i:o:s>o?s:o,v=l>c?l>u?l:u:c>u?c:u;let y=r.next;for(;y!==e;){if(y.x>=h&&y.x<=m&&y.y>=f&&y.y<=v&&am(i,l,s,c,o,u,y.x,y.y)&&Pr(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function BX(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Pr(i,s,o)>=0)return!1;const l=i.x,c=s.x,u=o.x,h=i.y,f=s.y,m=o.y,v=l<c?l<u?l:u:c<u?c:u,y=h<f?h<m?h:m:f<m?f:m,S=l>c?l>u?l:u:c>u?c:u,b=h>f?h>m?h:m:f>m?f:m,_=ME(v,y,e,n,r),E=ME(S,b,e,n,r);let C=t.prevZ,j=t.nextZ;for(;C&&C.z>=_&&j&&j.z<=E;){if(C.x>=v&&C.x<=S&&C.y>=y&&C.y<=b&&C!==i&&C!==o&&am(l,h,c,f,u,m,C.x,C.y)&&Pr(C.prev,C,C.next)>=0||(C=C.prevZ,j.x>=v&&j.x<=S&&j.y>=y&&j.y<=b&&j!==i&&j!==o&&am(l,h,c,f,u,m,j.x,j.y)&&Pr(j.prev,j,j.next)>=0))return!1;j=j.nextZ}for(;C&&C.z>=_;){if(C.x>=v&&C.x<=S&&C.y>=y&&C.y<=b&&C!==i&&C!==o&&am(l,h,c,f,u,m,C.x,C.y)&&Pr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;j&&j.z<=E;){if(j.x>=v&&j.x<=S&&j.y>=y&&j.y<=b&&j!==i&&j!==o&&am(l,h,c,f,u,m,j.x,j.y)&&Pr(j.prev,j,j.next)>=0)return!1;j=j.nextZ}return!0}function DX(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!c2(i,s)&&NI(i,r,r.next,s)&&$x(i,s)&&$x(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Qx(r),Qx(r.next),r=t=s),r=r.next}while(r!==t);return cf(r)}function IX(t,e,n,r,i,s){let o=t;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&KX(o,l)){let c=TI(o,l);o=cf(o,o.next),c=cf(c,c.next),qx(o,e,n,r,i,s,0),qx(c,e,n,r,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function LX(t,e,n,r){const i=[];let s,o,l,c,u;for(s=0,o=e.length;s<o;s++)l=e[s]*r,c=s<o-1?e[s+1]*r:t.length,u=MI(t,l,c,r,!1),u===u.next&&(u.steiner=!0),i.push(VX(u));for(i.sort(OX),s=0;s<i.length;s++)n=UX(i[s],n);return n}function OX(t,e){return t.x-e.x}function UX(t,e){const n=zX(t,e);if(!n)return e;const r=TI(n,t);return cf(r,r.next),cf(n,n.next)}function zX(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const m=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(m<=s&&m>r&&(r=m,i=n.x<n.next.x?n:n.next,m===s))return i}n=n.next}while(n!==e);if(!i)return null;const l=i,c=i.x,u=i.y;let h=1/0,f;n=i;do s>=n.x&&n.x>=c&&s!==n.x&&am(o<u?s:r,o,c,u,o<u?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),$x(n,t)&&(f<h||f===h&&(n.x>i.x||n.x===i.x&&HX(i,n)))&&(i=n,h=f)),n=n.next;while(n!==l);return i}function HX(t,e){return Pr(t.prev,t,e.prev)<0&&Pr(e.next,t,t.next)<0}function GX(t,e,n,r){let i=t;do i.z===0&&(i.z=ME(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,WX(i)}function WX(t){let e,n,r,i,s,o,l,c,u=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,l=0,e=0;e<u&&(l++,r=r.nextZ,!!r);e++);for(c=u;l>0||c>0&&r;)l!==0&&(c===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,l--):(i=r,r=r.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,u*=2}while(o>1);return t}function ME(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function VX(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function am(t,e,n,r,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(r-l)>=(n-o)*(e-l)&&(n-o)*(s-l)>=(i-o)*(r-l)}function KX(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!XX(t,e)&&($x(t,e)&&$x(e,t)&&YX(t,e)&&(Pr(t.prev,t,e.prev)||Pr(t,e.prev,e))||c2(t,e)&&Pr(t.prev,t,t.next)>0&&Pr(e.prev,e,e.next)>0)}function Pr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function c2(t,e){return t.x===e.x&&t.y===e.y}function NI(t,e,n,r){const i=Iy(Pr(t,e,n)),s=Iy(Pr(t,e,r)),o=Iy(Pr(n,r,t)),l=Iy(Pr(n,r,e));return!!(i!==s&&o!==l||i===0&&Dy(t,n,e)||s===0&&Dy(t,r,e)||o===0&&Dy(n,t,r)||l===0&&Dy(n,e,r))}function Dy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Iy(t){return t>0?1:t<0?-1:0}function XX(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&NI(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function $x(t,e){return Pr(t.prev,t,t.next)<0?Pr(t,e,t.next)>=0&&Pr(t,t.prev,e)>=0:Pr(t,e,t.prev)<0||Pr(t,t.next,e)<0}function YX(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function TI(t,e){const n=new NE(t.i,t.x,t.y),r=new NE(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function n3(t,e,n,r){const i=new NE(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Qx(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function NE(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function JX(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Al{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Al.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];r3(e),i3(r,e);let o=e.length;n.forEach(r3);for(let c=0;c<n.length;c++)i.push(o),o+=n[c].length,i3(r,n[c]);const l=RX.triangulate(r,i);for(let c=0;c<l.length;c+=3)s.push(l.slice(c,c+3));return s}}function r3(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function i3(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class u2 extends tn{constructor(e=new $h([new We(.5,.5),new We(-.5,.5),new We(-.5,-.5),new We(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let l=0,c=e.length;l<c;l++){const u=e[l];o(u)}this.setAttribute("position",new _t(i,3)),this.setAttribute("uv",new _t(s,2)),this.computeVertexNormals();function o(l){const c=[],u=n.curveSegments!==void 0?n.curveSegments:12,h=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let m=n.bevelEnabled!==void 0?n.bevelEnabled:!0,v=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:v-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,b=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,E=n.UVGenerator!==void 0?n.UVGenerator:qX;let C,j=!1,R,k,D,O;_&&(C=_.getSpacedPoints(h),j=!0,m=!1,R=_.computeFrenetFrames(h,!1),k=new te,D=new te,O=new te),m||(b=0,v=0,y=0,S=0);const I=l.extractPoints(u);let U=I.shape;const K=I.holes;if(!Al.isClockWise(U)){U=U.reverse();for(let J=0,ue=K.length;J<ue;J++){const fe=K[J];Al.isClockWise(fe)&&(K[J]=fe.reverse())}}const re=Al.triangulateShape(U,K),Y=U;for(let J=0,ue=K.length;J<ue;J++){const fe=K[J];U=U.concat(fe)}function se(J,ue,fe){return ue||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(ue,fe)}const oe=U.length,le=re.length;function H(J,ue,fe){let Ie,ke,at;const $e=J.x-ue.x,z=J.y-ue.y,G=fe.x-J.x,ge=fe.y-J.y,He=$e*$e+z*z,Ve=$e*ge-z*G;if(Math.abs(Ve)>Number.EPSILON){const ze=Math.sqrt(He),ve=Math.sqrt(G*G+ge*ge),Le=ue.x-z/ze,nt=ue.y+$e/ze,Tt=fe.x-ge/ve,Kt=fe.y+G/ve,Ke=((Tt-Le)*ge-(Kt-nt)*G)/($e*ge-z*G);Ie=Le+$e*Ke-J.x,ke=nt+z*Ke-J.y;const cn=Ie*Ie+ke*ke;if(cn<=2)return new We(Ie,ke);at=Math.sqrt(cn/2)}else{let ze=!1;$e>Number.EPSILON?G>Number.EPSILON&&(ze=!0):$e<-Number.EPSILON?G<-Number.EPSILON&&(ze=!0):Math.sign(z)===Math.sign(ge)&&(ze=!0),ze?(Ie=-z,ke=$e,at=Math.sqrt(He)):(Ie=$e,ke=z,at=Math.sqrt(He/2))}return new We(Ie/at,ke/at)}const q=[];for(let J=0,ue=Y.length,fe=ue-1,Ie=J+1;J<ue;J++,fe++,Ie++)fe===ue&&(fe=0),Ie===ue&&(Ie=0),q[J]=H(Y[J],Y[fe],Y[Ie]);const Q=[];let V,ee=q.concat();for(let J=0,ue=K.length;J<ue;J++){const fe=K[J];V=[];for(let Ie=0,ke=fe.length,at=ke-1,$e=Ie+1;Ie<ke;Ie++,at++,$e++)at===ke&&(at=0),$e===ke&&($e=0),V[Ie]=H(fe[Ie],fe[at],fe[$e]);Q.push(V),ee=ee.concat(V)}for(let J=0;J<b;J++){const ue=J/b,fe=v*Math.cos(ue*Math.PI/2),Ie=y*Math.sin(ue*Math.PI/2)+S;for(let ke=0,at=Y.length;ke<at;ke++){const $e=se(Y[ke],q[ke],Ie);Se($e.x,$e.y,-fe)}for(let ke=0,at=K.length;ke<at;ke++){const $e=K[ke];V=Q[ke];for(let z=0,G=$e.length;z<G;z++){const ge=se($e[z],V[z],Ie);Se(ge.x,ge.y,-fe)}}}const ce=y+S;for(let J=0;J<oe;J++){const ue=m?se(U[J],ee[J],ce):U[J];j?(D.copy(R.normals[0]).multiplyScalar(ue.x),k.copy(R.binormals[0]).multiplyScalar(ue.y),O.copy(C[0]).add(D).add(k),Se(O.x,O.y,O.z)):Se(ue.x,ue.y,0)}for(let J=1;J<=h;J++)for(let ue=0;ue<oe;ue++){const fe=m?se(U[ue],ee[ue],ce):U[ue];j?(D.copy(R.normals[J]).multiplyScalar(fe.x),k.copy(R.binormals[J]).multiplyScalar(fe.y),O.copy(C[J]).add(D).add(k),Se(O.x,O.y,O.z)):Se(fe.x,fe.y,f/h*J)}for(let J=b-1;J>=0;J--){const ue=J/b,fe=v*Math.cos(ue*Math.PI/2),Ie=y*Math.sin(ue*Math.PI/2)+S;for(let ke=0,at=Y.length;ke<at;ke++){const $e=se(Y[ke],q[ke],Ie);Se($e.x,$e.y,f+fe)}for(let ke=0,at=K.length;ke<at;ke++){const $e=K[ke];V=Q[ke];for(let z=0,G=$e.length;z<G;z++){const ge=se($e[z],V[z],Ie);j?Se(ge.x,ge.y+C[h-1].y,C[h-1].x+fe):Se(ge.x,ge.y,f+fe)}}}ne(),be();function ne(){const J=i.length/3;if(m){let ue=0,fe=oe*ue;for(let Ie=0;Ie<le;Ie++){const ke=re[Ie];pe(ke[2]+fe,ke[1]+fe,ke[0]+fe)}ue=h+b*2,fe=oe*ue;for(let Ie=0;Ie<le;Ie++){const ke=re[Ie];pe(ke[0]+fe,ke[1]+fe,ke[2]+fe)}}else{for(let ue=0;ue<le;ue++){const fe=re[ue];pe(fe[2],fe[1],fe[0])}for(let ue=0;ue<le;ue++){const fe=re[ue];pe(fe[0]+oe*h,fe[1]+oe*h,fe[2]+oe*h)}}r.addGroup(J,i.length/3-J,0)}function be(){const J=i.length/3;let ue=0;Ae(Y,ue),ue+=Y.length;for(let fe=0,Ie=K.length;fe<Ie;fe++){const ke=K[fe];Ae(ke,ue),ue+=ke.length}r.addGroup(J,i.length/3-J,1)}function Ae(J,ue){let fe=J.length;for(;--fe>=0;){const Ie=fe;let ke=fe-1;ke<0&&(ke=J.length-1);for(let at=0,$e=h+b*2;at<$e;at++){const z=oe*at,G=oe*(at+1),ge=ue+Ie+z,He=ue+ke+z,Ve=ue+ke+G,ze=ue+Ie+G;X(ge,He,Ve,ze)}}}function Se(J,ue,fe){c.push(J),c.push(ue),c.push(fe)}function pe(J,ue,fe){Ce(J),Ce(ue),Ce(fe);const Ie=i.length/3,ke=E.generateTopUV(r,i,Ie-3,Ie-2,Ie-1);Ge(ke[0]),Ge(ke[1]),Ge(ke[2])}function X(J,ue,fe,Ie){Ce(J),Ce(ue),Ce(Ie),Ce(ue),Ce(fe),Ce(Ie);const ke=i.length/3,at=E.generateSideWallUV(r,i,ke-6,ke-3,ke-2,ke-1);Ge(at[0]),Ge(at[1]),Ge(at[3]),Ge(at[1]),Ge(at[2]),Ge(at[3])}function Ce(J){i.push(c[J*3+0]),i.push(c[J*3+1]),i.push(c[J*3+2])}function Ge(J){s.push(J.x),s.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return $X(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const l=n[e.shapes[s]];r.push(l)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Ub[i.type]().fromJSON(i)),new u2(r,e.options)}}const qX={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],l=e[r*3],c=e[r*3+1],u=e[i*3],h=e[i*3+1];return[new We(s,o),new We(l,c),new We(u,h)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],l=e[n*3+1],c=e[n*3+2],u=e[r*3],h=e[r*3+1],f=e[r*3+2],m=e[i*3],v=e[i*3+1],y=e[i*3+2],S=e[s*3],b=e[s*3+1],_=e[s*3+2];return Math.abs(l-h)<Math.abs(o-u)?[new We(o,1-c),new We(u,1-f),new We(m,1-y),new We(S,1-_)]:[new We(l,1-c),new We(h,1-f),new We(v,1-y),new We(b,1-_)]}};function $X(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class d2 extends Ed{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new d2(e.radius,e.detail)}}class R0 extends Ed{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new R0(e.radius,e.detail)}}class h2 extends tn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const l=[],c=[],u=[],h=[];let f=e;const m=(n-e)/i,v=new te,y=new We;for(let S=0;S<=i;S++){for(let b=0;b<=r;b++){const _=s+b/r*o;v.x=f*Math.cos(_),v.y=f*Math.sin(_),c.push(v.x,v.y,v.z),u.push(0,0,1),y.x=(v.x/n+1)/2,y.y=(v.y/n+1)/2,h.push(y.x,y.y)}f+=m}for(let S=0;S<i;S++){const b=S*(r+1);for(let _=0;_<r;_++){const E=_+b,C=E,j=E+r+1,R=E+r+2,k=E+1;l.push(C,j,k),l.push(j,R,k)}}this.setIndex(l),this.setAttribute("position",new _t(c,3)),this.setAttribute("normal",new _t(u,3)),this.setAttribute("uv",new _t(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new h2(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class f2 extends tn{constructor(e=new $h([new We(0,.5),new We(-.5,-.5),new We(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let l=0,c=0;if(Array.isArray(e)===!1)u(e);else for(let h=0;h<e.length;h++)u(e[h]),this.addGroup(l,c,h),l+=c,c=0;this.setIndex(r),this.setAttribute("position",new _t(i,3)),this.setAttribute("normal",new _t(s,3)),this.setAttribute("uv",new _t(o,2));function u(h){const f=i.length/3,m=h.extractPoints(n);let v=m.shape;const y=m.holes;Al.isClockWise(v)===!1&&(v=v.reverse());for(let b=0,_=y.length;b<_;b++){const E=y[b];Al.isClockWise(E)===!0&&(y[b]=E.reverse())}const S=Al.triangulateShape(v,y);for(let b=0,_=y.length;b<_;b++){const E=y[b];v=v.concat(E)}for(let b=0,_=v.length;b<_;b++){const E=v[b];i.push(E.x,E.y,0),s.push(0,0,1),o.push(E.x,E.y)}for(let b=0,_=S.length;b<_;b++){const E=S[b],C=E[0]+f,j=E[1]+f,R=E[2]+f;r.push(C,j,R),c+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return QX(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new f2(r,e.curveSegments)}}function QX(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class F0 extends tn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:l},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const c=Math.min(o+l,Math.PI);let u=0;const h=[],f=new te,m=new te,v=[],y=[],S=[],b=[];for(let _=0;_<=r;_++){const E=[],C=_/r;let j=0;_===0&&o===0?j=.5/n:_===r&&c===Math.PI&&(j=-.5/n);for(let R=0;R<=n;R++){const k=R/n;f.x=-e*Math.cos(i+k*s)*Math.sin(o+C*l),f.y=e*Math.cos(o+C*l),f.z=e*Math.sin(i+k*s)*Math.sin(o+C*l),y.push(f.x,f.y,f.z),m.copy(f).normalize(),S.push(m.x,m.y,m.z),b.push(k+j,1-C),E.push(u++)}h.push(E)}for(let _=0;_<r;_++)for(let E=0;E<n;E++){const C=h[_][E+1],j=h[_][E],R=h[_+1][E],k=h[_+1][E+1];(_!==0||o>0)&&v.push(C,j,k),(_!==r-1||c<Math.PI)&&v.push(j,R,k)}this.setIndex(v),this.setAttribute("position",new _t(y,3)),this.setAttribute("normal",new _t(S,3)),this.setAttribute("uv",new _t(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class p2 extends Ed{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new p2(e.radius,e.detail)}}class m2 extends tn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],h=new te,f=new te,m=new te;for(let v=0;v<=r;v++)for(let y=0;y<=i;y++){const S=y/i*s,b=v/r*Math.PI*2;f.x=(e+n*Math.cos(b))*Math.cos(S),f.y=(e+n*Math.cos(b))*Math.sin(S),f.z=n*Math.sin(b),l.push(f.x,f.y,f.z),h.x=e*Math.cos(S),h.y=e*Math.sin(S),m.subVectors(f,h).normalize(),c.push(m.x,m.y,m.z),u.push(y/i),u.push(v/r)}for(let v=1;v<=r;v++)for(let y=1;y<=i;y++){const S=(i+1)*v+y-1,b=(i+1)*(v-1)+y-1,_=(i+1)*(v-1)+y,E=(i+1)*v+y;o.push(S,b,E),o.push(b,_,E)}this.setIndex(o),this.setAttribute("position",new _t(l,3)),this.setAttribute("normal",new _t(c,3)),this.setAttribute("uv",new _t(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m2(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class g2 extends tn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const l=[],c=[],u=[],h=[],f=new te,m=new te,v=new te,y=new te,S=new te,b=new te,_=new te;for(let C=0;C<=r;++C){const j=C/r*s*Math.PI*2;E(j,s,o,e,v),E(j+.01,s,o,e,y),b.subVectors(y,v),_.addVectors(y,v),S.crossVectors(b,_),_.crossVectors(S,b),S.normalize(),_.normalize();for(let R=0;R<=i;++R){const k=R/i*Math.PI*2,D=-n*Math.cos(k),O=n*Math.sin(k);f.x=v.x+(D*_.x+O*S.x),f.y=v.y+(D*_.y+O*S.y),f.z=v.z+(D*_.z+O*S.z),c.push(f.x,f.y,f.z),m.subVectors(f,v).normalize(),u.push(m.x,m.y,m.z),h.push(C/r),h.push(R/i)}}for(let C=1;C<=r;C++)for(let j=1;j<=i;j++){const R=(i+1)*(C-1)+(j-1),k=(i+1)*C+(j-1),D=(i+1)*C+j,O=(i+1)*(C-1)+j;l.push(R,k,O),l.push(k,D,O)}this.setIndex(l),this.setAttribute("position",new _t(c,3)),this.setAttribute("normal",new _t(u,3)),this.setAttribute("uv",new _t(h,2));function E(C,j,R,k,D){const O=Math.cos(C),I=Math.sin(C),U=R/j*C,K=Math.cos(U);D.x=k*(2+K)*.5*O,D.y=k*(2+K)*I*.5,D.z=k*Math.sin(U)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new g2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class x2 extends tn{constructor(e=new _M(new te(-1,-1,0),new te(-1,1,0),new te(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new te,c=new te,u=new We;let h=new te;const f=[],m=[],v=[],y=[];S(),this.setIndex(y),this.setAttribute("position",new _t(f,3)),this.setAttribute("normal",new _t(m,3)),this.setAttribute("uv",new _t(v,2));function S(){for(let C=0;C<n;C++)b(C);b(s===!1?n:0),E(),_()}function b(C){h=e.getPointAt(C/n,h);const j=o.normals[C],R=o.binormals[C];for(let k=0;k<=i;k++){const D=k/i*Math.PI*2,O=Math.sin(D),I=-Math.cos(D);c.x=I*j.x+O*R.x,c.y=I*j.y+O*R.y,c.z=I*j.z+O*R.z,c.normalize(),m.push(c.x,c.y,c.z),l.x=h.x+r*c.x,l.y=h.y+r*c.y,l.z=h.z+r*c.z,f.push(l.x,l.y,l.z)}}function _(){for(let C=1;C<=n;C++)for(let j=1;j<=i;j++){const R=(i+1)*(C-1)+(j-1),k=(i+1)*C+(j-1),D=(i+1)*C+j,O=(i+1)*(C-1)+j;y.push(R,k,O),y.push(k,D,O)}}function E(){for(let C=0;C<=n;C++)for(let j=0;j<=i;j++)u.x=C/n,u.y=j/i,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new x2(new Ub[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class jI extends tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new te,s=new te;if(e.index!==null){const o=e.attributes.position,l=e.index;let c=e.groups;c.length===0&&(c=[{start:0,count:l.count,materialIndex:0}]);for(let u=0,h=c.length;u<h;++u){const f=c[u],m=f.start,v=f.count;for(let y=m,S=m+v;y<S;y+=3)for(let b=0;b<3;b++){const _=l.getX(y+b),E=l.getX(y+(b+1)%3);i.fromBufferAttribute(o,_),s.fromBufferAttribute(o,E),s3(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let l=0,c=o.count/3;l<c;l++)for(let u=0;u<3;u++){const h=3*l+u,f=3*l+(u+1)%3;i.fromBufferAttribute(o,h),s.fromBufferAttribute(o,f),s3(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new _t(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function s3(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var a3=Object.freeze({__proto__:null,BoxGeometry:wf,CapsuleGeometry:s2,CircleGeometry:a2,ConeGeometry:o2,CylinderGeometry:Hm,DodecahedronGeometry:l2,EdgesGeometry:CI,ExtrudeGeometry:u2,IcosahedronGeometry:d2,LatheGeometry:P0,OctahedronGeometry:R0,PlaneGeometry:T0,PolyhedronGeometry:Ed,RingGeometry:h2,ShapeGeometry:f2,SphereGeometry:F0,TetrahedronGeometry:p2,TorusGeometry:m2,TorusKnotGeometry:g2,TubeGeometry:x2,WireframeGeometry:jI});class kI extends Ai{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new lt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class PI extends kl{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class B0 extends Ai{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new lt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ad,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ao extends B0{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new We(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return zr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new lt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new lt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new lt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class RI extends Ai{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new lt(16777215),this.specular=new lt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ad,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FI extends Ai{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new lt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ad,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class BI extends Ai{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ad,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class DI extends Ai{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new lt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new lt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ad,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=_0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class II extends Ai{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new lt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ad,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LI extends ws{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Uh(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function OI(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function UI(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function TE(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const l=n[s]*e;for(let c=0;c!==e;++c)i[o++]=t[l+c]}return i}function EM(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function ZX(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let c=0;c<s.tracks.length;++c){const u=s.tracks[c],h=u.getValueSize(),f=[],m=[];for(let v=0;v<u.times.length;++v){const y=u.times[v]*i;if(!(y<n||y>=r)){f.push(u.times[v]);for(let S=0;S<h;++S)m.push(u.values[v*h+S])}}f.length!==0&&(u.times=Uh(f,u.times.constructor),u.values=Uh(m,u.values.constructor),o.push(u))}s.tracks=o;let l=1/0;for(let c=0;c<s.tracks.length;++c)l>s.tracks[c].times[0]&&(l=s.tracks[c].times[0]);for(let c=0;c<s.tracks.length;++c)s.tracks[c].shift(-1*l);return s.resetDuration(),s}function eY(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const l=n.tracks[o],c=l.ValueTypeName;if(c==="bool"||c==="string")continue;const u=t.tracks.find(function(_){return _.name===l.name&&_.ValueTypeName===c});if(u===void 0)continue;let h=0;const f=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=f/3);let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const y=l.times.length-1;let S;if(s<=l.times[0]){const _=h,E=f-h;S=l.values.slice(_,E)}else if(s>=l.times[y]){const _=y*f+h,E=_+f-h;S=l.values.slice(_,E)}else{const _=l.createInterpolant(),E=h,C=f-h;_.evaluate(s),S=_.resultBuffer.slice(E,C)}c==="quaternion"&&new xs().fromArray(S).normalize().conjugate().toArray(S);const b=u.times.length;for(let _=0;_<b;++_){const E=_*v+m;if(c==="quaternion")xs.multiplyQuaternionsFlat(u.values,E,S,0,u.values,E);else{const C=v-m*2;for(let j=0;j<C;++j)u.values[E+j]-=S[j]}}}return t.blendMode=ZC,t}const tY={convertArray:Uh,isTypedArray:OI,getKeyframeOrder:UI,sortedArray:TE,flattenJSON:EM,subclip:ZX,makeClipAdditive:eY};class Gm{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let l=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const l=n[1];e<l&&(r=2,s=l);for(let c=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const l=r+o>>>1;e<n[l]?o=l:r=l+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class zI extends Gm{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ih,endingEnd:Ih}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,l=i[s],c=i[o];if(l===void 0)switch(this.getSettings_().endingStart){case Lh:s=e,l=2*n-r;break;case Gx:s=i.length-2,l=n+i[s]-i[s+1];break;default:s=e,l=r}if(c===void 0)switch(this.getSettings_().endingEnd){case Lh:o=e,c=2*r-n;break;case Gx:o=1,c=r+i[1]-i[0];break;default:o=e-1,c=n}const u=(r-n)*.5,h=this.valueSize;this._weightPrev=u/(n-l),this._weightNext=u/(c-r),this._offsetPrev=s*h,this._offsetNext=o*h}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,h=this._offsetPrev,f=this._offsetNext,m=this._weightPrev,v=this._weightNext,y=(r-n)/(i-n),S=y*y,b=S*y,_=-m*b+2*m*S-m*y,E=(1+m)*b+(-1.5-2*m)*S+(-.5+m)*y+1,C=(-1-v)*b+(1.5+v)*S+.5*y,j=v*b-v*S;for(let R=0;R!==l;++R)s[R]=_*o[h+R]+E*o[u+R]+C*o[c+R]+j*o[f+R];return s}}class CM extends Gm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,u=c-l,h=(r-n)/(i-n),f=1-h;for(let m=0;m!==l;++m)s[m]=o[u+m]*f+o[c+m]*h;return s}}class HI extends Gm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class tl{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Uh(n,this.TimeBufferType),this.values=Uh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Uh(e.times,Array),values:Uh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new HI(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new CM(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new zI(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case _m:n=this.InterpolantFactoryMethodDiscrete;break;case of:n=this.InterpolantFactoryMethodLinear;break;case wb:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _m;case this.InterpolantFactoryMethodLinear:return of;case this.InterpolantFactoryMethodSmooth:return wb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const l=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*l,o*l)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==s;l++){const c=r[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(i!==void 0&&OI(i))for(let l=0,c=i.length;l!==c;++l){const u=i[l];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===wb,s=e.length-1;let o=1;for(let l=1;l<s;++l){let c=!1;const u=e[l],h=e[l+1];if(u!==h&&(l!==1||u!==e[0]))if(i)c=!0;else{const f=l*r,m=f-r,v=f+r;for(let y=0;y!==r;++y){const S=n[f+y];if(S!==n[m+y]||S!==n[v+y]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];const f=l*r,m=o*r;for(let v=0;v!==r;++v)n[m+v]=n[f+v]}++o}}if(s>0){e[o]=e[s];for(let l=s*r,c=o*r,u=0;u!==r;++u)n[c+u]=n[l+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}tl.prototype.TimeBufferType=Float32Array;tl.prototype.ValueBufferType=Float32Array;tl.prototype.DefaultInterpolation=of;class Sf extends tl{}Sf.prototype.ValueTypeName="bool";Sf.prototype.ValueBufferType=Array;Sf.prototype.DefaultInterpolation=_m;Sf.prototype.InterpolantFactoryMethodLinear=void 0;Sf.prototype.InterpolantFactoryMethodSmooth=void 0;class MM extends tl{}MM.prototype.ValueTypeName="color";class uf extends tl{}uf.prototype.ValueTypeName="number";class GI extends Gm{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(r-n)/(i-n);let u=e*l;for(let h=u+l;u!==h;u+=4)xs.slerpFlat(s,0,o,u-l,o,u,c);return s}}class bd extends tl{InterpolantFactoryMethodLinear(e){return new GI(this.times,this.values,this.getValueSize(),e)}}bd.prototype.ValueTypeName="quaternion";bd.prototype.DefaultInterpolation=of;bd.prototype.InterpolantFactoryMethodSmooth=void 0;class _f extends tl{}_f.prototype.ValueTypeName="string";_f.prototype.ValueBufferType=Array;_f.prototype.DefaultInterpolation=_m;_f.prototype.InterpolantFactoryMethodLinear=void 0;_f.prototype.InterpolantFactoryMethodSmooth=void 0;class df extends tl{}df.prototype.ValueTypeName="vector";class Mm{constructor(e,n=-1,r,i=J1){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Pa(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)n.push(rY(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(tl.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let l=0;l<s;l++){let c=[],u=[];c.push((l+s-1)%s,l,(l+1)%s),u.push(0,1,0);const h=UI(c);c=TE(c,1,h),u=TE(u,1,h),!i&&c[0]===0&&(c.push(s),u.push(u[0])),o.push(new uf(".morphTargetInfluences["+n[l].name+"]",c,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){const u=e[l],h=u.name.match(s);if(h&&h.length>1){const f=h[1];let m=i[f];m||(i[f]=m=[]),m.push(u)}}const o=[];for(const l in i)o.push(this.CreateFromMorphTargetSequence(l,i[l],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,m,v,y,S){if(v.length!==0){const b=[],_=[];EM(v,b,_,y),b.length!==0&&S.push(new f(m,b,_))}},i=[],s=e.name||"default",o=e.fps||30,l=e.blendMode;let c=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const m=u[f].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let y;for(y=0;y<m.length;y++)if(m[y].morphTargets)for(let S=0;S<m[y].morphTargets.length;S++)v[m[y].morphTargets[S]]=-1;for(const S in v){const b=[],_=[];for(let E=0;E!==m[y].morphTargets.length;++E){const C=m[y];b.push(C.time),_.push(C.morphTarget===S?1:0)}i.push(new uf(".morphTargetInfluence["+S+"]",b,_))}c=v.length*o}else{const v=".bones["+n[f].name+"]";r(df,v+".position",m,"pos",i),r(bd,v+".quaternion",m,"rot",i),r(df,v+".scale",m,"scl",i)}}return i.length===0?null:new this(s,c,i,l)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function nY(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return uf;case"vector":case"vector2":case"vector3":case"vector4":return df;case"color":return MM;case"quaternion":return bd;case"bool":case"boolean":return Sf;case"string":return _f}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function rY(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=nY(t.type);if(t.times===void 0){const n=[],r=[];EM(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Rc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class NM{constructor(e,n,r){const i=this;let s=!1,o=0,l=0,c;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(h){l++,s===!1&&i.onStart!==void 0&&i.onStart(h,o,l),s=!0},this.itemEnd=function(h){o++,i.onProgress!==void 0&&i.onProgress(h,o,l),o===l&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(h){i.onError!==void 0&&i.onError(h)},this.resolveURL=function(h){return c?c(h):h},this.setURLModifier=function(h){return c=h,this},this.addHandler=function(h,f){return u.push(h,f),this},this.removeHandler=function(h){const f=u.indexOf(h);return f!==-1&&u.splice(f,2),this},this.getHandler=function(h){for(let f=0,m=u.length;f<m;f+=2){const v=u[f],y=u[f+1];if(v.global&&(v.lastIndex=0),v.test(h))return y}return null}}}const WI=new NM;class Ss{constructor(e){this.manager=e!==void 0?e:WI,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ss.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ac={};class iY extends Error{constructor(e,n){super(e),this.response=n}}class Fa extends Ss{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Rc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Ac[e]!==void 0){Ac[e].push({onLoad:n,onProgress:r,onError:i});return}Ac[e]=[],Ac[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const h=Ac[e],f=u.body.getReader(),m=u.headers.get("Content-Length")||u.headers.get("X-File-Size"),v=m?parseInt(m):0,y=v!==0;let S=0;const b=new ReadableStream({start(_){E();function E(){f.read().then(({done:C,value:j})=>{if(C)_.close();else{S+=j.byteLength;const R=new ProgressEvent("progress",{lengthComputable:y,loaded:S,total:v});for(let k=0,D=h.length;k<D;k++){const O=h[k];O.onProgress&&O.onProgress(R)}_.enqueue(j),E()}})}}});return new Response(b)}else throw new iY(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(c){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(h=>new DOMParser().parseFromString(h,l));case"json":return u.json();default:if(l===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(l),m=f&&f[1]?f[1].toLowerCase():void 0,v=new TextDecoder(m);return u.arrayBuffer().then(y=>v.decode(y))}}}).then(u=>{Rc.add(e,u);const h=Ac[e];delete Ac[e];for(let f=0,m=h.length;f<m;f++){const v=h[f];v.onLoad&&v.onLoad(u)}}).catch(u=>{const h=Ac[e];if(h===void 0)throw this.manager.itemError(e),u;delete Ac[e];for(let f=0,m=h.length;f<m;f++){const v=h[f];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class sY extends Ss{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Fa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Mm.parse(e[r]);n.push(i)}return n}}class aY extends Ss{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],l=new r2,c=new Fa(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(s.withCredentials);let u=0;function h(f){c.load(e[f],function(m){const v=s.parse(m,!0);o[f]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(l.minFilter=kr),l.image=o,l.format=v.format,l.needsUpdate=!0,n&&n(l))},r,i)}if(Array.isArray(e))for(let f=0,m=e.length;f<m;++f)h(f);else c.load(e,function(f){const m=s.parse(f,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let y=0;y<v;y++){o[y]={mipmaps:[]};for(let S=0;S<m.mipmapCount;S++)o[y].mipmaps.push(m.mipmaps[y*m.mipmapCount+S]),o[y].format=m.format,o[y].width=m.width,o[y].height=m.height}l.image=o}else l.image.width=m.width,l.image.height=m.height,l.mipmaps=m.mipmaps;m.mipmapCount===1&&(l.minFilter=kr),l.format=m.format,l.needsUpdate=!0,n&&n(l)},r,i);return l}}class Zx extends Ss{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Rc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const l=Yx("img");function c(){h(),Rc.add(e,this),n&&n(this),s.manager.itemEnd(e)}function u(f){h(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function h(){l.removeEventListener("load",c,!1),l.removeEventListener("error",u,!1)}return l.addEventListener("load",c,!1),l.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),s.manager.itemStart(e),l.src=e,l}}class oY extends Ss{constructor(e){super(e)}load(e,n,r,i){const s=new M0;s.colorSpace=wi;const o=new Zx(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function c(u){o.load(e[u],function(h){s.images[u]=h,l++,l===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let u=0;u<e.length;++u)c(u);return s}}class lY extends Ss{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new qh,l=new Fa(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(s.withCredentials),l.load(e,function(c){let u;try{u=s.parse(c)}catch(h){if(i!==void 0)i(h);else{console.error(h);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:es,o.wrapT=u.wrapT!==void 0?u.wrapT:es,o.magFilter=u.magFilter!==void 0?u.magFilter:kr,o.minFilter=u.minFilter!==void 0?u.minFilter:kr,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0?o.colorSpace=u.colorSpace:u.encoding!==void 0&&(o.encoding=u.encoding),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Tl),u.mipmapCount===1&&(o.minFilter=kr),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class VI extends Ss{constructor(e){super(e)}load(e,n,r,i){const s=new Rr,o=new Zx(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){s.image=l,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Cd extends _n{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new lt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class KI extends Cd{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(_n.DEFAULT_UP),this.updateMatrix(),this.groundColor=new lt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const FS=new Ot,o3=new te,l3=new te;class TM{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new We(512,512),this.map=null,this.mapPass=null,this.matrix=new Ot,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new N0,this._frameExtents=new We(1,1),this._viewportCount=1,this._viewports=[new Hn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;o3.setFromMatrixPosition(e.matrixWorld),n.position.copy(o3),l3.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(l3),n.updateMatrixWorld(),FS.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(FS),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(FS)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cY extends TM{constructor(){super(new Si(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Em*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class jM extends Cd{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(_n.DEFAULT_UP),this.updateMatrix(),this.target=new _n,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new cY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const c3=new Ot,fx=new te,BS=new te;class uY extends TM{constructor(){super(new Si(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new We(4,2),this._viewportCount=6,this._viewports=[new Hn(2,1,1,1),new Hn(0,1,1,1),new Hn(3,1,1,1),new Hn(1,1,1,1),new Hn(3,0,1,1),new Hn(1,0,1,1)],this._cubeDirections=[new te(1,0,0),new te(-1,0,0),new te(0,0,1),new te(0,0,-1),new te(0,1,0),new te(0,-1,0)],this._cubeUps=[new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,1,0),new te(0,0,1),new te(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),fx.setFromMatrixPosition(e.matrixWorld),r.position.copy(fx),BS.copy(r.position),BS.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(BS),r.updateMatrixWorld(),i.makeTranslation(-fx.x,-fx.y,-fx.z),c3.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(c3)}}class kM extends Cd{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new uY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class dY extends TM{constructor(){super(new Um(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class PM extends Cd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(_n.DEFAULT_UP),this.updateMatrix(),this.target=new _n,this.shadow=new dY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class XI extends Cd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class YI extends Cd{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class JI{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new te)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class qI extends Cd{constructor(e=new JI,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class v2 extends Ss{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Fa(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=v2.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new lt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new lt().setHex(o.value);break;case"v2":i.uniforms[s].value=new We().fromArray(o.value);break;case"v3":i.uniforms[s].value=new te().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Hn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new ln().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Ot().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new We().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new We().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:kI,SpriteMaterial:pM,RawShaderMaterial:PI,ShaderMaterial:kl,PointsMaterial:n2,MeshPhysicalMaterial:ao,MeshStandardMaterial:B0,MeshPhongMaterial:RI,MeshToonMaterial:FI,MeshNormalMaterial:BI,MeshLambertMaterial:DI,MeshDepthMaterial:uM,MeshDistanceMaterial:dM,MeshBasicMaterial:ja,MeshMatcapMaterial:II,LineDashedMaterial:LI,LineBasicMaterial:ws,Material:Ai};return new n[e]}}class hd{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class $I extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class QI extends Ss{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Fa(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(l){try{n(s.parse(JSON.parse(l)))}catch(c){i?i(c):console.error(c),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(v,y){if(n[y]!==void 0)return n[y];const b=v.interleavedBuffers[y],_=s(v,b.buffer),E=rm(b.type,_),C=new j0(E,b.stride);return C.uuid=b.uuid,n[y]=C,C}function s(v,y){if(r[y]!==void 0)return r[y];const b=v.arrayBuffers[y],_=new Uint32Array(b).buffer;return r[y]=_,_}const o=e.isInstancedBufferGeometry?new $I:new tn,l=e.data.index;if(l!==void 0){const v=rm(l.type,l.array);o.setIndex(new An(v,1))}const c=e.data.attributes;for(const v in c){const y=c[v];let S;if(y.isInterleavedBufferAttribute){const b=i(e.data,y.data);S=new yd(b,y.itemSize,y.offset,y.normalized)}else{const b=rm(y.type,y.array),_=y.isInstancedBufferAttribute?lf:An;S=new _(b,y.itemSize,y.normalized)}y.name!==void 0&&(S.name=y.name),y.usage!==void 0&&S.setUsage(y.usage),o.setAttribute(v,S)}const u=e.data.morphAttributes;if(u)for(const v in u){const y=u[v],S=[];for(let b=0,_=y.length;b<_;b++){const E=y[b];let C;if(E.isInterleavedBufferAttribute){const j=i(e.data,E.data);C=new yd(j,E.itemSize,E.offset,E.normalized)}else{const j=rm(E.type,E.array);C=new An(j,E.itemSize,E.normalized)}E.name!==void 0&&(C.name=E.name),S.push(C)}o.morphAttributes[v]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let v=0,y=f.length;v!==y;++v){const S=f[v];o.addGroup(S.start,S.count,S.materialIndex)}const m=e.data.boundingSphere;if(m!==void 0){const v=new te;m.center!==void 0&&v.fromArray(m.center),o.boundingSphere=new ts(v,m.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class hY extends Ss{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?hd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Fa(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){let u=null;try{u=JSON.parse(c)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const h=u.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?hd.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Fa(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),l=JSON.parse(o),c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),l=this.parseTextures(e.textures,o),c=this.parseMaterials(e.materials,l),u=this.parseObject(e.object,s,c,l,r),h=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,h),n!==void 0){let f=!1;for(const m in o)if(o[m].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,i,l,o,n),u=this.parseSkeletons(e.skeletons,c);return this.bindSkeletons(c,u),c}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new $h().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=new k0().fromJSON(e[s],i);r[l.uuid]=l}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new QI;for(let s=0,o=e.length;s<o;s++){let l;const c=e[s];switch(c.type){case"BufferGeometry":case"InstancedBufferGeometry":l=i.parse(c);break;default:c.type in a3?l=a3[c.type].fromJSON(c,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${c.type}"`)}l.uuid=c.uuid,c.name!==void 0&&(l.name=c.name),c.userData!==void 0&&(l.userData=c.userData),r[c.uuid]=l}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new v2;s.setTextures(n);for(let o=0,l=e.length;o<l;o++){const c=e[o];r[c.uuid]===void 0&&(r[c.uuid]=s.parse(c)),i[c.uuid]=r[c.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Mm.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(c){return r.manager.itemStart(c),s.load(c,function(){r.manager.itemEnd(c)},void 0,function(){r.manager.itemError(c),r.manager.itemEnd(c)})}function l(c){if(typeof c=="string"){const u=c,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(h)}else return c.data?{data:rm(c.type,c.data),width:c.width,height:c.height}:null}if(e!==void 0&&e.length>0){const c=new NM(n);s=new Zx(c),s.setCrossOrigin(this.crossOrigin);for(let u=0,h=e.length;u<h;u++){const f=e[u],m=f.url;if(Array.isArray(m)){const v=[];for(let y=0,S=m.length;y<S;y++){const b=m[y],_=l(b);_!==null&&(_ instanceof HTMLImageElement?v.push(_):v.push(new qh(_.data,_.width,_.height)))}i[f.uuid]=new Oh(v)}else{const v=l(f.url);i[f.uuid]=new Oh(v)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const l=o,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:n.resourcePath+l;return await i.loadAsync(c)}else return o.data?{data:rm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Zx(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.url;if(Array.isArray(u)){const h=[];for(let f=0,m=u.length;f<m;f++){const v=u[f],y=await s(v);y!==null&&(y instanceof HTMLImageElement?h.push(y):h.push(new qh(y.data,y.width,y.height)))}r[c.uuid]=new Oh(h)}else{const h=await s(c.url);r[c.uuid]=new Oh(h)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const l=e[s];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),n[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const c=n[l.image],u=c.data;let h;Array.isArray(u)?(h=new M0,u.length===6&&(h.needsUpdate=!0)):(u&&u.data?h=new qh:h=new Rr,u&&(h.needsUpdate=!0)),h.source=c,h.uuid=l.uuid,l.name!==void 0&&(h.name=l.name),l.mapping!==void 0&&(h.mapping=r(l.mapping,fY)),l.channel!==void 0&&(h.channel=l.channel),l.offset!==void 0&&h.offset.fromArray(l.offset),l.repeat!==void 0&&h.repeat.fromArray(l.repeat),l.center!==void 0&&h.center.fromArray(l.center),l.rotation!==void 0&&(h.rotation=l.rotation),l.wrap!==void 0&&(h.wrapS=r(l.wrap[0],u3),h.wrapT=r(l.wrap[1],u3)),l.format!==void 0&&(h.format=l.format),l.internalFormat!==void 0&&(h.internalFormat=l.internalFormat),l.type!==void 0&&(h.type=l.type),l.colorSpace!==void 0&&(h.colorSpace=l.colorSpace),l.encoding!==void 0&&(h.encoding=l.encoding),l.minFilter!==void 0&&(h.minFilter=r(l.minFilter,d3)),l.magFilter!==void 0&&(h.magFilter=r(l.magFilter,d3)),l.anisotropy!==void 0&&(h.anisotropy=l.anisotropy),l.flipY!==void 0&&(h.flipY=l.flipY),l.generateMipmaps!==void 0&&(h.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(h.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(h.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(h.compareFunction=l.compareFunction),l.userData!==void 0&&(h.userData=l.userData),i[l.uuid]=h}return i}parseObject(e,n,r,i,s){let o;function l(m){return n[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),n[m]}function c(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let y=0,S=m.length;y<S;y++){const b=m[y];r[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),v.push(r[b])}return v}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function u(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let h,f;switch(e.type){case"Scene":o=new fM,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new lt(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new e2(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Z1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Si(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Um(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new XI(e.color,e.intensity);break;case"DirectionalLight":o=new PM(e.color,e.intensity);break;case"PointLight":o=new kM(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new YI(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new jM(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new KI(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new qI().fromJSON(e);break;case"SkinnedMesh":h=l(e.geometry),f=c(e.material),o=new mM(h,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":h=l(e.geometry),f=c(e.material),o=new li(h,f);break;case"InstancedMesh":h=l(e.geometry),f=c(e.material);const m=e.count,v=e.instanceMatrix,y=e.instanceColor;o=new gM(h,f,m),o.instanceMatrix=new lf(new Float32Array(v.array),16),y!==void 0&&(o.instanceColor=new lf(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":h=l(e.geometry),f=c(e.material),o=new bI(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=h,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const b=new vs;b.min.fromArray(S.boxMin),b.max.fromArray(S.boxMax);const _=new ts;return _.radius=S.sphereRadius,_.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:b,sphereInitialized:S.sphereInitialized,sphere:_}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid);break;case"LOD":o=new yI;break;case"Line":o=new Xc(l(e.geometry),c(e.material));break;case"LineLoop":o=new xM(l(e.geometry),c(e.material));break;case"LineSegments":o=new Zo(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new vM(l(e.geometry),c(e.material));break;case"Sprite":o=new vI(c(e.material));break;case"Group":o=new Pc;break;case"Bone":o=new t2;break;default:o=new _n}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)o.add(this.parseObject(m[v],n,r,i,s))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const y=m[v];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const y=m[v],S=o.getObjectByProperty("uuid",y.object);S!==void 0&&o.addLevel(S,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const fY={UVMapping:K1,CubeReflectionMapping:Kc,CubeRefractionMapping:xd,EquirectangularReflectionMapping:Ux,EquirectangularRefractionMapping:zx,CubeUVReflectionMapping:Lm},u3={RepeatWrapping:vd,ClampToEdgeWrapping:es,MirroredRepeatWrapping:wm},d3={NearestFilter:Ur,NearestMipmapNearestFilter:Hx,NearestMipmapLinearFilter:hm,LinearFilter:kr,LinearMipmapNearestFilter:X1,LinearMipmapLinearFilter:Tl};class ZI extends Ss{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Rc.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),s.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const c=fetch(e,l).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return Rc.add(e,u),n&&n(u),s.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Rc.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Rc.add(e,c),s.manager.itemStart(e)}}let Ly;class RM{static getContext(){return Ly===void 0&&(Ly=new(window.AudioContext||window.webkitAudioContext)),Ly}static setContext(e){Ly=e}}class pY extends Ss{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Fa(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{const u=c.slice(0);RM.getContext().decodeAudioData(u,function(f){n(f)}).catch(l)}catch(u){l(u)}},r,i);function l(c){i?i(c):console.error(c),s.manager.itemError(e)}}}const h3=new Ot,f3=new Ot,_h=new Ot;class mY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Si,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Si,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,_h.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Yh*n.fov*.5)/n.zoom;let l,c;f3.elements[12]=-i,h3.elements[12]=i,l=-o*n.aspect+s,c=o*n.aspect+s,_h.elements[0]=2*n.near/(c-l),_h.elements[8]=(c+l)/(c-l),this.cameraL.projectionMatrix.copy(_h),l=-o*n.aspect-s,c=o*n.aspect-s,_h.elements[0]=2*n.near/(c-l),_h.elements[8]=(c+l)/(c-l),this.cameraR.projectionMatrix.copy(_h)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(f3),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(h3)}}class FM{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=p3(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=p3();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function p3(){return(typeof performance>"u"?Date:performance).now()}const Ah=new te,m3=new xs,gY=new te,Eh=new te;class xY extends _n{constructor(){super(),this.type="AudioListener",this.context=RM.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new FM}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ah,m3,gY),Eh.set(0,0,-1).applyQuaternion(m3),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Ah.x,i),n.positionY.linearRampToValueAtTime(Ah.y,i),n.positionZ.linearRampToValueAtTime(Ah.z,i),n.forwardX.linearRampToValueAtTime(Eh.x,i),n.forwardY.linearRampToValueAtTime(Eh.y,i),n.forwardZ.linearRampToValueAtTime(Eh.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Ah.x,Ah.y,Ah.z),n.setOrientation(Eh.x,Eh.y,Eh.z,r.x,r.y,r.z)}}class e4 extends _n{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Ch=new te,g3=new xs,vY=new te,Mh=new te;class yY extends e4{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ch,g3,vY),Mh.set(0,0,1).applyQuaternion(g3);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ch.x,r),n.positionY.linearRampToValueAtTime(Ch.y,r),n.positionZ.linearRampToValueAtTime(Ch.z,r),n.orientationX.linearRampToValueAtTime(Mh.x,r),n.orientationY.linearRampToValueAtTime(Mh.y,r),n.orientationZ.linearRampToValueAtTime(Mh.z,r)}else n.setPosition(Ch.x,Ch.y,Ch.z),n.setOrientation(Mh.x,Mh.y,Mh.z)}}class bY{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class t4{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==i;++l)r[s+l]=r[l];o=n}else{o+=n;const l=n/o;this._mixBufferRegion(r,s,0,l,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const c=n*this._origIndex;this._mixBufferRegion(r,i,c,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let c=n,u=n+n;c!==u;++c)if(r[c]!==r[c+n]){l.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){xs.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;xs.multiplyQuaternionsFlat(e,o,e,n,e,r),xs.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let l=0;l!==s;++l){const c=n+l;e[c]=e[c]*o+e[r+l]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]+e[r+o]*i}}}const BM="\\[\\]\\.:\\/",wY=new RegExp("["+BM+"]","g"),DM="[^"+BM+"]",SY="[^"+BM.replace("\\.","")+"]",_Y=/((?:WC+[\/:])*)/.source.replace("WC",DM),AY=/(WCOD+)?/.source.replace("WCOD",SY),EY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",DM),CY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",DM),MY=new RegExp("^"+_Y+AY+EY+CY+"$"),NY=["material","materials","bones","map"];class TY{constructor(e,n,r){const i=r||Sn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Sn{constructor(e,n,r){this.path=n,this.parsedPath=r||Sn.parseTrackName(n),this.node=Sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Sn.Composite(e,n,r):new Sn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(wY,"")}static parseTrackName(e){const n=MY.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);NY.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const l=s[o];if(l.name===n||l.uuid===n)return l;const c=r(l.children);if(c)return c}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Sn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let h=0;h<e.length;h++)if(e[h].name===u){u=h;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Sn.Composite=TY;Sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Sn.prototype.GetterByBindingType=[Sn.prototype._getValue_direct,Sn.prototype._getValue_array,Sn.prototype._getValue_arrayElement,Sn.prototype._getValue_toArray];Sn.prototype.SetterByBindingTypeAndVersioning=[[Sn.prototype._setValue_direct,Sn.prototype._setValue_direct_setNeedsUpdate,Sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_array,Sn.prototype._setValue_array_setNeedsUpdate,Sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_arrayElement,Sn.prototype._setValue_arrayElement_setNeedsUpdate,Sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_fromArray,Sn.prototype._setValue_fromArray_setNeedsUpdate,Sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class jY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Pa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let l,c=e.length,u=this.nCachedObjects_;for(let h=0,f=arguments.length;h!==f;++h){const m=arguments[h],v=m.uuid;let y=n[v];if(y===void 0){y=c++,n[v]=y,e.push(m);for(let S=0,b=o;S!==b;++S)s[S].push(new Sn(m,r[S],i[S]))}else if(y<u){l=e[y];const S=--u,b=e[S];n[b.uuid]=y,e[y]=b,n[v]=S,e[S]=m;for(let _=0,E=o;_!==E;++_){const C=s[_],j=C[S];let R=C[y];C[y]=j,R===void 0&&(R=new Sn(m,r[_],i[_])),C[S]=R}}else e[y]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,h=n[u];if(h!==void 0&&h>=s){const f=s++,m=e[f];n[m.uuid]=h,e[h]=m,n[u]=f,e[f]=c;for(let v=0,y=i;v!==y;++v){const S=r[v],b=S[f],_=S[h];S[h]=b,S[f]=_}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let l=0,c=arguments.length;l!==c;++l){const u=arguments[l],h=u.uuid,f=n[h];if(f!==void 0)if(delete n[h],f<s){const m=--s,v=e[m],y=--o,S=e[y];n[v.uuid]=f,e[f]=v,n[S.uuid]=m,e[m]=S,e.pop();for(let b=0,_=i;b!==_;++b){const E=r[b],C=E[m],j=E[y];E[f]=C,E[m]=j,E.pop()}}else{const m=--o,v=e[m];m>0&&(n[v.uuid]=f),e[f]=v,e.pop();for(let y=0,S=i;y!==S;++y){const b=r[y];b[f]=b[m],b.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,l=this._parsedPaths,c=this._objects,u=c.length,h=this.nCachedObjects_,f=new Array(u);i=s.length,r[e]=i,o.push(e),l.push(n),s.push(f);for(let m=h,v=c.length;m!==v;++m){const y=c[m];f[m]=new Sn(y,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,l=o.length-1,c=o[l],u=e[l];n[u]=r,o[r]=c,o.pop(),s[r]=s[l],s.pop(),i[r]=i[l],i.pop()}}}class n4{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,l=new Array(o),c={endingStart:Ih,endingEnd:Ih};for(let u=0;u!==o;++u){const h=s[u].createInterpolant(null);l[u]=h,h.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=UD,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,l=i/s;e.warp(1,o,n),this.warp(l,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=i._lendControlInterpolant(),this._timeScaleInterpolant=l);const c=l.parameterPositions,u=l.sampleValues;return c[0]=s,c[1]=s+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const c=(e-s)*r;c<0||r===0?n=0:(this._startTime=null,n=r*c)}n*=this._updateTimeScale(e);const o=this._updateTime(n),l=this._updateWeight(e);if(l>0){const c=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case ZC:for(let h=0,f=c.length;h!==f;++h)c[h].evaluate(o),u[h].accumulateAdditive(l);break;case J1:default:for(let h=0,f=c.length;h!==f;++h)c[h].evaluate(o),u[h].accumulate(i,l)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===zD;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===OD){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const l=Math.floor(i/n);i-=n*l,s+=Math.abs(l);const c=this.repetitions-s;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Lh,i.endingEnd=Lh):(e?i.endingStart=this.zeroSlopeAtStart?Lh:Ih:i.endingStart=Gx,n?i.endingEnd=this.zeroSlopeAtEnd?Lh:Ih:i.endingEnd=Gx)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,c[0]=n,l[1]=s+e,c[1]=r,this}}const kY=new Float32Array(1);class PY extends ru{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,l=e._interpolants,c=r.uuid,u=this._bindingsByRootAndName;let h=u[c];h===void 0&&(h={},u[c]=h);for(let f=0;f!==s;++f){const m=i[f],v=m.name;let y=h[v];if(y!==void 0)++y.referenceCount,o[f]=y;else{if(y=o[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,c,v));continue}const S=n&&n._propertyBindings[f].binding.parsedPath;y=new t4(Sn.create(r,v,S),m.ValueTypeName,m.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,c,v),o[f]=y}l[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,l=o[s],c=l.knownActions,u=c[c.length-1],h=e._byClipCacheIndex;u._byClipCacheIndex=h,c[h]=u,c.pop(),e._byClipCacheIndex=null;const f=l.actionByRoot,m=(e._localRoot||this._root).uuid;delete f[m],c.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,l=o[i],c=n[n.length-1],u=e._cacheIndex;c._cacheIndex=u,n[u]=c,n.pop(),delete l[s],Object.keys(l).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new CM(new Float32Array(2),new Float32Array(2),1,kY),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Mm.findByName(i,e):e;const l=o!==null?o.uuid:e,c=this._actionsByClip[l];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=J1),c!==void 0){const f=c.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;u=c.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const h=new n4(this,o,n,r);return this._bindAction(h,u),this._addInactiveAction(h,l,s),h}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Mm.findByName(r,e):e,o=s?s.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,s,o);const l=this._bindings,c=this._nActiveBindings;for(let u=0;u!==c;++u)l[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let l=0,c=o.length;l!==c;++l){const u=o[l];this._deactivateAction(u);const h=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=h,n[h]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const l=r[o].actionByRoot,c=l[n];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const l=s[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class IM{constructor(e){this.value=e}clone(){return new IM(this.value.clone===void 0?this.value:this.value.clone())}}let RY=0;class FY extends ru{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:RY++}),this.name="",this.usage=Xx,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class BY extends j0{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class DY{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class r4{constructor(e,n,r=0,i=1/0){this.ray=new Om(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Jh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return jE(e,this,r,n),r.sort(x3),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)jE(e[i],this,r,n);return r.sort(x3),r}}function x3(t,e){return t.distance-e.distance}function jE(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)jE(i[s],e,n,!0)}}class IY{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(zr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class LY{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const v3=new We;class OY{constructor(e=new We(1/0,1/0),n=new We(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=v3.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,v3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const y3=new te,Oy=new te;class UY{constructor(e=new te,n=new te){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){y3.subVectors(e,this.start),Oy.subVectors(this.end,this.start);const r=Oy.dot(Oy);let s=Oy.dot(y3)/r;return n&&(s=zr(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const b3=new te;class zY extends _n{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new tn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){const u=o/c*Math.PI*2,h=l/c*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(h),Math.sin(h),1)}r.setAttribute("position",new _t(i,3));const s=new ws({fog:!1,toneMapped:!1});this.cone=new Zo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),b3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(b3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const $u=new te,Uy=new Ot,DS=new Ot;class HY extends Zo{constructor(e){const n=i4(e),r=new tn,i=[],s=[],o=new lt(0,0,1),l=new lt(0,1,0);for(let u=0;u<n.length;u++){const h=n[u];h.parent&&h.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(l.r,l.g,l.b))}r.setAttribute("position",new _t(i,3)),r.setAttribute("color",new _t(s,3));const c=new ws({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,c),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");DS.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const l=n[s];l.parent&&l.parent.isBone&&(Uy.multiplyMatrices(DS,l.matrixWorld),$u.setFromMatrixPosition(Uy),i.setXYZ(o,$u.x,$u.y,$u.z),Uy.multiplyMatrices(DS,l.parent.matrixWorld),$u.setFromMatrixPosition(Uy),i.setXYZ(o+1,$u.x,$u.y,$u.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function i4(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,i4(t.children[n]));return e}class GY extends li{constructor(e,n,r){const i=new F0(n,4,2),s=new ja({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const WY=new te,w3=new lt,S3=new lt;class VY extends _n{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new R0(n);i.rotateY(Math.PI*.5),this.material=new ja({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new An(o,3)),this.add(new li(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");w3.copy(this.light.color),S3.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?w3:S3;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(WY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class KY extends Zo{constructor(e=10,n=10,r=4473924,i=8947848){r=new lt(r),i=new lt(i);const s=n/2,o=e/n,l=e/2,c=[],u=[];for(let m=0,v=0,y=-l;m<=n;m++,y+=o){c.push(-l,0,y,l,0,y),c.push(y,0,-l,y,0,l);const S=m===s?r:i;S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3,S.toArray(u,v),v+=3}const h=new tn;h.setAttribute("position",new _t(c,3)),h.setAttribute("color",new _t(u,3));const f=new ws({vertexColors:!0,toneMapped:!1});super(h,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class XY extends Zo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new lt(s),o=new lt(o);const l=[],c=[];if(n>1)for(let f=0;f<n;f++){const m=f/n*(Math.PI*2),v=Math.sin(m)*e,y=Math.cos(m)*e;l.push(0,0,0),l.push(v,0,y);const S=f&1?s:o;c.push(S.r,S.g,S.b),c.push(S.r,S.g,S.b)}for(let f=0;f<r;f++){const m=f&1?s:o,v=e-e/r*f;for(let y=0;y<i;y++){let S=y/i*(Math.PI*2),b=Math.sin(S)*v,_=Math.cos(S)*v;l.push(b,0,_),c.push(m.r,m.g,m.b),S=(y+1)/i*(Math.PI*2),b=Math.sin(S)*v,_=Math.cos(S)*v,l.push(b,0,_),c.push(m.r,m.g,m.b)}}const u=new tn;u.setAttribute("position",new _t(l,3)),u.setAttribute("color",new _t(c,3));const h=new ws({vertexColors:!0,toneMapped:!1});super(u,h),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _3=new te,zy=new te,A3=new te;class YY extends _n{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new tn;i.setAttribute("position",new _t([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ws({fog:!1,toneMapped:!1});this.lightPlane=new Xc(i,s),this.add(this.lightPlane),i=new tn,i.setAttribute("position",new _t([0,0,0,0,0,1],3)),this.targetLine=new Xc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_3.setFromMatrixPosition(this.light.matrixWorld),zy.setFromMatrixPosition(this.light.target.matrixWorld),A3.subVectors(zy,_3),this.lightPlane.lookAt(zy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zy),this.targetLine.scale.z=A3.length()}}const Hy=new te,Or=new C0;class JY extends Zo{constructor(e){const n=new tn,r=new ws({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(y,S){c(y),c(S)}function c(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new _t(i,3)),n.setAttribute("color",new _t(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new lt(16755200),h=new lt(16711680),f=new lt(43775),m=new lt(16777215),v=new lt(3355443);this.setColors(u,h,f,m,v)}setColors(e,n,r,i,s){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,n.r,n.g,n.b),l.setXYZ(25,n.r,n.g,n.b),l.setXYZ(26,n.r,n.g,n.b),l.setXYZ(27,n.r,n.g,n.b),l.setXYZ(28,n.r,n.g,n.b),l.setXYZ(29,n.r,n.g,n.b),l.setXYZ(30,n.r,n.g,n.b),l.setXYZ(31,n.r,n.g,n.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,i.r,i.g,i.b),l.setXYZ(39,i.r,i.g,i.b),l.setXYZ(40,s.r,s.g,s.b),l.setXYZ(41,s.r,s.g,s.b),l.setXYZ(42,s.r,s.g,s.b),l.setXYZ(43,s.r,s.g,s.b),l.setXYZ(44,s.r,s.g,s.b),l.setXYZ(45,s.r,s.g,s.b),l.setXYZ(46,s.r,s.g,s.b),l.setXYZ(47,s.r,s.g,s.b),l.setXYZ(48,s.r,s.g,s.b),l.setXYZ(49,s.r,s.g,s.b),l.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Or.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Jr("c",n,e,Or,0,0,-1),Jr("t",n,e,Or,0,0,1),Jr("n1",n,e,Or,-r,-i,-1),Jr("n2",n,e,Or,r,-i,-1),Jr("n3",n,e,Or,-r,i,-1),Jr("n4",n,e,Or,r,i,-1),Jr("f1",n,e,Or,-r,-i,1),Jr("f2",n,e,Or,r,-i,1),Jr("f3",n,e,Or,-r,i,1),Jr("f4",n,e,Or,r,i,1),Jr("u1",n,e,Or,r*.7,i*1.1,-1),Jr("u2",n,e,Or,-r*.7,i*1.1,-1),Jr("u3",n,e,Or,0,i*2,-1),Jr("cf1",n,e,Or,-r,0,1),Jr("cf2",n,e,Or,r,0,1),Jr("cf3",n,e,Or,0,-i,1),Jr("cf4",n,e,Or,0,i,1),Jr("cn1",n,e,Or,-r,0,-1),Jr("cn2",n,e,Or,r,0,-1),Jr("cn3",n,e,Or,0,-i,-1),Jr("cn4",n,e,Or,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Jr(t,e,n,r,i,s,o){Hy.set(i,s,o).unproject(r);const l=e[t];if(l!==void 0){const c=n.getAttribute("position");for(let u=0,h=l.length;u<h;u++)c.setXYZ(l[u],Hy.x,Hy.y,Hy.z)}}const Gy=new vs;class qY extends Zo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new tn;s.setIndex(new An(r,1)),s.setAttribute("position",new An(i,3)),super(s,new ws({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Gy.setFromObject(this.object),Gy.isEmpty())return;const n=Gy.min,r=Gy.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class $Y extends Zo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new tn;s.setIndex(new An(r,1)),s.setAttribute("position",new _t(i,3)),super(s,new ws({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class QY extends Xc{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new tn;o.setAttribute("position",new _t(s,3)),o.computeBoundingSphere(),super(o,new ws({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new tn;c.setAttribute("position",new _t(l,3)),c.computeBoundingSphere(),this.add(new li(c,new ja({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const E3=new te;let Wy,IS;class ZY extends _n{constructor(e=new te(0,0,1),n=new te(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Wy===void 0&&(Wy=new tn,Wy.setAttribute("position",new _t([0,0,0,0,1,0],3)),IS=new Hm(0,.5,1,5,1),IS.translate(0,-.5,0)),this.position.copy(n),this.line=new Xc(Wy,new ws({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new li(IS,new ja({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{E3.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(E3,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class eJ extends Zo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new tn;i.setAttribute("position",new _t(n,3)),i.setAttribute("color",new _t(r,3));const s=new ws({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new lt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class tJ{constructor(){this.type="ShapePath",this.color=new lt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Jx,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const E=[];for(let C=0,j=_.length;C<j;C++){const R=_[C],k=new $h;k.curves=R.curves,E.push(k)}return E}function r(_,E){const C=E.length;let j=!1;for(let R=C-1,k=0;k<C;R=k++){let D=E[R],O=E[k],I=O.x-D.x,U=O.y-D.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(D=E[k],I=-I,O=E[R],U=-U),_.y<D.y||_.y>O.y)continue;if(_.y===D.y){if(_.x===D.x)return!0}else{const K=U*(_.x-D.x)-I*(_.y-D.y);if(K===0)return!0;if(K<0)continue;j=!j}}else{if(_.y!==D.y)continue;if(O.x<=_.x&&_.x<=D.x||D.x<=_.x&&_.x<=O.x)return!0}}return j}const i=Al.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,l,c;const u=[];if(s.length===1)return l=s[0],c=new $h,c.curves=l.curves,u.push(c),u;let h=!i(s[0].getPoints());h=e?!h:h;const f=[],m=[];let v=[],y=0,S;m[y]=void 0,v[y]=[];for(let _=0,E=s.length;_<E;_++)l=s[_],S=l.getPoints(),o=i(S),o=e?!o:o,o?(!h&&m[y]&&y++,m[y]={s:new $h,p:S},m[y].s.curves=l.curves,h&&y++,v[y]=[]):v[y].push({h:l,p:S[0]});if(!m[0])return n(s);if(m.length>1){let _=!1,E=0;for(let C=0,j=m.length;C<j;C++)f[C]=[];for(let C=0,j=m.length;C<j;C++){const R=v[C];for(let k=0;k<R.length;k++){const D=R[k];let O=!0;for(let I=0;I<m.length;I++)r(D.p,m[I].p)&&(C!==I&&E++,O?(O=!1,f[I].push(D)):_=!0);O&&f[C].push(D)}}E>0&&_===!1&&(v=f)}let b;for(let _=0,E=m.length;_<E;_++){c=m[_].s,u.push(c),b=v[_];for(let C=0,j=b.length;C<j;C++)c.holes.push(b[C].h)}return u}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:S0}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=S0);const nJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:VC,AddEquation:rd,AddOperation:AD,AdditiveAnimationBlendMode:ZC,AdditiveBlending:WA,AgXToneMapping:TD,AlphaFormat:RD,AlwaysCompare:QD,AlwaysDepth:xD,AlwaysStencilFunc:wE,AmbientLight:XI,AnimationAction:n4,AnimationClip:Mm,AnimationLoader:sY,AnimationMixer:PY,AnimationObjectGroup:jY,AnimationUtils:tY,ArcCurve:wI,ArrayCamera:mI,ArrowHelper:ZY,AttachedBindMode:JA,Audio:e4,AudioAnalyser:bY,AudioContext:RM,AudioListener:xY,AudioLoader:pY,AxesHelper:eJ,BackSide:Us,BasicDepthPacking:GD,BasicShadowMap:ZB,BatchedMesh:bI,Bone:t2,BooleanKeyframeTrack:Sf,Box2:OY,Box3:vs,Box3Helper:$Y,BoxGeometry:wf,BoxHelper:qY,BufferAttribute:An,BufferGeometry:tn,BufferGeometryLoader:QI,ByteType:kD,Cache:Rc,Camera:C0,CameraHelper:JY,CanvasTexture:EX,CapsuleGeometry:s2,CatmullRomCurve3:SI,CineonToneMapping:MD,CircleGeometry:a2,ClampToEdgeWrapping:es,Clock:FM,Color:lt,ColorKeyframeTrack:MM,ColorManagement:Un,CompressedArrayTexture:_X,CompressedCubeTexture:AX,CompressedTexture:r2,CompressedTextureLoader:aY,ConeGeometry:o2,ConstantAlphaFactor:pD,ConstantColorFactor:hD,CubeCamera:aI,CubeReflectionMapping:Kc,CubeRefractionMapping:xd,CubeTexture:M0,CubeTextureLoader:oY,CubeUVReflectionMapping:Lm,CubicBezierCurve:bM,CubicBezierCurve3:_I,CubicInterpolant:zI,CullFaceBack:GA,CullFaceFront:QB,CullFaceFrontBack:g7,CullFaceNone:$B,Curve:el,CurvePath:EI,CustomBlending:eD,CustomToneMapping:ND,CylinderGeometry:Hm,Cylindrical:LY,Data3DTexture:sM,DataArrayTexture:$1,DataTexture:qh,DataTextureLoader:lY,DataUtils:SH,DecrementStencilOp:E7,DecrementWrapStencilOp:M7,DefaultLoadingManager:WI,DepthFormat:ud,DepthStencilFormat:af,DepthTexture:cM,DetachedBindMode:jD,DirectionalLight:PM,DirectionalLightHelper:YY,DiscreteInterpolant:HI,DisplayP3ColorSpace:q1,DodecahedronGeometry:l2,DoubleSide:zo,DstAlphaFactor:oD,DstColorFactor:cD,DynamicCopyUsage:H7,DynamicDrawUsage:D7,DynamicReadUsage:O7,EdgesGeometry:CI,EllipseCurve:i2,EqualCompare:YD,EqualDepth:yD,EqualStencilFunc:k7,EquirectangularReflectionMapping:Ux,EquirectangularRefractionMapping:zx,Euler:E0,EventDispatcher:ru,ExtrudeGeometry:u2,FileLoader:Fa,Float16BufferAttribute:NH,Float32BufferAttribute:_t,Float64BufferAttribute:TH,FloatType:Ko,Fog:e2,FogExp2:Z1,FramebufferTexture:SX,FrontSide:Nl,Frustum:N0,GLBufferAttribute:DY,GLSL1:W7,GLSL3:SE,GreaterCompare:JD,GreaterDepth:wD,GreaterEqualCompare:$D,GreaterEqualDepth:bD,GreaterEqualStencilFunc:B7,GreaterStencilFunc:R7,GridHelper:KY,Group:Pc,HalfFloatType:Sm,HemisphereLight:KI,HemisphereLightHelper:VY,IcosahedronGeometry:d2,ImageBitmapLoader:ZI,ImageLoader:Zx,ImageUtils:iM,IncrementStencilOp:A7,IncrementWrapStencilOp:C7,InstancedBufferAttribute:lf,InstancedBufferGeometry:$I,InstancedInterleavedBuffer:BY,InstancedMesh:gM,Int16BufferAttribute:CH,Int32BufferAttribute:MH,Int8BufferAttribute:_H,IntType:KC,InterleavedBuffer:j0,InterleavedBufferAttribute:yd,Interpolant:Gm,InterpolateDiscrete:_m,InterpolateLinear:of,InterpolateSmooth:wb,InvertStencilOp:N7,KeepStencilOp:jh,KeyframeTrack:tl,LOD:yI,LatheGeometry:P0,Layers:Jh,LessCompare:XD,LessDepth:vD,LessEqualCompare:nM,LessEqualDepth:Ox,LessEqualStencilFunc:P7,LessStencilFunc:j7,Light:Cd,LightProbe:qI,Line:Xc,Line3:UY,LineBasicMaterial:ws,LineCurve:wM,LineCurve3:AI,LineDashedMaterial:LI,LineLoop:xM,LineSegments:Zo,LinearDisplayP3ColorSpace:A0,LinearEncoding:tM,LinearFilter:kr,LinearInterpolant:CM,LinearMipMapLinearFilter:w7,LinearMipMapNearestFilter:b7,LinearMipmapLinearFilter:Tl,LinearMipmapNearestFilter:X1,LinearSRGBColorSpace:jl,LinearToneMapping:ED,LinearTransfer:Wx,Loader:Ss,LoaderUtils:hd,LoadingManager:NM,LoopOnce:OD,LoopPingPong:zD,LoopRepeat:UD,LuminanceAlphaFormat:BD,LuminanceFormat:FD,MOUSE:p7,Material:Ai,MaterialLoader:v2,MathUtils:ZD,Matrix3:ln,Matrix4:Ot,MaxEquation:YA,Mesh:li,MeshBasicMaterial:ja,MeshDepthMaterial:uM,MeshDistanceMaterial:dM,MeshLambertMaterial:DI,MeshMatcapMaterial:II,MeshNormalMaterial:BI,MeshPhongMaterial:RI,MeshPhysicalMaterial:ao,MeshStandardMaterial:B0,MeshToonMaterial:FI,MinEquation:XA,MirroredRepeatWrapping:wm,MixOperation:_D,MultiplyBlending:KA,MultiplyOperation:_0,NearestFilter:Ur,NearestMipMapLinearFilter:y7,NearestMipMapNearestFilter:v7,NearestMipmapLinearFilter:hm,NearestMipmapNearestFilter:Hx,NeverCompare:KD,NeverDepth:gD,NeverStencilFunc:T7,NoBlending:Ic,NoColorSpace:Na,NoToneMapping:Sl,NormalAnimationBlendMode:J1,NormalBlending:Xh,NotEqualCompare:qD,NotEqualDepth:SD,NotEqualStencilFunc:F7,NumberKeyframeTrack:uf,Object3D:_n,ObjectLoader:hY,ObjectSpaceNormalMap:VD,OctahedronGeometry:R0,OneFactor:iD,OneMinusConstantAlphaFactor:mD,OneMinusConstantColorFactor:fD,OneMinusDstAlphaFactor:lD,OneMinusDstColorFactor:uD,OneMinusSrcAlphaFactor:Db,OneMinusSrcColorFactor:aD,OrthographicCamera:Um,P3Primaries:Kx,PCFShadowMap:V1,PCFSoftShadowMap:Tx,PMREMGenerator:AE,Path:Jx,PerspectiveCamera:Si,Plane:ed,PlaneGeometry:T0,PlaneHelper:QY,PointLight:kM,PointLightHelper:GY,Points:vM,PointsMaterial:n2,PolarGridHelper:XY,PolyhedronGeometry:Ed,PositionalAudio:yY,PropertyBinding:Sn,PropertyMixer:t4,QuadraticBezierCurve:SM,QuadraticBezierCurve3:_M,Quaternion:xs,QuaternionKeyframeTrack:bd,QuaternionLinearInterpolant:GI,RED_GREEN_RGTC2_Format:yE,RED_RGTC1_Format:LD,REVISION:S0,RGBADepthPacking:WD,RGBAFormat:Ls,RGBAIntegerFormat:$C,RGBA_ASTC_10x10_Format:fE,RGBA_ASTC_10x5_Format:uE,RGBA_ASTC_10x6_Format:dE,RGBA_ASTC_10x8_Format:hE,RGBA_ASTC_12x10_Format:pE,RGBA_ASTC_12x12_Format:mE,RGBA_ASTC_4x4_Format:nE,RGBA_ASTC_5x4_Format:rE,RGBA_ASTC_5x5_Format:iE,RGBA_ASTC_6x5_Format:sE,RGBA_ASTC_6x6_Format:aE,RGBA_ASTC_8x5_Format:oE,RGBA_ASTC_8x6_Format:lE,RGBA_ASTC_8x8_Format:cE,RGBA_BPTC_Format:bb,RGBA_ETC2_EAC_Format:tE,RGBA_PVRTC_2BPPV1_Format:ZA,RGBA_PVRTC_4BPPV1_Format:QA,RGBA_S3TC_DXT1_Format:xb,RGBA_S3TC_DXT3_Format:vb,RGBA_S3TC_DXT5_Format:yb,RGB_BPTC_SIGNED_Format:gE,RGB_BPTC_UNSIGNED_Format:xE,RGB_ETC1_Format:QC,RGB_ETC2_Format:eE,RGB_PVRTC_2BPPV1_Format:$A,RGB_PVRTC_4BPPV1_Format:qA,RGB_S3TC_DXT1_Format:gb,RGFormat:ID,RGIntegerFormat:qC,RawShaderMaterial:PI,Ray:Om,Raycaster:r4,Rec709Primaries:Vx,RectAreaLight:YI,RedFormat:DD,RedIntegerFormat:JC,ReinhardToneMapping:CD,RenderTarget:nI,RepeatWrapping:vd,ReplaceStencilOp:_7,ReverseSubtractEquation:nD,RingGeometry:h2,SIGNED_RED_GREEN_RGTC2_Format:bE,SIGNED_RED_RGTC1_Format:vE,SRGBColorSpace:wi,SRGBTransfer:sr,Scene:fM,ShaderChunk:an,ShaderLib:Uo,ShaderMaterial:kl,ShadowMaterial:kI,Shape:$h,ShapeGeometry:f2,ShapePath:tJ,ShapeUtils:Al,ShortType:PD,Skeleton:k0,SkeletonHelper:HY,SkinnedMesh:mM,Source:Oh,Sphere:ts,SphereGeometry:F0,Spherical:IY,SphericalHarmonics3:JI,SplineCurve:AM,SpotLight:jM,SpotLightHelper:zY,Sprite:vI,SpriteMaterial:pM,SrcAlphaFactor:Bb,SrcAlphaSaturateFactor:dD,SrcColorFactor:sD,StaticCopyUsage:z7,StaticDrawUsage:Xx,StaticReadUsage:L7,StereoCamera:mY,StreamCopyUsage:G7,StreamDrawUsage:I7,StreamReadUsage:U7,StringKeyframeTrack:_f,SubtractEquation:tD,SubtractiveBlending:VA,TOUCH:m7,TangentSpaceNormalMap:Ad,TetrahedronGeometry:p2,Texture:Rr,TextureLoader:VI,TorusGeometry:m2,TorusKnotGeometry:g2,Triangle:ra,TriangleFanDrawMode:Ib,TriangleStripDrawMode:eM,TrianglesDrawMode:HD,TubeGeometry:x2,TwoPassDoubleSide:x7,UVMapping:K1,Uint16BufferAttribute:aM,Uint32BufferAttribute:oM,Uint8BufferAttribute:AH,Uint8ClampedBufferAttribute:EH,Uniform:IM,UniformsGroup:FY,UniformsLib:it,UniformsUtils:sI,UnsignedByteType:_l,UnsignedInt248Type:cd,UnsignedIntType:kc,UnsignedShort4444Type:XC,UnsignedShort5551Type:YC,UnsignedShortType:Y1,VSMShadowMap:Lo,Vector2:We,Vector3:te,Vector4:Hn,VectorKeyframeTrack:df,VideoTexture:wX,WebGL1Renderer:gI,WebGL3DRenderTarget:uH,WebGLArrayRenderTarget:cH,WebGLCoordinateSystem:Xo,WebGLCubeRenderTarget:oI,WebGLMultipleRenderTargets:dH,WebGLRenderTarget:qo,WebGLRenderer:hM,WebGLUtils:pI,WebGPUCoordinateSystem:Am,WireframeGeometry:jI,WrapAroundEnding:Gx,ZeroCurvatureEnding:Ih,ZeroFactor:rD,ZeroSlopeEnding:Lh,ZeroStencilOp:S7,_SRGBAFormat:Lb,createCanvasElement:tI,sRGBEncoding:dd},Symbol.toStringTag,{value:"Module"}));var LS={exports:{}},Qu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C3;function rJ(){return C3||(C3=1,Qu.ConcurrentRoot=1,Qu.ContinuousEventPriority=4,Qu.DefaultEventPriority=16,Qu.DiscreteEventPriority=1,Qu.IdleEventPriority=536870912,Qu.LegacyRoot=0),Qu}var M3;function iJ(){return M3||(M3=1,LS.exports=rJ()),LS.exports}var om=iJ();function sJ(t){let e;const n=new Set,r=(u,h)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const m=e;e=h?f:Object.assign({},e,f),n.forEach(v=>v(e,m))}},i=()=>e,s=(u,h=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let m=h(e);function v(){const y=h(e);if(!f(m,y)){const S=m;u(m=y,S)}}return n.add(v),()=>n.delete(v)},c={setState:r,getState:i,subscribe:(u,h,f)=>h||f?s(u,h,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,c),c}const aJ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),N3=aJ?N.useEffect:N.useLayoutEffect;function oJ(t){const e=typeof t=="function"?sJ(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=N.useReducer(b=>b+1,0),o=e.getState(),l=N.useRef(o),c=N.useRef(r),u=N.useRef(i),h=N.useRef(!1),f=N.useRef();f.current===void 0&&(f.current=r(o));let m,v=!1;(l.current!==o||c.current!==r||u.current!==i||h.current)&&(m=r(o),v=!i(f.current,m)),N3(()=>{v&&(f.current=m),l.current=o,c.current=r,u.current=i,h.current=!1});const y=N.useRef(o);N3(()=>{const b=()=>{try{const E=e.getState(),C=c.current(E);u.current(f.current,C)||(l.current=E,f.current=C,s())}catch{h.current=!0,s()}},_=e.subscribe(b);return e.getState()!==y.current&&b(),_},[]);const S=v?m:f.current;return N.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const lJ=t=>typeof t=="object"&&typeof t.then=="function",zh=[];function s4(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function a4(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of zh)if(s4(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=zh.indexOf(i);s!==-1&&zh.splice(s,1)},promise:(lJ(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(zh.push(i),!n)throw i.promise}const cJ=(t,e,n)=>a4(t,e,!1,n),uJ=(t,e,n)=>void a4(t,e,!0,n),dJ=t=>{if(t===void 0||t.length===0)zh.splice(0,zh.length);else{const e=zh.find(n=>s4(t,n.keys,n.equal));e&&e.remove()}};var OS={exports:{}},US={exports:{}},zS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3;function hJ(){return T3||(T3=1,(function(t){function e(H,q){var Q=H.length;H.push(q);e:for(;0<Q;){var V=Q-1>>>1,ee=H[V];if(0<i(ee,q))H[V]=q,H[Q]=ee,Q=V;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],Q=H.pop();if(Q!==q){H[0]=Q;e:for(var V=0,ee=H.length,ce=ee>>>1;V<ce;){var ne=2*(V+1)-1,be=H[ne],Ae=ne+1,Se=H[Ae];if(0>i(be,Q))Ae<ee&&0>i(Se,be)?(H[V]=Se,H[Ae]=Q,V=Ae):(H[V]=be,H[ne]=Q,V=ne);else if(Ae<ee&&0>i(Se,Q))H[V]=Se,H[Ae]=Q,V=Ae;else break e}}return q}function i(H,q){var Q=H.sortIndex-q.sortIndex;return Q!==0?Q:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,v=!1,y=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=H)r(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function j(H){if(S=!1,C(H),!y)if(n(c)!==null)y=!0,oe(R);else{var q=n(u);q!==null&&le(j,q.startTime-H)}}function R(H,q){y=!1,S&&(S=!1,_(O),O=-1),v=!0;var Q=m;try{for(C(q),f=n(c);f!==null&&(!(f.expirationTime>q)||H&&!K());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var ee=V(f.expirationTime<=q);q=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),C(q)}else r(c);f=n(c)}if(f!==null)var ce=!0;else{var ne=n(u);ne!==null&&le(j,ne.startTime-q),ce=!1}return ce}finally{f=null,m=Q,v=!1}}var k=!1,D=null,O=-1,I=5,U=-1;function K(){return!(t.unstable_now()-U<I)}function $(){if(D!==null){var H=t.unstable_now();U=H;var q=!0;try{q=D(!0,H)}finally{q?re():(k=!1,D=null)}}else k=!1}var re;if(typeof E=="function")re=function(){E($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,se=Y.port2;Y.port1.onmessage=$,re=function(){se.postMessage(null)}}else re=function(){b($,0)};function oe(H){D=H,k||(k=!0,re())}function le(H,q){O=b(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,oe(R))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var Q=m;m=q;try{return H()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=m;m=H;try{return q()}finally{m=Q}},t.unstable_scheduleCallback=function(H,q,Q){var V=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,H){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,H={id:h++,callback:q,priorityLevel:H,startTime:Q,expirationTime:ee,sortIndex:-1},Q>V?(H.sortIndex=Q,e(u,H),n(c)===null&&H===n(u)&&(S?(_(O),O=-1):S=!0,le(j,Q-V))):(H.sortIndex=ee,e(c,H),y||v||(y=!0,oe(R))),H},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(H){var q=m;return function(){var Q=m;m=q;try{return H.apply(this,arguments)}finally{m=Q}}}})(zS)),zS}var j3;function fJ(){return j3||(j3=1,US.exports=hJ()),US.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HS,k3;function pJ(){return k3||(k3=1,HS=function(e){var n={},r=bf(),i=fJ(),s=Object.assign;function o(g){for(var x="https://reactjs.org/docs/error-decoder.html?invariant="+g,A=1;A<arguments.length;A++)x+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=Symbol.for("react.element"),u=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),R=Symbol.iterator;function k(g){return g===null||typeof g!="object"?null:(g=R&&g[R]||g["@@iterator"],typeof g=="function"?g:null)}function D(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case h:return"Fragment";case u:return"Portal";case m:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case _:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case y:return(g.displayName||"Context")+".Consumer";case v:return(g._context.displayName||"Context")+".Provider";case S:var x=g.render;return g=g.displayName,g||(g=x.displayName||x.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case E:return x=g.displayName||null,x!==null?x:D(g.type)||"Memo";case C:x=g._payload,g=g._init;try{return D(g(x))}catch{}}return null}function O(g){var x=g.type;switch(g.tag){case 24:return"Cache";case 9:return(x.displayName||"Context")+".Consumer";case 10:return(x._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=x.render,g=g.displayName||g.name||"",x.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return x;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(x);case 8:return x===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x}return null}function I(g){var x=g,A=g;if(g.alternate)for(;x.return;)x=x.return;else{g=x;do x=g,(x.flags&4098)!==0&&(A=x.return),g=x.return;while(g)}return x.tag===3?A:null}function U(g){if(I(g)!==g)throw Error(o(188))}function K(g){var x=g.alternate;if(!x){if(x=I(g),x===null)throw Error(o(188));return x!==g?null:g}for(var A=g,T=x;;){var F=A.return;if(F===null)break;var L=F.alternate;if(L===null){if(T=F.return,T!==null){A=T;continue}break}if(F.child===L.child){for(L=F.child;L;){if(L===A)return U(F),g;if(L===T)return U(F),x;L=L.sibling}throw Error(o(188))}if(A.return!==T.return)A=F,T=L;else{for(var ie=!1,xe=F.child;xe;){if(xe===A){ie=!0,A=F,T=L;break}if(xe===T){ie=!0,T=F,A=L;break}xe=xe.sibling}if(!ie){for(xe=L.child;xe;){if(xe===A){ie=!0,A=L,T=F;break}if(xe===T){ie=!0,T=L,A=F;break}xe=xe.sibling}if(!ie)throw Error(o(189))}}if(A.alternate!==T)throw Error(o(190))}if(A.tag!==3)throw Error(o(188));return A.stateNode.current===A?g:x}function $(g){return g=K(g),g!==null?re(g):null}function re(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var x=re(g);if(x!==null)return x;g=g.sibling}return null}function Y(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){if(g.tag!==4){var x=Y(g);if(x!==null)return x}g=g.sibling}return null}var se=Array.isArray,oe=e.getPublicInstance,le=e.getRootHostContext,H=e.getChildHostContext,q=e.prepareForCommit,Q=e.resetAfterCommit,V=e.createInstance,ee=e.appendInitialChild,ce=e.finalizeInitialChildren,ne=e.prepareUpdate,be=e.shouldSetTextContent,Ae=e.createTextInstance,Se=e.scheduleTimeout,pe=e.cancelTimeout,X=e.noTimeout,Ce=e.isPrimaryRenderer,Ge=e.supportsMutation,J=e.supportsPersistence,ue=e.supportsHydration,fe=e.getInstanceFromNode,Ie=e.preparePortalMount,ke=e.getCurrentEventPriority,at=e.detachDeletedInstance,$e=e.supportsMicrotasks,z=e.scheduleMicrotask,G=e.supportsTestSelectors,ge=e.findFiberRoot,He=e.getBoundingRect,Ve=e.getTextContent,ze=e.isHiddenSubtree,ve=e.matchAccessibilityRole,Le=e.setFocusIfFocusable,nt=e.setupIntersectionObserver,Tt=e.appendChild,Kt=e.appendChildToContainer,Ke=e.commitTextUpdate,cn=e.commitMount,nn=e.commitUpdate,zt=e.insertBefore,jt=e.insertInContainerBefore,vt=e.removeChild,Xt=e.removeChildFromContainer,gn=e.resetTextContent,Gn=e.hideInstance,qt=e.hideTextInstance,et=e.unhideInstance,he=e.unhideTextInstance,rt=e.clearContainer,st=e.cloneInstance,Ft=e.createContainerChildSet,kt=e.appendChildToContainerChildSet,jn=e.finalizeContainerChildren,Mn=e.replaceContainerChildren,dr=e.cloneHiddenInstance,Wr=e.cloneHiddenTextInstance,yn=e.canHydrateInstance,Vr=e.canHydrateTextInstance,ki=e.canHydrateSuspenseInstance,kd=e.isSuspenseInstancePending,lo=e.isSuspenseInstanceFallback,co=e.registerSuspenseInstanceRetry,da=e.getNextHydratableSibling,rl=e.getFirstHydratableChild,Nf=e.getFirstHydratableChildWithinContainer,Tf=e.getFirstHydratableChildWithinSuspenseInstance,ig=e.hydrateInstance,uo=e.hydrateTextInstance,jf=e.hydrateSuspenseInstance,Z=e.getNextHydratableInstanceAfterSuspenseInstance,we=e.commitHydratedContainer,Pe=e.commitHydratedSuspenseInstance,Fe=e.clearSuspenseBoundary,Te=e.clearSuspenseBoundaryFromContainer,ut=e.shouldDeleteUnhydratedTailInstances,Ct=e.didNotMatchHydratedContainerTextInstance,Bt=e.didNotMatchHydratedTextInstance,dt;function Wt(g){if(dt===void 0)try{throw Error()}catch(A){var x=A.stack.trim().match(/\n( *(at )?)/);dt=x&&x[1]||""}return`
`+dt+g}var Ut=!1;function Ht(g,x){if(!g||Ut)return"";Ut=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(x)if(x=function(){throw Error()},Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(Qe){var T=Qe}Reflect.construct(g,[],x)}else{try{x.call()}catch(Qe){T=Qe}g.call(x.prototype)}else{try{throw Error()}catch(Qe){T=Qe}g()}}catch(Qe){if(Qe&&T&&typeof Qe.stack=="string"){for(var F=Qe.stack.split(`
`),L=T.stack.split(`
`),ie=F.length-1,xe=L.length-1;1<=ie&&0<=xe&&F[ie]!==L[xe];)xe--;for(;1<=ie&&0<=xe;ie--,xe--)if(F[ie]!==L[xe]){if(ie!==1||xe!==1)do if(ie--,xe--,0>xe||F[ie]!==L[xe]){var De=`
`+F[ie].replace(" at new "," at ");return g.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",g.displayName)),De}while(1<=ie&&0<=xe);break}}}finally{Ut=!1,Error.prepareStackTrace=A}return(g=g?g.displayName||g.name:"")?Wt(g):""}var Wn=Object.prototype.hasOwnProperty,di=[],Vn=-1;function Mr(g){return{current:g}}function At(g){0>Vn||(g.current=di[Vn],di[Vn]=null,Vn--)}function mt(g,x){Vn++,di[Vn]=g.current,g.current=x}var yr={},rn=Mr(yr),br=Mr(!1),Ia=yr;function Gi(g,x){var A=g.type.contextTypes;if(!A)return yr;var T=g.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===x)return T.__reactInternalMemoizedMaskedChildContext;var F={},L;for(L in A)F[L]=x[L];return T&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=x,g.__reactInternalMemoizedMaskedChildContext=F),F}function Nr(g){return g=g.childContextTypes,g!=null}function Zn(){At(br),At(rn)}function _s(g,x,A){if(rn.current!==yr)throw Error(o(168));mt(rn,x),mt(br,A)}function du(g,x,A){var T=g.stateNode;if(x=x.childContextTypes,typeof T.getChildContext!="function")return A;T=T.getChildContext();for(var F in T)if(!(F in x))throw Error(o(108,O(g)||"Unknown",F));return s({},A,T)}function hi(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||yr,Ia=rn.current,mt(rn,g),mt(br,br.current),!0}function il(g,x,A){var T=g.stateNode;if(!T)throw Error(o(169));A?(g=du(g,x,Ia),T.__reactInternalMemoizedMergedChildContext=g,At(br),At(rn),mt(rn,g)):At(br),mt(br,A)}var rs=Math.clz32?Math.clz32:pw,hu=Math.log,Pd=Math.LN2;function pw(g){return g>>>=0,g===0?32:31-(hu(g)/Pd|0)|0}var fu=64,bn=4194304;function pu(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function Rd(g,x){var A=g.pendingLanes;if(A===0)return 0;var T=0,F=g.suspendedLanes,L=g.pingedLanes,ie=A&268435455;if(ie!==0){var xe=ie&~F;xe!==0?T=pu(xe):(L&=ie,L!==0&&(T=pu(L)))}else ie=A&~F,ie!==0?T=pu(ie):L!==0&&(T=pu(L));if(T===0)return 0;if(x!==0&&x!==T&&(x&F)===0&&(F=T&-T,L=x&-x,F>=L||F===16&&(L&4194240)!==0))return x;if((T&4)!==0&&(T|=A&16),x=g.entangledLanes,x!==0)for(g=g.entanglements,x&=T;0<x;)A=31-rs(x),F=1<<A,T|=g[A],x&=~F;return T}function sg(g,x){switch(g){case 1:case 2:case 4:return x+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sv(g,x){for(var A=g.suspendedLanes,T=g.pingedLanes,F=g.expirationTimes,L=g.pendingLanes;0<L;){var ie=31-rs(L),xe=1<<ie,De=F[ie];De===-1?((xe&A)===0||(xe&T)!==0)&&(F[ie]=sg(xe,x)):De<=x&&(g.expiredLanes|=xe),L&=~xe}}function kf(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function Pf(g){for(var x=[],A=0;31>A;A++)x.push(g);return x}function zl(g,x,A){g.pendingLanes|=x,x!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,x=31-rs(x),g[x]=A}function Rf(g,x){var A=g.pendingLanes&~x;g.pendingLanes=x,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=x,g.mutableReadLanes&=x,g.entangledLanes&=x,x=g.entanglements;var T=g.eventTimes;for(g=g.expirationTimes;0<A;){var F=31-rs(A),L=1<<F;x[F]=0,T[F]=-1,g[F]=-1,A&=~L}}function La(g,x){var A=g.entangledLanes|=x;for(g=g.entanglements;A;){var T=31-rs(A),F=1<<T;F&x|g[T]&x&&(g[T]|=x),A&=~F}}var sn=0;function ho(g){return g&=-g,1<g?4<g?(g&268435455)!==0?16:536870912:4:1}var Hl=i.unstable_scheduleCallback,mu=i.unstable_cancelCallback,sl=i.unstable_shouldYield,mw=i.unstable_requestPaint,Kr=i.unstable_now,Gl=i.unstable_ImmediatePriority,gw=i.unstable_UserBlockingPriority,Ff=i.unstable_NormalPriority,Bf=i.unstable_IdlePriority,Fd=null,Oa=null;function Bd(g){if(Oa&&typeof Oa.onCommitFiberRoot=="function")try{Oa.onCommitFiberRoot(Fd,g,void 0,(g.current.flags&128)===128)}catch{}}function Dd(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var Wi=typeof Object.is=="function"?Object.is:Dd,Gs=null,Df=!1,ag=!1;function If(g){Gs===null?Gs=[g]:Gs.push(g)}function Lf(g){Df=!0,If(g)}function Ws(){if(!ag&&Gs!==null){ag=!0;var g=0,x=sn;try{var A=Gs;for(sn=1;g<A.length;g++){var T=A[g];do T=T(!0);while(T!==null)}Gs=null,Df=!1}catch(F){throw Gs!==null&&(Gs=Gs.slice(g+1)),Hl(Gl,Ws),F}finally{sn=x,ag=!1}}return null}var av=l.ReactCurrentBatchConfig;function ha(g,x){if(Wi(g,x))return!0;if(typeof g!="object"||g===null||typeof x!="object"||x===null)return!1;var A=Object.keys(g),T=Object.keys(x);if(A.length!==T.length)return!1;for(T=0;T<A.length;T++){var F=A[T];if(!Wn.call(x,F)||!Wi(g[F],x[F]))return!1}return!0}function og(g){switch(g.tag){case 5:return Wt(g.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 2:case 15:return g=Ht(g.type,!1),g;case 11:return g=Ht(g.type.render,!1),g;case 1:return g=Ht(g.type,!0),g;default:return""}}function is(g,x){if(g&&g.defaultProps){x=s({},x),g=g.defaultProps;for(var A in g)x[A]===void 0&&(x[A]=g[A]);return x}return x}var Id=Mr(null),Wl=null,fo=null,Of=null;function Vi(){Of=fo=Wl=null}function Vl(g,x,A){Ce?(mt(Id,x._currentValue),x._currentValue=A):(mt(Id,x._currentValue2),x._currentValue2=A)}function Ld(g){var x=Id.current;At(Id),Ce?g._currentValue=x:g._currentValue2=x}function Kl(g,x,A){for(;g!==null;){var T=g.alternate;if((g.childLanes&x)!==x?(g.childLanes|=x,T!==null&&(T.childLanes|=x)):T!==null&&(T.childLanes&x)!==x&&(T.childLanes|=x),g===A)break;g=g.return}}function gu(g,x){Wl=g,Of=fo=null,g=g.dependencies,g!==null&&g.firstContext!==null&&((g.lanes&x)!==0&&(ni=!0),g.firstContext=null)}function ss(g){var x=Ce?g._currentValue:g._currentValue2;if(Of!==g)if(g={context:g,memoizedValue:x,next:null},fo===null){if(Wl===null)throw Error(o(308));fo=g,Wl.dependencies={lanes:0,firstContext:g}}else fo=fo.next=g;return x}var Vs=null,Ks=!1;function xu(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lg(g,x){g=g.updateQueue,x.updateQueue===g&&(x.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function po(g,x){return{eventTime:g,lane:x,tag:0,payload:null,callback:null,next:null}}function al(g,x){var A=g.updateQueue;A!==null&&(A=A.shared,jr!==null&&(g.mode&1)!==0&&(Qt&2)===0?(g=A.interleaved,g===null?(x.next=x,Vs===null?Vs=[A]:Vs.push(A)):(x.next=g.next,g.next=x),A.interleaved=x):(g=A.pending,g===null?x.next=x:(x.next=g.next,g.next=x),A.pending=x))}function Uf(g,x,A){if(x=x.updateQueue,x!==null&&(x=x.shared,(A&4194240)!==0)){var T=x.lanes;T&=g.pendingLanes,A|=T,x.lanes=A,La(g,A)}}function zf(g,x){var A=g.updateQueue,T=g.alternate;if(T!==null&&(T=T.updateQueue,A===T)){var F=null,L=null;if(A=A.firstBaseUpdate,A!==null){do{var ie={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};L===null?F=L=ie:L=L.next=ie,A=A.next}while(A!==null);L===null?F=L=x:L=L.next=x}else F=L=x;A={baseState:T.baseState,firstBaseUpdate:F,lastBaseUpdate:L,shared:T.shared,effects:T.effects},g.updateQueue=A;return}g=A.lastBaseUpdate,g===null?A.firstBaseUpdate=x:g.next=x,A.lastBaseUpdate=x}function Hf(g,x,A,T){var F=g.updateQueue;Ks=!1;var L=F.firstBaseUpdate,ie=F.lastBaseUpdate,xe=F.shared.pending;if(xe!==null){F.shared.pending=null;var De=xe,Qe=De.next;De.next=null,ie===null?L=Qe:ie.next=Qe,ie=De;var pt=g.alternate;pt!==null&&(pt=pt.updateQueue,xe=pt.lastBaseUpdate,xe!==ie&&(xe===null?pt.firstBaseUpdate=Qe:xe.next=Qe,pt.lastBaseUpdate=De))}if(L!==null){var Yt=F.baseState;ie=0,pt=Qe=De=null,xe=L;do{var Pt=xe.lane,Zt=xe.eventTime;if((T&Pt)===Pt){pt!==null&&(pt=pt.next={eventTime:Zt,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var ct=g,vi=xe;switch(Pt=x,Zt=A,vi.tag){case 1:if(ct=vi.payload,typeof ct=="function"){Yt=ct.call(Zt,Yt,Pt);break e}Yt=ct;break e;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=vi.payload,Pt=typeof ct=="function"?ct.call(Zt,Yt,Pt):ct,Pt==null)break e;Yt=s({},Yt,Pt);break e;case 2:Ks=!0}}xe.callback!==null&&xe.lane!==0&&(g.flags|=64,Pt=F.effects,Pt===null?F.effects=[xe]:Pt.push(xe))}else Zt={eventTime:Zt,lane:Pt,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},pt===null?(Qe=pt=Zt,De=Yt):pt=pt.next=Zt,ie|=Pt;if(xe=xe.next,xe===null){if(xe=F.shared.pending,xe===null)break;Pt=xe,xe=Pt.next,Pt.next=null,F.lastBaseUpdate=Pt,F.shared.pending=null}}while(!0);if(pt===null&&(De=Yt),F.baseState=De,F.firstBaseUpdate=Qe,F.lastBaseUpdate=pt,x=F.shared.interleaved,x!==null){F=x;do ie|=F.lane,F=F.next;while(F!==x)}else L===null&&(F.shared.lanes=0);Ga|=ie,g.lanes=ie,g.memoizedState=Yt}}function ov(g,x,A){if(g=x.effects,x.effects=null,g!==null)for(x=0;x<g.length;x++){var T=g[x],F=T.callback;if(F!==null){if(T.callback=null,T=A,typeof F!="function")throw Error(o(191,F));F.call(T)}}}var lv=new r.Component().refs;function cg(g,x,A,T){x=g.memoizedState,A=A(T,x),A=A==null?x:s({},x,A),g.memoizedState=A,g.lanes===0&&(g.updateQueue.baseState=A)}var Gf={isMounted:function(g){return(g=g._reactInternals)?I(g)===g:!1},enqueueSetState:function(g,x,A){g=g._reactInternals;var T=wn(),F=ya(g),L=po(T,F);L.payload=x,A!=null&&(L.callback=A),al(g,L),x=Fi(g,F,T),x!==null&&Uf(x,g,F)},enqueueReplaceState:function(g,x,A){g=g._reactInternals;var T=wn(),F=ya(g),L=po(T,F);L.tag=1,L.payload=x,A!=null&&(L.callback=A),al(g,L),x=Fi(g,F,T),x!==null&&Uf(x,g,F)},enqueueForceUpdate:function(g,x){g=g._reactInternals;var A=wn(),T=ya(g),F=po(A,T);F.tag=2,x!=null&&(F.callback=x),al(g,F),x=Fi(g,T,A),x!==null&&Uf(x,g,T)}};function ug(g,x,A,T,F,L,ie){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(T,L,ie):x.prototype&&x.prototype.isPureReactComponent?!ha(A,T)||!ha(F,L):!0}function cv(g,x,A){var T=!1,F=yr,L=x.contextType;return typeof L=="object"&&L!==null?L=ss(L):(F=Nr(x)?Ia:rn.current,T=x.contextTypes,L=(T=T!=null)?Gi(g,F):yr),x=new x(A,L),g.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Gf,g.stateNode=x,x._reactInternals=g,T&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=F,g.__reactInternalMemoizedMaskedChildContext=L),x}function uv(g,x,A,T){g=x.state,typeof x.componentWillReceiveProps=="function"&&x.componentWillReceiveProps(A,T),typeof x.UNSAFE_componentWillReceiveProps=="function"&&x.UNSAFE_componentWillReceiveProps(A,T),x.state!==g&&Gf.enqueueReplaceState(x,x.state,null)}function dg(g,x,A,T){var F=g.stateNode;F.props=A,F.state=g.memoizedState,F.refs=lv,xu(g);var L=x.contextType;typeof L=="object"&&L!==null?F.context=ss(L):(L=Nr(x)?Ia:rn.current,F.context=Gi(g,L)),F.state=g.memoizedState,L=x.getDerivedStateFromProps,typeof L=="function"&&(cg(g,x,L,A),F.state=g.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(x=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),x!==F.state&&Gf.enqueueReplaceState(F,F.state,null),Hf(g,A,F,T),F.state=g.memoizedState),typeof F.componentDidMount=="function"&&(g.flags|=4194308)}var vu=[],ol=0,Wf=null,Vf=0,Xs=[],As=0,Xl=null,mo=1,go="";function Yl(g,x){vu[ol++]=Vf,vu[ol++]=Wf,Wf=g,Vf=x}function dv(g,x,A){Xs[As++]=mo,Xs[As++]=go,Xs[As++]=Xl,Xl=g;var T=mo;g=go;var F=32-rs(T)-1;T&=~(1<<F),A+=1;var L=32-rs(x)+F;if(30<L){var ie=F-F%5;L=(T&(1<<ie)-1).toString(32),T>>=ie,F-=ie,mo=1<<32-rs(x)+F|A<<F|T,go=L+g}else mo=1<<L|A<<F|T,go=g}function hg(g){g.return!==null&&(Yl(g,1),dv(g,1,0))}function fg(g){for(;g===Wf;)Wf=vu[--ol],vu[ol]=null,Vf=vu[--ol],vu[ol]=null;for(;g===Xl;)Xl=Xs[--As],Xs[As]=null,go=Xs[--As],Xs[As]=null,mo=Xs[--As],Xs[As]=null}var Ki=null,fi=null,rr=!1,yu=!1,Ys=null;function pg(g,x){var A=ks(5,null,null,0);A.elementType="DELETED",A.stateNode=x,A.return=g,x=g.deletions,x===null?(g.deletions=[A],g.flags|=16):x.push(A)}function mg(g,x){switch(g.tag){case 5:return x=yn(x,g.type,g.pendingProps),x!==null?(g.stateNode=x,Ki=g,fi=rl(x),!0):!1;case 6:return x=Vr(x,g.pendingProps),x!==null?(g.stateNode=x,Ki=g,fi=null,!0):!1;case 13:if(x=ki(x),x!==null){var A=Xl!==null?{id:mo,overflow:go}:null;return g.memoizedState={dehydrated:x,treeContext:A,retryLane:1073741824},A=ks(18,null,null,0),A.stateNode=x,A.return=g,g.child=A,Ki=g,fi=null,!0}return!1;default:return!1}}function Kf(g){return(g.mode&1)!==0&&(g.flags&128)===0}function ll(g){if(rr){var x=fi;if(x){var A=x;if(!mg(g,x)){if(Kf(g))throw Error(o(418));x=da(A);var T=Ki;x&&mg(g,x)?pg(T,A):(g.flags=g.flags&-4097|2,rr=!1,Ki=g)}}else{if(Kf(g))throw Error(o(418));g.flags=g.flags&-4097|2,rr=!1,Ki=g}}}function hv(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;Ki=g}function Od(g){if(!ue||g!==Ki)return!1;if(!rr)return hv(g),rr=!0,!1;if(g.tag!==3&&(g.tag!==5||ut(g.type)&&!be(g.type,g.memoizedProps))){var x=fi;if(x){if(Kf(g)){for(g=fi;g;)g=da(g);throw Error(o(418))}for(;x;)pg(g,x),x=da(x)}}if(hv(g),g.tag===13){if(!ue)throw Error(o(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));fi=Z(g)}else fi=Ki?da(g.stateNode):null;return!0}function bu(){ue&&(fi=Ki=null,yu=rr=!1)}function Xf(g){Ys===null?Ys=[g]:Ys.push(g)}function wu(g,x,A){if(g=A.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(o(309));var T=A.stateNode}if(!T)throw Error(o(147,g));var F=T,L=""+g;return x!==null&&x.ref!==null&&typeof x.ref=="function"&&x.ref._stringRef===L?x.ref:(x=function(ie){var xe=F.refs;xe===lv&&(xe=F.refs={}),ie===null?delete xe[L]:xe[L]=ie},x._stringRef=L,x)}if(typeof g!="string")throw Error(o(284));if(!A._owner)throw Error(o(290,g))}return g}function cl(g,x){throw g=Object.prototype.toString.call(x),Error(o(31,g==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":g))}function Su(g){var x=g._init;return x(g._payload)}function fv(g){function x(Ne,ye){if(g){var Be=Ne.deletions;Be===null?(Ne.deletions=[ye],Ne.flags|=16):Be.push(ye)}}function A(Ne,ye){if(!g)return null;for(;ye!==null;)x(Ne,ye),ye=ye.sibling;return null}function T(Ne,ye){for(Ne=new Map;ye!==null;)ye.key!==null?Ne.set(ye.key,ye):Ne.set(ye.index,ye),ye=ye.sibling;return Ne}function F(Ne,ye){return Ne=jo(Ne,ye),Ne.index=0,Ne.sibling=null,Ne}function L(Ne,ye,Be){return Ne.index=Be,g?(Be=Ne.alternate,Be!==null?(Be=Be.index,Be<ye?(Ne.flags|=2,ye):Be):(Ne.flags|=2,ye)):(Ne.flags|=1048576,ye)}function ie(Ne){return g&&Ne.alternate===null&&(Ne.flags|=2),Ne}function xe(Ne,ye,Be,ot){return ye===null||ye.tag!==6?(ye=bp(Be,Ne.mode,ot),ye.return=Ne,ye):(ye=F(ye,Be),ye.return=Ne,ye)}function De(Ne,ye,Be,ot){var St=Be.type;return St===h?pt(Ne,ye,Be.props.children,ot,Be.key):ye!==null&&(ye.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===C&&Su(St)===ye.type)?(ot=F(ye,Be.props),ot.ref=wu(Ne,ye,Be),ot.return=Ne,ot):(ot=yp(Be.type,Be.key,Be.props,null,Ne.mode,ot),ot.ref=wu(Ne,ye,Be),ot.return=Ne,ot)}function Qe(Ne,ye,Be,ot){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Be.containerInfo||ye.stateNode.implementation!==Be.implementation?(ye=wp(Be,Ne.mode,ot),ye.return=Ne,ye):(ye=F(ye,Be.children||[]),ye.return=Ne,ye)}function pt(Ne,ye,Be,ot,St){return ye===null||ye.tag!==7?(ye=gc(Be,Ne.mode,ot,St),ye.return=Ne,ye):(ye=F(ye,Be),ye.return=Ne,ye)}function Yt(Ne,ye,Be){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=bp(""+ye,Ne.mode,Be),ye.return=Ne,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case c:return Be=yp(ye.type,ye.key,ye.props,null,Ne.mode,Be),Be.ref=wu(Ne,null,ye),Be.return=Ne,Be;case u:return ye=wp(ye,Ne.mode,Be),ye.return=Ne,ye;case C:var ot=ye._init;return Yt(Ne,ot(ye._payload),Be)}if(se(ye)||k(ye))return ye=gc(ye,Ne.mode,Be,null),ye.return=Ne,ye;cl(Ne,ye)}return null}function Pt(Ne,ye,Be,ot){var St=ye!==null?ye.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number")return St!==null?null:xe(Ne,ye,""+Be,ot);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case c:return Be.key===St?De(Ne,ye,Be,ot):null;case u:return Be.key===St?Qe(Ne,ye,Be,ot):null;case C:return St=Be._init,Pt(Ne,ye,St(Be._payload),ot)}if(se(Be)||k(Be))return St!==null?null:pt(Ne,ye,Be,ot,null);cl(Ne,Be)}return null}function Zt(Ne,ye,Be,ot,St){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Ne=Ne.get(Be)||null,xe(ye,Ne,""+ot,St);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case c:return Ne=Ne.get(ot.key===null?Be:ot.key)||null,De(ye,Ne,ot,St);case u:return Ne=Ne.get(ot.key===null?Be:ot.key)||null,Qe(ye,Ne,ot,St);case C:var $t=ot._init;return Zt(Ne,ye,Be,$t(ot._payload),St)}if(se(ot)||k(ot))return Ne=Ne.get(Be)||null,pt(ye,Ne,ot,St,null);cl(ye,ot)}return null}function ct(Ne,ye,Be,ot){for(var St=null,$t=null,Jt=ye,vn=ye=0,Ir=null;Jt!==null&&vn<Be.length;vn++){Jt.index>vn?(Ir=Jt,Jt=null):Ir=Jt.sibling;var xn=Pt(Ne,Jt,Be[vn],ot);if(xn===null){Jt===null&&(Jt=Ir);break}g&&Jt&&xn.alternate===null&&x(Ne,Jt),ye=L(xn,ye,vn),$t===null?St=xn:$t.sibling=xn,$t=xn,Jt=Ir}if(vn===Be.length)return A(Ne,Jt),rr&&Yl(Ne,vn),St;if(Jt===null){for(;vn<Be.length;vn++)Jt=Yt(Ne,Be[vn],ot),Jt!==null&&(ye=L(Jt,ye,vn),$t===null?St=Jt:$t.sibling=Jt,$t=Jt);return rr&&Yl(Ne,vn),St}for(Jt=T(Ne,Jt);vn<Be.length;vn++)Ir=Zt(Jt,Ne,vn,Be[vn],ot),Ir!==null&&(g&&Ir.alternate!==null&&Jt.delete(Ir.key===null?vn:Ir.key),ye=L(Ir,ye,vn),$t===null?St=Ir:$t.sibling=Ir,$t=Ir);return g&&Jt.forEach(function(ko){return x(Ne,ko)}),rr&&Yl(Ne,vn),St}function vi(Ne,ye,Be,ot){var St=k(Be);if(typeof St!="function")throw Error(o(150));if(Be=St.call(Be),Be==null)throw Error(o(151));for(var $t=St=null,Jt=ye,vn=ye=0,Ir=null,xn=Be.next();Jt!==null&&!xn.done;vn++,xn=Be.next()){Jt.index>vn?(Ir=Jt,Jt=null):Ir=Jt.sibling;var ko=Pt(Ne,Jt,xn.value,ot);if(ko===null){Jt===null&&(Jt=Ir);break}g&&Jt&&ko.alternate===null&&x(Ne,Jt),ye=L(ko,ye,vn),$t===null?St=ko:$t.sibling=ko,$t=ko,Jt=Ir}if(xn.done)return A(Ne,Jt),rr&&Yl(Ne,vn),St;if(Jt===null){for(;!xn.done;vn++,xn=Be.next())xn=Yt(Ne,xn.value,ot),xn!==null&&(ye=L(xn,ye,vn),$t===null?St=xn:$t.sibling=xn,$t=xn);return rr&&Yl(Ne,vn),St}for(Jt=T(Ne,Jt);!xn.done;vn++,xn=Be.next())xn=Zt(Jt,Ne,vn,xn.value,ot),xn!==null&&(g&&xn.alternate!==null&&Jt.delete(xn.key===null?vn:xn.key),ye=L(xn,ye,vn),$t===null?St=xn:$t.sibling=xn,$t=xn);return g&&Jt.forEach(function(Kg){return x(Ne,Kg)}),rr&&Yl(Ne,vn),St}function Ps(Ne,ye,Be,ot){if(typeof Be=="object"&&Be!==null&&Be.type===h&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case c:e:{for(var St=Be.key,$t=ye;$t!==null;){if($t.key===St){if(St=Be.type,St===h){if($t.tag===7){A(Ne,$t.sibling),ye=F($t,Be.props.children),ye.return=Ne,Ne=ye;break e}}else if($t.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===C&&Su(St)===$t.type){A(Ne,$t.sibling),ye=F($t,Be.props),ye.ref=wu(Ne,$t,Be),ye.return=Ne,Ne=ye;break e}A(Ne,$t);break}else x(Ne,$t);$t=$t.sibling}Be.type===h?(ye=gc(Be.props.children,Ne.mode,ot,Be.key),ye.return=Ne,Ne=ye):(ot=yp(Be.type,Be.key,Be.props,null,Ne.mode,ot),ot.ref=wu(Ne,ye,Be),ot.return=Ne,Ne=ot)}return ie(Ne);case u:e:{for($t=Be.key;ye!==null;){if(ye.key===$t)if(ye.tag===4&&ye.stateNode.containerInfo===Be.containerInfo&&ye.stateNode.implementation===Be.implementation){A(Ne,ye.sibling),ye=F(ye,Be.children||[]),ye.return=Ne,Ne=ye;break e}else{A(Ne,ye);break}else x(Ne,ye);ye=ye.sibling}ye=wp(Be,Ne.mode,ot),ye.return=Ne,Ne=ye}return ie(Ne);case C:return $t=Be._init,Ps(Ne,ye,$t(Be._payload),ot)}if(se(Be))return ct(Ne,ye,Be,ot);if(k(Be))return vi(Ne,ye,Be,ot);cl(Ne,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"?(Be=""+Be,ye!==null&&ye.tag===6?(A(Ne,ye.sibling),ye=F(ye,Be),ye.return=Ne,Ne=ye):(A(Ne,ye),ye=bp(Be,Ne.mode,ot),ye.return=Ne,Ne=ye),ie(Ne)):A(Ne,ye)}return Ps}var xo=fv(!0),pv=fv(!1),_u={},as=Mr(_u),Jl=Mr(_u),ql=Mr(_u);function fa(g){if(g===_u)throw Error(o(174));return g}function Yf(g,x){mt(ql,x),mt(Jl,g),mt(as,_u),g=le(x),At(as),mt(as,g)}function Au(){At(as),At(Jl),At(ql)}function mv(g){var x=fa(ql.current),A=fa(as.current);x=H(A,g.type,x),A!==x&&(mt(Jl,g),mt(as,x))}function gg(g){Jl.current===g&&(At(as),At(Jl))}var hr=Mr(0);function Jf(g){for(var x=g;x!==null;){if(x.tag===13){var A=x.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||kd(A)||lo(A)))return x}else if(x.tag===19&&x.memoizedProps.revealOrder!==void 0){if((x.flags&128)!==0)return x}else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===g)break;for(;x.sibling===null;){if(x.return===null||x.return===g)return null;x=x.return}x.sibling.return=x.return,x=x.sibling}return null}var Es=[];function $l(){for(var g=0;g<Es.length;g++){var x=Es[g];Ce?x._workInProgressVersionPrimary=null:x._workInProgressVersionSecondary=null}Es.length=0}var Ud=l.ReactCurrentDispatcher,Cs=l.ReactCurrentBatchConfig,Ql=0,fr=null,Zr=null,ei=null,qf=!1,Ua=!1,Zl=0,zd=0;function ti(){throw Error(o(321))}function $f(g,x){if(x===null)return!1;for(var A=0;A<x.length&&A<g.length;A++)if(!Wi(g[A],x[A]))return!1;return!0}function Eu(g,x,A,T,F,L){if(Ql=L,fr=x,x.memoizedState=null,x.updateQueue=null,x.lanes=0,Ud.current=g===null||g.memoizedState===null?Sg:_g,g=A(T,F),Ua){L=0;do{if(Ua=!1,Zl=0,25<=L)throw Error(o(301));L+=1,ei=Zr=null,x.updateQueue=null,Ud.current=Ag,g=A(T,F)}while(Ua)}if(Ud.current=Tu,x=Zr!==null&&Zr.next!==null,Ql=0,ei=Zr=fr=null,qf=!1,x)throw Error(o(300));return g}function ul(){var g=Zl!==0;return Zl=0,g}function pa(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ei===null?fr.memoizedState=ei=g:ei=ei.next=g,ei}function ma(){if(Zr===null){var g=fr.alternate;g=g!==null?g.memoizedState:null}else g=Zr.next;var x=ei===null?fr.memoizedState:ei.next;if(x!==null)ei=x,Zr=g;else{if(g===null)throw Error(o(310));Zr=g,g={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},ei===null?fr.memoizedState=ei=g:ei=ei.next=g}return ei}function za(g,x){return typeof x=="function"?x(g):x}function Hd(g){var x=ma(),A=x.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=g;var T=Zr,F=T.baseQueue,L=A.pending;if(L!==null){if(F!==null){var ie=F.next;F.next=L.next,L.next=ie}T.baseQueue=F=L,A.pending=null}if(F!==null){L=F.next,T=T.baseState;var xe=ie=null,De=null,Qe=L;do{var pt=Qe.lane;if((Ql&pt)===pt)De!==null&&(De=De.next={lane:0,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),T=Qe.hasEagerState?Qe.eagerState:g(T,Qe.action);else{var Yt={lane:pt,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null};De===null?(xe=De=Yt,ie=T):De=De.next=Yt,fr.lanes|=pt,Ga|=pt}Qe=Qe.next}while(Qe!==null&&Qe!==L);De===null?ie=T:De.next=xe,Wi(T,x.memoizedState)||(ni=!0),x.memoizedState=T,x.baseState=ie,x.baseQueue=De,A.lastRenderedState=T}if(g=A.interleaved,g!==null){F=g;do L=F.lane,fr.lanes|=L,Ga|=L,F=F.next;while(F!==g)}else F===null&&(A.lanes=0);return[x.memoizedState,A.dispatch]}function Gd(g){var x=ma(),A=x.queue;if(A===null)throw Error(o(311));A.lastRenderedReducer=g;var T=A.dispatch,F=A.pending,L=x.memoizedState;if(F!==null){A.pending=null;var ie=F=F.next;do L=g(L,ie.action),ie=ie.next;while(ie!==F);Wi(L,x.memoizedState)||(ni=!0),x.memoizedState=L,x.baseQueue===null&&(x.baseState=L),A.lastRenderedState=L}return[L,T]}function xg(){}function vg(g,x){var A=fr,T=ma(),F=x(),L=!Wi(T.memoizedState,F);if(L&&(T.memoizedState=F,ni=!0),T=T.queue,Cu(vo.bind(null,A,T,g),[g]),T.getSnapshot!==x||L||ei!==null&&ei.memoizedState.tag&1){if(A.flags|=2048,Vd(9,bg.bind(null,A,T,F,x),void 0,null),jr===null)throw Error(o(349));(Ql&30)!==0||yg(A,x,F)}return F}function yg(g,x,A){g.flags|=16384,g={getSnapshot:x,value:A},x=fr.updateQueue,x===null?(x={lastEffect:null,stores:null},fr.updateQueue=x,x.stores=[g]):(A=x.stores,A===null?x.stores=[g]:A.push(g))}function bg(g,x,A,T){x.value=A,x.getSnapshot=T,Qf(x)&&Fi(g,1,-1)}function vo(g,x,A){return A(function(){Qf(x)&&Fi(g,1,-1)})}function Qf(g){var x=g.getSnapshot;g=g.value;try{var A=x();return!Wi(g,A)}catch{return!0}}function Wd(g){var x=pa();return typeof g=="function"&&(g=g()),x.memoizedState=x.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:g},x.queue=g,g=g.dispatch=xw.bind(null,fr,g),[x.memoizedState,g]}function Vd(g,x,A,T){return g={tag:g,create:x,destroy:A,deps:T,next:null},x=fr.updateQueue,x===null?(x={lastEffect:null,stores:null},fr.updateQueue=x,x.lastEffect=g.next=g):(A=x.lastEffect,A===null?x.lastEffect=g.next=g:(T=A.next,A.next=g,g.next=T,x.lastEffect=g)),g}function gv(){return ma().memoizedState}function dl(g,x,A,T){var F=pa();fr.flags|=g,F.memoizedState=Vd(1|x,A,void 0,T===void 0?null:T)}function Zf(g,x,A,T){var F=ma();T=T===void 0?null:T;var L=void 0;if(Zr!==null){var ie=Zr.memoizedState;if(L=ie.destroy,T!==null&&$f(T,ie.deps)){F.memoizedState=Vd(x,A,L,T);return}}fr.flags|=g,F.memoizedState=Vd(1|x,A,L,T)}function ep(g,x){return dl(8390656,8,g,x)}function Cu(g,x){return Zf(2048,8,g,x)}function Kn(g,x){return Zf(4,2,g,x)}function tp(g,x){return Zf(4,4,g,x)}function Kd(g,x){if(typeof x=="function")return g=g(),x(g),function(){x(null)};if(x!=null)return g=g(),x.current=g,function(){x.current=null}}function Mu(g,x,A){return A=A!=null?A.concat([g]):null,Zf(4,4,Kd.bind(null,x,g),A)}function np(){}function rp(g,x){var A=ma();x=x===void 0?null:x;var T=A.memoizedState;return T!==null&&x!==null&&$f(x,T[1])?T[0]:(A.memoizedState=[g,x],g)}function Nu(g,x){var A=ma();x=x===void 0?null:x;var T=A.memoizedState;return T!==null&&x!==null&&$f(x,T[1])?T[0]:(g=g(),A.memoizedState=[g,x],g)}function ip(g,x){var A=sn;sn=A!==0&&4>A?A:4,g(!0);var T=Cs.transition;Cs.transition={};try{g(!1),x()}finally{sn=A,Cs.transition=T}}function ec(){return ma().memoizedState}function xv(g,x,A){var T=ya(g);A={lane:T,action:A,hasEagerState:!1,eagerState:null,next:null},vv(g)?wg(x,A):(Xd(g,x,A),A=wn(),g=Fi(g,T,A),g!==null&&Yd(g,x,T))}function xw(g,x,A){var T=ya(g),F={lane:T,action:A,hasEagerState:!1,eagerState:null,next:null};if(vv(g))wg(x,F);else{Xd(g,x,F);var L=g.alternate;if(g.lanes===0&&(L===null||L.lanes===0)&&(L=x.lastRenderedReducer,L!==null))try{var ie=x.lastRenderedState,xe=L(ie,A);if(F.hasEagerState=!0,F.eagerState=xe,Wi(xe,ie))return}catch{}finally{}A=wn(),g=Fi(g,T,A),g!==null&&Yd(g,x,T)}}function vv(g){var x=g.alternate;return g===fr||x!==null&&x===fr}function wg(g,x){Ua=qf=!0;var A=g.pending;A===null?x.next=x:(x.next=A.next,A.next=x),g.pending=x}function Xd(g,x,A){jr!==null&&(g.mode&1)!==0&&(Qt&2)===0?(g=x.interleaved,g===null?(A.next=A,Vs===null?Vs=[x]:Vs.push(x)):(A.next=g.next,g.next=A),x.interleaved=A):(g=x.pending,g===null?A.next=A:(A.next=g.next,g.next=A),x.pending=A)}function Yd(g,x,A){if((A&4194240)!==0){var T=x.lanes;T&=g.pendingLanes,A|=T,x.lanes=A,La(g,A)}}var Tu={readContext:ss,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},Sg={readContext:ss,useCallback:function(g,x){return pa().memoizedState=[g,x===void 0?null:x],g},useContext:ss,useEffect:ep,useImperativeHandle:function(g,x,A){return A=A!=null?A.concat([g]):null,dl(4194308,4,Kd.bind(null,x,g),A)},useLayoutEffect:function(g,x){return dl(4194308,4,g,x)},useInsertionEffect:function(g,x){return dl(4,2,g,x)},useMemo:function(g,x){var A=pa();return x=x===void 0?null:x,g=g(),A.memoizedState=[g,x],g},useReducer:function(g,x,A){var T=pa();return x=A!==void 0?A(x):x,T.memoizedState=T.baseState=x,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:x},T.queue=g,g=g.dispatch=xv.bind(null,fr,g),[T.memoizedState,g]},useRef:function(g){var x=pa();return g={current:g},x.memoizedState=g},useState:Wd,useDebugValue:np,useDeferredValue:function(g){var x=Wd(g),A=x[0],T=x[1];return ep(function(){var F=Cs.transition;Cs.transition={};try{T(g)}finally{Cs.transition=F}},[g]),A},useTransition:function(){var g=Wd(!1),x=g[0];return g=ip.bind(null,g[1]),pa().memoizedState=g,[x,g]},useMutableSource:function(){},useSyncExternalStore:function(g,x,A){var T=fr,F=pa();if(rr){if(A===void 0)throw Error(o(407));A=A()}else{if(A=x(),jr===null)throw Error(o(349));(Ql&30)!==0||yg(T,x,A)}F.memoizedState=A;var L={value:A,getSnapshot:x};return F.queue=L,ep(vo.bind(null,T,L,g),[g]),T.flags|=2048,Vd(9,bg.bind(null,T,L,A,x),void 0,null),A},useId:function(){var g=pa(),x=jr.identifierPrefix;if(rr){var A=go,T=mo;A=(T&~(1<<32-rs(T)-1)).toString(32)+A,x=":"+x+"R"+A,A=Zl++,0<A&&(x+="H"+A.toString(32)),x+=":"}else A=zd++,x=":"+x+"r"+A.toString(32)+":";return g.memoizedState=x},unstable_isNewReconciler:!1},_g={readContext:ss,useCallback:rp,useContext:ss,useEffect:Cu,useImperativeHandle:Mu,useInsertionEffect:Kn,useLayoutEffect:tp,useMemo:Nu,useReducer:Hd,useRef:gv,useState:function(){return Hd(za)},useDebugValue:np,useDeferredValue:function(g){var x=Hd(za),A=x[0],T=x[1];return Cu(function(){var F=Cs.transition;Cs.transition={};try{T(g)}finally{Cs.transition=F}},[g]),A},useTransition:function(){var g=Hd(za)[0],x=ma().memoizedState;return[g,x]},useMutableSource:xg,useSyncExternalStore:vg,useId:ec,unstable_isNewReconciler:!1},Ag={readContext:ss,useCallback:rp,useContext:ss,useEffect:Cu,useImperativeHandle:Mu,useInsertionEffect:Kn,useLayoutEffect:tp,useMemo:Nu,useReducer:Gd,useRef:gv,useState:function(){return Gd(za)},useDebugValue:np,useDeferredValue:function(g){var x=Gd(za),A=x[0],T=x[1];return Cu(function(){var F=Cs.transition;Cs.transition={};try{T(g)}finally{Cs.transition=F}},[g]),A},useTransition:function(){var g=Gd(za)[0],x=ma().memoizedState;return[g,x]},useMutableSource:xg,useSyncExternalStore:vg,useId:ec,unstable_isNewReconciler:!1};function Eg(g,x){try{var A="",T=x;do A+=og(T),T=T.return;while(T);var F=A}catch(L){F=`
Error generating stack: `+L.message+`
`+L.stack}return{value:g,source:x,stack:F}}function sp(g,x){try{console.error(x.value)}catch(A){setTimeout(function(){throw A})}}var vw=typeof WeakMap=="function"?WeakMap:Map;function yv(g,x,A){A=po(-1,A),A.tag=3,A.payload={element:null};var T=x.value;return A.callback=function(){Bu||(Bu=!0,tr=T),sp(g,x)},A}function ap(g,x,A){A=po(-1,A),A.tag=3;var T=g.type.getDerivedStateFromError;if(typeof T=="function"){var F=x.value;A.payload=function(){return T(F)},A.callback=function(){sp(g,x)}}var L=g.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(A.callback=function(){sp(g,x),typeof T!="function"&&(va===null?va=new Set([this]):va.add(this));var ie=x.stack;this.componentDidCatch(x.value,{componentStack:ie!==null?ie:""})}),A}function yo(g,x,A){var T=g.pingCache;if(T===null){T=g.pingCache=new vw;var F=new Set;T.set(x,F)}else F=T.get(x),F===void 0&&(F=new Set,T.set(x,F));F.has(A)||(F.add(A),g=Gg.bind(null,g,x,A),x.then(g,g))}function Cg(g){do{var x;if((x=g.tag===13)&&(x=g.memoizedState,x=x!==null?x.dehydrated!==null:!0),x)return g;g=g.return}while(g!==null);return null}function tc(g,x,A,T,F){return(g.mode&1)===0?(g===x?g.flags|=65536:(g.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(x=po(-1,1),x.tag=2,al(A,x))),A.lanes|=1),g):(g.flags|=65536,g.lanes=F,g)}function Xr(g){g.flags|=4}function ju(g,x){if(g!==null&&g.child===x.child)return!0;if((x.flags&16)!==0)return!1;for(g=x.child;g!==null;){if((g.flags&12854)!==0||(g.subtreeFlags&12854)!==0)return!1;g=g.sibling}return!0}var Ms,nc,op,lp;if(Ge)Ms=function(g,x){for(var A=x.child;A!==null;){if(A.tag===5||A.tag===6)ee(g,A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===x)break;for(;A.sibling===null;){if(A.return===null||A.return===x)return;A=A.return}A.sibling.return=A.return,A=A.sibling}},nc=function(){},op=function(g,x,A,T,F){if(g=g.memoizedProps,g!==T){var L=x.stateNode,ie=fa(as.current);A=ne(L,A,g,T,F,ie),(x.updateQueue=A)&&Xr(x)}},lp=function(g,x,A,T){A!==T&&Xr(x)};else if(J){Ms=function(g,x,A,T){for(var F=x.child;F!==null;){if(F.tag===5){var L=F.stateNode;A&&T&&(L=dr(L,F.type,F.memoizedProps,F)),ee(g,L)}else if(F.tag===6)L=F.stateNode,A&&T&&(L=Wr(L,F.memoizedProps,F)),ee(g,L);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)L=F.child,L!==null&&(L.return=F),Ms(g,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===x)break;for(;F.sibling===null;){if(F.return===null||F.return===x)return;F=F.return}F.sibling.return=F.return,F=F.sibling}};var hl=function(g,x,A,T){for(var F=x.child;F!==null;){if(F.tag===5){var L=F.stateNode;A&&T&&(L=dr(L,F.type,F.memoizedProps,F)),kt(g,L)}else if(F.tag===6)L=F.stateNode,A&&T&&(L=Wr(L,F.memoizedProps,F)),kt(g,L);else if(F.tag!==4){if(F.tag===22&&F.memoizedState!==null)L=F.child,L!==null&&(L.return=F),hl(g,F,!0,!0);else if(F.child!==null){F.child.return=F,F=F.child;continue}}if(F===x)break;for(;F.sibling===null;){if(F.return===null||F.return===x)return;F=F.return}F.sibling.return=F.return,F=F.sibling}};nc=function(g,x){var A=x.stateNode;if(!ju(g,x)){g=A.containerInfo;var T=Ft(g);hl(T,x,!1,!1),A.pendingChildren=T,Xr(x),jn(g,T)}},op=function(g,x,A,T,F){var L=g.stateNode,ie=g.memoizedProps;if((g=ju(g,x))&&ie===T)x.stateNode=L;else{var xe=x.stateNode,De=fa(as.current),Qe=null;ie!==T&&(Qe=ne(xe,A,ie,T,F,De)),g&&Qe===null?x.stateNode=L:(L=st(L,Qe,A,ie,T,x,g,xe),ce(L,A,T,F,De)&&Xr(x),x.stateNode=L,g?Xr(x):Ms(L,x,!1,!1))}},lp=function(g,x,A,T){A!==T?(g=fa(ql.current),A=fa(as.current),x.stateNode=Ae(T,g,A,x),Xr(x)):x.stateNode=g.stateNode}}else nc=function(){},op=function(){},lp=function(){};function bo(g,x){if(!rr)switch(g.tailMode){case"hidden":x=g.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?g.tail=null:A.sibling=null;break;case"collapsed":A=g.tail;for(var T=null;A!==null;)A.alternate!==null&&(T=A),A=A.sibling;T===null?x||g.tail===null?g.tail=null:g.tail.sibling=null:T.sibling=null}}function Tr(g){var x=g.alternate!==null&&g.alternate.child===g.child,A=0,T=0;if(x)for(var F=g.child;F!==null;)A|=F.lanes|F.childLanes,T|=F.subtreeFlags&14680064,T|=F.flags&14680064,F.return=g,F=F.sibling;else for(F=g.child;F!==null;)A|=F.lanes|F.childLanes,T|=F.subtreeFlags,T|=F.flags,F.return=g,F=F.sibling;return g.subtreeFlags|=T,g.childLanes=A,x}function cp(g,x,A){var T=x.pendingProps;switch(fg(x),x.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tr(x),null;case 1:return Nr(x.type)&&Zn(),Tr(x),null;case 3:return T=x.stateNode,Au(),At(br),At(rn),$l(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(g===null||g.child===null)&&(Od(x)?Xr(x):g===null||g.memoizedState.isDehydrated&&(x.flags&256)===0||(x.flags|=1024,Ys!==null&&(oh(Ys),Ys=null))),nc(g,x),Tr(x),null;case 5:gg(x),A=fa(ql.current);var F=x.type;if(g!==null&&x.stateNode!=null)op(g,x,F,T,A),g.ref!==x.ref&&(x.flags|=512,x.flags|=2097152);else{if(!T){if(x.stateNode===null)throw Error(o(166));return Tr(x),null}if(g=fa(as.current),Od(x)){if(!ue)throw Error(o(175));g=ig(x.stateNode,x.type,x.memoizedProps,A,g,x,!yu),x.updateQueue=g,g!==null&&Xr(x)}else{var L=V(F,T,A,g,x);Ms(L,x,!1,!1),x.stateNode=L,ce(L,F,T,A,g)&&Xr(x)}x.ref!==null&&(x.flags|=512,x.flags|=2097152)}return Tr(x),null;case 6:if(g&&x.stateNode!=null)lp(g,x,g.memoizedProps,T);else{if(typeof T!="string"&&x.stateNode===null)throw Error(o(166));if(g=fa(ql.current),A=fa(as.current),Od(x)){if(!ue)throw Error(o(176));if(g=x.stateNode,T=x.memoizedProps,(A=uo(g,T,x,!yu))&&(F=Ki,F!==null))switch(L=(F.mode&1)!==0,F.tag){case 3:Ct(F.stateNode.containerInfo,g,T,L);break;case 5:Bt(F.type,F.memoizedProps,F.stateNode,g,T,L)}A&&Xr(x)}else x.stateNode=Ae(T,g,A,x)}return Tr(x),null;case 13:if(At(hr),T=x.memoizedState,rr&&fi!==null&&(x.mode&1)!==0&&(x.flags&128)===0){for(g=fi;g;)g=da(g);return bu(),x.flags|=98560,x}if(T!==null&&T.dehydrated!==null){if(T=Od(x),g===null){if(!T)throw Error(o(318));if(!ue)throw Error(o(344));if(g=x.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));jf(g,x)}else bu(),(x.flags&128)===0&&(x.memoizedState=null),x.flags|=4;return Tr(x),null}return Ys!==null&&(oh(Ys),Ys=null),(x.flags&128)!==0?(x.lanes=A,x):(T=T!==null,A=!1,g===null?Od(x):A=g.memoizedState!==null,T&&!A&&(x.child.flags|=8192,(x.mode&1)!==0&&(g===null||(hr.current&1)!==0?Sr===0&&(Sr=3):gp())),x.updateQueue!==null&&(x.flags|=4),Tr(x),null);case 4:return Au(),nc(g,x),g===null&&Ie(x.stateNode.containerInfo),Tr(x),null;case 10:return Ld(x.type._context),Tr(x),null;case 17:return Nr(x.type)&&Zn(),Tr(x),null;case 19:if(At(hr),F=x.memoizedState,F===null)return Tr(x),null;if(T=(x.flags&128)!==0,L=F.rendering,L===null)if(T)bo(F,!1);else{if(Sr!==0||g!==null&&(g.flags&128)!==0)for(g=x.child;g!==null;){if(L=Jf(g),L!==null){for(x.flags|=128,bo(F,!1),g=L.updateQueue,g!==null&&(x.updateQueue=g,x.flags|=4),x.subtreeFlags=0,g=A,T=x.child;T!==null;)A=T,F=g,A.flags&=14680066,L=A.alternate,L===null?(A.childLanes=0,A.lanes=F,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=L.childLanes,A.lanes=L.lanes,A.child=L.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=L.memoizedProps,A.memoizedState=L.memoizedState,A.updateQueue=L.updateQueue,A.type=L.type,F=L.dependencies,A.dependencies=F===null?null:{lanes:F.lanes,firstContext:F.firstContext}),T=T.sibling;return mt(hr,hr.current&1|2),x.child}g=g.sibling}F.tail!==null&&Kr()>ml&&(x.flags|=128,T=!0,bo(F,!1),x.lanes=4194304)}else{if(!T)if(g=Jf(L),g!==null){if(x.flags|=128,T=!0,g=g.updateQueue,g!==null&&(x.updateQueue=g,x.flags|=4),bo(F,!0),F.tail===null&&F.tailMode==="hidden"&&!L.alternate&&!rr)return Tr(x),null}else 2*Kr()-F.renderingStartTime>ml&&A!==1073741824&&(x.flags|=128,T=!0,bo(F,!1),x.lanes=4194304);F.isBackwards?(L.sibling=x.child,x.child=L):(g=F.last,g!==null?g.sibling=L:x.child=L,F.last=L)}return F.tail!==null?(x=F.tail,F.rendering=x,F.tail=x.sibling,F.renderingStartTime=Kr(),x.sibling=null,g=hr.current,mt(hr,T?g&1|2:g&1),x):(Tr(x),null);case 22:case 23:return lh(),T=x.memoizedState!==null,g!==null&&g.memoizedState!==null!==T&&(x.flags|=8192),T&&(x.mode&1)!==0?(Ri&1073741824)!==0&&(Tr(x),Ge&&x.subtreeFlags&6&&(x.flags|=8192)):Tr(x),null;case 24:return null;case 25:return null}throw Error(o(156,x.tag))}var Mg=l.ReactCurrentOwner,ni=!1;function wr(g,x,A,T){x.child=g===null?pv(x,null,A,T):xo(x,g.child,A,T)}function Xn(g,x,A,T,F){A=A.render;var L=x.ref;return gu(x,F),T=Eu(g,x,A,T,L,F),A=ul(),g!==null&&!ni?(x.updateQueue=g.updateQueue,x.flags&=-2053,g.lanes&=~F,os(g,x,F)):(rr&&A&&hg(x),x.flags|=1,wr(g,x,T,F),x.child)}function On(g,x,A,T,F){if(g===null){var L=A.type;return typeof L=="function"&&!vp(L)&&L.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(x.tag=15,x.type=L,wo(g,x,L,T,F)):(g=yp(A.type,null,T,x,x.mode,F),g.ref=x.ref,g.return=x,x.child=g)}if(L=g.child,(g.lanes&F)===0){var ie=L.memoizedProps;if(A=A.compare,A=A!==null?A:ha,A(ie,T)&&g.ref===x.ref)return os(g,x,F)}return x.flags|=1,g=jo(L,T),g.ref=x.ref,g.return=x,x.child=g}function wo(g,x,A,T,F){if(g!==null&&ha(g.memoizedProps,T)&&g.ref===x.ref)if(ni=!1,(g.lanes&F)!==0)(g.flags&131072)!==0&&(ni=!0);else return x.lanes=g.lanes,os(g,x,F);return So(g,x,A,T,F)}function pi(g,x,A){var T=x.pendingProps,F=T.children,L=g!==null?g.memoizedState:null;if(T.mode==="hidden")if((x.mode&1)===0)x.memoizedState={baseLanes:0,cachePool:null},mt(dc,Ri),Ri|=A;else if((A&1073741824)!==0)x.memoizedState={baseLanes:0,cachePool:null},T=L!==null?L.baseLanes:A,mt(dc,Ri),Ri|=T;else return g=L!==null?L.baseLanes|A:A,x.lanes=x.childLanes=1073741824,x.memoizedState={baseLanes:g,cachePool:null},x.updateQueue=null,mt(dc,Ri),Ri|=g,null;else L!==null?(T=L.baseLanes|A,x.memoizedState=null):T=A,mt(dc,Ri),Ri|=T;return wr(g,x,F,A),x.child}function Xi(g,x){var A=x.ref;(g===null&&A!==null||g!==null&&g.ref!==A)&&(x.flags|=512,x.flags|=2097152)}function So(g,x,A,T,F){var L=Nr(A)?Ia:rn.current;return L=Gi(x,L),gu(x,F),A=Eu(g,x,A,T,L,F),T=ul(),g!==null&&!ni?(x.updateQueue=g.updateQueue,x.flags&=-2053,g.lanes&=~F,os(g,x,F)):(rr&&T&&hg(x),x.flags|=1,wr(g,x,A,F),x.child)}function rc(g,x,A,T,F){if(Nr(A)){var L=!0;hi(x)}else L=!1;if(gu(x,F),x.stateNode===null)g!==null&&(g.alternate=null,x.alternate=null,x.flags|=2),cv(x,A,T),dg(x,A,T,F),T=!0;else if(g===null){var ie=x.stateNode,xe=x.memoizedProps;ie.props=xe;var De=ie.context,Qe=A.contextType;typeof Qe=="object"&&Qe!==null?Qe=ss(Qe):(Qe=Nr(A)?Ia:rn.current,Qe=Gi(x,Qe));var pt=A.getDerivedStateFromProps,Yt=typeof pt=="function"||typeof ie.getSnapshotBeforeUpdate=="function";Yt||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(xe!==T||De!==Qe)&&uv(x,ie,T,Qe),Ks=!1;var Pt=x.memoizedState;ie.state=Pt,Hf(x,T,ie,F),De=x.memoizedState,xe!==T||Pt!==De||br.current||Ks?(typeof pt=="function"&&(cg(x,A,pt,T),De=x.memoizedState),(xe=Ks||ug(x,A,xe,T,Pt,De,Qe))?(Yt||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(x.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(x.flags|=4194308),x.memoizedProps=T,x.memoizedState=De),ie.props=T,ie.state=De,ie.context=Qe,T=xe):(typeof ie.componentDidMount=="function"&&(x.flags|=4194308),T=!1)}else{ie=x.stateNode,lg(g,x),xe=x.memoizedProps,Qe=x.type===x.elementType?xe:is(x.type,xe),ie.props=Qe,Yt=x.pendingProps,Pt=ie.context,De=A.contextType,typeof De=="object"&&De!==null?De=ss(De):(De=Nr(A)?Ia:rn.current,De=Gi(x,De));var Zt=A.getDerivedStateFromProps;(pt=typeof Zt=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(xe!==Yt||Pt!==De)&&uv(x,ie,T,De),Ks=!1,Pt=x.memoizedState,ie.state=Pt,Hf(x,T,ie,F);var ct=x.memoizedState;xe!==Yt||Pt!==ct||br.current||Ks?(typeof Zt=="function"&&(cg(x,A,Zt,T),ct=x.memoizedState),(Qe=Ks||ug(x,A,Qe,T,Pt,ct,De)||!1)?(pt||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(T,ct,De),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(T,ct,De)),typeof ie.componentDidUpdate=="function"&&(x.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(x.flags|=1024)):(typeof ie.componentDidUpdate!="function"||xe===g.memoizedProps&&Pt===g.memoizedState||(x.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||xe===g.memoizedProps&&Pt===g.memoizedState||(x.flags|=1024),x.memoizedProps=T,x.memoizedState=ct),ie.props=T,ie.state=ct,ie.context=De,T=Qe):(typeof ie.componentDidUpdate!="function"||xe===g.memoizedProps&&Pt===g.memoizedState||(x.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||xe===g.memoizedProps&&Pt===g.memoizedState||(x.flags|=1024),T=!1)}return Pi(g,x,A,T,L,F)}function Pi(g,x,A,T,F,L){Xi(g,x);var ie=(x.flags&128)!==0;if(!T&&!ie)return F&&il(x,A,!1),os(g,x,L);T=x.stateNode,Mg.current=x;var xe=ie&&typeof A.getDerivedStateFromError!="function"?null:T.render();return x.flags|=1,g!==null&&ie?(x.child=xo(x,g.child,null,L),x.child=xo(x,null,xe,L)):wr(g,x,xe,L),x.memoizedState=T.state,F&&il(x,A,!0),x.child}function Jd(g){var x=g.stateNode;x.pendingContext?_s(g,x.pendingContext,x.pendingContext!==x.context):x.context&&_s(g,x.context,!1),Yf(g,x.containerInfo)}function Ng(g,x,A,T,F){return bu(),Xf(F),x.flags|=256,wr(g,x,A,T),x.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function ic(g){return{baseLanes:g,cachePool:null}}function Tg(g,x,A){var T=x.pendingProps,F=hr.current,L=!1,ie=(x.flags&128)!==0,xe;if((xe=ie)||(xe=g!==null&&g.memoizedState===null?!1:(F&2)!==0),xe?(L=!0,x.flags&=-129):(g===null||g.memoizedState!==null)&&(F|=1),mt(hr,F&1),g===null)return ll(x),g=x.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?((x.mode&1)===0?x.lanes=1:lo(g)?x.lanes=8:x.lanes=1073741824,null):(F=T.children,g=T.fallback,L?(T=x.mode,L=x.child,F={mode:"hidden",children:F},(T&1)===0&&L!==null?(L.childLanes=0,L.pendingProps=F):L=dh(F,T,0,null),g=gc(g,T,A,null),L.return=x,g.return=x,L.sibling=g,x.child=L,x.child.memoizedState=ic(A),x.memoizedState=qd,g):ga(x,F));if(F=g.memoizedState,F!==null){if(xe=F.dehydrated,xe!==null){if(ie)return x.flags&256?(x.flags&=-257,Qd(g,x,A,Error(o(422)))):x.memoizedState!==null?(x.child=g.child,x.flags|=128,null):(L=T.fallback,F=x.mode,T=dh({mode:"visible",children:T.children},F,0,null),L=gc(L,F,A,null),L.flags|=2,T.return=x,L.return=x,T.sibling=L,x.child=T,(x.mode&1)!==0&&xo(x,g.child,null,A),x.child.memoizedState=ic(A),x.memoizedState=qd,L);if((x.mode&1)===0)x=Qd(g,x,A,null);else if(lo(xe))x=Qd(g,x,A,Error(o(419)));else if(T=(A&g.childLanes)!==0,ni||T){if(T=jr,T!==null){switch(A&-A){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}T=(L&(T.suspendedLanes|A))!==0?0:L,T!==0&&T!==F.retryLane&&(F.retryLane=T,Fi(g,T,-1))}gp(),x=Qd(g,x,A,Error(o(421)))}else kd(xe)?(x.flags|=128,x.child=g.child,x=Av.bind(null,g),co(xe,x),x=null):(A=F.treeContext,ue&&(fi=Tf(xe),Ki=x,rr=!0,Ys=null,yu=!1,A!==null&&(Xs[As++]=mo,Xs[As++]=go,Xs[As++]=Xl,mo=A.id,go=A.overflow,Xl=x)),x=ga(x,x.pendingProps.children),x.flags|=4096);return x}return L?(T=up(g,x,T.children,T.fallback,A),L=x.child,F=g.child.memoizedState,L.memoizedState=F===null?ic(A):{baseLanes:F.baseLanes|A,cachePool:null},L.childLanes=g.childLanes&~A,x.memoizedState=qd,T):(A=$d(g,x,T.children,A),x.memoizedState=null,A)}return L?(T=up(g,x,T.children,T.fallback,A),L=x.child,F=g.child.memoizedState,L.memoizedState=F===null?ic(A):{baseLanes:F.baseLanes|A,cachePool:null},L.childLanes=g.childLanes&~A,x.memoizedState=qd,T):(A=$d(g,x,T.children,A),x.memoizedState=null,A)}function ga(g,x){return x=dh({mode:"visible",children:x},g.mode,0,null),x.return=g,g.child=x}function $d(g,x,A,T){var F=g.child;return g=F.sibling,A=jo(F,{mode:"visible",children:A}),(x.mode&1)===0&&(A.lanes=T),A.return=x,A.sibling=null,g!==null&&(T=x.deletions,T===null?(x.deletions=[g],x.flags|=16):T.push(g)),x.child=A}function up(g,x,A,T,F){var L=x.mode;g=g.child;var ie=g.sibling,xe={mode:"hidden",children:A};return(L&1)===0&&x.child!==g?(A=x.child,A.childLanes=0,A.pendingProps=xe,x.deletions=null):(A=jo(g,xe),A.subtreeFlags=g.subtreeFlags&14680064),ie!==null?T=jo(ie,T):(T=gc(T,L,F,null),T.flags|=2),T.return=x,A.return=x,A.sibling=T,x.child=A,T}function Qd(g,x,A,T){return T!==null&&Xf(T),xo(x,g.child,null,A),g=ga(x,x.pendingProps.children),g.flags|=2,x.memoizedState=null,g}function bv(g,x,A){g.lanes|=x;var T=g.alternate;T!==null&&(T.lanes|=x),Kl(g.return,x,A)}function Ha(g,x,A,T,F){var L=g.memoizedState;L===null?g.memoizedState={isBackwards:x,rendering:null,renderingStartTime:0,last:T,tail:A,tailMode:F}:(L.isBackwards=x,L.rendering=null,L.renderingStartTime=0,L.last=T,L.tail=A,L.tailMode=F)}function sc(g,x,A){var T=x.pendingProps,F=T.revealOrder,L=T.tail;if(wr(g,x,T.children,A),T=hr.current,(T&2)!==0)T=T&1|2,x.flags|=128;else{if(g!==null&&(g.flags&128)!==0)e:for(g=x.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&bv(g,A,x);else if(g.tag===19)bv(g,A,x);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===x)break e;for(;g.sibling===null;){if(g.return===null||g.return===x)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}T&=1}if(mt(hr,T),(x.mode&1)===0)x.memoizedState=null;else switch(F){case"forwards":for(A=x.child,F=null;A!==null;)g=A.alternate,g!==null&&Jf(g)===null&&(F=A),A=A.sibling;A=F,A===null?(F=x.child,x.child=null):(F=A.sibling,A.sibling=null),Ha(x,!1,F,A,L);break;case"backwards":for(A=null,F=x.child,x.child=null;F!==null;){if(g=F.alternate,g!==null&&Jf(g)===null){x.child=F;break}g=F.sibling,F.sibling=A,A=F,F=g}Ha(x,!0,A,null,L);break;case"together":Ha(x,!1,null,null,void 0);break;default:x.memoizedState=null}return x.child}function os(g,x,A){if(g!==null&&(x.dependencies=g.dependencies),Ga|=x.lanes,(A&x.childLanes)===0)return null;if(g!==null&&x.child!==g.child)throw Error(o(153));if(x.child!==null){for(g=x.child,A=jo(g,g.pendingProps),x.child=A,A.return=x;g.sibling!==null;)g=g.sibling,A=A.sibling=jo(g,g.pendingProps),A.return=x;A.sibling=null}return x.child}function dp(g,x,A){switch(x.tag){case 3:Jd(x),bu();break;case 5:mv(x);break;case 1:Nr(x.type)&&hi(x);break;case 4:Yf(x,x.stateNode.containerInfo);break;case 10:Vl(x,x.type._context,x.memoizedProps.value);break;case 13:var T=x.memoizedState;if(T!==null)return T.dehydrated!==null?(mt(hr,hr.current&1),x.flags|=128,null):(A&x.child.childLanes)!==0?Tg(g,x,A):(mt(hr,hr.current&1),g=os(g,x,A),g!==null?g.sibling:null);mt(hr,hr.current&1);break;case 19:if(T=(A&x.childLanes)!==0,(g.flags&128)!==0){if(T)return sc(g,x,A);x.flags|=128}var F=x.memoizedState;if(F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),mt(hr,hr.current),T)break;return null;case 22:case 23:return x.lanes=0,pi(g,x,A)}return os(g,x,A)}function hp(g,x){switch(fg(x),x.tag){case 1:return Nr(x.type)&&Zn(),g=x.flags,g&65536?(x.flags=g&-65537|128,x):null;case 3:return Au(),At(br),At(rn),$l(),g=x.flags,(g&65536)!==0&&(g&128)===0?(x.flags=g&-65537|128,x):null;case 5:return gg(x),null;case 13:if(At(hr),g=x.memoizedState,g!==null&&g.dehydrated!==null){if(x.alternate===null)throw Error(o(340));bu()}return g=x.flags,g&65536?(x.flags=g&-65537|128,x):null;case 19:return At(hr),null;case 4:return Au(),null;case 10:return Ld(x.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var Yi=!1,ri=!1,ac=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Js(g,x){var A=g.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(T){qi(g,x,T)}else A.current=null}function _o(g,x,A){try{A()}catch(T){qi(g,x,T)}}var jg=!1;function kg(g,x){for(q(g.containerInfo),tt=x;tt!==null;)if(g=tt,x=g.child,(g.subtreeFlags&1028)!==0&&x!==null)x.return=g,tt=x;else for(;tt!==null;){g=tt;try{var A=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var T=A.memoizedProps,F=A.memoizedState,L=g.stateNode,ie=L.getSnapshotBeforeUpdate(g.elementType===g.type?T:is(g.type,T),F);L.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:Ge&&rt(g.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(xe){qi(g,g.return,xe)}if(x=g.sibling,x!==null){x.return=g.return,tt=x;break}tt=g.return}return A=jg,jg=!1,A}function Ao(g,x,A){var T=x.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var F=T=T.next;do{if((F.tag&g)===g){var L=F.destroy;F.destroy=void 0,L!==void 0&&_o(x,A,L)}F=F.next}while(F!==T)}}function mi(g,x){if(x=x.updateQueue,x=x!==null?x.lastEffect:null,x!==null){var A=x=x.next;do{if((A.tag&g)===g){var T=A.create;A.destroy=T()}A=A.next}while(A!==x)}}function Ji(g){var x=g.ref;if(x!==null){var A=g.stateNode;switch(g.tag){case 5:g=oe(A);break;default:g=A}typeof x=="function"?x(g):x.current=g}}function er(g,x,A){if(Oa&&typeof Oa.onCommitFiberUnmount=="function")try{Oa.onCommitFiberUnmount(Fd,x)}catch{}switch(x.tag){case 0:case 11:case 14:case 15:if(g=x.updateQueue,g!==null&&(g=g.lastEffect,g!==null)){var T=g=g.next;do{var F=T,L=F.destroy;F=F.tag,L!==void 0&&((F&2)!==0||(F&4)!==0)&&_o(x,A,L),T=T.next}while(T!==g)}break;case 1:if(Js(x,A),g=x.stateNode,typeof g.componentWillUnmount=="function")try{g.props=x.memoizedProps,g.state=x.memoizedState,g.componentWillUnmount()}catch(ie){qi(x,A,ie)}break;case 5:Js(x,A);break;case 4:Ge?Fg(g,x,A):J&&J&&(x=x.stateNode.containerInfo,A=Ft(x),Mn(x,A))}}function qs(g,x,A){for(var T=x;;)if(er(g,T,A),T.child===null||Ge&&T.tag===4){if(T===x)break;for(;T.sibling===null;){if(T.return===null||T.return===x)return;T=T.return}T.sibling.return=T.return,T=T.sibling}else T.child.return=T,T=T.child}function Pg(g){var x=g.alternate;x!==null&&(g.alternate=null,Pg(x)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(x=g.stateNode,x!==null&&at(x)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function Rg(g){return g.tag===5||g.tag===3||g.tag===4}function fp(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||Rg(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function pp(g){if(Ge){e:{for(var x=g.return;x!==null;){if(Rg(x))break e;x=x.return}throw Error(o(160))}var A=x;switch(A.tag){case 5:x=A.stateNode,A.flags&32&&(gn(x),A.flags&=-33),A=fp(g),ku(g,A,x);break;case 3:case 4:x=A.stateNode.containerInfo,A=fp(g),mp(g,A,x);break;default:throw Error(o(161))}}}function mp(g,x,A){var T=g.tag;if(T===5||T===6)g=g.stateNode,x?jt(A,g,x):Kt(A,g);else if(T!==4&&(g=g.child,g!==null))for(mp(g,x,A),g=g.sibling;g!==null;)mp(g,x,A),g=g.sibling}function ku(g,x,A){var T=g.tag;if(T===5||T===6)g=g.stateNode,x?zt(A,g,x):Tt(A,g);else if(T!==4&&(g=g.child,g!==null))for(ku(g,x,A),g=g.sibling;g!==null;)ku(g,x,A),g=g.sibling}function Fg(g,x,A){for(var T=x,F=!1,L,ie;;){if(!F){F=T.return;e:for(;;){if(F===null)throw Error(o(160));switch(L=F.stateNode,F.tag){case 5:ie=!1;break e;case 3:L=L.containerInfo,ie=!0;break e;case 4:L=L.containerInfo,ie=!0;break e}F=F.return}F=!0}if(T.tag===5||T.tag===6)qs(g,T,A),ie?Xt(L,T.stateNode):vt(L,T.stateNode);else if(T.tag===18)ie?Te(L,T.stateNode):Fe(L,T.stateNode);else if(T.tag===4){if(T.child!==null){L=T.stateNode.containerInfo,ie=!0,T.child.return=T,T=T.child;continue}}else if(er(g,T,A),T.child!==null){T.child.return=T,T=T.child;continue}if(T===x)break;for(;T.sibling===null;){if(T.return===null||T.return===x)return;T=T.return,T.tag===4&&(F=!1)}T.sibling.return=T.return,T=T.sibling}}function fl(g,x){if(Ge){switch(x.tag){case 0:case 11:case 14:case 15:Ao(3,x,x.return),mi(3,x),Ao(5,x,x.return);return;case 1:return;case 5:var A=x.stateNode;if(A!=null){var T=x.memoizedProps;g=g!==null?g.memoizedProps:T;var F=x.type,L=x.updateQueue;x.updateQueue=null,L!==null&&nn(A,L,F,g,T,x)}return;case 6:if(x.stateNode===null)throw Error(o(162));A=x.memoizedProps,Ke(x.stateNode,g!==null?g.memoizedProps:A,A);return;case 3:ue&&g!==null&&g.memoizedState.isDehydrated&&we(x.stateNode.containerInfo);return;case 12:return;case 13:Pu(x);return;case 19:Pu(x);return;case 17:return}throw Error(o(163))}switch(x.tag){case 0:case 11:case 14:case 15:Ao(3,x,x.return),mi(3,x),Ao(5,x,x.return);return;case 12:return;case 13:Pu(x);return;case 19:Pu(x);return;case 3:ue&&g!==null&&g.memoizedState.isDehydrated&&we(x.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(x.tag){case 1:case 5:case 6:break e;case 3:case 4:x=x.stateNode,Mn(x.containerInfo,x.pendingChildren);break e}throw Error(o(163))}}function Pu(g){var x=g.updateQueue;if(x!==null){g.updateQueue=null;var A=g.stateNode;A===null&&(A=g.stateNode=new ac),x.forEach(function(T){var F=Ev.bind(null,g,T);A.has(T)||(A.add(T),T.then(F,F))})}}function yw(g,x){for(tt=x;tt!==null;){x=tt;var A=x.deletions;if(A!==null)for(var T=0;T<A.length;T++){var F=A[T];try{var L=g;Ge?Fg(L,F,x):qs(L,F,x);var ie=F.alternate;ie!==null&&(ie.return=null),F.return=null}catch(St){qi(F,x,St)}}if(A=x.child,(x.subtreeFlags&12854)!==0&&A!==null)A.return=x,tt=A;else for(;tt!==null;){x=tt;try{var xe=x.flags;if(xe&32&&Ge&&gn(x.stateNode),xe&512){var De=x.alternate;if(De!==null){var Qe=De.ref;Qe!==null&&(typeof Qe=="function"?Qe(null):Qe.current=null)}}if(xe&8192)switch(x.tag){case 13:if(x.memoizedState!==null){var pt=x.alternate;(pt===null||pt.memoizedState===null)&&(sh=Kr())}break;case 22:var Yt=x.memoizedState!==null,Pt=x.alternate,Zt=Pt!==null&&Pt.memoizedState!==null;if(A=x,Ge){e:if(T=A,F=Yt,L=null,Ge)for(var ct=T;;){if(ct.tag===5){if(L===null){L=ct;var vi=ct.stateNode;F?Gn(vi):et(ct.stateNode,ct.memoizedProps)}}else if(ct.tag===6){if(L===null){var Ps=ct.stateNode;F?qt(Ps):he(Ps,ct.memoizedProps)}}else if((ct.tag!==22&&ct.tag!==23||ct.memoizedState===null||ct===T)&&ct.child!==null){ct.child.return=ct,ct=ct.child;continue}if(ct===T)break;for(;ct.sibling===null;){if(ct.return===null||ct.return===T)break e;L===ct&&(L=null),ct=ct.return}L===ct&&(L=null),ct.sibling.return=ct.return,ct=ct.sibling}}if(Yt&&!Zt&&(A.mode&1)!==0){tt=A;for(var Ne=A.child;Ne!==null;){for(A=tt=Ne;tt!==null;){T=tt;var ye=T.child;switch(T.tag){case 0:case 11:case 14:case 15:Ao(4,T,T.return);break;case 1:Js(T,T.return);var Be=T.stateNode;if(typeof Be.componentWillUnmount=="function"){var ot=T.return;try{Be.props=T.memoizedProps,Be.state=T.memoizedState,Be.componentWillUnmount()}catch(St){qi(T,ot,St)}}break;case 5:Js(T,T.return);break;case 22:if(T.memoizedState!==null){Dg(A);continue}}ye!==null?(ye.return=T,tt=ye):Dg(A)}Ne=Ne.sibling}}}switch(xe&4102){case 2:pp(x),x.flags&=-3;break;case 6:pp(x),x.flags&=-3,fl(x.alternate,x);break;case 4096:x.flags&=-4097;break;case 4100:x.flags&=-4097,fl(x.alternate,x);break;case 4:fl(x.alternate,x)}}catch(St){qi(x,x.return,St)}if(A=x.sibling,A!==null){A.return=x.return,tt=A;break}tt=x.return}}}function Zd(g,x,A){tt=g,eh(g)}function eh(g,x,A){for(var T=(g.mode&1)!==0;tt!==null;){var F=tt,L=F.child;if(F.tag===22&&T){var ie=F.memoizedState!==null||Yi;if(!ie){var xe=F.alternate,De=xe!==null&&xe.memoizedState!==null||ri;xe=Yi;var Qe=ri;if(Yi=ie,(ri=De)&&!Qe)for(tt=F;tt!==null;)ie=tt,De=ie.child,ie.tag===22&&ie.memoizedState!==null?oc(F):De!==null?(De.return=ie,tt=De):oc(F);for(;L!==null;)tt=L,eh(L),L=L.sibling;tt=F,Yi=xe,ri=Qe}Bg(g)}else(F.subtreeFlags&8772)!==0&&L!==null?(L.return=F,tt=L):Bg(g)}}function Bg(g){for(;tt!==null;){var x=tt;if((x.flags&8772)!==0){var A=x.alternate;try{if((x.flags&8772)!==0)switch(x.tag){case 0:case 11:case 15:ri||mi(5,x);break;case 1:var T=x.stateNode;if(x.flags&4&&!ri)if(A===null)T.componentDidMount();else{var F=x.elementType===x.type?A.memoizedProps:is(x.type,A.memoizedProps);T.componentDidUpdate(F,A.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var L=x.updateQueue;L!==null&&ov(x,L,T);break;case 3:var ie=x.updateQueue;if(ie!==null){if(A=null,x.child!==null)switch(x.child.tag){case 5:A=oe(x.child.stateNode);break;case 1:A=x.child.stateNode}ov(x,ie,A)}break;case 5:var xe=x.stateNode;A===null&&x.flags&4&&cn(xe,x.type,x.memoizedProps,x);break;case 6:break;case 4:break;case 12:break;case 13:if(ue&&x.memoizedState===null){var De=x.alternate;if(De!==null){var Qe=De.memoizedState;if(Qe!==null){var pt=Qe.dehydrated;pt!==null&&Pe(pt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ri||x.flags&512&&Ji(x)}catch(Yt){qi(x,x.return,Yt)}}if(x===g){tt=null;break}if(A=x.sibling,A!==null){A.return=x.return,tt=A;break}tt=x.return}}function Dg(g){for(;tt!==null;){var x=tt;if(x===g){tt=null;break}var A=x.sibling;if(A!==null){A.return=x.return,tt=A;break}tt=x.return}}function oc(g){for(;tt!==null;){var x=tt;try{switch(x.tag){case 0:case 11:case 15:var A=x.return;try{mi(4,x)}catch(De){qi(x,A,De)}break;case 1:var T=x.stateNode;if(typeof T.componentDidMount=="function"){var F=x.return;try{T.componentDidMount()}catch(De){qi(x,F,De)}}var L=x.return;try{Ji(x)}catch(De){qi(x,L,De)}break;case 5:var ie=x.return;try{Ji(x)}catch(De){qi(x,ie,De)}}}catch(De){qi(x,x.return,De)}if(x===g){tt=null;break}var xe=x.sibling;if(xe!==null){xe.return=x.return,tt=xe;break}tt=x.return}}var th=0,lc=1,cc=2,Eo=3,Ru=4;if(typeof Symbol=="function"&&Symbol.for){var uc=Symbol.for;th=uc("selector.component"),lc=uc("selector.has_pseudo_class"),cc=uc("selector.role"),Eo=uc("selector.test_id"),Ru=uc("selector.text")}function nh(g){var x=fe(g);if(x!=null){if(typeof x.memoizedProps["data-testname"]!="string")throw Error(o(364));return x}if(g=ge(g),g===null)throw Error(o(362));return g.stateNode.current}function rh(g,x){switch(x.$$typeof){case th:if(g.type===x.value)return!0;break;case lc:e:{x=x.value,g=[g,0];for(var A=0;A<g.length;){var T=g[A++],F=g[A++],L=x[F];if(T.tag!==5||!ze(T)){for(;L!=null&&rh(T,L);)F++,L=x[F];if(F===x.length){x=!0;break e}else for(T=T.child;T!==null;)g.push(T,F),T=T.sibling}}x=!1}return x;case cc:if(g.tag===5&&ve(g.stateNode,x.value))return!0;break;case Ru:if((g.tag===5||g.tag===6)&&(g=Ve(g),g!==null&&0<=g.indexOf(x.value)))return!0;break;case Eo:if(g.tag===5&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===x.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function pl(g){switch(g.$$typeof){case th:return"<"+(D(g.value)||"Unknown")+">";case lc:return":has("+(pl(g)||"")+")";case cc:return'[role="'+g.value+'"]';case Ru:return'"'+g.value+'"';case Eo:return'[data-testname="'+g.value+'"]';default:throw Error(o(365))}}function Ns(g,x){var A=[];g=[g,0];for(var T=0;T<g.length;){var F=g[T++],L=g[T++],ie=x[L];if(F.tag!==5||!ze(F)){for(;ie!=null&&rh(F,ie);)L++,ie=x[L];if(L===x.length)A.push(F);else for(F=F.child;F!==null;)g.push(F,L),F=F.sibling}}return A}function Co(g,x){if(!G)throw Error(o(363));g=nh(g),g=Ns(g,x),x=[],g=Array.from(g);for(var A=0;A<g.length;){var T=g[A++];if(T.tag===5)ze(T)||x.push(T.stateNode);else for(T=T.child;T!==null;)g.push(T),T=T.sibling}return x}var Ig=Math.ceil,ih=l.ReactCurrentDispatcher,xa=l.ReactCurrentOwner,Rn=l.ReactCurrentBatchConfig,Qt=0,jr=null,Fn=null,ir=0,Ri=0,dc=Mr(0),Sr=0,Fu=null,Ga=0,Ts=0,hc=0,Mo=null,Dr=null,sh=0,ml=1/0;function fc(){ml=Kr()+500}var Bu=!1,tr=null,va=null,Du=!1,Wa=null,pc=0,mc=0,No=null,Yn=-1,_r=0;function wn(){return(Qt&6)!==0?Kr():Yn!==-1?Yn:Yn=Kr()}function ya(g){return(g.mode&1)===0?1:(Qt&2)!==0&&ir!==0?ir&-ir:av.transition!==null?(_r===0&&(g=fu,fu<<=1,(fu&4194240)===0&&(fu=64),_r=g),_r):(g=sn,g!==0?g:ke())}function Fi(g,x,A){if(50<mc)throw mc=0,No=null,Error(o(185));var T=gl(g,x);return T===null?null:(zl(T,x,A),((Qt&2)===0||T!==jr)&&(T===jr&&((Qt&2)===0&&(Ts|=x),Sr===4&&xi(T,ir)),ls(T,A),x===1&&Qt===0&&(g.mode&1)===0&&(fc(),Df&&Ws())),T)}function gl(g,x){g.lanes|=x;var A=g.alternate;for(A!==null&&(A.lanes|=x),A=g,g=g.return;g!==null;)g.childLanes|=x,A=g.alternate,A!==null&&(A.childLanes|=x),A=g,g=g.return;return A.tag===3?A.stateNode:null}function ls(g,x){var A=g.callbackNode;sv(g,x);var T=Rd(g,g===jr?ir:0);if(T===0)A!==null&&mu(A),g.callbackNode=null,g.callbackPriority=0;else if(x=T&-T,g.callbackPriority!==x){if(A!=null&&mu(A),x===1)g.tag===0?Lf(js.bind(null,g)):If(js.bind(null,g)),$e?z(function(){Qt===0&&Ws()}):Hl(Gl,Ws),A=null;else{switch(ho(T)){case 1:A=Gl;break;case 4:A=gw;break;case 16:A=Ff;break;case 536870912:A=Bf;break;default:A=Ff}A=xp(A,gi.bind(null,g))}g.callbackPriority=x,g.callbackNode=A}}function gi(g,x){if(Yn=-1,_r=0,(Qt&6)!==0)throw Error(o(327));var A=g.callbackNode;if(Va()&&g.callbackNode!==A)return null;var T=Rd(g,g===jr?ir:0);if(T===0)return null;if((T&30)!==0||(T&g.expiredLanes)!==0||x)x=ch(g,T);else{x=T;var F=Qt;Qt|=2;var L=Ug();(jr!==g||ir!==x)&&(fc(),To(g,x));do try{Sv();break}catch(xe){Og(g,xe)}while(!0);Vi(),ih.current=L,Qt=F,Fn!==null?x=0:(jr=null,ir=0,x=Sr)}if(x!==0){if(x===2&&(F=kf(g),F!==0&&(T=F,x=ah(g,F))),x===1)throw A=Fu,To(g,0),xi(g,T),ls(g,Kr()),A;if(x===6)xi(g,T);else{if(F=g.current.alternate,(T&30)===0&&!Lg(F)&&(x=ch(g,T),x===2&&(L=kf(g),L!==0&&(T=L,x=ah(g,L))),x===1))throw A=Fu,To(g,0),xi(g,T),ls(g,Kr()),A;switch(g.finishedWork=F,g.finishedLanes=T,x){case 0:case 1:throw Error(o(345));case 2:ba(g,Dr);break;case 3:if(xi(g,T),(T&130023424)===T&&(x=sh+500-Kr(),10<x)){if(Rd(g,0)!==0)break;if(F=g.suspendedLanes,(F&T)!==T){wn(),g.pingedLanes|=g.suspendedLanes&F;break}g.timeoutHandle=Se(ba.bind(null,g,Dr),x);break}ba(g,Dr);break;case 4:if(xi(g,T),(T&4194240)===T)break;for(x=g.eventTimes,F=-1;0<T;){var ie=31-rs(T);L=1<<ie,ie=x[ie],ie>F&&(F=ie),T&=~L}if(T=F,T=Kr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Ig(T/1960))-T,10<T){g.timeoutHandle=Se(ba.bind(null,g,Dr),T);break}ba(g,Dr);break;case 5:ba(g,Dr);break;default:throw Error(o(329))}}}return ls(g,Kr()),g.callbackNode===A?gi.bind(null,g):null}function ah(g,x){var A=Mo;return g.current.memoizedState.isDehydrated&&(To(g,x).flags|=256),g=ch(g,x),g!==2&&(x=Dr,Dr=A,x!==null&&oh(x)),g}function oh(g){Dr===null?Dr=g:Dr.push.apply(Dr,g)}function Lg(g){for(var x=g;;){if(x.flags&16384){var A=x.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var T=0;T<A.length;T++){var F=A[T],L=F.getSnapshot;F=F.value;try{if(!Wi(L(),F))return!1}catch{return!1}}}if(A=x.child,x.subtreeFlags&16384&&A!==null)A.return=x,x=A;else{if(x===g)break;for(;x.sibling===null;){if(x.return===null||x.return===g)return!0;x=x.return}x.sibling.return=x.return,x=x.sibling}}return!0}function xi(g,x){for(x&=~hc,x&=~Ts,g.suspendedLanes|=x,g.pingedLanes&=~x,g=g.expirationTimes;0<x;){var A=31-rs(x),T=1<<A;g[A]=-1,x&=~T}}function js(g){if((Qt&6)!==0)throw Error(o(327));Va();var x=Rd(g,0);if((x&1)===0)return ls(g,Kr()),null;var A=ch(g,x);if(g.tag!==0&&A===2){var T=kf(g);T!==0&&(x=T,A=ah(g,T))}if(A===1)throw A=Fu,To(g,0),xi(g,x),ls(g,Kr()),A;if(A===6)throw Error(o(345));return g.finishedWork=g.current.alternate,g.finishedLanes=x,ba(g,Dr),ls(g,Kr()),null}function Iu(g){Wa!==null&&Wa.tag===0&&(Qt&6)===0&&Va();var x=Qt;Qt|=1;var A=Rn.transition,T=sn;try{if(Rn.transition=null,sn=1,g)return g()}finally{sn=T,Rn.transition=A,Qt=x,(Qt&6)===0&&Ws()}}function lh(){Ri=dc.current,At(dc)}function To(g,x){g.finishedWork=null,g.finishedLanes=0;var A=g.timeoutHandle;if(A!==X&&(g.timeoutHandle=X,pe(A)),Fn!==null)for(A=Fn.return;A!==null;){var T=A;switch(fg(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Zn();break;case 3:Au(),At(br),At(rn),$l();break;case 5:gg(T);break;case 4:Au();break;case 13:At(hr);break;case 19:At(hr);break;case 10:Ld(T.type._context);break;case 22:case 23:lh()}A=A.return}if(jr=g,Fn=g=jo(g.current,null),ir=Ri=x,Sr=0,Fu=null,hc=Ts=Ga=0,Dr=Mo=null,Vs!==null){for(x=0;x<Vs.length;x++)if(A=Vs[x],T=A.interleaved,T!==null){A.interleaved=null;var F=T.next,L=A.pending;if(L!==null){var ie=L.next;L.next=F,T.next=ie}A.pending=T}Vs=null}return g}function Og(g,x){do{var A=Fn;try{if(Vi(),Ud.current=Tu,qf){for(var T=fr.memoizedState;T!==null;){var F=T.queue;F!==null&&(F.pending=null),T=T.next}qf=!1}if(Ql=0,ei=Zr=fr=null,Ua=!1,Zl=0,xa.current=null,A===null||A.return===null){Sr=1,Fu=x,Fn=null;break}e:{var L=g,ie=A.return,xe=A,De=x;if(x=ir,xe.flags|=32768,De!==null&&typeof De=="object"&&typeof De.then=="function"){var Qe=De,pt=xe,Yt=pt.tag;if((pt.mode&1)===0&&(Yt===0||Yt===11||Yt===15)){var Pt=pt.alternate;Pt?(pt.updateQueue=Pt.updateQueue,pt.memoizedState=Pt.memoizedState,pt.lanes=Pt.lanes):(pt.updateQueue=null,pt.memoizedState=null)}var Zt=Cg(ie);if(Zt!==null){Zt.flags&=-257,tc(Zt,ie,xe,L,x),Zt.mode&1&&yo(L,Qe,x),x=Zt,De=Qe;var ct=x.updateQueue;if(ct===null){var vi=new Set;vi.add(De),x.updateQueue=vi}else ct.add(De);break e}else{if((x&1)===0){yo(L,Qe,x),gp();break e}De=Error(o(426))}}else if(rr&&xe.mode&1){var Ps=Cg(ie);if(Ps!==null){(Ps.flags&65536)===0&&(Ps.flags|=256),tc(Ps,ie,xe,L,x),Xf(De);break e}}L=De,Sr!==4&&(Sr=2),Mo===null?Mo=[L]:Mo.push(L),De=Eg(De,xe),xe=ie;do{switch(xe.tag){case 3:xe.flags|=65536,x&=-x,xe.lanes|=x;var Ne=yv(xe,De,x);zf(xe,Ne);break e;case 1:L=De;var ye=xe.type,Be=xe.stateNode;if((xe.flags&128)===0&&(typeof ye.getDerivedStateFromError=="function"||Be!==null&&typeof Be.componentDidCatch=="function"&&(va===null||!va.has(Be)))){xe.flags|=65536,x&=-x,xe.lanes|=x;var ot=ap(xe,L,x);zf(xe,ot);break e}}xe=xe.return}while(xe!==null)}Hg(A)}catch(St){x=St,Fn===A&&A!==null&&(Fn=A=A.return);continue}break}while(!0)}function Ug(){var g=ih.current;return ih.current=Tu,g===null?Tu:g}function gp(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),jr===null||(Ga&268435455)===0&&(Ts&268435455)===0||xi(jr,ir)}function ch(g,x){var A=Qt;Qt|=2;var T=Ug();jr===g&&ir===x||To(g,x);do try{wv();break}catch(F){Og(g,F)}while(!0);if(Vi(),Qt=A,ih.current=T,Fn!==null)throw Error(o(261));return jr=null,ir=0,Sr}function wv(){for(;Fn!==null;)zg(Fn)}function Sv(){for(;Fn!==null&&!sl();)zg(Fn)}function zg(g){var x=Vg(g.alternate,g,Ri);g.memoizedProps=g.pendingProps,x===null?Hg(g):Fn=x,xa.current=null}function Hg(g){var x=g;do{var A=x.alternate;if(g=x.return,(x.flags&32768)===0){if(A=cp(A,x,Ri),A!==null){Fn=A;return}}else{if(A=hp(A,x),A!==null){A.flags&=32767,Fn=A;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{Sr=6,Fn=null;return}}if(x=x.sibling,x!==null){Fn=x;return}Fn=x=g}while(x!==null);Sr===0&&(Sr=5)}function ba(g,x){var A=sn,T=Rn.transition;try{Rn.transition=null,sn=1,_v(g,x,A)}finally{Rn.transition=T,sn=A}return null}function _v(g,x,A){do Va();while(Wa!==null);if((Qt&6)!==0)throw Error(o(327));var T=g.finishedWork,F=g.finishedLanes;if(T===null)return null;if(g.finishedWork=null,g.finishedLanes=0,T===g.current)throw Error(o(177));g.callbackNode=null,g.callbackPriority=0;var L=T.lanes|T.childLanes;if(Rf(g,L),g===jr&&(Fn=jr=null,ir=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||Du||(Du=!0,xp(Ff,function(){return Va(),null})),L=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||L){L=Rn.transition,Rn.transition=null;var ie=sn;sn=1;var xe=Qt;Qt|=4,xa.current=null,kg(g,T),yw(g,T),Q(g.containerInfo),g.current=T,Zd(T),mw(),Qt=xe,sn=ie,Rn.transition=L}else g.current=T;if(Du&&(Du=!1,Wa=g,pc=F),L=g.pendingLanes,L===0&&(va=null),Bd(T.stateNode),ls(g,Kr()),x!==null)for(A=g.onRecoverableError,T=0;T<x.length;T++)A(x[T]);if(Bu)throw Bu=!1,g=tr,tr=null,g;return(pc&1)!==0&&g.tag!==0&&Va(),L=g.pendingLanes,(L&1)!==0?g===No?mc++:(mc=0,No=g):mc=0,Ws(),null}function Va(){if(Wa!==null){var g=ho(pc),x=Rn.transition,A=sn;try{if(Rn.transition=null,sn=16>g?16:g,Wa===null)var T=!1;else{if(g=Wa,Wa=null,pc=0,(Qt&6)!==0)throw Error(o(331));var F=Qt;for(Qt|=4,tt=g.current;tt!==null;){var L=tt,ie=L.child;if((tt.flags&16)!==0){var xe=L.deletions;if(xe!==null){for(var De=0;De<xe.length;De++){var Qe=xe[De];for(tt=Qe;tt!==null;){var pt=tt;switch(pt.tag){case 0:case 11:case 15:Ao(8,pt,L)}var Yt=pt.child;if(Yt!==null)Yt.return=pt,tt=Yt;else for(;tt!==null;){pt=tt;var Pt=pt.sibling,Zt=pt.return;if(Pg(pt),pt===Qe){tt=null;break}if(Pt!==null){Pt.return=Zt,tt=Pt;break}tt=Zt}}}var ct=L.alternate;if(ct!==null){var vi=ct.child;if(vi!==null){ct.child=null;do{var Ps=vi.sibling;vi.sibling=null,vi=Ps}while(vi!==null)}}tt=L}}if((L.subtreeFlags&2064)!==0&&ie!==null)ie.return=L,tt=ie;else e:for(;tt!==null;){if(L=tt,(L.flags&2048)!==0)switch(L.tag){case 0:case 11:case 15:Ao(9,L,L.return)}var Ne=L.sibling;if(Ne!==null){Ne.return=L.return,tt=Ne;break e}tt=L.return}}var ye=g.current;for(tt=ye;tt!==null;){ie=tt;var Be=ie.child;if((ie.subtreeFlags&2064)!==0&&Be!==null)Be.return=ie,tt=Be;else e:for(ie=ye;tt!==null;){if(xe=tt,(xe.flags&2048)!==0)try{switch(xe.tag){case 0:case 11:case 15:mi(9,xe)}}catch(St){qi(xe,xe.return,St)}if(xe===ie){tt=null;break e}var ot=xe.sibling;if(ot!==null){ot.return=xe.return,tt=ot;break e}tt=xe.return}}if(Qt=F,Ws(),Oa&&typeof Oa.onPostCommitFiberRoot=="function")try{Oa.onPostCommitFiberRoot(Fd,g)}catch{}T=!0}return T}finally{sn=A,Rn.transition=x}}return!1}function uh(g,x,A){x=Eg(A,x),x=yv(g,x,1),al(g,x),x=wn(),g=gl(g,1),g!==null&&(zl(g,1,x),ls(g,x))}function qi(g,x,A){if(g.tag===3)uh(g,g,A);else for(;x!==null;){if(x.tag===3){uh(x,g,A);break}else if(x.tag===1){var T=x.stateNode;if(typeof x.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(va===null||!va.has(T))){g=Eg(A,g),g=ap(x,g,1),al(x,g),g=wn(),x=gl(x,1),x!==null&&(zl(x,1,g),ls(x,g));break}}x=x.return}}function Gg(g,x,A){var T=g.pingCache;T!==null&&T.delete(x),x=wn(),g.pingedLanes|=g.suspendedLanes&A,jr===g&&(ir&A)===A&&(Sr===4||Sr===3&&(ir&130023424)===ir&&500>Kr()-sh?To(g,0):hc|=A),ls(g,x)}function Wg(g,x){x===0&&((g.mode&1)===0?x=1:(x=bn,bn<<=1,(bn&130023424)===0&&(bn=4194304)));var A=wn();g=gl(g,x),g!==null&&(zl(g,x,A),ls(g,A))}function Av(g){var x=g.memoizedState,A=0;x!==null&&(A=x.retryLane),Wg(g,A)}function Ev(g,x){var A=0;switch(g.tag){case 13:var T=g.stateNode,F=g.memoizedState;F!==null&&(A=F.retryLane);break;case 19:T=g.stateNode;break;default:throw Error(o(314))}T!==null&&T.delete(x),Wg(g,A)}var Vg;Vg=function(g,x,A){if(g!==null)if(g.memoizedProps!==x.pendingProps||br.current)ni=!0;else{if((g.lanes&A)===0&&(x.flags&128)===0)return ni=!1,dp(g,x,A);ni=(g.flags&131072)!==0}else ni=!1,rr&&(x.flags&1048576)!==0&&dv(x,Vf,x.index);switch(x.lanes=0,x.tag){case 2:var T=x.type;g!==null&&(g.alternate=null,x.alternate=null,x.flags|=2),g=x.pendingProps;var F=Gi(x,rn.current);gu(x,A),F=Eu(null,x,T,g,F,A);var L=ul();return x.flags|=1,typeof F=="object"&&F!==null&&typeof F.render=="function"&&F.$$typeof===void 0?(x.tag=1,x.memoizedState=null,x.updateQueue=null,Nr(T)?(L=!0,hi(x)):L=!1,x.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,xu(x),F.updater=Gf,x.stateNode=F,F._reactInternals=x,dg(x,T,g,A),x=Pi(null,x,T,!0,L,A)):(x.tag=0,rr&&L&&hg(x),wr(null,x,F,A),x=x.child),x;case 16:T=x.elementType;e:{switch(g!==null&&(g.alternate=null,x.alternate=null,x.flags|=2),g=x.pendingProps,F=T._init,T=F(T._payload),x.type=T,F=x.tag=bw(T),g=is(T,g),F){case 0:x=So(null,x,T,g,A);break e;case 1:x=rc(null,x,T,g,A);break e;case 11:x=Xn(null,x,T,g,A);break e;case 14:x=On(null,x,T,is(T.type,g),A);break e}throw Error(o(306,T,""))}return x;case 0:return T=x.type,F=x.pendingProps,F=x.elementType===T?F:is(T,F),So(g,x,T,F,A);case 1:return T=x.type,F=x.pendingProps,F=x.elementType===T?F:is(T,F),rc(g,x,T,F,A);case 3:e:{if(Jd(x),g===null)throw Error(o(387));T=x.pendingProps,L=x.memoizedState,F=L.element,lg(g,x),Hf(x,T,null,A);var ie=x.memoizedState;if(T=ie.element,ue&&L.isDehydrated)if(L={element:T,isDehydrated:!1,cache:ie.cache,transitions:ie.transitions},x.updateQueue.baseState=L,x.memoizedState=L,x.flags&256){F=Error(o(423)),x=Ng(g,x,T,A,F);break e}else if(T!==F){F=Error(o(424)),x=Ng(g,x,T,A,F);break e}else for(ue&&(fi=Nf(x.stateNode.containerInfo),Ki=x,rr=!0,Ys=null,yu=!1),A=pv(x,null,T,A),x.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(bu(),T===F){x=os(g,x,A);break e}wr(g,x,T,A)}x=x.child}return x;case 5:return mv(x),g===null&&ll(x),T=x.type,F=x.pendingProps,L=g!==null?g.memoizedProps:null,ie=F.children,be(T,F)?ie=null:L!==null&&be(T,L)&&(x.flags|=32),Xi(g,x),wr(g,x,ie,A),x.child;case 6:return g===null&&ll(x),null;case 13:return Tg(g,x,A);case 4:return Yf(x,x.stateNode.containerInfo),T=x.pendingProps,g===null?x.child=xo(x,null,T,A):wr(g,x,T,A),x.child;case 11:return T=x.type,F=x.pendingProps,F=x.elementType===T?F:is(T,F),Xn(g,x,T,F,A);case 7:return wr(g,x,x.pendingProps,A),x.child;case 8:return wr(g,x,x.pendingProps.children,A),x.child;case 12:return wr(g,x,x.pendingProps.children,A),x.child;case 10:e:{if(T=x.type._context,F=x.pendingProps,L=x.memoizedProps,ie=F.value,Vl(x,T,ie),L!==null)if(Wi(L.value,ie)){if(L.children===F.children&&!br.current){x=os(g,x,A);break e}}else for(L=x.child,L!==null&&(L.return=x);L!==null;){var xe=L.dependencies;if(xe!==null){ie=L.child;for(var De=xe.firstContext;De!==null;){if(De.context===T){if(L.tag===1){De=po(-1,A&-A),De.tag=2;var Qe=L.updateQueue;if(Qe!==null){Qe=Qe.shared;var pt=Qe.pending;pt===null?De.next=De:(De.next=pt.next,pt.next=De),Qe.pending=De}}L.lanes|=A,De=L.alternate,De!==null&&(De.lanes|=A),Kl(L.return,A,x),xe.lanes|=A;break}De=De.next}}else if(L.tag===10)ie=L.type===x.type?null:L.child;else if(L.tag===18){if(ie=L.return,ie===null)throw Error(o(341));ie.lanes|=A,xe=ie.alternate,xe!==null&&(xe.lanes|=A),Kl(ie,A,x),ie=L.sibling}else ie=L.child;if(ie!==null)ie.return=L;else for(ie=L;ie!==null;){if(ie===x){ie=null;break}if(L=ie.sibling,L!==null){L.return=ie.return,ie=L;break}ie=ie.return}L=ie}wr(g,x,F.children,A),x=x.child}return x;case 9:return F=x.type,T=x.pendingProps.children,gu(x,A),F=ss(F),T=T(F),x.flags|=1,wr(g,x,T,A),x.child;case 14:return T=x.type,F=is(T,x.pendingProps),F=is(T.type,F),On(g,x,T,F,A);case 15:return wo(g,x,x.type,x.pendingProps,A);case 17:return T=x.type,F=x.pendingProps,F=x.elementType===T?F:is(T,F),g!==null&&(g.alternate=null,x.alternate=null,x.flags|=2),x.tag=1,Nr(T)?(g=!0,hi(x)):g=!1,gu(x,A),cv(x,T,F),dg(x,T,F,A),Pi(null,x,T,!0,g,A);case 19:return sc(g,x,A);case 22:return pi(g,x,A)}throw Error(o(156,x.tag))};function xp(g,x){return Hl(g,x)}function Cv(g,x,A,T){this.tag=g,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=x,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ks(g,x,A,T){return new Cv(g,x,A,T)}function vp(g){return g=g.prototype,!(!g||!g.isReactComponent)}function bw(g){if(typeof g=="function")return vp(g)?1:0;if(g!=null){if(g=g.$$typeof,g===S)return 11;if(g===E)return 14}return 2}function jo(g,x){var A=g.alternate;return A===null?(A=ks(g.tag,x,g.key,g.mode),A.elementType=g.elementType,A.type=g.type,A.stateNode=g.stateNode,A.alternate=g,g.alternate=A):(A.pendingProps=x,A.type=g.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=g.flags&14680064,A.childLanes=g.childLanes,A.lanes=g.lanes,A.child=g.child,A.memoizedProps=g.memoizedProps,A.memoizedState=g.memoizedState,A.updateQueue=g.updateQueue,x=g.dependencies,A.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext},A.sibling=g.sibling,A.index=g.index,A.ref=g.ref,A}function yp(g,x,A,T,F,L){var ie=2;if(T=g,typeof g=="function")vp(g)&&(ie=1);else if(typeof g=="string")ie=5;else e:switch(g){case h:return gc(A.children,F,L,x);case f:ie=8,F|=8;break;case m:return g=ks(12,A,x,F|2),g.elementType=m,g.lanes=L,g;case b:return g=ks(13,A,x,F),g.elementType=b,g.lanes=L,g;case _:return g=ks(19,A,x,F),g.elementType=_,g.lanes=L,g;case j:return dh(A,F,L,x);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case v:ie=10;break e;case y:ie=9;break e;case S:ie=11;break e;case E:ie=14;break e;case C:ie=16,T=null;break e}throw Error(o(130,g==null?g:typeof g,""))}return x=ks(ie,A,x,F),x.elementType=g,x.type=T,x.lanes=L,x}function gc(g,x,A,T){return g=ks(7,g,T,x),g.lanes=A,g}function dh(g,x,A,T){return g=ks(22,g,T,x),g.elementType=j,g.lanes=A,g.stateNode={},g}function bp(g,x,A){return g=ks(6,g,null,x),g.lanes=A,g}function wp(g,x,A){return x=ks(4,g.children!==null?g.children:[],g.key,x),x.lanes=A,x.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},x}function Sp(g,x,A,T,F){this.tag=x,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=X,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pf(0),this.expirationTimes=Pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pf(0),this.identifierPrefix=T,this.onRecoverableError=F,ue&&(this.mutableSourceEagerHydrationData=null)}function Mv(g,x,A,T,F,L,ie,xe,De){return g=new Sp(g,x,A,xe,De),x===1?(x=1,L===!0&&(x|=8)):x=0,L=ks(3,null,null,x),g.current=L,L.stateNode=g,L.memoizedState={element:T,isDehydrated:A,cache:null,transitions:null},xu(L),g}function Nv(g){if(!g)return yr;g=g._reactInternals;e:{if(I(g)!==g||g.tag!==1)throw Error(o(170));var x=g;do{switch(x.tag){case 3:x=x.stateNode.context;break e;case 1:if(Nr(x.type)){x=x.stateNode.__reactInternalMemoizedMergedChildContext;break e}}x=x.return}while(x!==null);throw Error(o(171))}if(g.tag===1){var A=g.type;if(Nr(A))return du(g,A,x)}return x}function Tv(g){var x=g._reactInternals;if(x===void 0)throw typeof g.render=="function"?Error(o(188)):(g=Object.keys(g).join(","),Error(o(268,g)));return g=$(x),g===null?null:g.stateNode}function $s(g,x){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var A=g.retryLane;g.retryLane=A!==0&&A<x?A:x}}function hh(g,x){$s(g,x),(g=g.alternate)&&$s(g,x)}function _p(g){return g=$(g),g===null?null:g.stateNode}function jv(){return null}return n.attemptContinuousHydration=function(g){if(g.tag===13){var x=wn();Fi(g,134217728,x),hh(g,134217728)}},n.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13){var x=wn(),A=ya(g);Fi(g,A,x),hh(g,A)}},n.attemptSynchronousHydration=function(g){switch(g.tag){case 3:var x=g.stateNode;if(x.current.memoizedState.isDehydrated){var A=pu(x.pendingLanes);A!==0&&(La(x,A|1),ls(x,Kr()),(Qt&6)===0&&(fc(),Ws()))}break;case 13:var T=wn();Iu(function(){return Fi(g,1,T)}),hh(g,1)}},n.batchedUpdates=function(g,x){var A=Qt;Qt|=1;try{return g(x)}finally{Qt=A,Qt===0&&(fc(),Df&&Ws())}},n.createComponentSelector=function(g){return{$$typeof:th,value:g}},n.createContainer=function(g,x,A,T,F,L,ie){return Mv(g,x,!1,null,A,T,F,L,ie)},n.createHasPseudoClassSelector=function(g){return{$$typeof:lc,value:g}},n.createHydrationContainer=function(g,x,A,T,F,L,ie,xe,De){return g=Mv(A,T,!0,g,F,L,ie,xe,De),g.context=Nv(null),A=g.current,T=wn(),F=ya(A),L=po(T,F),L.callback=x??null,al(A,L),g.current.lanes=F,zl(g,F,T),ls(g,T),g},n.createPortal=function(g,x,A){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:g,containerInfo:x,implementation:A}},n.createRoleSelector=function(g){return{$$typeof:cc,value:g}},n.createTestNameSelector=function(g){return{$$typeof:Eo,value:g}},n.createTextSelector=function(g){return{$$typeof:Ru,value:g}},n.deferredUpdates=function(g){var x=sn,A=Rn.transition;try{return Rn.transition=null,sn=16,g()}finally{sn=x,Rn.transition=A}},n.discreteUpdates=function(g,x,A,T,F){var L=sn,ie=Rn.transition;try{return Rn.transition=null,sn=1,g(x,A,T,F)}finally{sn=L,Rn.transition=ie,Qt===0&&fc()}},n.findAllNodes=Co,n.findBoundingRects=function(g,x){if(!G)throw Error(o(363));x=Co(g,x),g=[];for(var A=0;A<x.length;A++)g.push(He(x[A]));for(x=g.length-1;0<x;x--){A=g[x];for(var T=A.x,F=T+A.width,L=A.y,ie=L+A.height,xe=x-1;0<=xe;xe--)if(x!==xe){var De=g[xe],Qe=De.x,pt=Qe+De.width,Yt=De.y,Pt=Yt+De.height;if(T>=Qe&&L>=Yt&&F<=pt&&ie<=Pt){g.splice(x,1);break}else if(T!==Qe||A.width!==De.width||Pt<L||Yt>ie){if(!(L!==Yt||A.height!==De.height||pt<T||Qe>F)){Qe>T&&(De.width+=Qe-T,De.x=T),pt<F&&(De.width=F-Qe),g.splice(x,1);break}}else{Yt>L&&(De.height+=Yt-L,De.y=L),Pt<ie&&(De.height=ie-Yt),g.splice(x,1);break}}}return g},n.findHostInstance=Tv,n.findHostInstanceWithNoPortals=function(g){return g=K(g),g=g!==null?Y(g):null,g===null?null:g.stateNode},n.findHostInstanceWithWarning=function(g){return Tv(g)},n.flushControlled=function(g){var x=Qt;Qt|=1;var A=Rn.transition,T=sn;try{Rn.transition=null,sn=1,g()}finally{sn=T,Rn.transition=A,Qt=x,Qt===0&&(fc(),Ws())}},n.flushPassiveEffects=Va,n.flushSync=Iu,n.focusWithin=function(g,x){if(!G)throw Error(o(363));for(g=nh(g),x=Ns(g,x),x=Array.from(x),g=0;g<x.length;){var A=x[g++];if(!ze(A)){if(A.tag===5&&Le(A.stateNode))return!0;for(A=A.child;A!==null;)x.push(A),A=A.sibling}}return!1},n.getCurrentUpdatePriority=function(){return sn},n.getFindAllNodesFailureDescription=function(g,x){if(!G)throw Error(o(363));var A=0,T=[];g=[nh(g),0];for(var F=0;F<g.length;){var L=g[F++],ie=g[F++],xe=x[ie];if((L.tag!==5||!ze(L))&&(rh(L,xe)&&(T.push(pl(xe)),ie++,ie>A&&(A=ie)),ie<x.length))for(L=L.child;L!==null;)g.push(L,ie),L=L.sibling}if(A<x.length){for(g=[];A<x.length;A++)g.push(pl(x[A]));return`findAllNodes was able to match part of the selector:
  `+(T.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},n.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return oe(g.child.stateNode);default:return g.child.stateNode}},n.injectIntoDevTools=function(g){if(g={bundleType:g.bundleType,version:g.version,rendererPackageName:g.rendererPackageName,rendererConfig:g.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:_p,findFiberByHostInstance:g.findFiberByHostInstance||jv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var x=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(x.isDisabled||!x.supportsFiber)g=!0;else{try{Fd=x.inject(g),Oa=x}catch{}g=!!x.checkDCE}}return g},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(g,x,A,T){if(!G)throw Error(o(363));g=Co(g,x);var F=nt(g,A,T).disconnect;return{disconnect:function(){F()}}},n.registerMutableSourceForHydration=function(g,x){var A=x._getVersion;A=A(x._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[x,A]:g.mutableSourceEagerHydrationData.push(x,A)},n.runWithPriority=function(g,x){var A=sn;try{return sn=g,x()}finally{sn=A}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(g,x,A,T){var F=x.current,L=wn(),ie=ya(F);return A=Nv(A),x.context===null?x.context=A:x.pendingContext=A,x=po(L,ie),x.payload={element:g},T=T===void 0?null:T,T!==null&&(x.callback=T),al(F,x),g=Fi(F,ie,L),g!==null&&Uf(g,F,ie),ie},n}),HS}var P3;function mJ(){return P3||(P3=1,OS.exports=pJ()),OS.exports}var gJ=mJ();const xJ=Il(gJ);var GS={exports:{}},WS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3;function vJ(){return R3||(R3=1,(function(t){function e(H,q){var Q=H.length;H.push(q);e:for(;0<Q;){var V=Q-1>>>1,ee=H[V];if(0<i(ee,q))H[V]=q,H[Q]=ee,Q=V;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var q=H[0],Q=H.pop();if(Q!==q){H[0]=Q;e:for(var V=0,ee=H.length,ce=ee>>>1;V<ce;){var ne=2*(V+1)-1,be=H[ne],Ae=ne+1,Se=H[Ae];if(0>i(be,Q))Ae<ee&&0>i(Se,be)?(H[V]=Se,H[Ae]=Q,V=Ae):(H[V]=be,H[ne]=Q,V=ne);else if(Ae<ee&&0>i(Se,Q))H[V]=Se,H[Ae]=Q,V=Ae;else break e}}return q}function i(H,q){var Q=H.sortIndex-q.sortIndex;return Q!==0?Q:H.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,f=null,m=3,v=!1,y=!1,S=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=H)r(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function j(H){if(S=!1,C(H),!y)if(n(c)!==null)y=!0,oe(R);else{var q=n(u);q!==null&&le(j,q.startTime-H)}}function R(H,q){y=!1,S&&(S=!1,_(O),O=-1),v=!0;var Q=m;try{for(C(q),f=n(c);f!==null&&(!(f.expirationTime>q)||H&&!K());){var V=f.callback;if(typeof V=="function"){f.callback=null,m=f.priorityLevel;var ee=V(f.expirationTime<=q);q=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(c)&&r(c),C(q)}else r(c);f=n(c)}if(f!==null)var ce=!0;else{var ne=n(u);ne!==null&&le(j,ne.startTime-q),ce=!1}return ce}finally{f=null,m=Q,v=!1}}var k=!1,D=null,O=-1,I=5,U=-1;function K(){return!(t.unstable_now()-U<I)}function $(){if(D!==null){var H=t.unstable_now();U=H;var q=!0;try{q=D(!0,H)}finally{q?re():(k=!1,D=null)}}else k=!1}var re;if(typeof E=="function")re=function(){E($)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,se=Y.port2;Y.port1.onmessage=$,re=function(){se.postMessage(null)}}else re=function(){b($,0)};function oe(H){D=H,k||(k=!0,re())}function le(H,q){O=b(function(){H(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,oe(R))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(H){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var Q=m;m=q;try{return H()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,q){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=m;m=H;try{return q()}finally{m=Q}},t.unstable_scheduleCallback=function(H,q,Q){var V=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,H){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Q+ee,H={id:h++,callback:q,priorityLevel:H,startTime:Q,expirationTime:ee,sortIndex:-1},Q>V?(H.sortIndex=Q,e(u,H),n(c)===null&&H===n(u)&&(S?(_(O),O=-1):S=!0,le(j,Q-V))):(H.sortIndex=ee,e(c,H),y||v||(y=!0,oe(R))),H},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(H){var q=m;return function(){var Q=m;m=q;try{return H.apply(this,arguments)}finally{m=Q}}}})(WS)),WS}var F3;function yJ(){return F3||(F3=1,GS.exports=vJ()),GS.exports}var B3=yJ();const LM={},bJ=t=>void Object.assign(LM,t);function wJ(t,e){function n(h,{args:f=[],attach:m,...v},y){let S=`${h[0].toUpperCase()}${h.slice(1)}`,b;if(h==="primitive"){if(v.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=v.object;b=em(_,{type:h,root:y,attach:m,primitive:!0})}else{const _=LM[S];if(!_)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");b=em(new _(...f),{type:h,root:y,attach:m,memoizedProps:{args:f}})}return b.__r3f.attach===void 0&&(b.isBufferGeometry?b.__r3f.attach="geometry":b.isMaterial&&(b.__r3f.attach="material")),S!=="inject"&&XS(b,v),b}function r(h,f){let m=!1;if(f){var v,y;(v=f.__r3f)!=null&&v.attach?KS(h,f,f.__r3f.attach):f.isObject3D&&h.isObject3D&&(h.add(f),m=!0),m||(y=h.__r3f)==null||y.objects.push(f),f.__r3f||em(f,{}),f.__r3f.parent=h,PE(f),tm(f)}}function i(h,f,m){let v=!1;if(f){var y,S;if((y=f.__r3f)!=null&&y.attach)KS(h,f,f.__r3f.attach);else if(f.isObject3D&&h.isObject3D){f.parent=h,f.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:f});const b=h.children.filter(E=>E!==f),_=b.indexOf(m);h.children=[...b.slice(0,_),f,...b.slice(_)],v=!0}v||(S=h.__r3f)==null||S.objects.push(f),f.__r3f||em(f,{}),f.__r3f.parent=h,PE(f),tm(f)}}function s(h,f,m=!1){h&&[...h].forEach(v=>o(f,v,m))}function o(h,f,m){if(f){var v,y,S;if(f.__r3f&&(f.__r3f.parent=null),(v=h.__r3f)!=null&&v.objects&&(h.__r3f.objects=h.__r3f.objects.filter(j=>j!==f)),(y=f.__r3f)!=null&&y.attach)U3(h,f,f.__r3f.attach);else if(f.isObject3D&&h.isObject3D){var b;h.remove(f),(b=f.__r3f)!=null&&b.root&&TJ(_b(f),f)}const E=(S=f.__r3f)==null?void 0:S.primitive,C=!E&&(m===void 0?f.dispose!==null:m);if(!E){var _;s((_=f.__r3f)==null?void 0:_.objects,f,C),s(f.children,f,C)}if(delete f.__r3f,C&&f.dispose&&f.type!=="Scene"){const j=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?B3.unstable_scheduleCallback(B3.unstable_IdlePriority,j):j()}tm(h)}}function l(h,f,m,v){var y;const S=(y=h.__r3f)==null?void 0:y.parent;if(!S)return;const b=n(f,m,h.__r3f.root);if(h.children){for(const _ of h.children)_.__r3f&&r(b,_);h.children=h.children.filter(_=>!_.__r3f)}h.__r3f.objects.forEach(_=>r(b,_)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||o(S,h),b.parent&&(b.__r3f.autoRemovedBeforeAppend=!0),r(S,b),b.raycast&&b.__r3f.eventCount&&_b(b).getState().internal.interaction.push(b),[v,v.alternate].forEach(_=>{_!==null&&(_.stateNode=b,_.ref&&(typeof _.ref=="function"?_.ref(b):_.ref.current=b))})}const c=()=>{};return{reconciler:xJ({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,f)=>{if(!f)return;const m=h.getState().scene;m.__r3f&&(m.__r3f.root=h,r(m,f))},removeChildFromContainer:(h,f)=>{f&&o(h.getState().scene,f)},insertInContainerBefore:(h,f,m)=>{if(!f||!m)return;const v=h.getState().scene;v.__r3f&&i(v,f,m)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var f;return!!((f=h?.__r3f)!=null?f:{}).handlers},prepareUpdate(h,f,m,v){var y;if(((y=h?.__r3f)!=null?y:{}).primitive&&v.object&&v.object!==h)return[!0];{const{args:b=[],children:_,...E}=v,{args:C=[],children:j,...R}=m;if(!Array.isArray(b))throw new Error("R3F: the args prop must be an array!");if(b.some((D,O)=>D!==C[O]))return[!0];const k=f4(h,E,R,!0);return k.changes.length?[!1,k]:null}},commitUpdate(h,[f,m],v,y,S,b){f?l(h,v,S,b):XS(h,m)},commitMount(h,f,m,v){var y;const S=(y=h.__r3f)!=null?y:{};h.raycast&&S.handlers&&S.eventCount&&_b(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>em(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var f;const{attach:m,parent:v}=(f=h.__r3f)!=null?f:{};m&&v&&U3(v,h,m),h.isObject3D&&(h.visible=!1),tm(h)},unhideInstance(h,f){var m;const{attach:v,parent:y}=(m=h.__r3f)!=null?m:{};v&&y&&KS(y,h,v),(h.isObject3D&&f.visible==null||f.visible)&&(h.visible=!0),tm(h)},createTextInstance:c,hideTextInstance:c,unhideTextInstance:c,getCurrentEventPriority:()=>e?e():om.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&or.fun(performance.now)?performance.now:or.fun(Date.now)?Date.now:()=>0,scheduleTimeout:or.fun(setTimeout)?setTimeout:void 0,cancelTimeout:or.fun(clearTimeout)?clearTimeout:void 0}),applyProps:XS}}var D3,I3;const VS=t=>"colorSpace"in t||"outputColorSpace"in t,o4=()=>{var t;return(t=LM.ColorManagement)!=null?t:null},l4=t=>t&&t.isOrthographicCamera,SJ=t=>t&&t.hasOwnProperty("current"),D0=typeof window<"u"&&((D3=window.document)!=null&&D3.createElement||((I3=window.navigator)==null?void 0:I3.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function c4(t){const e=N.useRef(t);return D0(()=>void(e.current=t),[t]),e}function _J({set:t}){return D0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class u4 extends N.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}u4.getDerivedStateFromError=()=>({error:!0});const d4="__default",L3=new Map,AJ=t=>t&&!!t.memoized&&!!t.changes;function h4(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const px=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function _b(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const or={obj:t=>t===Object(t)&&!or.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(or.str(t)||or.num(t)||or.boo(t))return t===e;const s=or.obj(t);if(s&&r==="reference")return t===e;const o=or.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(l in i?e:t)if(!or.equ(t[l],e[l],{strict:i,objects:"reference"}))return!1}else for(l in i?e:t)if(t[l]!==e[l])return!1;if(or.und(l)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function EJ(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function CJ(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function em(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function kE(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const O3=/-\d+$/;function KS(t,e,n){if(or.str(n)){if(O3.test(n)){const s=n.replace(O3,""),{target:o,key:l}=kE(t,s);Array.isArray(o[l])||(o[l]=[])}const{target:r,key:i}=kE(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function U3(t,e,n){var r,i;if(or.str(n)){const{target:s,key:o}=kE(t,n),l=e.__r3f.previousAttach;l===void 0?delete s[o]:s[o]=l}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function f4(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:l,...c}={},u=!1){const h=t.__r3f,f=Object.entries(i),m=[];if(u){const y=Object.keys(c);for(let S=0;S<y.length;S++)i.hasOwnProperty(y[S])||f.unshift([y[S],d4+"remove"])}f.forEach(([y,S])=>{var b;if((b=t.__r3f)!=null&&b.primitive&&y==="object"||or.equ(S,c[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,S,!0,[]]);let _=[];y.includes("-")&&(_=y.split("-")),m.push([y,S,!1,_]);for(const E in i){const C=i[E];E.startsWith(`${y}-`)&&m.push([E,C,!1,E.split("-")])}});const v={...i};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(v.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(v.attach=h.memoizedProps.attach),{memoized:v,changes:m}}function XS(t,e){var n;const r=t.__r3f,i=r?.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:l}=AJ(e)?e:f4(t,e),c=r?.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let m=0;m<l.length;m++){let[v,y,S,b]=l[m];if(VS(t)){const j="srgb",R="srgb-linear";v==="encoding"?(v="colorSpace",y=y===3001?j:R):v==="outputEncoding"&&(v="outputColorSpace",y=y===3001?j:R)}let _=t,E=_[v];if(b.length&&(E=b.reduce((C,j)=>C[j],t),!(E&&E.set))){const[C,...j]=b.reverse();_=j.reverse().reduce((R,k)=>R[k],t),v=C}if(y===d4+"remove")if(_.constructor){let C=L3.get(_.constructor);C||(C=new _.constructor,L3.set(_.constructor,C)),y=C[v]}else y=0;if(S&&r)y?r.handlers[v]=y:delete r.handlers[v],r.eventCount=Object.keys(r.handlers).length;else if(E&&E.set&&(E.copy||E instanceof Jh)){if(Array.isArray(y))E.fromArray?E.fromArray(y):E.set(...y);else if(E.copy&&y&&y.constructor&&E.constructor===y.constructor)E.copy(y);else if(y!==void 0){var u;const C=(u=E)==null?void 0:u.isColor;!C&&E.setScalar?E.setScalar(y):E instanceof Jh&&y instanceof Jh?E.mask=y.mask:E.set(y),!o4()&&s&&!s.linear&&C&&E.convertSRGBToLinear()}}else{var h;if(_[v]=y,(h=_[v])!=null&&h.isTexture&&_[v].format===Ls&&_[v].type===_l&&s){const C=_[v];VS(C)&&VS(s.gl)?C.colorSpace=s.gl.outputColorSpace:C.encoding=s.gl.outputEncoding}}tm(t)}if(r&&r.parent&&t.raycast&&c!==r.eventCount){const m=_b(t).getState().internal,v=m.interaction.indexOf(t);v>-1&&m.interaction.splice(v,1),r.eventCount&&m.interaction.push(t)}return!(l.length===1&&l[0][0]==="onUpdate")&&l.length&&(n=t.__r3f)!=null&&n.parent&&PE(t),t}function tm(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function PE(t){t.onUpdate==null||t.onUpdate(t)}function MJ(t,e){t.manual||(l4(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Vy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function NJ(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return om.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return om.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return om.ContinuousEventPriority;default:return om.DefaultEventPriority}}function p4(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function TJ(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{p4(n.capturedMap,e,r,i)})}function jJ(t){function e(c){const{internal:u}=t.getState(),h=c.offsetX-u.initialClick[0],f=c.offsetY-u.initialClick[1];return Math.round(Math.sqrt(h*h+f*f))}function n(c){return c.filter(u=>["Move","Over","Enter","Out","Leave"].some(h=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+h]}))}function r(c,u){const h=t.getState(),f=new Set,m=[],v=u?u(h.internal.interaction):h.internal.interaction;for(let _=0;_<v.length;_++){const E=px(v[_]);E&&(E.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(c,h);function y(_){const E=px(_);if(!E||!E.events.enabled||E.raycaster.camera===null)return[];if(E.raycaster.camera===void 0){var C;E.events.compute==null||E.events.compute(c,E,(C=E.previousRoot)==null?void 0:C.getState()),E.raycaster.camera===void 0&&(E.raycaster.camera=null)}return E.raycaster.camera?E.raycaster.intersectObject(_,!0):[]}let S=v.flatMap(y).sort((_,E)=>{const C=px(_.object),j=px(E.object);return!C||!j?_.distance-E.distance:j.events.priority-C.events.priority||_.distance-E.distance}).filter(_=>{const E=Vy(_);return f.has(E)?!1:(f.add(E),!0)});h.events.filter&&(S=h.events.filter(S,h));for(const _ of S){let E=_.object;for(;E;){var b;(b=E.__r3f)!=null&&b.eventCount&&m.push({..._,eventObject:E}),E=E.parent}}if("pointerId"in c&&h.internal.capturedMap.has(c.pointerId))for(let _ of h.internal.capturedMap.get(c.pointerId).values())f.has(Vy(_.intersection))||m.push(_.intersection);return m}function i(c,u,h,f){const m=t.getState();if(c.length){const v={stopped:!1};for(const y of c){const S=px(y.object)||m,{raycaster:b,pointer:_,camera:E,internal:C}=S,j=new te(_.x,_.y,0).unproject(E),R=U=>{var K,$;return(K=($=C.capturedMap.get(U))==null?void 0:$.has(y.eventObject))!=null?K:!1},k=U=>{const K={intersection:y,target:u.target};C.capturedMap.has(U)?C.capturedMap.get(U).set(y.eventObject,K):C.capturedMap.set(U,new Map([[y.eventObject,K]])),u.target.setPointerCapture(U)},D=U=>{const K=C.capturedMap.get(U);K&&p4(C.capturedMap,y.eventObject,K,U)};let O={};for(let U in u){let K=u[U];typeof K!="function"&&(O[U]=K)}let I={...y,...O,pointer:_,intersections:c,stopped:v.stopped,delta:h,unprojectedPoint:j,ray:b.ray,camera:E,stopPropagation(){const U="pointerId"in u&&C.capturedMap.get(u.pointerId);if((!U||U.has(y.eventObject))&&(I.stopped=v.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(K=>K.eventObject===y.eventObject))){const K=c.slice(0,c.indexOf(y));s([...K,y])}},target:{hasPointerCapture:R,setPointerCapture:k,releasePointerCapture:D},currentTarget:{hasPointerCapture:R,setPointerCapture:k,releasePointerCapture:D},nativeEvent:u};if(f(I),v.stopped===!0)break}}return c}function s(c){const{internal:u}=t.getState();for(const h of u.hovered.values())if(!c.length||!c.find(f=>f.object===h.object&&f.index===h.index&&f.instanceId===h.instanceId)){const m=h.eventObject.__r3f,v=m?.handlers;if(u.hovered.delete(Vy(h)),m!=null&&m.eventCount){const y={...h,intersections:c};v.onPointerOut==null||v.onPointerOut(y),v.onPointerLeave==null||v.onPointerLeave(y)}}}function o(c,u){for(let h=0;h<u.length;h++){const f=u[h].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(c)}}function l(c){switch(c){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:h}=t.getState();"pointerId"in u&&h.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(u.pointerId)&&(h.capturedMap.delete(u.pointerId),s([]))})}}return function(h){const{onPointerMissed:f,internal:m}=t.getState();m.lastEvent.current=h;const v=c==="onPointerMove",y=c==="onClick"||c==="onContextMenu"||c==="onDoubleClick",b=r(h,v?n:void 0),_=y?e(h):0;c==="onPointerDown"&&(m.initialClick=[h.offsetX,h.offsetY],m.initialHits=b.map(C=>C.eventObject)),y&&!b.length&&_<=2&&(o(h,m.interaction),f&&f(h)),v&&s(b);function E(C){const j=C.eventObject,R=j.__r3f,k=R?.handlers;if(R!=null&&R.eventCount)if(v){if(k.onPointerOver||k.onPointerEnter||k.onPointerOut||k.onPointerLeave){const D=Vy(C),O=m.hovered.get(D);O?O.stopped&&C.stopPropagation():(m.hovered.set(D,C),k.onPointerOver==null||k.onPointerOver(C),k.onPointerEnter==null||k.onPointerEnter(C))}k.onPointerMove==null||k.onPointerMove(C)}else{const D=k[c];D?(!y||m.initialHits.includes(j))&&(o(h,m.interaction.filter(O=>!m.initialHits.includes(O))),D(C)):y&&m.initialHits.includes(j)&&o(h,m.interaction.filter(O=>!m.initialHits.includes(O)))}}i(b,h,_,E)}}return{handlePointer:l}}const m4=t=>!!(t!=null&&t.render),g4=N.createContext(null),kJ=(t,e)=>{const n=oJ((l,c)=>{const u=new te,h=new te,f=new te;function m(_=c().camera,E=h,C=c().size){const{width:j,height:R,top:k,left:D}=C,O=j/R;E.isVector3?f.copy(E):f.set(...E);const I=_.getWorldPosition(u).distanceTo(f);if(l4(_))return{width:j/_.zoom,height:R/_.zoom,top:k,left:D,factor:1,distance:I,aspect:O};{const U=_.fov*Math.PI/180,K=2*Math.tan(U/2)*I,$=K*(j/R);return{width:$,height:K,top:k,left:D,factor:j/$,distance:I,aspect:O}}}let v;const y=_=>l(E=>({performance:{...E.performance,current:_}})),S=new We;return{set:l,get:c,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(c(),_),advance:(_,E)=>e(_,E,c()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new FM,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=c();v&&clearTimeout(v),_.performance.current!==_.performance.min&&y(_.performance.min),v=setTimeout(()=>y(c().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:_=>l(E=>({...E,events:{...E.events,..._}})),setSize:(_,E,C,j,R)=>{const k=c().camera,D={width:_,height:E,top:j||0,left:R||0,updateStyle:C};l(O=>({size:D,viewport:{...O.viewport,...m(k,h,D)}}))},setDpr:_=>l(E=>{const C=h4(_);return{viewport:{...E.viewport,dpr:C,initialDpr:E.viewport.initialDpr||C}}}),setFrameloop:(_="always")=>{const E=c().clock;E.stop(),E.elapsedTime=0,_!=="never"&&(E.start(),E.elapsedTime=0),l(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:N.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,E,C)=>{const j=c().internal;return j.priority=j.priority+(E>0?1:0),j.subscribers.push({ref:_,priority:E,store:C}),j.subscribers=j.subscribers.sort((R,k)=>R.priority-k.priority),()=>{const R=c().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(E>0?1:0),R.subscribers=R.subscribers.filter(k=>k.ref!==_))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:l,size:c,viewport:u,gl:h,set:f}=n.getState();if(c.width!==i.width||c.height!==i.height||u.dpr!==s){var m;i=c,s=u.dpr,MJ(l,c),h.setPixelRatio(u.dpr);const v=(m=c.updateStyle)!=null?m:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(c.width,c.height,v)}l!==o&&(o=l,f(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),n.subscribe(l=>t(l)),n};let Ky,PJ=new Set,RJ=new Set,FJ=new Set;function YS(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function mx(t,e){switch(t){case"before":return YS(PJ,e);case"after":return YS(RJ,e);case"tail":return YS(FJ,e)}}let JS,qS;function $S(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),JS=e.internal.subscribers,Ky=0;Ky<JS.length;Ky++)qS=JS[Ky],qS.ref.current(qS.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function BJ(t){let e=!1,n=!1,r,i,s;function o(u){i=requestAnimationFrame(o),e=!0,r=0,mx("before",u),n=!0;for(const f of t.values()){var h;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((h=s.gl.xr)!=null&&h.isPresenting)&&(r+=$S(u,s))}if(n=!1,mx("after",u),r===0)return mx("tail",u),e=!1,cancelAnimationFrame(i)}function l(u,h=1){var f;if(!u)return t.forEach(m=>l(m.store.getState(),h));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(h>1?u.internal.frames=Math.min(60,u.internal.frames+h):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function c(u,h=!0,f,m){if(h&&mx("before",u),f)$S(u,f,m);else for(const v of t.values())$S(u,v.store.getState());h&&mx("after",u)}return{loop:o,invalidate:l,advance:c}}function DJ(){const t=N.useContext(g4);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function x4(t,e=0){const n=DJ(),r=n.getState().internal.subscribe,i=c4(t);return D0(()=>r(i,e,n),[e,r,n]),null}const z3=new WeakMap;function v4(t,e){return function(n,...r){let i=z3.get(n);return i||(i=new n,z3.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,l)=>i.load(s,c=>{c.scene&&Object.assign(c,EJ(c.scene)),o(c)},e,c=>l(new Error(`Could not load ${s}: ${c?.message}`))))))}}function I0(t,e,n,r){const i=Array.isArray(e)?e:[e],s=cJ(v4(n,r),[t,...i],{equal:or.equ});return Array.isArray(e)?s:s[0]}I0.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return uJ(v4(n),[t,...r])};I0.clear=function(t,e){const n=Array.isArray(e)?e:[e];return dJ([t,...n])};const Nm=new Map,{invalidate:H3,advance:G3}=BJ(Nm),{reconciler:zb,applyProps:Jp}=wJ(Nm,NJ),qp={objects:"shallow",strict:!1},IJ=(t,e)=>{const n=typeof t=="function"?t(e):t;return m4(n)?n:new hM({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function LJ(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:l=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:l}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function OJ(t){const e=Nm.get(t),n=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||kJ(H3,G3),o=n||zb.createContainer(s,om.ConcurrentRoot,null,!1,null,"",i,null);e||Nm.set(t,{fiber:o,store:s});let l,c=!1,u;return{configure(h={}){let{gl:f,size:m,scene:v,events:y,onCreated:S,shadows:b=!1,linear:_=!1,flat:E=!1,legacy:C=!1,orthographic:j=!1,frameloop:R="always",dpr:k=[1,2],performance:D,raycaster:O,camera:I,onPointerMissed:U}=h,K=s.getState(),$=K.gl;K.gl||K.set({gl:$=IJ(f,t)});let re=K.raycaster;re||K.set({raycaster:re=new r4});const{params:Y,...se}=O||{};if(or.equ(se,re,qp)||Jp(re,{...se}),or.equ(Y,re.params,qp)||Jp(re,{params:{...re.params,...Y}}),!K.camera||K.camera===u&&!or.equ(u,I,qp)){u=I;const Q=I instanceof C0,V=Q?I:j?new Um(0,0,0,0,.1,1e3):new Si(75,0,.1,1e3);Q||(V.position.z=5,I&&(Jp(V,I),("aspect"in I||"left"in I||"right"in I||"bottom"in I||"top"in I)&&(V.manual=!0,V.updateProjectionMatrix())),!K.camera&&!(I!=null&&I.rotation)&&V.lookAt(0,0,0)),K.set({camera:V}),re.camera=V}if(!K.scene){let Q;v!=null&&v.isScene?Q=v:(Q=new fM,v&&Jp(Q,v)),K.set({scene:em(Q)})}if(!K.xr){var oe;const Q=(ce,ne)=>{const be=s.getState();be.frameloop!=="never"&&G3(ce,!0,be,ne)},V=()=>{const ce=s.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?Q:null),ce.gl.xr.isPresenting||H3(ce)},ee={connect(){const ce=s.getState().gl;ce.xr.addEventListener("sessionstart",V),ce.xr.addEventListener("sessionend",V)},disconnect(){const ce=s.getState().gl;ce.xr.removeEventListener("sessionstart",V),ce.xr.removeEventListener("sessionend",V)}};typeof((oe=$.xr)==null?void 0:oe.addEventListener)=="function"&&ee.connect(),K.set({xr:ee})}if($.shadowMap){const Q=$.shadowMap.enabled,V=$.shadowMap.type;if($.shadowMap.enabled=!!b,or.boo(b))$.shadowMap.type=Tx;else if(or.str(b)){var le;const ee={basic:ZB,percentage:V1,soft:Tx,variance:Lo};$.shadowMap.type=(le=ee[b])!=null?le:Tx}else or.obj(b)&&Object.assign($.shadowMap,b);(Q!==$.shadowMap.enabled||V!==$.shadowMap.type)&&($.shadowMap.needsUpdate=!0)}const H=o4();H&&("enabled"in H?H.enabled=!C:"legacyMode"in H&&(H.legacyMode=C)),c||Jp($,{outputEncoding:_?3e3:3001,toneMapping:E?Sl:VC}),K.legacy!==C&&K.set(()=>({legacy:C})),K.linear!==_&&K.set(()=>({linear:_})),K.flat!==E&&K.set(()=>({flat:E})),f&&!or.fun(f)&&!m4(f)&&!or.equ(f,$,qp)&&Jp($,f),y&&!K.events.handlers&&K.set({events:y(s)});const q=LJ(t,m);return or.equ(q,K.size,qp)||K.setSize(q.width,q.height,q.updateStyle,q.top,q.left),k&&K.viewport.dpr!==h4(k)&&K.setDpr(k),K.frameloop!==R&&K.setFrameloop(R),K.onPointerMissed||K.set({onPointerMissed:U}),D&&!or.equ(D,K.performance,qp)&&K.set(Q=>({performance:{...Q.performance,...D}})),l=S,c=!0,this},render(h){return c||this.configure(),zb.updateContainer(a.jsx(UJ,{store:s,children:h,onCreated:l,rootElement:t}),o,null,()=>{}),s},unmount(){y4(t)}}}function UJ({store:t,children:e,onCreated:n,rootElement:r}){return D0(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),a.jsx(g4.Provider,{value:t,children:e})}function y4(t,e){const n=Nm.get(t),r=n?.fiber;if(r){const i=n?.store.getState();i&&(i.internal.active=!1),zb.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,l,c;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(l=i.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(c=i.gl)!=null&&c.xr&&i.xr.disconnect(),CJ(i),Nm.delete(t)}catch{}},500)})}}zb.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:N.version});const QS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function zJ(t){const{handlePointer:e}=jJ(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(QS).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,l])=>{const[c,u]=QS[o];n.addEventListener(c,l,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[l]=QS[s];r.connected.removeEventListener(l,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function W3(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function HJ({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=N.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=N.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),c=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,h=N.useRef(!1);N.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[f,m,v]=N.useMemo(()=>{const _=()=>{if(!l.current.element)return;const{left:E,top:C,width:j,height:R,bottom:k,right:D,x:O,y:I}=l.current.element.getBoundingClientRect(),U={left:E,top:C,width:j,height:R,bottom:k,right:D,x:O,y:I};l.current.element instanceof HTMLElement&&r&&(U.height=l.current.element.offsetHeight,U.width=l.current.element.offsetWidth),Object.freeze(U),h.current&&!KJ(l.current.lastBounds,U)&&o(l.current.lastBounds=U)};return[_,u?W3(_,u):_,c?W3(_,c):_]},[o,r,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function S(){l.current.element&&(l.current.resizeObserver=new i(v),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const b=_=>{!_||_===l.current.element||(y(),l.current.element=_,l.current.scrollContainers=b4(_),S())};return WJ(v,!!e),GJ(m),N.useEffect(()=>{y(),S()},[e,v,m]),N.useEffect(()=>y,[]),[b,s,f]}function GJ(t){N.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function WJ(t,e){N.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function b4(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...b4(t.parentElement)]}const VJ=["x","y","top","bottom","left","right","width","height"],KJ=(t,e)=>VJ.every(n=>t[n]===e[n]);var XJ=Object.defineProperty,YJ=Object.defineProperties,JJ=Object.getOwnPropertyDescriptors,V3=Object.getOwnPropertySymbols,qJ=Object.prototype.hasOwnProperty,$J=Object.prototype.propertyIsEnumerable,K3=(t,e,n)=>e in t?XJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X3=(t,e)=>{for(var n in e||(e={}))qJ.call(e,n)&&K3(t,n,e[n]);if(V3)for(var n of V3(e))$J.call(e,n)&&K3(t,n,e[n]);return t},QJ=(t,e)=>YJ(t,JJ(e)),Y3,J3;typeof window<"u"&&((Y3=window.document)!=null&&Y3.createElement||((J3=window.navigator)==null?void 0:J3.product)==="ReactNative")?N.useLayoutEffect:N.useEffect;function w4(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=w4(r,e,n);if(i)return i;r=r.sibling}}function S4(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const q3=console.error;console.error=function(){const t=[...arguments].join("");if(t?.startsWith("Warning:")&&t.includes("useContext")){console.error=q3;return}return q3.apply(this,arguments)};const OM=S4(N.createContext(null));class _4 extends N.Component{render(){return N.createElement(OM.Provider,{value:this._reactInternals},this.props.children)}}function ZJ(){const t=N.useContext(OM);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=N.useId();return N.useMemo(()=>{for(const r of[t,t?.alternate]){if(!r)continue;const i=w4(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function eq(){const t=ZJ(),[e]=N.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==OM&&!e.has(i)&&e.set(i,N.useContext(S4(i)))}n=n.return}return e}function tq(){const t=eq();return N.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>N.createElement(e,null,N.createElement(n.Provider,QJ(X3({},r),{value:t.get(n)}))),e=>N.createElement(_4,X3({},e))),[t])}const nq=N.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=zJ,eventSource:l,eventPrefix:c,shadows:u,linear:h,flat:f,legacy:m,orthographic:v,frameloop:y,dpr:S,performance:b,raycaster:_,camera:E,scene:C,onPointerMissed:j,onCreated:R,...k},D){N.useMemo(()=>bJ(nJ),[]);const O=tq(),[I,U]=HJ({scroll:!0,debounce:{scroll:50,resize:0},...r}),K=N.useRef(null),$=N.useRef(null);N.useImperativeHandle(D,()=>K.current);const re=c4(j),[Y,se]=N.useState(!1),[oe,le]=N.useState(!1);if(Y)throw Y;if(oe)throw oe;const H=N.useRef(null);D0(()=>{const Q=K.current;U.width>0&&U.height>0&&Q&&(H.current||(H.current=OJ(Q)),H.current.configure({gl:s,events:o,shadows:u,linear:h,flat:f,legacy:m,orthographic:v,frameloop:y,dpr:S,performance:b,raycaster:_,camera:E,scene:C,size:U,onPointerMissed:(...V)=>re.current==null?void 0:re.current(...V),onCreated:V=>{V.events.connect==null||V.events.connect(l?SJ(l)?l.current:l:$.current),c&&V.setEvents({compute:(ee,ce)=>{const ne=ee[c+"X"],be=ee[c+"Y"];ce.pointer.set(ne/ce.size.width*2-1,-(be/ce.size.height)*2+1),ce.raycaster.setFromCamera(ce.pointer,ce.camera)}}),R?.(V)}}),H.current.render(a.jsx(O,{children:a.jsx(u4,{set:le,children:a.jsx(N.Suspense,{fallback:a.jsx(_J,{set:se}),children:e??null})})})))}),N.useEffect(()=>{const Q=K.current;if(Q)return()=>y4(Q)},[]);const q=l?"none":"auto";return a.jsx("div",{ref:$,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:q,...i},...k,children:a.jsx("div",{ref:I,style:{width:"100%",height:"100%"},children:a.jsx("canvas",{ref:K,style:{display:"block"},children:n})})})}),rq=N.forwardRef(function(e,n){return a.jsx(_4,{children:a.jsx(nq,{...e,ref:n})})}),iq=parseInt(S0.replace(/\D+/g,""));function $3(t,e){if(e===HD)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===Ib||e===eM){let n=t.getIndex();if(n===null){const o=[],l=t.getAttribute("position");if(l!==void 0){for(let c=0;c<l.count;c++)o.push(c);t.setIndex(o),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(n)if(e===Ib)for(let o=1;o<=r;o++)i.push(n.getX(0)),i.push(n.getX(o)),i.push(n.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(n.getX(o)),i.push(n.getX(o+1)),i.push(n.getX(o+2))):(i.push(n.getX(o+2)),i.push(n.getX(o+1)),i.push(n.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}function Hb(t){if(typeof TextDecoder<"u")return new TextDecoder().decode(t);let e="";for(let n=0,r=t.length;n<r;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch{return e}}const Hh="srgb",Lc="srgb-linear",Q3=3001,sq=3e3;class UM extends Ss{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new uq(n)}),this.register(function(n){return new dq(n)}),this.register(function(n){return new bq(n)}),this.register(function(n){return new wq(n)}),this.register(function(n){return new Sq(n)}),this.register(function(n){return new fq(n)}),this.register(function(n){return new pq(n)}),this.register(function(n){return new mq(n)}),this.register(function(n){return new gq(n)}),this.register(function(n){return new cq(n)}),this.register(function(n){return new xq(n)}),this.register(function(n){return new hq(n)}),this.register(function(n){return new yq(n)}),this.register(function(n){return new vq(n)}),this.register(function(n){return new oq(n)}),this.register(function(n){return new _q(n)}),this.register(function(n){return new Aq(n)})}load(e,n,r,i){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const u=hd.extractUrlBase(e);o=hd.resolveURL(u,this.path)}else o=hd.extractUrlBase(e);this.manager.itemStart(e);const l=function(u){i?i(u):console.error(u),s.manager.itemError(e),s.manager.itemEnd(e)},c=new Fa(this.manager);c.setPath(this.path),c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(u){try{s.parse(u,o,function(h){n(h),s.manager.itemEnd(e)},l)}catch(h){l(h)}},r,l)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const o={},l={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(Hb(new Uint8Array(e.slice(0,4)))===A4){try{o[fn.KHR_BINARY_GLTF]=new Eq(e)}catch(h){i&&i(h);return}s=JSON.parse(o[fn.KHR_BINARY_GLTF].content)}else s=JSON.parse(Hb(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new Lq(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const h=this.pluginCallbacks[u](c);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),l[h.name]=h,o[h.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const h=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(h){case fn.KHR_MATERIALS_UNLIT:o[h]=new lq;break;case fn.KHR_DRACO_MESH_COMPRESSION:o[h]=new Cq(s,this.dracoLoader);break;case fn.KHR_TEXTURE_TRANSFORM:o[h]=new Mq;break;case fn.KHR_MESH_QUANTIZATION:o[h]=new Nq;break;default:f.indexOf(h)>=0&&l[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}c.setExtensions(o),c.setPlugins(l),c.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function aq(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const fn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class oq{constructor(e){this.parser=e,this.name=fn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,c=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let u;const h=new lt(16777215);c.color!==void 0&&h.setRGB(c.color[0],c.color[1],c.color[2],Lc);const f=c.range!==void 0?c.range:0;switch(c.type){case"directional":u=new PM(h),u.target.position.set(0,0,-1),u.add(u.target);break;case"point":u=new kM(h),u.distance=f;break;case"spot":u=new jM(h),u.distance=f,c.spot=c.spot||{},c.spot.innerConeAngle=c.spot.innerConeAngle!==void 0?c.spot.innerConeAngle:0,c.spot.outerConeAngle=c.spot.outerConeAngle!==void 0?c.spot.outerConeAngle:Math.PI/4,u.angle=c.spot.outerConeAngle,u.penumbra=1-c.spot.innerConeAngle/c.spot.outerConeAngle,u.target.position.set(0,0,-1),u.add(u.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+c.type)}return u.position.set(0,0,0),u.decay=2,Ec(u,c),c.intensity!==void 0&&(u.intensity=c.intensity),u.name=n.createUniqueName(c.name||"light_"+e),i=Promise.resolve(u),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],l=(s.extensions&&s.extensions[this.name]||{}).light;return l===void 0?null:this._loadLight(l).then(function(c){return r._getNodeRef(n.cache,l,c)})}}class lq{constructor(){this.name=fn.KHR_MATERIALS_UNLIT}getMaterialType(){return ja}extendParams(e,n,r){const i=[];e.color=new lt(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],Lc),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,Hh))}return Promise.all(i)}}class cq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class uq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(n.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const l=o.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new We(l,l)}return Promise.all(s)}}class dq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class hq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(n.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(n.iridescenceIOR=o.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class fq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new lt(0,0,0),n.sheenRoughness=0,n.sheen=1;const o=i.extensions[this.name];if(o.sheenColorFactor!==void 0){const l=o.sheenColorFactor;n.sheenColor.setRGB(l[0],l[1],l[2],Lc)}return o.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",o.sheenColorTexture,Hh)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class pq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(n.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class mq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",o.thicknessTexture)),n.attenuationDistance=o.attenuationDistance||1/0;const l=o.attenuationColor||[1,1,1];return n.attenuationColor=new lt().setRGB(l[0],l[1],l[2],Lc),Promise.all(s)}}class gq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class xq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];n.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",o.specularTexture));const l=o.specularColorFactor||[1,1,1];return n.specularColor=new lt().setRGB(l[0],l[1],l[2],Lc),o.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",o.specularColorTexture,Hh)),Promise.all(s)}}class vq{constructor(e){this.parser=e,this.name=fn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return n.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",o.bumpTexture)),Promise.all(s)}}class yq{constructor(e){this.parser=e,this.name=fn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:ao}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(n.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(n.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class bq{constructor(e){this.parser=e,this.name=fn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=n.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,o)}}class wq{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],l=i.images[o.source];let c=r.textureLoader;if(l.uri){const u=r.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class Sq{constructor(e){this.parser=e,this.name=fn.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const o=s.extensions[n],l=i.images[o.source];let c=r.textureLoader;if(l.uri){const u=r.options.manager.getHandler(l.uri);u!==null&&(c=u)}return this.detectSupport().then(function(u){if(u)return r.loadTextureImage(e,o.source,c);if(i.extensionsRequired&&i.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class _q{constructor(e){this.name=fn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(l){const c=i.byteOffset||0,u=i.byteLength||0,h=i.count,f=i.byteStride,m=new Uint8Array(l,c,u);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(h,f,m,i.mode,i.filter).then(function(v){return v.buffer}):o.ready.then(function(){const v=new ArrayBuffer(h*f);return o.decodeGltfBuffer(new Uint8Array(v),h,f,m,i.mode,i.filter),v})})}else return null}}class Aq{constructor(e){this.name=fn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const u of i.primitives)if(u.mode!==Za.TRIANGLES&&u.mode!==Za.TRIANGLE_STRIP&&u.mode!==Za.TRIANGLE_FAN&&u.mode!==void 0)return null;const o=r.extensions[this.name].attributes,l=[],c={};for(const u in o)l.push(this.parser.getDependency("accessor",o[u]).then(h=>(c[u]=h,c[u])));return l.length<1?null:(l.push(this.parser.createNodeMesh(e)),Promise.all(l).then(u=>{const h=u.pop(),f=h.isGroup?h.children:[h],m=u[0].count,v=[];for(const y of f){const S=new Ot,b=new te,_=new xs,E=new te(1,1,1),C=new gM(y.geometry,y.material,m);for(let j=0;j<m;j++)c.TRANSLATION&&b.fromBufferAttribute(c.TRANSLATION,j),c.ROTATION&&_.fromBufferAttribute(c.ROTATION,j),c.SCALE&&E.fromBufferAttribute(c.SCALE,j),C.setMatrixAt(j,S.compose(b,_,E));for(const j in c)if(j==="_COLOR_0"){const R=c[j];C.instanceColor=new lf(R.array,R.itemSize,R.normalized)}else j!=="TRANSLATION"&&j!=="ROTATION"&&j!=="SCALE"&&y.geometry.setAttribute(j,c[j]);_n.prototype.copy.call(C,y),this.parser.assignFinalMaterial(C),v.push(C)}return h.isGroup?(h.clear(),h.add(...v),h):v[0]}))}}const A4="glTF",gx=12,Z3={JSON:1313821514,BIN:5130562};class Eq{constructor(e){this.name=fn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,gx);if(this.header={magic:Hb(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==A4)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-gx,i=new DataView(e,gx);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const l=i.getUint32(s,!0);if(s+=4,l===Z3.JSON){const c=new Uint8Array(e,gx+s,o);this.content=Hb(c)}else if(l===Z3.BIN){const c=gx+s;this.body=e.slice(c,c+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Cq{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=fn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,l={},c={},u={};for(const h in o){const f=RE[h]||h.toLowerCase();l[f]=o[h]}for(const h in e.attributes){const f=RE[h]||h.toLowerCase();if(o[h]!==void 0){const m=r.accessors[e.attributes[h]],v=pm[m.componentType];u[f]=v.name,c[f]=m.normalized===!0}}return n.getDependency("bufferView",s).then(function(h){return new Promise(function(f,m){i.decodeDracoFile(h,function(v){for(const y in v.attributes){const S=v.attributes[y],b=c[y];b!==void 0&&(S.normalized=b)}f(v)},l,u,Lc,m)})})}}class Mq{constructor(){this.name=fn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class Nq{constructor(){this.name=fn.KHR_MESH_QUANTIZATION}}class E4 extends Gm{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)n[o]=r[s+o];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=l*2,u=l*3,h=i-n,f=(r-n)/h,m=f*f,v=m*f,y=e*u,S=y-u,b=-2*v+3*m,_=v-m,E=1-b,C=_-m+f;for(let j=0;j!==l;j++){const R=o[S+j+l],k=o[S+j+c]*h,D=o[y+j+l],O=o[y+j]*h;s[j]=E*R+C*k+b*D+_*O}return s}}const Tq=new xs;class jq extends E4{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return Tq.fromArray(s).normalize().toArray(s),s}}const Za={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},pm={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},eP={9728:Ur,9729:kr,9984:Hx,9985:X1,9986:hm,9987:Tl},tP={33071:es,33648:wm,10497:vd},ZS={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},RE={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...iq>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Zu={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},kq={CUBICSPLINE:void 0,LINEAR:of,STEP:_m},e_={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Pq(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new B0({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Nl})),t.DefaultMaterial}function Nh(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function Ec(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Rq(t,e,n){let r=!1,i=!1,s=!1;for(let u=0,h=e.length;u<h;u++){const f=e[u];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const o=[],l=[],c=[];for(let u=0,h=e.length;u<h;u++){const f=e[u];if(r){const m=f.POSITION!==void 0?n.getDependency("accessor",f.POSITION):t.attributes.position;o.push(m)}if(i){const m=f.NORMAL!==void 0?n.getDependency("accessor",f.NORMAL):t.attributes.normal;l.push(m)}if(s){const m=f.COLOR_0!==void 0?n.getDependency("accessor",f.COLOR_0):t.attributes.color;c.push(m)}}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(c)]).then(function(u){const h=u[0],f=u[1],m=u[2];return r&&(t.morphAttributes.position=h),i&&(t.morphAttributes.normal=f),s&&(t.morphAttributes.color=m),t.morphTargetsRelative=!0,t})}function Fq(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Bq(t){let e;const n=t.extensions&&t.extensions[fn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+t_(n.attributes):e=t.indices+":"+t_(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+t_(t.targets[r]);return e}function t_(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function FE(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Dq(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Iq=new Ot;class Lq{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new aq,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new VI(this.options.manager):this.textureLoader=new ZI(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Fa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const l={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};return Nh(s,l,i),Ec(l,i),Promise.all(r._invokeAll(function(c){return c.afterRoot&&c.afterRoot(l)})).then(function(){for(const c of l.scenes)c.updateMatrixWorld();e(l)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const o=n[i].joints;for(let l=0,c=o.length;l<c;l++)e[o[l]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(o,l)=>{const c=this.associations.get(o);c!=null&&this.associations.set(l,c);for(const[u,h]of o.children.entries())s(h,l.children[u])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[fn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(hd.resolveURL(n.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=ZS[i.type],l=pm[i.componentType],c=i.normalized===!0,u=new l(i.count*o);return Promise.resolve(new An(u,o,c))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const l=o[0],c=ZS[i.type],u=pm[i.componentType],h=u.BYTES_PER_ELEMENT,f=h*c,m=i.byteOffset||0,v=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,y=i.normalized===!0;let S,b;if(v&&v!==f){const _=Math.floor(m/v),E="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+_+":"+i.count;let C=n.cache.get(E);C||(S=new u(l,_*v,i.count*v/h),C=new j0(S,v/h),n.cache.add(E,C)),b=new yd(C,c,m%v/h,y)}else l===null?S=new u(i.count*c):S=new u(l,m,i.count*c),b=new An(S,c,y);if(i.sparse!==void 0){const _=ZS.SCALAR,E=pm[i.sparse.indices.componentType],C=i.sparse.indices.byteOffset||0,j=i.sparse.values.byteOffset||0,R=new E(o[1],C,i.sparse.count*_),k=new u(o[2],j,i.sparse.count*c);l!==null&&(b=new An(b.array.slice(),b.itemSize,b.normalized));for(let D=0,O=R.length;D<O;D++){const I=R[D];if(b.setX(I,k[D*c]),c>=2&&b.setY(I,k[D*c+1]),c>=3&&b.setZ(I,k[D*c+2]),c>=4&&b.setW(I,k[D*c+3]),c>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return b})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,o=n.images[s];let l=this.textureLoader;if(o.uri){const c=r.manager.getHandler(o.uri);c!==null&&(l=c)}return this.loadTextureImage(e,s,l)}loadTextureImage(e,n,r){const i=this,s=this.json,o=s.textures[e],l=s.images[n],c=(l.uri||l.bufferView)+":"+o.sampler;if(this.textureCache[c])return this.textureCache[c];const u=this.loadImageSource(n,r).then(function(h){h.flipY=!1,h.name=o.name||l.name||"",h.name===""&&typeof l.uri=="string"&&l.uri.startsWith("data:image/")===!1&&(h.name=l.uri);const m=(s.samplers||{})[o.sampler]||{};return h.magFilter=eP[m.magFilter]||kr,h.minFilter=eP[m.minFilter]||Tl,h.wrapS=tP[m.wrapS]||vd,h.wrapT=tP[m.wrapT]||vd,i.associations.set(h,{textures:e}),h}).catch(function(){return null});return this.textureCache[c]=u,u}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],l=self.URL||self.webkitURL;let c=o.uri||"",u=!1;if(o.bufferView!==void 0)c=r.getDependency("bufferView",o.bufferView).then(function(f){u=!0;const m=new Blob([f],{type:o.mimeType});return c=l.createObjectURL(m),c});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const h=Promise.resolve(c).then(function(f){return new Promise(function(m,v){let y=m;n.isImageBitmapLoader===!0&&(y=function(S){const b=new Rr(S);b.needsUpdate=!0,m(b)}),n.load(hd.resolveURL(f,s.path),y,void 0,v)})}).then(function(f){return u===!0&&l.revokeObjectURL(c),Ec(f,o),f.userData.mimeType=o.mimeType||Dq(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",c),f});return this.sourceCache[e]=h,h}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[fn.KHR_TEXTURE_TRANSFORM]){const l=r.extensions!==void 0?r.extensions[fn.KHR_TEXTURE_TRANSFORM]:void 0;if(l){const c=s.associations.get(o);o=s.extensions[fn.KHR_TEXTURE_TRANSFORM].extendTexture(o,l),s.associations.set(o,c)}}return i!==void 0&&(typeof i=="number"&&(i=i===Q3?Hh:Lc),"colorSpace"in o?o.colorSpace=i:o.encoding=i===Hh?Q3:sq),e[n]=o,o})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,o=n.attributes.normal===void 0;if(e.isPoints){const l="PointsMaterial:"+r.uuid;let c=this.cache.get(l);c||(c=new n2,Ai.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,c.sizeAttenuation=!1,this.cache.add(l,c)),r=c}else if(e.isLine){const l="LineBasicMaterial:"+r.uuid;let c=this.cache.get(l);c||(c=new ws,Ai.prototype.copy.call(c,r),c.color.copy(r.color),c.map=r.map,this.cache.add(l,c)),r=c}if(i||s||o){let l="ClonedMaterial:"+r.uuid+":";i&&(l+="derivative-tangents:"),s&&(l+="vertex-colors:"),o&&(l+="flat-shading:");let c=this.cache.get(l);c||(c=r.clone(),s&&(c.vertexColors=!0),o&&(c.flatShading=!0),i&&(c.normalScale&&(c.normalScale.y*=-1),c.clearcoatNormalScale&&(c.clearcoatNormalScale.y*=-1)),this.cache.add(l,c),this.associations.set(c,this.associations.get(r))),r=c}e.material=r}getMaterialType(){return B0}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const l={},c=s.extensions||{},u=[];if(c[fn.KHR_MATERIALS_UNLIT]){const f=i[fn.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),u.push(f.extendParams(l,s,n))}else{const f=s.pbrMetallicRoughness||{};if(l.color=new lt(1,1,1),l.opacity=1,Array.isArray(f.baseColorFactor)){const m=f.baseColorFactor;l.color.setRGB(m[0],m[1],m[2],Lc),l.opacity=m[3]}f.baseColorTexture!==void 0&&u.push(n.assignTexture(l,"map",f.baseColorTexture,Hh)),l.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,l.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(u.push(n.assignTexture(l,"metalnessMap",f.metallicRoughnessTexture)),u.push(n.assignTexture(l,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(m){return m.getMaterialType&&m.getMaterialType(e)}),u.push(Promise.all(this._invokeAll(function(m){return m.extendMaterialParams&&m.extendMaterialParams(e,l)})))}s.doubleSided===!0&&(l.side=zo);const h=s.alphaMode||e_.OPAQUE;if(h===e_.BLEND?(l.transparent=!0,l.depthWrite=!1):(l.transparent=!1,h===e_.MASK&&(l.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==ja&&(u.push(n.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new We(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;l.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==ja&&(u.push(n.assignTexture(l,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(l.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==ja){const f=s.emissiveFactor;l.emissive=new lt().setRGB(f[0],f[1],f[2],Lc)}return s.emissiveTexture!==void 0&&o!==ja&&u.push(n.assignTexture(l,"emissiveMap",s.emissiveTexture,Hh)),Promise.all(u).then(function(){const f=new o(l);return s.name&&(f.name=s.name),Ec(f,s),n.associations.set(f,{materials:e}),s.extensions&&Nh(i,f,s),f})}createUniqueName(e){const n=Sn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(l){return r[fn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(l,n).then(function(c){return nP(c,l,n)})}const o=[];for(let l=0,c=e.length;l<c;l++){const u=e[l],h=Bq(u),f=i[h];if(f)o.push(f.promise);else{let m;u.extensions&&u.extensions[fn.KHR_DRACO_MESH_COMPRESSION]?m=s(u):m=nP(new tn,u,n),i[h]={primitive:u,promise:m},o.push(m)}}return Promise.all(o)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,l=[];for(let c=0,u=o.length;c<u;c++){const h=o[c].material===void 0?Pq(this.cache):this.getDependency("material",o[c].material);l.push(h)}return l.push(n.loadGeometries(o)),Promise.all(l).then(function(c){const u=c.slice(0,c.length-1),h=c[c.length-1],f=[];for(let v=0,y=h.length;v<y;v++){const S=h[v],b=o[v];let _;const E=u[v];if(b.mode===Za.TRIANGLES||b.mode===Za.TRIANGLE_STRIP||b.mode===Za.TRIANGLE_FAN||b.mode===void 0)_=s.isSkinnedMesh===!0?new mM(S,E):new li(S,E),_.isSkinnedMesh===!0&&_.normalizeSkinWeights(),b.mode===Za.TRIANGLE_STRIP?_.geometry=$3(_.geometry,eM):b.mode===Za.TRIANGLE_FAN&&(_.geometry=$3(_.geometry,Ib));else if(b.mode===Za.LINES)_=new Zo(S,E);else if(b.mode===Za.LINE_STRIP)_=new Xc(S,E);else if(b.mode===Za.LINE_LOOP)_=new xM(S,E);else if(b.mode===Za.POINTS)_=new vM(S,E);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+b.mode);Object.keys(_.geometry.morphAttributes).length>0&&Fq(_,s),_.name=n.createUniqueName(s.name||"mesh_"+e),Ec(_,s),b.extensions&&Nh(i,_,b),n.assignFinalMaterial(_),f.push(_)}for(let v=0,y=f.length;v<y;v++)n.associations.set(f[v],{meshes:e,primitives:v});if(f.length===1)return s.extensions&&Nh(i,f[0],s),f[0];const m=new Pc;s.extensions&&Nh(i,m,s),n.associations.set(m,{meshes:e});for(let v=0,y=f.length;v<y;v++)m.add(f[v]);return m})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Si(ZD.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new Um(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),Ec(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,l=[],c=[];for(let u=0,h=o.length;u<h;u++){const f=o[u];if(f){l.push(f);const m=new Ot;s!==null&&m.fromArray(s.array,u*16),c.push(m)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[u])}return new k0(l,c)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,o=[],l=[],c=[],u=[],h=[];for(let f=0,m=i.channels.length;f<m;f++){const v=i.channels[f],y=i.samplers[v.sampler],S=v.target,b=S.node,_=i.parameters!==void 0?i.parameters[y.input]:y.input,E=i.parameters!==void 0?i.parameters[y.output]:y.output;S.node!==void 0&&(o.push(this.getDependency("node",b)),l.push(this.getDependency("accessor",_)),c.push(this.getDependency("accessor",E)),u.push(y),h.push(S))}return Promise.all([Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(u),Promise.all(h)]).then(function(f){const m=f[0],v=f[1],y=f[2],S=f[3],b=f[4],_=[];for(let E=0,C=m.length;E<C;E++){const j=m[E],R=v[E],k=y[E],D=S[E],O=b[E];if(j===void 0)continue;j.updateMatrix&&j.updateMatrix();const I=r._createAnimationTracks(j,R,k,D,O);if(I)for(let U=0;U<I.length;U++)_.push(I[U])}return new Mm(s,void 0,_)})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(l){if(l.isMesh)for(let c=0,u=i.weights.length;c<u;c++)l.morphTargetInfluences[c]=i.weights[c]}),o})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),o=[],l=i.children||[];for(let u=0,h=l.length;u<h;u++)o.push(r.getDependency("node",l[u]));const c=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),c]).then(function(u){const h=u[0],f=u[1],m=u[2];m!==null&&h.traverse(function(v){v.isSkinnedMesh&&v.bind(m,Iq)});for(let v=0,y=f.length;v<y;v++)h.add(f[v]);return h})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],o=s.name?i.createUniqueName(s.name):"",l=[],c=i._invokeOne(function(u){return u.createNodeMesh&&u.createNodeMesh(e)});return c&&l.push(c),s.camera!==void 0&&l.push(i.getDependency("camera",s.camera).then(function(u){return i._getNodeRef(i.cameraCache,s.camera,u)})),i._invokeAll(function(u){return u.createNodeAttachment&&u.createNodeAttachment(e)}).forEach(function(u){l.push(u)}),this.nodeCache[e]=Promise.all(l).then(function(u){let h;if(s.isBone===!0?h=new t2:u.length>1?h=new Pc:u.length===1?h=u[0]:h=new _n,h!==u[0])for(let f=0,m=u.length;f<m;f++)h.add(u[f]);if(s.name&&(h.userData.name=s.name,h.name=o),Ec(h,s),s.extensions&&Nh(r,h,s),s.matrix!==void 0){const f=new Ot;f.fromArray(s.matrix),h.applyMatrix4(f)}else s.translation!==void 0&&h.position.fromArray(s.translation),s.rotation!==void 0&&h.quaternion.fromArray(s.rotation),s.scale!==void 0&&h.scale.fromArray(s.scale);return i.associations.has(h)||i.associations.set(h,{}),i.associations.get(h).nodes=e,h}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Pc;r.name&&(s.name=i.createUniqueName(r.name)),Ec(s,r),r.extensions&&Nh(n,s,r);const o=r.nodes||[],l=[];for(let c=0,u=o.length;c<u;c++)l.push(i.getDependency("node",o[c]));return Promise.all(l).then(function(c){for(let h=0,f=c.length;h<f;h++)s.add(c[h]);const u=h=>{const f=new Map;for(const[m,v]of i.associations)(m instanceof Ai||m instanceof Rr)&&f.set(m,v);return h.traverse(m=>{const v=i.associations.get(m);v!=null&&f.set(m,v)}),f};return i.associations=u(s),s})}_createAnimationTracks(e,n,r,i,s){const o=[],l=e.name?e.name:e.uuid,c=[];Zu[s.path]===Zu.weights?e.traverse(function(m){m.morphTargetInfluences&&c.push(m.name?m.name:m.uuid)}):c.push(l);let u;switch(Zu[s.path]){case Zu.weights:u=uf;break;case Zu.rotation:u=bd;break;case Zu.position:case Zu.scale:u=df;break;default:switch(r.itemSize){case 1:u=uf;break;case 2:case 3:default:u=df;break}break}const h=i.interpolation!==void 0?kq[i.interpolation]:of,f=this._getArrayFromAccessor(r);for(let m=0,v=c.length;m<v;m++){const y=new u(c[m]+"."+Zu[s.path],n.array,f,h);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(y),o.push(y)}return o}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=FE(n.constructor),i=new Float32Array(n.length);for(let s=0,o=n.length;s<o;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof bd?jq:E4;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Oq(t,e,n){const r=e.attributes,i=new vs;if(r.POSITION!==void 0){const l=n.json.accessors[r.POSITION],c=l.min,u=l.max;if(c!==void 0&&u!==void 0){if(i.set(new te(c[0],c[1],c[2]),new te(u[0],u[1],u[2])),l.normalized){const h=FE(pm[l.componentType]);i.min.multiplyScalar(h),i.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const l=new te,c=new te;for(let u=0,h=s.length;u<h;u++){const f=s[u];if(f.POSITION!==void 0){const m=n.json.accessors[f.POSITION],v=m.min,y=m.max;if(v!==void 0&&y!==void 0){if(c.setX(Math.max(Math.abs(v[0]),Math.abs(y[0]))),c.setY(Math.max(Math.abs(v[1]),Math.abs(y[1]))),c.setZ(Math.max(Math.abs(v[2]),Math.abs(y[2]))),m.normalized){const S=FE(pm[m.componentType]);c.multiplyScalar(S)}l.max(c)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(l)}t.boundingBox=i;const o=new ts;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=o}function nP(t,e,n){const r=e.attributes,i=[];function s(o,l){return n.getDependency("accessor",o).then(function(c){t.setAttribute(l,c)})}for(const o in r){const l=RE[o]||o.toLowerCase();l in t.attributes||i.push(s(r[o],l))}if(e.indices!==void 0&&!t.index){const o=n.getDependency("accessor",e.indices).then(function(l){t.setIndex(l)});i.push(o)}return Ec(t,e),Oq(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?Rq(t,e.targets,n):t})}const n_=new WeakMap;class Uq extends Ss{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,n,r,i){const s=new Fa(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const l={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,l).then(n).catch(i)},r,i)}decodeDracoFile(e,n,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(n)}decodeGeometry(e,n){for(const c in n.attributeTypes){const u=n.attributeTypes[c];u.BYTES_PER_ELEMENT!==void 0&&(n.attributeTypes[c]=u.name)}const r=JSON.stringify(n);if(n_.has(e)){const c=n_.get(e);if(c.key===r)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,l=this._getWorker(s,o).then(c=>(i=c,new Promise((u,h)=>{i._callbacks[s]={resolve:u,reject:h},i.postMessage({type:"decode",id:s,taskConfig:n,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),n_.set(e,{key:r,promise:l}),l}_createGeometry(e){const n=new tn;e.index&&n.setIndex(new An(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,l=i.itemSize;n.setAttribute(s,new An(o,l))}return n}_loadLibrary(e,n){const r=new Fa(this.manager);return r.setPath(this.decoderPath),r.setResponseType(n),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",n=[];return e?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=zq.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,n){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=n,r._taskLoad+=n,r})}_releaseTask(e,n){e._taskLoad-=e._taskCosts[n],delete e._callbacks[n],delete e._taskCosts[n]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function zq(){let t,e;onmessage=function(o){const l=o.data;switch(l.type){case"init":t=l.decoderConfig,e=new Promise(function(h){t.onModuleLoaded=function(f){h({draco:f})},DracoDecoderModule(t)});break;case"decode":const c=l.buffer,u=l.taskConfig;e.then(h=>{const f=h.draco,m=new f.Decoder,v=new f.DecoderBuffer;v.Init(new Int8Array(c),c.byteLength);try{const y=n(f,m,v,u),S=y.attributes.map(b=>b.array.buffer);y.index&&S.push(y.index.array.buffer),self.postMessage({type:"decode",id:l.id,geometry:y},S)}catch(y){console.error(y),self.postMessage({type:"error",id:l.id,error:y.message})}finally{f.destroy(v),f.destroy(m)}});break}};function n(o,l,c,u){const h=u.attributeIDs,f=u.attributeTypes;let m,v;const y=l.GetEncodedGeometryType(c);if(y===o.TRIANGULAR_MESH)m=new o.Mesh,v=l.DecodeBufferToMesh(c,m);else if(y===o.POINT_CLOUD)m=new o.PointCloud,v=l.DecodeBufferToPointCloud(c,m);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!v.ok()||m.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+v.error_msg());const S={index:null,attributes:[]};for(const b in h){const _=self[f[b]];let E,C;if(u.useUniqueIDs)C=h[b],E=l.GetAttributeByUniqueId(m,C);else{if(C=l.GetAttributeId(m,o[h[b]]),C===-1)continue;E=l.GetAttribute(m,C)}S.attributes.push(i(o,l,m,b,_,E))}return y===o.TRIANGULAR_MESH&&(S.index=r(o,l,m)),o.destroy(m),S}function r(o,l,c){const h=c.num_faces()*3,f=h*4,m=o._malloc(f);l.GetTrianglesUInt32Array(c,f,m);const v=new Uint32Array(o.HEAPF32.buffer,m,h).slice();return o._free(m),{array:v,itemSize:1}}function i(o,l,c,u,h,f){const m=f.num_components(),y=c.num_points()*m,S=y*h.BYTES_PER_ELEMENT,b=s(o,h),_=o._malloc(S);l.GetAttributeDataArrayForAllPoints(c,f,b,S,_);const E=new h(o.HEAPF32.buffer,_,y).slice();return o._free(_),{name:u,array:E,itemSize:m}}function s(o,l){switch(l){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Xy;const r_=()=>{if(Xy)return Xy;const t="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",n=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=t;WebAssembly.validate(n)&&(i=e);let s;const o=WebAssembly.instantiate(l(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function l(f){const m=new Uint8Array(f.length);for(let y=0;y<f.length;++y){const S=f.charCodeAt(y);m[y]=S>96?S-71:S>64?S-65:S>47?S+4:S>46?63:62}let v=0;for(let y=0;y<f.length;++y)m[v++]=m[y]<60?r[m[y]]:(m[y]-60)*64+m[++y];return m.buffer.slice(0,v)}function c(f,m,v,y,S,b){const _=s.exports.sbrk,E=v+3&-4,C=_(E*y),j=_(S.length),R=new Uint8Array(s.exports.memory.buffer);R.set(S,j);const k=f(C,v,y,j,S.length);if(k===0&&b&&b(C,E,y),m.set(R.subarray(C,C+v*y)),_(C-_(0)),k!==0)throw new Error(`Malformed buffer data: ${k}`)}const u={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Xy={ready:o,supported:!0,decodeVertexBuffer(f,m,v,y,S){c(s.exports.meshopt_decodeVertexBuffer,f,m,v,y,s.exports[u[S]])},decodeIndexBuffer(f,m,v,y){c(s.exports.meshopt_decodeIndexBuffer,f,m,v,y)},decodeIndexSequence(f,m,v,y){c(s.exports.meshopt_decodeIndexSequence,f,m,v,y)},decodeGltfBuffer(f,m,v,y,S,b){c(s.exports[h[S]],f,m,v,y,s.exports[u[b]])}},Xy};let Yy=null,C4="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function M4(t=!0,e=!0,n){return r=>{n&&n(r),t&&(Yy||(Yy=new Uq),Yy.setDecoderPath(typeof t=="string"?t:C4),r.setDRACOLoader(Yy)),e&&r.setMeshoptDecoder(typeof r_=="function"?r_():r_)}}const y2=(t,e,n,r)=>I0(UM,t,M4(e,n,r));y2.preload=(t,e,n,r)=>I0.preload(UM,t,M4(e,n,r));y2.clear=t=>I0.clear(UM,t);y2.setDecoderPath=t=>{C4=t};var i_={exports:{}},s_={},a_={exports:{}},o_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rP;function Hq(){if(rP)return o_;rP=1;var t=bf();function e(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(f,m){var v=m(),y=r({inst:{value:v,getSnapshot:m}}),S=y[0].inst,b=y[1];return s(function(){S.value=v,S.getSnapshot=m,c(S)&&b({inst:S})},[f,v,m]),i(function(){return c(S)&&b({inst:S}),f(function(){c(S)&&b({inst:S})})},[f]),o(v),v}function c(f){var m=f.getSnapshot;f=f.value;try{var v=m();return!n(f,v)}catch{return!0}}function u(f,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return o_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,o_}var iP;function Gq(){return iP||(iP=1,a_.exports=Hq()),a_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sP;function Wq(){if(sP)return s_;sP=1;var t=bf(),e=Gq();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return s_.useSyncExternalStoreWithSelector=function(u,h,f,m,v){var y=s(null);if(y.current===null){var S={hasValue:!1,value:null};y.current=S}else S=y.current;y=l(function(){function _(k){if(!E){if(E=!0,C=k,k=m(k),v!==void 0&&S.hasValue){var D=S.value;if(v(D,k))return j=D}return j=k}if(D=j,r(C,k))return D;var O=m(k);return v!==void 0&&v(D,O)?(C=k,D):(C=k,j=O)}var E=!1,C,j,R=f===void 0?null:f;return[function(){return _(h())},R===null?void 0:function(){return _(R())}]},[h,f,m,v]);var b=i(u,y[0],y[1]);return o(function(){S.hasValue=!0,S.value=b},[b]),c(b),b},s_}var aP;function Vq(){return aP||(aP=1,i_.exports=Wq()),i_.exports}var Kq=Vq();const Xq="/ikan-koki.glb";function Yq({startX:t,startY:e,speed:n=1,direction:r=0,scale:i=.3,delay:s=0,isVertical:o=!1}){const l=N.useRef(null),{scene:c}=y2(Xq),u=N.useMemo(()=>c?c.clone():null,[c]);return u?(x4((h,f)=>{if(!l.current)return;const m=h.clock.elapsedTime+s,v=10,y=typeof window<"u"?window.innerHeight/window.innerWidth:.6,S=v*y,b=n*.8,_=Math.cos(r*Math.PI/180)*b*f*2;let E=Math.sin(r*Math.PI/180)*b*f*2,C=l.current.position.x+_,j=l.current.position.y+E;C>v/2+2?(C=-v/2-2,j=(Math.random()-.5)*S*.8):C<-v/2-2&&(C=v/2+2,j=(Math.random()-.5)*S*.8),j>S/2+2?(j=-S/2-2,C=(Math.random()-.5)*v*.8):j<-S/2-2&&(j=S/2+2,C=(Math.random()-.5)*v*.8),l.current.position.x=C,l.current.position.y=j;const R=Math.atan2(E,_);l.current.rotation.y=R+Math.PI/2,l.current.position.z=Math.sin(m*.8)*.1,l.current.rotation.z=Math.sin(m*.5)*.1}),a.jsx("primitive",{ref:l,object:u,position:[t,e,0],scale:i})):null}function oP({startX:t,startY:e,speed:n=1,direction:r=0,delay:i=0,scale:s=1,isVertical:o=!1}){const l=N.useRef(null);return x4((c,u)=>{if(!l.current)return;const h=c.clock.elapsedTime+i,f=10,m=typeof window<"u"?window.innerHeight/window.innerWidth:.6,v=f*m,y=n*.8,S=Math.cos(r*Math.PI/180)*y*u*2;let b=Math.sin(r*Math.PI/180)*y*u*2,_=l.current.position.x+S,E=l.current.position.y+b;_>f/2+2?(_=-f/2-2,E=(Math.random()-.5)*v*.8):_<-f/2-2&&(_=f/2+2,E=(Math.random()-.5)*v*.8),E>v/2+2?(E=-v/2-2,_=(Math.random()-.5)*f*.8):E<-v/2-2&&(E=v/2+2,_=(Math.random()-.5)*f*.8),l.current.position.x=_,l.current.position.y=E;const C=Math.atan2(b,S);l.current.rotation.y=C+Math.PI/2,l.current.position.z=Math.sin(h*.8)*.1,l.current.rotation.z=Math.sin(h*.5)*.1}),a.jsxs("group",{ref:l,position:[t,e,0],scale:s,children:[a.jsxs("mesh",{children:[a.jsx("sphereGeometry",{args:[.8,16,16]}),a.jsx("meshStandardMaterial",{color:"#FFD700",metalness:.2,roughness:.3,emissive:"#FFA500",emissiveIntensity:.4})]}),a.jsxs("mesh",{position:[-1,0,0],children:[a.jsx("coneGeometry",{args:[.6,1.2,8]}),a.jsx("meshStandardMaterial",{color:"#FFA500",emissive:"#FFD700",emissiveIntensity:.3})]}),a.jsxs("mesh",{position:[.2,.6,0],rotation:[-.3,0,0],children:[a.jsx("coneGeometry",{args:[.2,.6,6]}),a.jsx("meshStandardMaterial",{color:"#FFA500",transparent:!0,opacity:.9})]}),a.jsxs("mesh",{position:[.2,-.6,0],rotation:[.3,0,0],children:[a.jsx("coneGeometry",{args:[.2,.6,6]}),a.jsx("meshStandardMaterial",{color:"#FFA500",transparent:!0,opacity:.9})]}),a.jsxs("mesh",{position:[.5,.3,.7],children:[a.jsx("sphereGeometry",{args:[.15,16,16]}),a.jsx("meshStandardMaterial",{color:"#FFFFFF"})]}),a.jsxs("mesh",{position:[.55,.3,.75],children:[a.jsx("sphereGeometry",{args:[.08,16,16]}),a.jsx("meshStandardMaterial",{color:"#000000"})]})]})}function Jq(){const t=N.useMemo(()=>{const e=[],i=10*(typeof window<"u"?window.innerHeight/window.innerWidth:.6),s=(o,l)=>Math.random()*(l-o)+o;for(let o=0;o<4;o++)e.push({startX:s(-7,7),startY:s(-i*.4,i*.4),speed:s(.4,.8),direction:s(0,1)>.5?s(0,15):s(165,180),scale:s(.65,.9),delay:s(0,5),useModel:!0,isVertical:!1});for(let o=0;o<4;o++)e.push({startX:s(-7,7),startY:s(-i/2-2,i/2+2),speed:s(.5,.9),direction:s(15,45),scale:s(.65,.9),delay:s(0,6),useModel:!0,isVertical:!1});for(let o=0;o<3;o++)e.push({startX:s(-7,7),startY:s(-i/2-2,i/2+2),speed:s(.5,.9),direction:s(210,240),scale:s(.65,.9),delay:s(0,6),useModel:!0,isVertical:!1});for(let o=0;o<3;o++)e.push({startX:s(-7,7),startY:s(-i/2-2,i/2+2),speed:s(.5,.9),direction:s(135,165),scale:s(.65,.9),delay:s(0,6),useModel:!0,isVertical:!1});for(let o=0;o<2;o++)e.push({startX:s(-7,7),startY:s(-i/2-2,i/2+2),speed:s(.5,.9),direction:s(315,345),scale:s(.65,.9),delay:s(0,6),useModel:!0,isVertical:!1});for(let o=e.length-1;o>0;o--){const l=Math.floor(Math.random()*(o+1));[e[o],e[l]]=[e[l],e[o]]}return e},[]);return a.jsxs(a.Fragment,{children:[a.jsx("ambientLight",{intensity:.6}),a.jsx("directionalLight",{position:[5,5,5],intensity:.8}),a.jsx("directionalLight",{position:[-5,3,-5],intensity:.4}),a.jsx("pointLight",{position:[0,0,0],intensity:.3,color:"#4A90E2"}),t.map((e,n)=>a.jsx(N.Suspense,{fallback:a.jsx(oP,{startX:e.startX,startY:e.startY,speed:e.speed,direction:e.direction,delay:e.delay,scale:e.scale,isVertical:e.isVertical}),children:e.useModel?a.jsx(Yq,{startX:e.startX,startY:e.startY,speed:e.speed,direction:e.direction,scale:e.scale,delay:e.delay,isVertical:e.isVertical}):a.jsx(oP,{startX:e.startX,startY:e.startY,speed:e.speed,direction:e.direction,delay:e.delay,scale:e.scale,isVertical:e.isVertical})},`fish-${n}`))]})}function qq(){return typeof window>"u"?null:a.jsx("div",{className:"fixed inset-0 pointer-events-none",style:{zIndex:1,overflow:"hidden"},children:a.jsx(rq,{camera:{position:[0,0,6],fov:50},gl:{antialias:!0,alpha:!0},style:{background:"transparent"},children:a.jsx(N.Suspense,{fallback:null,children:a.jsx(Jq,{})})})})}function $q({onAuthClick:t,onNavigate:e,onSmartNavigate:n}){const[r,i]=N.useState(!1),s=u=>{t&&t(u)},o=()=>{e&&e("fishpedia")},l=()=>{e&&e("produk")},c=(u,h)=>{if(u.preventDefault(),window.location.pathname==="/"){const f=document.getElementById(h);f&&f.scrollIntoView({behavior:"smooth",block:"start"})}else e&&e(`home#${h}`)};return a.jsxs("div",{className:"min-h-screen relative overflow-hidden",style:{background:"linear-gradient(to bottom, #87CEEB 0%, #4A90E2 15%, #357ABD 30%, #2E5C8A 50%, #1E3A5F 70%, #0F2027 100%)",position:"relative"},children:[a.jsx(qq,{}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("style",{children:`
        /* Global Bubble Button Style dengan Hover Interaktif */
        .bubble-button {
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
          cursor: pointer;
          will-change: transform, background-color, box-shadow;
        }
        .bubble-button:hover {
          transform: translateY(-4px) scale(1.05) !important;
        }
        .bubble-button:active {
          transform: translateY(-2px) scale(1.02) !important;
        }
        
        /* Style untuk semua button yang belum menggunakan class bubble-button */
        button:not(.bubble-button):not([class*="navbar"]):not([class*="mobile"]) {
          border-radius: 9999px !important;
          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
        }
        button:not(.bubble-button):not([class*="navbar"]):not([class*="mobile"]):hover {
          transform: translateY(-3px) scale(1.03) !important;
          box-shadow: 0 8px 25px rgba(72, 128, 255, 0.4) !important;
        }
      `}),a.jsx(WC,{onAuthClick:t,onSmartNavigate:n}),a.jsxs("section",{id:"beranda",className:"relative py-8 sm:py-12 md:py-20 overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-[#0F5BE5] rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-[#FFD6D6] rounded-full blur-3xl"})]}),a.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 md:gap-12 items-center",children:[a.jsxs("div",{className:"md:ml-[-2.5cm]",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-5xl lg:text-6xl mb-4 sm:mb-6 font-bold",style:{color:"#FFFFFF",textShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:"Platform Edukasi, Komunitas, dan Monitoring Ikan Hias Berbasis Machine Learning"}),a.jsx("div",{className:"mb-4 sm:mb-6",style:{marginLeft:"-5cm"},children:a.jsx("svg",{className:"w-full max-w-[300px] sm:max-w-[400px]",height:"16",viewBox:"0 0 400 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid meet",children:a.jsx("path",{d:"M0 8C60 0, 140 0, 200 8C260 16, 340 16, 400 8",stroke:"#0F5BE5",strokeWidth:"4",strokeLinecap:"round",style:{opacity:.9}})})}),a.jsx("p",{className:"text-sm sm:text-base md:text-lg text-white mb-6 sm:mb-8 leading-relaxed",style:{textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:"Rawat ikan hiasmu dengan cerdas! Temanikan sebagai solusi edukatif, komunitas aktif, dan sistem monitoring akuarium pintar."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-center",children:[a.jsx("button",{onClick:()=>s("register"),className:"bubble-button px-6 sm:px-8 py-3 sm:py-4 rounded-full transition-all duration-300 flex items-center justify-center gap-2 font-bold text-sm sm:text-base",style:{backgroundColor:"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(10px)",color:"#FFFFFF",border:"2px solid rgba(255, 255, 255, 0.4)",boxShadow:"0 4px 20px rgba(72, 128, 255, 0.3)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="rgba(72, 128, 255, 0.6)",u.currentTarget.style.transform="translateY(-4px) scale(1.05)",u.currentTarget.style.boxShadow="0 8px 30px rgba(72, 128, 255, 0.5)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.3)",u.currentTarget.style.transform="translateY(0) scale(1)",u.currentTarget.style.boxShadow="0 4px 20px rgba(72, 128, 255, 0.3)"},children:"Mulai Sekarang"}),a.jsx("a",{href:"#tentang",onClick:u=>c(u,"tentang"),className:"bubble-button px-4 sm:px-6 py-2 sm:py-3 rounded-full transition-all duration-300 flex items-center text-sm sm:text-base font-medium cursor-pointer",style:{backgroundColor:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",color:"#FFFFFF",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 2px 10px rgba(72, 128, 255, 0.2)"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.4)",u.currentTarget.style.transform="translateY(-3px) scale(1.03)",u.currentTarget.style.boxShadow="0 6px 25px rgba(72, 128, 255, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",u.currentTarget.style.transform="translateY(0) scale(1)",u.currentTarget.style.boxShadow="0 2px 10px rgba(72, 128, 255, 0.2)"},children:"Pelajari Selengkapnya"})]})]}),a.jsx("div",{className:"relative md:ml-[3cm] md:mt-[-1.5cm] mt-6 md:mt-0 order-first md:order-last",children:a.jsx("div",{className:"relative rounded-2xl md:rounded-3xl overflow-hidden shadow-xl md:shadow-2xl transition-all duration-300 cursor-pointer",style:{border:"2px solid rgba(255, 255, 255, 0.2)",backdropFilter:"blur(5px)"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-8px) scale(1.03)",u.currentTarget.style.boxShadow="0 20px 40px rgba(72, 128, 255, 0.4)",u.currentTarget.style.borderColor="rgba(72, 128, 255, 0.5)";const h=u.currentTarget.querySelector("img");h&&(h.style.transform="scale(1.1)",h.style.filter="brightness(1.1) contrast(1.05)")},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0) scale(1)",u.currentTarget.style.boxShadow="",u.currentTarget.style.borderColor="rgba(255, 255, 255, 0.2)";const h=u.currentTarget.querySelector("img");h&&(h.style.transform="scale(1)",h.style.filter="brightness(1) contrast(1)")},children:a.jsx(ca,{src:f7,alt:"Beautiful Underwater Aquarium Scene with Colorful Fish and Corals",className:"w-full h-auto transition-all duration-300",style:{maxHeight:"400px",minHeight:"250px",objectFit:"cover",width:"100%",display:"block"}})})})]})})]}),a.jsx("section",{id:"stats",className:"py-12 sm:py-16 md:py-24",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[a.jsx("h2",{className:"text-xl sm:text-2xl md:text-4xl lg:text-5xl font-bold text-black mb-3 sm:mb-4 px-2",children:"Lebih dari 10.000 penghobi ikan telah bergabung di Temanikan "}),a.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 max-w-3xl mx-auto px-2",children:"Komunitas kami terus tumbuh! Temanikan dipercaya oleh pecinta ikan hias di seluruh Indonesia untuk belajar, berdiskusi, dan memantau akuarium secara cerdas."})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3 sm:gap-4 md:gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 shadow-md text-center hover:bg-blue-50 transition-colors",children:[a.jsx("div",{className:"flex justify-center mb-2 sm:mb-3 md:mb-4",children:a.jsx(Dx,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8",style:{color:"#78B0E8"}})}),a.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Pengguna"}),a.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black",children:"10K+"})]}),a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 shadow-md text-center hover:bg-blue-50 transition-colors",children:[a.jsx("div",{className:"flex justify-center mb-2 sm:mb-3 md:mb-4",children:a.jsx(Lx,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8",style:{color:"#78B0E8"}})}),a.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Waktu"}),a.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black",children:"1K jam"})]}),a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 shadow-md text-center hover:bg-blue-50 transition-colors",children:[a.jsx("div",{className:"flex justify-center mb-2 sm:mb-3 md:mb-4",children:a.jsx(Yo,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8",style:{color:"#78B0E8"}})}),a.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Ikan"}),a.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black",children:"500+Spesies"})]}),a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 shadow-md text-center hover:bg-blue-50 transition-colors",children:[a.jsx("div",{className:"flex justify-center mb-2 sm:mb-3 md:mb-4",children:a.jsx(Qr,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8",style:{color:"#78B0E8"}})}),a.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Robot"}),a.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black",children:"9000+Robot"})]}),a.jsxs("div",{className:"bg-white rounded-lg sm:rounded-xl p-3 sm:p-4 md:p-6 shadow-md text-center hover:bg-blue-50 transition-colors",children:[a.jsx("div",{className:"flex justify-center mb-2 sm:mb-3 md:mb-4",children:a.jsx(lr,{className:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8",style:{color:"#78B0E8"}})}),a.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-700 mb-1 sm:mb-2",children:"Akurasi"}),a.jsx("div",{className:"text-lg sm:text-xl md:text-2xl font-bold text-black",children:"95%Terdeteksi"})]})]})]})}),a.jsx("section",{id:"tentang",className:"py-12 sm:py-16 md:py-24",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 sm:gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl sm:text-3xl md:text-5xl mb-4 sm:mb-6",style:{color:"#0F5BE5"},children:"Tentang Temanikan"}),a.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-600 mb-4 sm:mb-6",children:"TEMANIKAN adalah platform one-stop solution yang dirancang khusus untuk para aquarist. Kami adalah jembatan yang menghubungkan kecintaan Anda pada ikan hias dengan teknologi canggih Machine Learning dan dukungan komunitas, semuanya terpusat dalam satu website."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((u,h)=>a.jsx(Qz,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},h))}),a.jsx("div",{children:a.jsx("p",{className:"text-sm",children:"4.9 / 5 rating"})})]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Dipercaya oleh 10,000+ pengguna di Indonesia"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:bg-[#FFD6D6] transition-colors",children:[a.jsx(Vc,{className:"w-8 h-8 text-[#0F5BE5] mb-4"}),a.jsx("h3",{className:"mb-2",children:"Arsitektur Teknis"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Integrasi IoT dan Machine Learning untuk monitoring real-time"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:bg-[#FFD6D6] transition-colors",children:[a.jsx(Qr,{className:"w-8 h-8 text-[#0F5BE5] mb-4"}),a.jsx("h3",{className:"mb-2",children:"Integrasi IoT"}),a.jsx("p",{className:"text-sm text-gray-600",children:"ESP32-CAM mengirim data sensor ke database terpusat"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg border border-gray-100 hover:bg-[#FFD6D6] transition-colors col-span-2",children:[a.jsx(to,{className:"w-8 h-8 text-[#0F5BE5] mb-4"}),a.jsx("h3",{className:"mb-2",children:"Modul Machine Learning"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Model YOLO untuk analisis kesehatan ikan dengan akurasi tinggi"})]})]})]})})}),a.jsxs("section",{id:"fitur",className:"py-16 md:py-24 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-20 right-10 w-32 h-32 rounded-full opacity-20",style:{background:"linear-gradient(135deg, rgba(72, 128, 255, 0.3), rgba(15, 91, 229, 0.2))",filter:"blur(40px)"}}),a.jsx("div",{className:"absolute bottom-20 left-10 w-40 h-40 rounded-full opacity-15",style:{background:"linear-gradient(135deg, rgba(255, 214, 214, 0.4), rgba(255, 182, 193, 0.3))",filter:"blur(50px)"}})]}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-4xl md:text-6xl mb-6 font-extrabold",style:{color:"#0F5BE5",textShadow:"0 4px 12px rgba(15, 91, 229, 0.2)",letterSpacing:"-0.02em",lineHeight:"1.2"},children:"Mengapa Memilih Temanikan?"}),a.jsx("p",{className:"text-xl md:text-2xl max-w-3xl mx-auto font-semibold",style:{color:"#111827",lineHeight:"1.6",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:"Platform lengkap dengan teknologi Machine Learning untuk perawatan ikan hias yang lebih cerdas dan efektif"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[a.jsxs("div",{className:"relative p-8 rounded-3xl transition-all duration-300 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"2px solid rgba(15, 91, 229, 0.3)",boxShadow:"0 8px 32px rgba(15, 91, 229, 0.15)"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-8px) scale(1.02)",u.currentTarget.style.boxShadow="0 16px 48px rgba(15, 91, 229, 0.3)",u.currentTarget.style.borderColor="rgba(15, 91, 229, 0.5)",u.currentTarget.style.background="rgba(255, 255, 255, 1)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0) scale(1)",u.currentTarget.style.boxShadow="0 8px 32px rgba(15, 91, 229, 0.15)",u.currentTarget.style.borderColor="rgba(15, 91, 229, 0.3)",u.currentTarget.style.background="rgba(255, 255, 255, 0.95)"},children:[a.jsxs("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 relative",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.95), rgba(72, 128, 255, 0.9))",boxShadow:"0 8px 24px rgba(15, 91, 229, 0.4)"},children:[a.jsx(to,{className:"w-10 h-10 text-white"}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full opacity-60",style:{background:"rgba(72, 128, 255, 0.5)",filter:"blur(8px)"}})]}),a.jsx("h3",{className:"text-2xl mb-4 font-extrabold text-center",style:{color:"#0F5BE5",textShadow:"0 2px 8px rgba(15, 91, 229, 0.2)",letterSpacing:"-0.01em"},children:"Diagnosa ML"}),a.jsx("p",{className:"text-gray-800 text-center leading-relaxed font-semibold",style:{fontSize:"16px",lineHeight:"1.7"},children:"Deteksi penyakit ikan secara otomatis menggunakan teknologi Machine Learning dengan akurasi hingga 95%"})]}),a.jsxs("div",{className:"relative p-8 rounded-3xl transition-all duration-300 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"2px solid rgba(15, 91, 229, 0.3)",boxShadow:"0 8px 32px rgba(15, 91, 229, 0.15)"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-8px) scale(1.02)",u.currentTarget.style.boxShadow="0 16px 48px rgba(15, 91, 229, 0.3)",u.currentTarget.style.borderColor="rgba(15, 91, 229, 0.5)",u.currentTarget.style.background="rgba(255, 255, 255, 1)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0) scale(1)",u.currentTarget.style.boxShadow="0 8px 32px rgba(15, 91, 229, 0.15)",u.currentTarget.style.borderColor="rgba(15, 91, 229, 0.3)",u.currentTarget.style.background="rgba(255, 255, 255, 0.95)"},children:[a.jsxs("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 relative",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.95), rgba(72, 128, 255, 0.9))",boxShadow:"0 8px 24px rgba(15, 91, 229, 0.4)"},children:[a.jsx(Vc,{className:"w-10 h-10 text-white"}),a.jsx("div",{className:"absolute -bottom-2 -left-2 w-8 h-8 rounded-full opacity-60",style:{background:"rgba(72, 128, 255, 0.5)",filter:"blur(8px)"}})]}),a.jsx("h3",{className:"text-2xl mb-4 font-extrabold text-center",style:{color:"#0F5BE5",textShadow:"0 2px 8px rgba(15, 91, 229, 0.2)",letterSpacing:"-0.01em"},children:"Monitoring Real-time"}),a.jsx("p",{className:"text-gray-800 text-center leading-relaxed font-semibold",style:{fontSize:"16px",lineHeight:"1.7"},children:"Pantau kualitas air secara real-time dengan sensor IoT dan dapatkan notifikasi otomatis"})]}),a.jsxs("div",{className:"relative p-8 rounded-3xl transition-all duration-300 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"2px solid rgba(15, 91, 229, 0.3)",boxShadow:"0 8px 32px rgba(15, 91, 229, 0.15)"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-8px) scale(1.02)",u.currentTarget.style.boxShadow="0 16px 48px rgba(15, 91, 229, 0.3)",u.currentTarget.style.borderColor="rgba(15, 91, 229, 0.5)",u.currentTarget.style.background="rgba(255, 255, 255, 1)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0) scale(1)",u.currentTarget.style.boxShadow="0 8px 32px rgba(15, 91, 229, 0.15)",u.currentTarget.style.borderColor="rgba(15, 91, 229, 0.3)",u.currentTarget.style.background="rgba(255, 255, 255, 0.95)"},children:[a.jsxs("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 relative",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.95), rgba(72, 128, 255, 0.9))",boxShadow:"0 8px 24px rgba(15, 91, 229, 0.4)"},children:[a.jsx(Dx,{className:"w-10 h-10 text-white"}),a.jsx("div",{className:"absolute -top-2 -left-2 w-8 h-8 rounded-full opacity-60",style:{background:"rgba(72, 128, 255, 0.5)",filter:"blur(8px)"}})]}),a.jsx("h3",{className:"text-2xl mb-4 font-extrabold text-center",style:{color:"#0F5BE5",textShadow:"0 2px 8px rgba(15, 91, 229, 0.2)",letterSpacing:"-0.01em"},children:"Komunitas Aktif"}),a.jsx("p",{className:"text-gray-800 text-center leading-relaxed font-semibold",style:{fontSize:"16px",lineHeight:"1.7"},children:"Bergabung dengan ribuan pecinta ikan hias untuk berbagi pengalaman dan tips perawatan"})]})]}),a.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:[{icon:to,text:"FishPedia 500+ Spesies"},{icon:Qr,text:"Robot Pembersih Otomatis"},{icon:e7,text:"IoT Sensor 24/7"}].map((u,h)=>a.jsx("div",{className:"px-6 py-3 rounded-full transition-all duration-300 cursor-pointer",style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",border:"2px solid rgba(15, 91, 229, 0.3)",boxShadow:"0 4px 16px rgba(15, 91, 229, 0.15)"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-4px) scale(1.05)",f.currentTarget.style.background="rgba(15, 91, 229, 0.15)",f.currentTarget.style.borderColor="rgba(15, 91, 229, 0.5)",f.currentTarget.style.boxShadow="0 8px 24px rgba(15, 91, 229, 0.25)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0) scale(1)",f.currentTarget.style.background="rgba(255, 255, 255, 0.9)",f.currentTarget.style.borderColor="rgba(15, 91, 229, 0.3)",f.currentTarget.style.boxShadow="0 4px 16px rgba(15, 91, 229, 0.15)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(u.icon,{className:"w-6 h-6",style:{color:"#0F5BE5"}}),a.jsx("span",{className:"text-base font-semibold",style:{color:"#0F5BE5"},children:u.text})]})},h))})]})]}),a.jsxs("section",{id:"forum",className:"py-16 md:py-24 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-10 left-20 w-24 h-24 rounded-full opacity-15",style:{background:"linear-gradient(135deg, rgba(72, 128, 255, 0.3), rgba(15, 91, 229, 0.2))",filter:"blur(30px)"}}),a.jsx("div",{className:"absolute bottom-10 right-20 w-32 h-32 rounded-full opacity-10",style:{background:"linear-gradient(135deg, rgba(255, 214, 214, 0.4), rgba(255, 182, 193, 0.3))",filter:"blur(40px)"}})]}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-4xl md:text-6xl mb-6 font-extrabold",style:{color:"#0F5BE5",textShadow:"0 4px 12px rgba(15, 91, 229, 0.2)",letterSpacing:"-0.02em"},children:"Forum Komunitas Temanikan"}),a.jsx("p",{className:"text-xl md:text-2xl max-w-2xl mx-auto font-semibold",style:{color:"#111827",lineHeight:"1.6"},children:"Bergabunglah dengan komunitas pecinta ikan hias terbesar di Indonesia"})]}),a.jsx("div",{className:"mb-12",children:a.jsx("form",{onSubmit:u=>{u.preventDefault(),s("login")},className:"max-w-2xl mx-auto",children:a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-center rounded-full overflow-hidden transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(10px)",border:"2px solid rgba(15, 91, 229, 0.3)",boxShadow:"0 8px 32px rgba(15, 91, 229, 0.15)"},onMouseEnter:u=>{u.currentTarget.style.borderColor="rgba(15, 91, 229, 0.5)",u.currentTarget.style.boxShadow="0 12px 40px rgba(15, 91, 229, 0.25)"},onMouseLeave:u=>{u.currentTarget.style.borderColor="rgba(15, 91, 229, 0.3)",u.currentTarget.style.boxShadow="0 8px 32px rgba(15, 91, 229, 0.15)"},children:[a.jsx("div",{className:"pl-6 pr-3 flex items-center",children:a.jsx(to,{className:"w-6 h-6",style:{color:"#0F5BE5"}})}),a.jsx("input",{type:"text",placeholder:"Cari topik, pertanyaan, atau diskusi...",className:"flex-1 py-4 px-4 text-base font-medium outline-none",style:{background:"transparent",color:"#1F2937"}}),a.jsx("button",{type:"submit",className:"bubble-button px-6 py-4 rounded-full transition-all duration-300 font-semibold mr-2",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.95), rgba(72, 128, 255, 0.9))",color:"#FFFFFF",border:"none",boxShadow:"0 4px 16px rgba(15, 91, 229, 0.3)"},onMouseEnter:u=>{u.currentTarget.style.transform="scale(1.05)",u.currentTarget.style.boxShadow="0 6px 24px rgba(15, 91, 229, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="scale(1)",u.currentTarget.style.boxShadow="0 4px 16px rgba(15, 91, 229, 0.3)"},children:"Cari"})]}),a.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:"* Login diperlukan untuk mengakses forum"})]})})}),a.jsxs("div",{className:"flex justify-center gap-8 mb-12",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl font-extrabold mb-2",style:{color:"#0F5BE5"},children:"10K+"}),a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Anggota"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl font-extrabold mb-2",style:{color:"#0F5BE5"},children:"5K+"}),a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Topik"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl md:text-4xl font-extrabold mb-2",style:{color:"#0F5BE5"},children:"50K+"}),a.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Diskusi"})]})]}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{onClick:()=>s("login"),className:"bubble-button px-6 py-3 rounded-full transition-all duration-300 flex items-center justify-center gap-2 mx-auto font-semibold text-base whitespace-nowrap",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.95), rgba(72, 128, 255, 0.9))",color:"#FFFFFF",border:"none",boxShadow:"0 8px 24px rgba(15, 91, 229, 0.3)"},onMouseEnter:u=>{u.currentTarget.style.transform="translateY(-4px) scale(1.05)",u.currentTarget.style.boxShadow="0 12px 35px rgba(15, 91, 229, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.transform="translateY(0) scale(1)",u.currentTarget.style.boxShadow="0 8px 24px rgba(15, 91, 229, 0.3)"},children:["Bergabung dengan Forum",a.jsx(w0,{className:"w-5 h-5"})]})})]})]}),a.jsx("section",{id:"testimoni",className:"py-16 md:py-24",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-5xl mb-4",children:"Apa Kata Mereka?"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Ribuan pengguna telah merasakan manfaat Temanikan dalam merawat ikan hias mereka. Simak pengalaman mereka!"})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 relative hover:bg-[#FFD6D6] transition-colors",children:[a.jsx(nx,{className:"w-10 h-10 text-[#0F5BE5] mb-4 opacity-50"}),a.jsx("p",{className:"text-gray-600 mb-6",children:'"Temanikan sangat membantu saya dalam merawat ikan cupang. Fitur deteksi penyakit menggunakan ML sangat akurat dan cepat. Sekarang saya tidak khawatir lagi!"'}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#0F5BE5] rounded-full flex items-center justify-center text-white",children:a.jsx("span",{children:"AW"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Andi Wijaya"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Aquarist - Jakarta"})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 relative hover:bg-[#FFD6D6] transition-colors",children:[a.jsx(nx,{className:"w-10 h-10 text-[#0F5BE5] mb-4 opacity-50"}),a.jsx("p",{className:"text-gray-600 mb-6",children:'"Forum komunitas di Temanikan luar biasa! Saya belajar banyak dari para expert dan bisa sharing pengalaman breeding Guppy. Recommended banget!"'}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#0F5BE5] rounded-full flex items-center justify-center text-white",children:a.jsx("span",{children:"SP"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Siti Permata"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Breeder - Bandung"})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 relative hover:bg-[#FFD6D6] transition-colors",children:[a.jsx(nx,{className:"w-10 h-10 text-[#0F5BE5] mb-4 opacity-50"}),a.jsx("p",{className:"text-gray-600 mb-6",children:'"Robot Temanikan menghemat waktu saya banget! Monitoring air otomatis dan pembersihan akuarium jadi lebih mudah. Worth it!"'}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#0F5BE5] rounded-full flex items-center justify-center text-white",children:a.jsx("span",{children:"BP"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Budi Prasetyo"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Hobbyist - Surabaya"})]})]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mt-8",children:[a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 relative hover:bg-[#FFD6D6] transition-colors",children:[a.jsx(nx,{className:"w-10 h-10 text-[#0F5BE5] mb-4 opacity-50"}),a.jsx("p",{className:"text-gray-600 mb-6",children:'"Fishpedia sangat lengkap! Saya sebagai pemula terbantu sekali dengan informasi detail setiap spesies. Plus ada panduan perawatannya juga!"'}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#0F5BE5] rounded-full flex items-center justify-center text-white",children:a.jsx("span",{children:"RN"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Rina Novita"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pemula - Yogyakarta"})]})]})]}),a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100 relative hover:bg-[#FFD6D6] transition-colors",children:[a.jsx(nx,{className:"w-10 h-10 text-[#0F5BE5] mb-4 opacity-50"}),a.jsx("p",{className:"text-gray-600 mb-6",children:'"Dashboard monitoring real-time sangat membantu. Saya bisa pantau kualitas air dari kantor. Notifikasi otomatis juga sangat berguna!"'}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#0F5BE5] rounded-full flex items-center justify-center text-white",children:a.jsx("span",{children:"DK"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:"Dedi Kurniawan"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Professional - Semarang"})]})]})]})]})]})}),a.jsxs("section",{className:"py-16 md:py-24 relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-10 right-20 w-32 h-32 rounded-full opacity-20",style:{background:"radial-gradient(circle, rgba(255, 215, 0, 0.4), rgba(255, 182, 193, 0.2))",filter:"blur(40px)"}}),a.jsx("div",{className:"absolute bottom-10 left-20 w-40 h-40 rounded-full opacity-15",style:{background:"radial-gradient(circle, rgba(72, 128, 255, 0.3), rgba(15, 91, 229, 0.2))",filter:"blur(50px)"}})]}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:a.jsxs("div",{className:"rounded-[40px] p-12 md:p-16 text-center transition-all duration-300",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.15), rgba(72, 128, 255, 0.12), rgba(135, 206, 250, 0.1))",backdropFilter:"blur(20px)",borderRadius:"40px",boxShadow:"0 20px 60px rgba(15, 91, 229, 0.2), inset 0 2px 10px rgba(255, 255, 255, 0.3)",position:"relative",overflow:"hidden"},onMouseEnter:u=>{u.currentTarget.style.boxShadow="0 25px 70px rgba(15, 91, 229, 0.3), inset 0 2px 15px rgba(255, 255, 255, 0.4)",u.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:u=>{u.currentTarget.style.boxShadow="0 20px 60px rgba(15, 91, 229, 0.2), inset 0 2px 10px rgba(255, 255, 255, 0.3)",u.currentTarget.style.transform="translateY(0)"},children:[a.jsx("h2",{className:"text-4xl md:text-6xl mb-6 font-extrabold relative z-10",style:{color:"#FFFFFF",textShadow:"0 4px 12px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(15, 91, 229, 0.4)",letterSpacing:"-0.02em"},children:"Siap Memulai Perjalanan Anda?"}),a.jsx("p",{className:"text-xl md:text-2xl mb-10 font-semibold relative z-10",style:{color:"#FFFFFF",textShadow:"0 2px 8px rgba(0, 0, 0, 0.2)",lineHeight:"1.6"},children:"Bergabunglah dengan 10,000+ pecinta ikan hias yang telah mempercayai Temanikan untuk perawatan akuarium mereka"}),a.jsx("button",{onClick:()=>s("register"),className:"bubble-button px-10 py-5 text-lg font-bold rounded-full transition-all duration-300 relative z-10",style:{background:"linear-gradient(135deg, #FFD700, #FFC700)",color:"#000000",boxShadow:"0 8px 24px rgba(255, 215, 0, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.3)",border:"3px solid rgba(255, 255, 255, 0.5)"},onMouseEnter:u=>{u.currentTarget.style.background="linear-gradient(135deg, #FFC700, #FFB700)",u.currentTarget.style.transform="translateY(-4px) scale(1.05)",u.currentTarget.style.boxShadow="0 12px 35px rgba(255, 215, 0, 0.6), inset 0 2px 6px rgba(255, 255, 255, 0.4)"},onMouseLeave:u=>{u.currentTarget.style.background="linear-gradient(135deg, #FFD700, #FFC700)",u.currentTarget.style.transform="translateY(0) scale(1)",u.currentTarget.style.boxShadow="0 8px 24px rgba(255, 215, 0, 0.4), inset 0 2px 4px rgba(255, 255, 255, 0.3)"},children:"Daftar Gratis Sekarang"})]})})]}),a.jsxs("footer",{className:"relative overflow-hidden",children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[a.jsx("div",{className:"absolute top-0 left-10 w-40 h-40 rounded-full opacity-10",style:{background:"radial-gradient(circle, rgba(15, 91, 229, 0.3), rgba(72, 128, 255, 0.2))",filter:"blur(50px)"}}),a.jsx("div",{className:"absolute bottom-0 right-10 w-36 h-36 rounded-full opacity-10",style:{background:"radial-gradient(circle, rgba(255, 182, 193, 0.3), rgba(255, 215, 0, 0.2))",filter:"blur(45px)"}})]}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 sm:px-8 lg:px-10 py-12 relative z-10",style:{background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"40px 40px 0 0",boxShadow:"0 -10px 40px rgba(15, 91, 229, 0.1), inset 0 2px 10px rgba(255, 255, 255, 0.5)"},children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.2), rgba(72, 128, 255, 0.15))",border:"2px solid rgba(15, 91, 229, 0.3)",boxShadow:"0 4px 12px rgba(15, 91, 229, 0.15)"},children:a.jsx(Yo,{className:"w-6 h-6",style:{color:"#0F5BE5"}})}),a.jsx("span",{className:"text-2xl font-extrabold",style:{fontFamily:"Allura, cursive",color:"#0F5BE5",textShadow:"0 2px 8px rgba(15, 91, 229, 0.2)"},children:"Temanikan"})]}),a.jsx("p",{className:"text-sm font-medium",style:{color:"#374151",lineHeight:"1.6"},children:"Platform edukasi, komunitas, dan monitoring ikan hias berbasis Machine Learning"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 font-bold text-lg",style:{color:"#0F5BE5"},children:"Navigasi Cepat"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"#tentang",className:"inline-block px-4 py-2 rounded-full font-medium transition-all duration-300",style:{color:"#374151",background:"transparent"},onMouseEnter:u=>{u.currentTarget.style.background="rgba(15, 91, 229, 0.1)",u.currentTarget.style.color="#0F5BE5",u.currentTarget.style.transform="translateX(4px)",u.currentTarget.style.boxShadow="0 2px 8px rgba(15, 91, 229, 0.15)"},onMouseLeave:u=>{u.currentTarget.style.background="transparent",u.currentTarget.style.color="#374151",u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:"Tentang Kami"})}),a.jsx("li",{children:a.jsx("button",{onClick:o,className:"bubble-button px-4 py-2 rounded-full font-medium transition-all duration-300 text-left",style:{color:"#374151",background:"transparent",border:"none"},onMouseEnter:u=>{u.currentTarget.style.background="rgba(15, 91, 229, 0.1)",u.currentTarget.style.color="#0F5BE5",u.currentTarget.style.transform="translateX(4px)",u.currentTarget.style.boxShadow="0 2px 8px rgba(15, 91, 229, 0.15)"},onMouseLeave:u=>{u.currentTarget.style.background="transparent",u.currentTarget.style.color="#374151",u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:"Fishpedia"})}),a.jsx("li",{children:a.jsx("a",{href:"#fitur",className:"inline-block px-4 py-2 rounded-full font-medium transition-all duration-300",style:{color:"#374151",background:"transparent"},onMouseEnter:u=>{u.currentTarget.style.background="rgba(15, 91, 229, 0.1)",u.currentTarget.style.color="#0F5BE5",u.currentTarget.style.transform="translateX(4px)",u.currentTarget.style.boxShadow="0 2px 8px rgba(15, 91, 229, 0.15)"},onMouseLeave:u=>{u.currentTarget.style.background="transparent",u.currentTarget.style.color="#374151",u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:"Fitur"})}),a.jsx("li",{children:a.jsx("button",{onClick:l,className:"bubble-button px-4 py-2 rounded-full font-medium transition-all duration-300 text-left",style:{color:"#374151",background:"transparent",border:"none"},onMouseEnter:u=>{u.currentTarget.style.background="rgba(15, 91, 229, 0.1)",u.currentTarget.style.color="#0F5BE5",u.currentTarget.style.transform="translateX(4px)",u.currentTarget.style.boxShadow="0 2px 8px rgba(15, 91, 229, 0.15)"},onMouseLeave:u=>{u.currentTarget.style.background="transparent",u.currentTarget.style.color="#374151",u.currentTarget.style.transform="translateX(0)",u.currentTarget.style.boxShadow="none"},children:"Produk"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 font-bold text-lg",style:{color:"#0F5BE5"},children:"Dukungan"}),a.jsx("ul",{className:"space-y-2 text-sm",children:["FAQ","Kontak","Bantuan","Dokumentasi"].map(u=>a.jsx("li",{children:a.jsx("a",{href:"#",className:"inline-block px-4 py-2 rounded-full font-medium transition-all duration-300",style:{color:"#374151",background:"transparent"},onMouseEnter:h=>{h.currentTarget.style.background="rgba(15, 91, 229, 0.1)",h.currentTarget.style.color="#0F5BE5",h.currentTarget.style.transform="translateX(4px)",h.currentTarget.style.boxShadow="0 2px 8px rgba(15, 91, 229, 0.15)"},onMouseLeave:h=>{h.currentTarget.style.background="transparent",h.currentTarget.style.color="#374151",h.currentTarget.style.transform="translateX(0)",h.currentTarget.style.boxShadow="none"},children:u})},u))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4 font-bold text-lg",style:{color:"#0F5BE5"},children:"Ikuti Kami"}),a.jsx("div",{className:"flex gap-3",children:[{name:"Facebook",path:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"},{name:"Instagram",path:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"},{name:"Twitter",path:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"}].map((u,h)=>a.jsxs("a",{href:"#",className:"w-12 h-12 rounded-full flex items-center justify-center transition-all duration-300",style:{background:"rgba(255, 255, 255, 0.8)",border:"2px solid rgba(15, 91, 229, 0.3)",boxShadow:"0 4px 12px rgba(15, 91, 229, 0.15)",color:"#0F5BE5"},onMouseEnter:f=>{f.currentTarget.style.background="linear-gradient(135deg, rgba(15, 91, 229, 0.2), rgba(72, 128, 255, 0.15))",f.currentTarget.style.borderColor="rgba(15, 91, 229, 0.5)",f.currentTarget.style.transform="translateY(-4px) scale(1.1)",f.currentTarget.style.boxShadow="0 8px 20px rgba(15, 91, 229, 0.3)"},onMouseLeave:f=>{f.currentTarget.style.background="rgba(255, 255, 255, 0.8)",f.currentTarget.style.borderColor="rgba(15, 91, 229, 0.3)",f.currentTarget.style.transform="translateY(0) scale(1)",f.currentTarget.style.boxShadow="0 4px 12px rgba(15, 91, 229, 0.15)"},children:[a.jsx("span",{className:"sr-only",children:u.name}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:u.path})})]},h))})]})]}),a.jsxs("div",{className:"pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-sm",children:[a.jsx("p",{className:"font-medium",style:{color:"#6B7280"},children:" 2025 Temanikan. All rights reserved."}),a.jsx("div",{className:"flex gap-6",children:["Privacy Policy","Terms & Conditions"].map((u,h)=>a.jsx("a",{href:"#",className:"px-4 py-2 rounded-full font-medium transition-all duration-300",style:{color:"#6B7280"},onMouseEnter:f=>{f.currentTarget.style.color="#0F5BE5",f.currentTarget.style.background="rgba(15, 91, 229, 0.1)",f.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:f=>{f.currentTarget.style.color="#6B7280",f.currentTarget.style.background="transparent",f.currentTarget.style.transform="translateY(0)"},children:u},h))})]})]})]})]})]})}function N4(t){let e="";if(typeof t=="string"||typeof t=="number")e+=t;else if(typeof t=="object"&&Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]){const r=N4(t[n]);r&&(e&&(e+=" "),e+=r)}}return e}function Qq(...t){let e=0,n,r="";for(;e<t.length;)if(n=t[e++]){const i=N4(n);i&&(r&&(r+=" "),r+=i)}return r}function Zq(...t){const e=t.join(" ").split(" ").filter(Boolean),n=new Set,r=[];for(let i=e.length-1;i>=0;i--){const s=e[i];n.has(s)||(n.add(s),r.unshift(s))}return r.join(" ")}function Gt(...t){return Zq(Qq(t))}function Je({className:t,...e}){return a.jsx("div",{"data-slot":"card",className:Gt("rounded-xl border bg-card text-card-foreground shadow",t),...e})}function Lt({className:t,type:e,...n}){return a.jsx("input",{type:e,"data-slot":"input",className:Gt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function Rt({className:t,variant:e="default",...n}){const r={default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"};return a.jsx("div",{className:Gt("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",r[e],t),...n})}const L0=N.createContext(void 0),pn=({open:t,onOpenChange:e,defaultOpen:n=!1,children:r})=>{const[i,s]=N.useState(n),o=t!==void 0?t:i,l=e||s;return a.jsx(L0.Provider,{value:{open:o,onOpenChange:l},children:r})},T4=N.forwardRef(({className:t,children:e,onClick:n,asChild:r,...i},s)=>{const o=N.useContext(L0),l=c=>{n?.(c),o?.onOpenChange(!0)};return r&&N.isValidElement(e)?N.cloneElement(e,{onClick:l}):a.jsx("button",{ref:s,className:t,onClick:l,...i,children:e})});T4.displayName="DialogTrigger";const e$=({children:t})=>N.useContext(L0)?.open?a.jsx("div",{style:{position:"fixed",inset:0,zIndex:9998},children:t}):null,j4=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("fixed inset-0 z-[9998] bg-black/80 animate-in fade-in-0",t),...e}));j4.displayName="DialogOverlay";const t$=N.forwardRef(({className:t,children:e,onClick:n,...r},i)=>{const s=N.useContext(L0),o=l=>{n?.(l),s?.onOpenChange(!1)};return a.jsx("button",{ref:i,className:t,onClick:o,...r,children:e})});t$.displayName="DialogClose";const hn=N.forwardRef(({className:t,children:e,...n},r)=>{const i=N.useContext(L0);return N.useEffect(()=>{const s=o=>{o.key==="Escape"&&i?.onOpenChange(!1)};return i?.open&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[i?.open,i]),a.jsxs(e$,{children:[a.jsx(j4,{onClick:()=>i?.onOpenChange(!1)}),a.jsxs("div",{ref:r,className:Gt("fixed left-[50%] top-[50%] z-[9999] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg animate-in fade-in-0 zoom-in-95 sm:rounded-lg",t),...n,children:[e,a.jsxs("button",{onClick:()=>i?.onOpenChange(!1),className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[a.jsx(c7,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});hn.displayName="DialogContent";const gr=({className:t,...e})=>a.jsx("div",{className:Gt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});gr.displayName="DialogHeader";const Oi=({className:t,...e})=>a.jsx("div",{className:Gt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Oi.displayName="DialogFooter";const cr=N.forwardRef(({className:t,...e},n)=>a.jsx("h2",{ref:n,className:Gt("leading-none tracking-tight",t),...e}));cr.displayName="DialogTitle";const b2=N.forwardRef(({className:t,...e},n)=>a.jsx("p",{ref:n,className:Gt("text-sm text-muted-foreground",t),...e}));b2.displayName="DialogDescription";const n$="http://localhost:5000";function r$({onAuthClick:t,onNavigateHome:e,onSmartNavigate:n}){const[r,i]=N.useState(null),[s,o]=N.useState(""),[l,c]=N.useState("Semua"),[u,h]=N.useState([]),[f,m]=N.useState(!0),[v,y]=N.useState(null);N.useEffect(()=>{S()},[]);const S=async()=>{try{m(!0),y(null);const j=await OC.getSpecies();if(j.success&&j.species){const R=j.species.filter(k=>k.status==="published").map(k=>({id:k.id,name:k.name,scientificName:k.scientificName,category:k.category,difficulty:k.difficulty,description:k.description,habitat:k.habitat,imageUrl:k.image?`${n$}${k.image}`:"",image:k.image,ph:k.phMin&&k.phMax?`${k.phMin}-${k.phMax}`:"7.0",temperature:k.tempMin&&k.tempMax?`${k.tempMin}-${k.tempMax}C`:"25C",phMin:k.phMin,phMax:k.phMax,tempMin:k.tempMin,tempMax:k.tempMax,temperament:"Damai",size:"10-15 cm",detailedDescription:k.description,family:"N/A",diet:"Informasi diet tidak tersedia",lifespan:"3-5 tahun"}));h(R)}}catch(j){console.error(" Error fetching fish data:",j),y("Gagal memuat data ikan")}finally{m(!1)}},b=()=>{e&&e()},_=["Semua","Mudah","Menengah","Sulit"],E=u.filter(j=>{const R=j.name.toLowerCase().includes(s.toLowerCase())||j.scientificName.toLowerCase().includes(s.toLowerCase()),k=l==="Semua"||j.difficulty===l;return R&&k}),C=j=>{switch(j){case"Mudah":return"bg-green-100 text-green-800";case"Menengah":return"bg-yellow-100 text-yellow-800";case"Sulit":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"min-h-screen flex flex-col",style:{backgroundColor:"#F5F6FA"},children:[a.jsx(WC,{onAuthClick:t,onSmartNavigate:n}),a.jsx("main",{className:"flex-1 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[f&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Memuat data ikan..."})}),v&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:v}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl mb-3",style:{color:"#2D3436"},children:"Fishpedia"}),a.jsx("p",{className:"text-lg",style:{color:"#636E72"},children:"Jelajahi database lengkap ikan hias dengan informasi detail tentang perawatan, habitat, dan karakteristik setiap spesies"})]}),a.jsxs("div",{className:"mb-8 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(Lt,{placeholder:"Cari nama ikan atau nama ilmiah...",value:s,onChange:j=>o(j.target.value),className:"pl-10 py-6 text-base",style:{backgroundColor:"white"}})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm self-center mr-2",style:{color:"#636E72"},children:"Tingkat Kesulitan:"}),_.map(j=>a.jsx("button",{onClick:()=>c(j),className:"px-4 py-2 rounded-full text-sm transition-colors",style:{backgroundColor:l===j?"#4880FF":"white",color:l===j?"white":"#2D3436",border:l===j?"none":"1px solid #CBDCEB"},children:j},j))]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("p",{style:{color:"#636E72"},children:["Menampilkan ",a.jsx("span",{style:{color:"#4880FF"},children:E.length})," dari ",a.jsx("span",{style:{color:"#4880FF"},children:u.length})," spesies ikan"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:E.map(j=>a.jsxs(Je,{className:"overflow-hidden hover:shadow-xl transition-shadow cursor-pointer bg-white",onClick:()=>i(j),children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-100 to-blue-200",children:[a.jsx(ca,{src:j.imageUrl,alt:j.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx(Rt,{className:C(j.difficulty),children:j.difficulty})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-xl mb-1",children:j.name}),a.jsx("p",{className:"text-sm text-gray-500 italic mb-3",children:j.scientificName}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:j.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Temperamen:"}),a.jsx("p",{className:"font-medium",children:j.temperament})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ukuran:"}),a.jsx("p",{className:"font-medium",children:j.size})]})]}),a.jsxs("button",{className:"mt-4 text-[#608BC1] hover:text-[#133E87] flex items-center gap-2 group w-full justify-center",children:["Lihat Detail",a.jsx(w0,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},j.id))}),E.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Yo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"Tidak ada ikan yang ditemukan"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Coba ubah kata kunci pencarian atau filter kategori"})]})]})}),a.jsx("footer",{className:"bg-[#133E87] text-white py-12 border-t border-[#608BC1] mt-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Yo,{className:"w-8 h-8"}),a.jsx("span",{className:"text-2xl",style:{fontFamily:"Allura, cursive"},children:"Temanikan"})]}),a.jsx("p",{className:"text-sm text-[#CBDCEB]",children:"Platform edukasi, komunitas, dan monitoring ikan hias berbasis Machine Learning"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4",children:"Navigasi Cepat"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("button",{onClick:b,className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Beranda"})}),a.jsx("li",{children:a.jsx("a",{href:"#tentang",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Tentang Kami"})}),a.jsx("li",{children:a.jsx("a",{href:"#fishpedia",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Fishpedia"})}),a.jsx("li",{children:a.jsx("a",{href:"#fitur",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Fitur"})}),a.jsx("li",{children:a.jsx("a",{href:"#produk",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Produk"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4",children:"Dukungan"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"FAQ"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Kontak"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Bantuan"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Dokumentasi"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4",children:"Ikuti Kami"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:"#",className:"w-10 h-10 bg-[#608BC1] rounded-full flex items-center justify-center hover:bg-[#CBDCEB] transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Facebook"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]}),a.jsxs("a",{href:"#",className:"w-10 h-10 bg-[#608BC1] rounded-full flex items-center justify-center hover:bg-[#CBDCEB] transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Instagram"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})]}),a.jsxs("a",{href:"#",className:"w-10 h-10 bg-[#608BC1] rounded-full flex items-center justify-center hover:bg-[#CBDCEB] transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Twitter"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})]})]})]})]}),a.jsxs("div",{className:"pt-8 border-t border-[#608BC1] flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-[#CBDCEB]",children:[a.jsx("p",{children:" 2025 Temanikan. All rights reserved."}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms & Conditions"})]})]})]})}),a.jsx(pn,{open:r!==null,onOpenChange:()=>i(null),children:a.jsxs(hn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",style:{backgroundColor:"#F3F3E0",border:"none"},children:[a.jsxs(gr,{className:"border-b pb-4",style:{borderColor:"#CBDCEB"},children:[a.jsx(cr,{className:"text-2xl font-bold",style:{color:"#133E87"},children:r?.name}),a.jsx("p",{className:"text-sm italic text-gray-600 mt-1",children:r?.scientificName})]}),r&&a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative h-72 rounded-xl overflow-hidden bg-gradient-to-br from-blue-100 to-blue-200 shadow-lg",children:[a.jsx(ca,{src:r.imageUrl,alt:r.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(Rt,{className:C(r.difficulty)+" text-sm px-3 py-1 shadow-md",children:r.difficulty})})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Kategori"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:r.category})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Famili"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:r.family||"N/A"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Temperamen"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:r.temperament||"Damai"})]})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#133E87"},children:" Deskripsi"}),a.jsx("p",{className:"leading-relaxed text-sm",style:{color:"#636E72"},children:r.detailedDescription||r.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-4",style:{color:"#133E87"},children:" Parameter Air"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Suhu"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:r.temperature})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"pH"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:r.ph})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Ukuran Maksimal"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:r.size})]})]})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-4",style:{color:"#133E87"},children:" Informasi Lainnya"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Temperamen"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:r.temperament})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Lama Hidup"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:r.lifespan})]})]})]})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#133E87"},children:" Habitat Alami"}),a.jsx("p",{className:"leading-relaxed text-sm",style:{color:"#636E72"},children:r.habitat||"Informasi habitat tidak tersedia"})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#133E87"},children:" Makanan & Diet"}),a.jsx("p",{className:"leading-relaxed text-sm",style:{color:"#636E72"},children:r.diet||"Informasi diet tidak tersedia"})]})]})]})})]})}function i$({onAuthClick:t,onNavigateHome:e,onSmartNavigate:n}){const r=o=>{t&&t(o)},i=()=>{e&&e()},s=()=>{r("login")};return a.jsxs("div",{className:"min-h-screen bg-[#F3F3E0] flex flex-col",children:[a.jsx(WC,{onAuthClick:t,onSmartNavigate:n}),a.jsx("main",{className:"flex-1 py-8",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("button",{onClick:i,className:"hover:text-[#608BC1]",children:"Beranda"}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-[#608BC1]",children:"Produk"})]})}),a.jsxs("div",{className:"mb-12",children:[a.jsx("div",{className:"inline-block px-4 py-2 bg-[#CBDCEB] text-[#133E87] rounded-full text-sm mb-4",children:"Produk Unggulan"}),a.jsx("h1",{className:"text-4xl md:text-5xl mb-4",children:"Robot Temanikan"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-3xl",children:"Solusi terpadu untuk perawatan akuarium modern Anda. Dilengkapi dengan teknologi canggih yang memudahkan pemeliharaan ikan hias."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 mb-16",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"rounded-2xl overflow-hidden shadow-2xl bg-white",children:a.jsx(ca,{src:"https://images.unsplash.com/photo-1583899282521-0e5965167d31?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhcXVhcml1bSUyMHJvYm90JTIwdGVjaG5vbG9neXxlbnwxfHx8fDE3NjMzNTA1ODh8MA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Robot Temanikan",className:"w-full h-auto"})}),a.jsx("div",{className:"absolute top-4 right-4 bg-green-500 text-white px-4 py-2 rounded-full text-sm shadow-lg",children:" Best Seller"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg mb-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("span",{className:"text-sm text-gray-500 line-through",children:"Rp 3.499.000"}),a.jsx("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded text-sm",children:"Hemat 29%"})]}),a.jsx("div",{className:"flex items-baseline gap-2",children:a.jsx("span",{className:"text-5xl text-[#133E87]",children:"Rp 2.499.000"})})]}),a.jsx("div",{className:"mb-6 pb-6 border-b border-gray-200",children:a.jsx("p",{className:"text-gray-600",children:"Robot Pembersih Akuarium Otomatis dengan AI Navigation dan monitoring kualitas air terintegrasi."})}),a.jsxs("button",{onClick:s,className:"w-full py-4 bg-[#608BC1] text-white rounded-full hover:bg-[#133E87] transition-colors flex items-center justify-center gap-2 mb-4",children:[a.jsx(bm,{className:"w-5 h-5"}),"Beli Sekarang"]}),a.jsx("p",{className:"text-sm text-center text-gray-500",children:"* Memerlukan login untuk melakukan pemesanan"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-xs text-gray-600",children:"Garansi 1 Tahun"})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-xs text-gray-600",children:"Gratis Ongkir"})]}),a.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow",children:[a.jsx("div",{className:"text-2xl mb-1",children:""}),a.jsx("div",{className:"text-xs text-gray-600",children:"Free Maintenance"})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 md:p-12 mb-16",children:[a.jsx("h2",{className:"text-3xl mb-8",children:"Fitur Unggulan"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#608BC1] rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Th,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Pembersihan Otomatis dengan AI Navigation"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Teknologi AI canggih memungkinkan robot bergerak optimal di dalam akuarium tanpa melukai ikan atau merusak tanaman hias."})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#608BC1] rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Th,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Sensor Kualitas Air Terintegrasi"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Monitoring real-time parameter air (pH, Suhu, TDS) langsung dari smartphone dengan notifikasi otomatis jika ada anomali."})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#608BC1] rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Th,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Kontrol via Smartphone (iOS & Android)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Aplikasi mobile user-friendly untuk mengontrol robot, menjadwalkan pembersihan, dan memantau kualitas air dari mana saja."})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#608BC1] rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Th,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Baterai Tahan Lama (120 Menit)"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Baterai lithium berkualitas tinggi dengan daya tahan hingga 2 jam per charging, cukup untuk akuarium hingga 200 liter."})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#608BC1] rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Th,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Material Anti-Karat & Waterproof"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Didesain khusus untuk lingkungan air dengan material berkualitas tinggi yang tahan lama dan aman untuk ikan."})]})]}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-[#608BC1] rounded-full flex items-center justify-center flex-shrink-0",children:a.jsx(Th,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-2",children:"Garansi 1 Tahun & Free Maintenance"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Dapatkan garansi resmi 1 tahun dan layanan maintenance gratis untuk memastikan robot selalu dalam kondisi optimal."})]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 md:p-12 mb-16",children:[a.jsx("h2",{className:"text-3xl mb-8",children:"Spesifikasi Teknis"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-x-12 gap-y-6",children:[a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Dimensi"}),a.jsx("span",{className:"font-medium",children:"18cm x 12cm x 8cm"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Berat"}),a.jsx("span",{className:"font-medium",children:"850 gram"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Kapasitas Akuarium"}),a.jsx("span",{className:"font-medium",children:"50-200 liter"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Daya Baterai"}),a.jsx("span",{className:"font-medium",children:"2500 mAh"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Waktu Charging"}),a.jsx("span",{className:"font-medium",children:"3-4 jam"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Durasi Operasi"}),a.jsx("span",{className:"font-medium",children:"120 menit"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Sensor"}),a.jsx("span",{className:"font-medium",children:"pH, Suhu, TDS"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Konektivitas"}),a.jsx("span",{className:"font-medium",children:"WiFi, Bluetooth"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Material"}),a.jsx("span",{className:"font-medium",children:"ABS + Stainless Steel"})]}),a.jsxs("div",{className:"flex justify-between py-3 border-b border-gray-200",children:[a.jsx("span",{className:"text-gray-600",children:"Garansi"}),a.jsx("span",{className:"font-medium",children:"1 Tahun Resmi"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 md:p-12 mb-16",children:[a.jsx("h2",{className:"text-3xl mb-8",children:"Isi Paket"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-[#CBDCEB] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#133E87]",children:"1"})}),a.jsx("span",{className:"text-gray-600",children:"Robot Pembersih Akuarium"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-[#CBDCEB] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#133E87]",children:"2"})}),a.jsx("span",{className:"text-gray-600",children:"Charging Dock & Kabel USB"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-[#CBDCEB] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#133E87]",children:"3"})}),a.jsx("span",{className:"text-gray-600",children:"Brush Cadangan (2 pcs)"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-[#CBDCEB] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#133E87]",children:"4"})}),a.jsx("span",{className:"text-gray-600",children:"User Manual (ID & EN)"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-[#CBDCEB] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#133E87]",children:"5"})}),a.jsx("span",{className:"text-gray-600",children:"Kartu Garansi Resmi"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-[#CBDCEB] rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-[#133E87]",children:"6"})}),a.jsx("span",{className:"text-gray-600",children:"Sticker & Quick Start Guide"})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-[#608BC1] to-[#133E87] rounded-2xl p-12 text-center text-white",children:[a.jsx("h2",{className:"text-3xl md:text-4xl mb-4",children:"Siap Menjadikan Akuarium Anda Lebih Smart?"}),a.jsx("p",{className:"text-lg text-[#CBDCEB] mb-8 max-w-2xl mx-auto",children:"Bergabunglah dengan 9,000+ pengguna yang telah mempercayai Robot Temanikan untuk perawatan akuarium mereka"}),a.jsxs("button",{onClick:s,className:"px-8 py-4 bg-white text-[#133E87] rounded-full hover:bg-[#CBDCEB] transition-colors inline-flex items-center gap-2",children:[a.jsx(bm,{className:"w-5 h-5"}),"Beli Sekarang - Rp 2.499.000"]})]})]})}),a.jsx("footer",{className:"bg-[#133E87] text-white py-12 border-t border-[#608BC1] mt-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Yo,{className:"w-8 h-8"}),a.jsx("span",{className:"text-2xl",style:{fontFamily:"Allura, cursive"},children:"Temanikan"})]}),a.jsx("p",{className:"text-sm text-[#CBDCEB]",children:"Platform edukasi, komunitas, dan monitoring ikan hias berbasis Machine Learning"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4",children:"Navigasi Cepat"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("button",{onClick:i,className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Beranda"})}),a.jsx("li",{children:a.jsx("a",{href:"/#tentang",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Tentang Kami"})}),a.jsx("li",{children:a.jsx("a",{href:"/fishpedia",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Fishpedia"})}),a.jsx("li",{children:a.jsx("a",{href:"/#fitur",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Fitur"})}),a.jsx("li",{children:a.jsx("a",{href:"/produk",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Produk"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4",children:"Dukungan"}),a.jsxs("ul",{className:"space-y-2 text-sm",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"FAQ"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Kontak"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Bantuan"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"text-[#CBDCEB] hover:text-white transition-colors",children:"Dokumentasi"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"mb-4",children:"Ikuti Kami"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("a",{href:"#",className:"w-10 h-10 bg-[#608BC1] rounded-full flex items-center justify-center hover:bg-[#CBDCEB] transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Facebook"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})]}),a.jsxs("a",{href:"#",className:"w-10 h-10 bg-[#608BC1] rounded-full flex items-center justify-center hover:bg-[#CBDCEB] transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Instagram"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})]}),a.jsxs("a",{href:"#",className:"w-10 h-10 bg-[#608BC1] rounded-full flex items-center justify-center hover:bg-[#CBDCEB] transition-colors",children:[a.jsx("span",{className:"sr-only",children:"Twitter"}),a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})]})]})]})]}),a.jsxs("div",{className:"pt-8 border-t border-[#608BC1] flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-[#CBDCEB]",children:[a.jsx("p",{children:" 2025 Temanikan. All rights reserved."}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms & Conditions"})]})]})]})})]})}const w2=N.createContext(void 0),Gb=({children:t,open:e,onOpenChange:n})=>{const[r,i]=N.useState(!1),s=e!==void 0?e:r,o=n||i;return a.jsx(w2.Provider,{value:{open:s,setOpen:o},children:t})},e0=N.forwardRef(({className:t,children:e,asChild:n,...r},i)=>{const s=N.useContext(w2),o=()=>{s?.setOpen(!s.open)};return n&&N.isValidElement(e)?N.cloneElement(e,{onClick:o,ref:i}):a.jsx("button",{ref:i,className:t,onClick:o,...r,children:e})});e0.displayName="DropdownMenuTrigger";const t0=N.forwardRef(({className:t,children:e,sideOffset:n=4,align:r="center",...i},s)=>{const o=N.useContext(w2),l=N.useRef(null);if(N.useEffect(()=>{const u=f=>{l.current&&!l.current.contains(f.target)&&o?.setOpen(!1)},h=f=>{f.key==="Escape"&&o?.setOpen(!1)};return o?.open&&(document.addEventListener("mousedown",u),document.addEventListener("keydown",h)),()=>{document.removeEventListener("mousedown",u),document.removeEventListener("keydown",h)}},[o?.open,o]),!o?.open)return null;const c={start:"left-0",center:"left-1/2 -translate-x-1/2",end:"right-0"};return N.useEffect(()=>{if(l.current&&o?.open){const u=()=>{if(!l.current)return;const f=l.current.parentElement?.querySelector("button")||l.current.parentElement?.previousElementSibling;if(f){const m=f.getBoundingClientRect(),v=window.innerHeight,y=0,S=m.bottom+n,b=l.current.offsetHeight||200,_=S+b,E=y+20;if(_>v-20){const C=v-m.bottom,j=m.top;if(j>C&&j>b+20)l.current.style.top="auto",l.current.style.bottom=`calc(100% + ${n}px)`;else{const R=v-b-20;l.current.style.top=`${Math.max(E,Math.min(S,R))}px`}}else{const C=Math.max(E,S);l.current.style.top=`${C}px`,l.current.style.bottom="auto"}}};setTimeout(u,0);const h=()=>setTimeout(u,0);return window.addEventListener("resize",h),()=>{window.removeEventListener("resize",h)}}},[o?.open,n]),a.jsx("div",{ref:l,className:Gt("absolute z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",c[r],t),style:{top:`calc(100% + ${n}px)`},...i,children:e})});t0.displayName="DropdownMenuContent";const Ho=N.forwardRef(({className:t,inset:e,disabled:n,onClick:r,...i},s)=>{const o=N.useContext(w2),l=c=>{n||(r?.(c),o?.setOpen(!1))};return a.jsx("div",{ref:s,className:Gt("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground",e&&"pl-8",n&&"pointer-events-none opacity-50",t),onClick:l,...i})});Ho.displayName="DropdownMenuItem";const s$=N.forwardRef(({className:t,children:e,checked:n,disabled:r,...i},s)=>a.jsxs("div",{ref:s,className:Gt("relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground",r&&"pointer-events-none opacity-50",t),...i,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n&&a.jsx(qB,{className:"h-4 w-4"})}),e]}));s$.displayName="DropdownMenuCheckboxItem";const a$=N.forwardRef(({className:t,children:e,disabled:n,...r},i)=>a.jsxs("div",{ref:i,className:Gt("relative flex cursor-pointer select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground",n&&"pointer-events-none opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(h7,{className:"h-2 w-2 fill-current"})}),e]}));a$.displayName="DropdownMenuRadioItem";const n0=N.forwardRef(({className:t,inset:e,...n},r)=>a.jsx("div",{ref:r,className:Gt("px-2 py-1.5 text-sm",e&&"pl-8",t),...n}));n0.displayName="DropdownMenuLabel";const Fc=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("-mx-1 my-1 h-px bg-muted",t),...e}));Fc.displayName="DropdownMenuSeparator";const o$=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg",t),...e}));o$.displayName="DropdownMenuSubContent";const l$=N.forwardRef(({className:t,inset:e,children:n,...r},i)=>a.jsxs("div",{ref:i,className:Gt("flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent",e&&"pl-8",t),...r,children:[n,a.jsx(d7,{className:"ml-auto h-4 w-4"})]}));l$.displayName="DropdownMenuSubTrigger";function Aa({children:t,title:e,userType:n,breadcrumbs:r}){const i=Ll(),s=g0(),{user:o,logout:l}=Da(),[c,u]=N.useState(!1),[h,f]=N.useState(!1),m={name:o?.name||(n==="admin"?"Admin Temanikan":"Roma Juliana"),email:o?.email||(n==="admin"?"admin@temanikan.com":"roma@example.com"),role:n==="admin"?"Administrator":"Member Premium"},v=[{id:1,title:"pH terlalu rendah",message:"Parameter pH akuarium Anda berada di 6.2, disarankan untuk dinaikkan.",time:"5 menit yang lalu",type:"warning"},{id:2,title:"Penyakit terdeteksi",message:"Terdeteksi gejala white spot pada ikan Koi Anda.",time:"1 jam yang lalu",type:"alert"},{id:3,title:"Jadwal pemberian makan",message:"Waktunya memberi makan ikan Anda.",time:"2 jam yang lalu",type:"info"}],b=n==="member"?[{icon:kb,label:"Perangkat",path:"/member/devices"},{icon:UA,label:"Fishpedia",path:"/member/fishpedia"},{icon:od,label:"Forum",path:"/member/forum"},{icon:bm,label:"Pesanan Saya",path:"/member/orders"}]:[{icon:kb,label:"Dashboard",path:"/admin"},{icon:Dx,label:"Manajemen Pengguna",path:"/admin/users"},{icon:Qr,label:"Status Robot",path:"/admin/robots"},{icon:Ix,label:"Tren Deteksi",path:"/admin/disease-trends"},{icon:UA,label:"Fishpedia",path:"/admin/fishpedia"},{icon:od,label:"Forum",path:"/admin/forum"},{icon:bm,label:"Kelola Pesanan",path:"/admin/orders"}],_=()=>{l(),i("/")},E=C=>C==="/member/devices"?s.pathname===C||s.pathname==="/member"||s.pathname.startsWith("/member/device/"):C==="/member/forum"?s.pathname.startsWith("/member/forum"):C==="/admin/forum"?s.pathname.startsWith("/admin/forum"):C==="/member/fishpedia"?s.pathname.startsWith("/member/fishpedia"):C==="/member/orders"?s.pathname.startsWith("/member/orders"):C==="/admin/orders"?s.pathname.startsWith("/admin/orders"):s.pathname===C;return a.jsxs("div",{className:"min-h-screen dashboard-container relative overflow-hidden",style:{backgroundColor:"#F5F6FA"},children:[a.jsx("nav",{className:"sticky top-0 z-40 shadow-sm",style:{backgroundColor:"#FFFFFF"},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[a.jsx(Yo,{className:"w-7 h-7",style:{color:"#4880FF"}}),a.jsx("span",{className:"text-lg hidden sm:block",style:{color:"#1F2937",fontWeight:700},children:"temanikan"})]}),a.jsx("div",{className:"hidden lg:flex items-center gap-0.5 flex-1 justify-center max-w-4xl mx-4",children:b.map(C=>a.jsxs(mr,{to:C.path,className:"flex items-center gap-1.5 px-3 py-2 rounded-lg transition-all",style:{backgroundColor:E(C.path)?"#4880FF":"transparent",color:E(C.path)?"#FFFFFF":"#6B7280",fontWeight:E(C.path)?600:500,fontSize:"13px",transform:"translateY(0)",transitionProperty:"all",transitionDuration:"200ms"},onMouseEnter:j=>{E(C.path)||(j.currentTarget.style.transform="translateY(-3px)",j.currentTarget.style.backgroundColor="#F3F4F6")},onMouseLeave:j=>{j.currentTarget.style.transform="translateY(0)",E(C.path)||(j.currentTarget.style.backgroundColor="transparent")},children:[a.jsx(C.icon,{className:"w-4 h-4 flex-shrink-0"}),a.jsx("span",{className:"whitespace-nowrap",children:C.label})]},C.path))}),a.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[a.jsxs("select",{className:"hidden md:block px-2.5 py-1.5 rounded-lg border text-xs",style:{borderColor:"#E5E7EB",color:"#6B7280"},defaultValue:"id",children:[a.jsx("option",{value:"id",children:"ID"}),a.jsx("option",{value:"en",children:"EN"})]}),a.jsxs(Gb,{open:h,onOpenChange:f,children:[a.jsx(e0,{asChild:!0,children:a.jsxs("button",{className:"relative hover:bg-gray-100 p-2 rounded-lg transition-colors",children:[a.jsx(eo,{className:"w-5 h-5",style:{color:"#6B7280"}}),a.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 rounded-full text-xs flex items-center justify-center text-white",style:{backgroundColor:"#EF4444",fontSize:"10px"},children:v.length})]})}),a.jsxs(t0,{align:"end",className:"w-80",style:{backgroundColor:"white"},children:[a.jsx(n0,{style:{color:"#1F2937"},children:"Notifikasi Belum Dibaca"}),a.jsx(Fc,{}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:v.map(C=>a.jsx(Ho,{className:"flex flex-col items-start p-3 cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-2 w-full",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${C.type==="alert"?"bg-red-500":C.type==="warning"?"bg-yellow-500":"bg-blue-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:C.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:C.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:C.time})]})]})},C.id))}),a.jsx(Fc,{}),a.jsx(Ho,{className:"text-center cursor-pointer",onClick:()=>i(`/${n}/notifications`),children:a.jsx("span",{className:"w-full",style:{color:"#4880FF"},children:"Lihat Semua Notifikasi"})})]})]}),a.jsxs(Gb,{children:[a.jsx(e0,{asChild:!0,children:a.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-100 px-2.5 py-1.5 rounded-lg transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4880FF"},children:a.jsx(Wc,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[a.jsx("p",{className:"text-xs",style:{color:"#1F2937",fontWeight:600},children:m.name}),a.jsx("p",{className:"text-xs",style:{color:"#6B7280",fontSize:"11px"},children:m.role})]}),a.jsx(Mc,{className:"w-4 h-4 hidden lg:block",style:{color:"#6B7280"}})]})}),a.jsxs(t0,{align:"end",className:"w-56",children:[a.jsx(n0,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:m.name}),a.jsx("p",{className:"text-xs text-gray-600",children:m.email}),a.jsx("p",{className:"text-xs",style:{color:"#4880FF"},children:m.role})]})}),a.jsx(Fc,{}),a.jsx(Ho,{asChild:!0,children:a.jsxs(mr,{to:n==="member"?"/member/profile":"/admin/profile",className:"cursor-pointer flex items-center",children:[a.jsx(Wc,{className:"w-4 h-4 mr-2",style:{color:"#4880FF"}}),"Profil Saya"]})}),a.jsx(Ho,{asChild:!0,children:a.jsxs(mr,{to:n==="member"?"/member/settings":"/admin/settings",className:"cursor-pointer flex items-center",children:[a.jsx(mb,{className:"w-4 h-4 mr-2",style:{color:"#4880FF"}}),"Pengaturan"]})}),a.jsx(Fc,{}),a.jsxs(Ho,{onClick:_,className:"cursor-pointer text-red-600 focus:text-red-600 flex items-center",children:[a.jsx(KB,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]}),a.jsx("button",{className:"lg:hidden hover:bg-gray-100 p-2 rounded-lg transition-colors",onClick:()=>u(!c),children:a.jsx(UC,{className:"w-6 h-6",style:{color:"#1F2937"}})})]})]}),c&&a.jsx("div",{className:"lg:hidden border-t",style:{borderColor:"#E5E7EB"},children:a.jsx("div",{className:"py-2 space-y-1",children:b.map(C=>a.jsxs(mr,{to:C.path,onClick:()=>u(!1),className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all",style:{backgroundColor:E(C.path)?"#4880FF":"transparent",color:E(C.path)?"#FFFFFF":"#6B7280",fontWeight:E(C.path)?600:400},children:[a.jsx(C.icon,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:C.label})]},C.path))})})]})}),a.jsx("main",{className:"max-w-5xl mx-auto p-4 sm:p-6 lg:p-8 relative z-10",children:t})]})}const c$="http://localhost:5000";function u$(){const[t,e]=N.useState(null),[n,r]=N.useState(""),[i,s]=N.useState("Semua"),[o,l]=N.useState([]),[c,u]=N.useState(!0),[h,f]=N.useState(null);N.useEffect(()=>{m()},[]);const m=async()=>{try{u(!0),f(null);const b=await OC.getSpecies();if(b.success&&b.species){const _=b.species.filter(E=>E.status==="published").map(E=>({id:E.id,name:E.name,scientificName:E.scientificName,category:E.category,difficulty:E.difficulty,description:E.description,habitat:E.habitat,imageUrl:E.image?`${c$}${E.image}`:"",image:E.image,ph:E.phMin&&E.phMax?`${E.phMin}-${E.phMax}`:"7.0",temperature:E.tempMin&&E.tempMax?`${E.tempMin}-${E.tempMax}C`:"25C",phMin:E.phMin,phMax:E.phMax,tempMin:E.tempMin,tempMax:E.tempMax,temperament:"Damai",size:"10-15 cm",detailedDescription:E.description,family:"N/A",diet:"Informasi diet tidak tersedia",lifespan:"3-5 tahun"}));l(_)}}catch(b){console.error(" Error fetching fish data:",b),f("Gagal memuat data ikan")}finally{u(!1)}},v=["Semua","Mudah","Menengah","Sulit"],y=o.filter(b=>{const _=b.name.toLowerCase().includes(n.toLowerCase())||b.scientificName.toLowerCase().includes(n.toLowerCase()),E=i==="Semua"||b.difficulty===i;return _&&E}),S=b=>{switch(b){case"Mudah":return"bg-green-100 text-green-800";case"Menengah":return"bg-yellow-100 text-yellow-800";case"Sulit":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"space-y-6",children:[c&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Memuat data ikan..."})}),h&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:h}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl mb-3",style:{color:"#2D3436"},children:"Fishpedia"}),a.jsx("p",{className:"text-lg",style:{color:"#636E72"},children:"Jelajahi database lengkap ikan hias dengan informasi detail tentang perawatan, habitat, dan karakteristik setiap spesies"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(Lt,{placeholder:"Cari nama ikan atau nama ilmiah...",value:n,onChange:b=>r(b.target.value),className:"pl-10 py-6 text-base",style:{backgroundColor:"white"}})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm self-center mr-2",style:{color:"#636E72"},children:"Tingkat Kesulitan:"}),v.map(b=>a.jsx("button",{onClick:()=>s(b),className:"px-4 py-2 rounded-full text-sm transition-colors",style:{backgroundColor:i===b?"#4880FF":"white",color:i===b?"white":"#2D3436",border:i===b?"none":"1px solid #CBDCEB"},children:b},b))]})]}),a.jsx("div",{className:"mb-6",children:a.jsxs("p",{style:{color:"#636E72"},children:["Menampilkan ",a.jsx("span",{style:{color:"#4880FF"},children:y.length})," dari ",a.jsx("span",{style:{color:"#4880FF"},children:o.length})," spesies ikan"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(b=>a.jsxs(Je,{className:"overflow-hidden transition-all duration-300 cursor-pointer rounded-2xl",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:_=>{_.currentTarget.style.transform="translateY(-4px) scale(1.02)",_.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:_=>{_.currentTarget.style.transform="translateY(0) scale(1)",_.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},onClick:()=>e(b),children:[a.jsxs("div",{className:"relative h-48 bg-gradient-to-br from-blue-100 to-blue-200",children:[a.jsx(ca,{src:b.imageUrl,alt:b.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-3 right-3",children:a.jsx(Rt,{className:S(b.difficulty),children:b.difficulty})})]}),a.jsxs("div",{className:"p-5",children:[a.jsx("h3",{className:"text-xl mb-1",children:b.name}),a.jsx("p",{className:"text-sm text-gray-500 italic mb-3",children:b.scientificName}),a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:b.description}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Temperamen:"}),a.jsx("p",{className:"font-medium",children:b.temperament})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-500",children:"Ukuran:"}),a.jsx("p",{className:"font-medium",children:b.size})]})]}),a.jsxs("button",{className:"mt-4 flex items-center gap-2 group w-full justify-center",style:{color:"#4880FF"},children:["Lihat Detail",a.jsx(w0,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]},b.id))}),y.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Yo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500 text-lg",children:"Tidak ada ikan yang ditemukan"}),a.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Coba ubah kata kunci pencarian atau filter tingkat kesulitan"})]}),a.jsx(pn,{open:t!==null,onOpenChange:()=>e(null),children:a.jsxs(hn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",style:{backgroundColor:"#F3F3E0",border:"none"},children:[a.jsxs(gr,{className:"border-b pb-4",style:{borderColor:"#CBDCEB"},children:[a.jsx(cr,{className:"text-2xl font-bold",style:{color:"#133E87"},children:t?.name}),a.jsx("p",{className:"text-sm italic text-gray-600 mt-1",children:t?.scientificName})]}),t&&a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"relative h-72 rounded-xl overflow-hidden bg-gradient-to-br from-blue-100 to-blue-200 shadow-lg",children:[a.jsx(ca,{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-4 right-4",children:a.jsx(Rt,{className:S(t.difficulty)+" text-sm px-3 py-1 shadow-md",children:t.difficulty})})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Kategori"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:t.category})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Famili"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:t.family||"N/A"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Temperamen"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:t.temperament||"Damai"})]})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#133E87"},children:" Deskripsi"}),a.jsx("p",{className:"leading-relaxed text-sm",style:{color:"#636E72"},children:t.detailedDescription||t.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-4",style:{color:"#133E87"},children:" Parameter Air"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Suhu"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:t.temperature})]}),a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"pH"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:t.ph})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Ukuran Maksimal"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:t.size})]})]})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-4",style:{color:"#133E87"},children:" Informasi Lainnya"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Temperamen"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:t.temperament})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Lama Hidup"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:t.lifespan})]})]})]})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#133E87"},children:" Habitat Alami"}),a.jsx("p",{className:"leading-relaxed text-sm",style:{color:"#636E72"},children:t.habitat||"Informasi habitat tidak tersedia"})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#133E87"},children:" Makanan & Diet"}),a.jsx("p",{className:"leading-relaxed text-sm",style:{color:"#636E72"},children:t.diet||"Informasi diet tidak tersedia"})]})]})]})})]})}/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),lP=t=>{const e=h$(t);return e.charAt(0).toUpperCase()+e.slice(1)},k4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),f$=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...p$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:k4("lucide",i),...!s&&!f$(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,h])=>N.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(m$,{ref:s,iconNode:e,className:k4(`lucide-${d$(lP(t))}`,`lucide-${t}`,r),...i}));return n.displayName=lP(t),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],x$=Ol("arrow-left",g$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],y$=Ol("eye",v$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],w$=Ol("flag",b$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],P4=Ol("message-square",S$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],A$=Ol("pen",_$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],C$=Ol("plus",E$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cP=Ol("search",M$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],BE=Ol("thumbs-up",N$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],j$=Ol("trash-2",T$);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],DE=Ol("user",k$);function Ab({variant:t="default",size:e="default",className:n=""}={}){const r="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md transition-all disabled:pointer-events-none disabled:opacity-50 outline-none",i={default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},s={default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"};return Gt(r,i[t],s[e],n)}const Ue=N.forwardRef(({className:t,variant:e="default",size:n="default",...r},i)=>a.jsx("button",{className:Ab({variant:e,size:n,className:t}),ref:i,...r}));Ue.displayName="Button";function P$(){const{user:t}=Da(),[e,n]=N.useState([]),[r,i]=N.useState([]),[s,o]=N.useState("Semua Topik"),[l,c]=N.useState(null),[u,h]=N.useState(!1),[f,m]=N.useState(!0),[v,y]=N.useState(null),[S,b]=N.useState(""),[_,E]=N.useState(!1),[C,j]=N.useState(null),[R,k]=N.useState(""),[D,O]=N.useState(""),[I,U]=N.useState(!1),[K,$]=N.useState(!1),[re,Y]=N.useState(!1),[se,oe]=N.useState(new Set);N.useEffect(()=>{le()},[]);const le=async()=>{try{m(!0),y(null);const ne=await Is.getTopics();if(console.log(" Topics from database:",ne),ne.success&&ne.topics){const be=ne.topics.map(pe=>{const Ce=(pe.category||"umum").split("-").map(Ge=>Ge.charAt(0).toUpperCase()+Ge.slice(1).toLowerCase()).join(" ");return{id:pe.id,title:pe.title,content:pe.content,author_name:pe.author?.name||pe.author?.username||"Anonymous",category:Ce,replies_count:pe.reply_count||0,likes:pe.like_count||0,views:pe.views||0,created_at:pe.created_at,updated_at:pe.updated_at,is_pinned:pe.is_pinned||!1,user_liked:pe.user_liked||!1}});n(be);const Ae=be.reduce((pe,X)=>(pe[X.category]=(pe[X.category]||0)+1,pe),{}),Se=[{name:"Semua Topik",count:be.length},...Object.entries(Ae).map(([pe,X])=>({name:pe,count:X}))];i(Se)}}catch(ne){console.error(" Error fetching topics:",ne),y(ne.response?.data?.message||"Gagal memuat topik forum")}finally{m(!1)}},H=async ne=>{try{const be=await Is.getTopic(ne.id);if(console.log(" Topic detail from database:",be),be.success&&be.topic){const Ae=be.topic.replies?.map(Se=>({id:Se.id,author_name:Se.author?.name||Se.author?.username||"Anonymous",content:Se.content,likes:Se.like_count||0,created_at:Se.created_at}))||[];c({...ne,replies:Ae}),h(!0)}}catch(be){console.error(" Error fetching replies:",be),c(ne),h(!0)}},q=()=>{let ne=e;if(s!=="Semua Topik"&&(ne=ne.filter(be=>be.category===s)),S.trim()){const be=S.toLowerCase().trim();ne=ne.filter(Ae=>Ae.title.toLowerCase().includes(be)||Ae.author_name.toLowerCase().includes(be))}return ne},Q=ne=>{const be=new Date(ne),Se=Math.floor((new Date().getTime()-be.getTime())/1e3);return Se<60?"Baru saja":Se<3600?`${Math.floor(Se/60)} menit yang lalu`:Se<86400?`${Math.floor(Se/3600)} jam yang lalu`:`${Math.floor(Se/86400)} hari yang lalu`},V=ne=>{j(ne),k(""),O(""),E(!0)},ee=async()=>{if(!C||!R){alert("Silakan pilih alasan laporan");return}try{U(!0);const ne=await Is.reportTopic(C,{reason:R,description:D});console.log(" Report submitted:",ne),E(!1),ne.message&&ne.message.includes("sudah")?Y(!0):$(!0)}catch(ne){console.error(" Error submitting report:",ne),ne.response?.data?.error?.includes("sudah")?(E(!1),Y(!0)):alert(ne.response?.data?.error||"Gagal mengirim laporan")}finally{U(!1)}},ce=async(ne,be)=>{if(be.preventDefault(),be.stopPropagation(),!se.has(ne))try{oe(Se=>new Set(Se).add(ne));const Ae=await Is.toggleTopicLike(ne);console.log(" Like toggled:",Ae),n(Se=>Se.map(pe=>pe.id===ne?{...pe,likes:Ae.like_count||pe.likes,user_liked:Ae.liked!==void 0?Ae.liked:!pe.user_liked}:pe))}catch(Ae){console.error(" Error toggling like:",Ae)}finally{oe(Ae=>{const Se=new Set(Ae);return Se.delete(ne),Se})}};return f?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat forum..."})]})}):v?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-red-500 mb-4",children:v}),a.jsx("button",{onClick:le,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Coba Lagi"})]})}):a.jsxs("div",{className:"space-y-6 animate-fade-in p-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl mb-2",style:{color:"#1F2937",fontWeight:700},children:["Forum ",a.jsx("span",{style:{color:"#4880FF"},children:"Komunitas"})]}),a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Berbagi pengalaman dan tips dengan komunitas"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(mr,{to:"/member/forum/new",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white hover:shadow-lg transition-all",style:{backgroundColor:"#4880FF"},children:[a.jsx(C$,{className:"w-4 h-4"}),"Topik Baru"]})}),a.jsx(mr,{to:"/member/forum/my-topics",children:a.jsx("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-50 transition-all",style:{color:"#4880FF",border:"1px solid #4880FF"},children:"Lihat Topik Saya"})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:a.jsx(cP,{className:"w-5 h-5",style:{color:"#9CA3AF"}})}),a.jsx("input",{type:"text",placeholder:"Cari topik berdasarkan judul atau nama penulis...",value:S,onChange:ne=>b(ne.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all placeholder:text-gray-400",style:{backgroundColor:"white"}}),S&&a.jsx("button",{onClick:()=>b(""),className:"absolute inset-y-0 right-0 pr-4 flex items-center text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"lg:col-span-1 p-6 h-fit rounded-xl shadow-md border",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[a.jsx("h3",{className:"mb-4 text-lg",style:{color:"#1F2937",fontWeight:600},children:"Kategori"}),a.jsx("div",{className:"space-y-2",children:r.map((ne,be)=>a.jsxs("button",{onClick:()=>o(ne.name),className:"w-full flex items-center justify-between p-3 rounded-lg transition-all text-left hover:bg-gray-50 hover:shadow-md cursor-pointer",style:{backgroundColor:s===ne.name?"rgba(72, 128, 255, 0.1)":"transparent",color:s===ne.name?"#4880FF":"#1F2937",fontWeight:s===ne.name?600:400,border:s===ne.name?"1px solid rgba(72, 128, 255, 0.2)":"1px solid transparent"},children:[a.jsx("span",{className:"text-sm",children:ne.name}),a.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:s===ne.name?"rgba(72, 128, 255, 0.2)":"rgba(107, 114, 128, 0.1)",color:s===ne.name?"#4880FF":"#6B7280"},children:ne.count})]},be))})]}),a.jsx("div",{className:"lg:col-span-3 space-y-4",children:q().length===0?a.jsx("div",{className:"text-center py-12 text-gray-500",children:S?a.jsxs("div",{children:[a.jsx(cP,{className:"w-12 h-12 mx-auto mb-4 opacity-30"}),a.jsx("p",{className:"text-lg font-semibold mb-2",children:"Tidak ada hasil"}),a.jsxs("p",{className:"text-sm",children:['Tidak ditemukan topik dengan kata kunci "',S,'"']}),a.jsx("p",{className:"text-sm mt-1",children:s!=="Semua Topik"&&`di kategori ${s}`})]}):a.jsx("p",{children:"Belum ada topik di kategori ini"})}):q().map(ne=>a.jsx("div",{className:"p-6 rounded-xl shadow-md border hover:shadow-xl transition-all",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"rgba(72, 128, 255, 0.1)"},children:a.jsx(DE,{className:"w-6 h-6",style:{color:"#4880FF"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-start justify-between mb-2",children:a.jsxs("div",{children:[a.jsx(mr,{to:`/member/forum/topic/${ne.id}`,children:a.jsxs("h4",{className:"mb-1 hover:underline cursor-pointer text-lg",style:{color:"#1F2937",fontWeight:600},children:[ne.title,ne.is_pinned&&a.jsx("span",{className:"ml-2 text-xs px-2 py-1 rounded",style:{backgroundColor:"rgba(254, 197, 61, 0.1)",color:"#FEC53D"},children:"Populer"})]})}),a.jsxs("div",{className:"flex items-center gap-3 text-sm",style:{color:"#6B7280"},children:[a.jsx("span",{children:ne.author_name}),a.jsx("span",{children:""}),a.jsx("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"rgba(72, 128, 255, 0.1)",color:"#4880FF",border:"1px solid rgba(72, 128, 255, 0.2)"},children:ne.category}),a.jsx("span",{children:""}),a.jsx("span",{children:Q(ne.created_at)})]})]})}),a.jsxs("div",{className:"flex items-center gap-6 mt-4 text-sm",children:[a.jsxs("button",{onClick:()=>H(ne),className:"flex items-center gap-2 hover:opacity-70 transition-all",style:{color:"#4880FF",fontWeight:500},children:[a.jsx(P4,{className:"w-4 h-4"}),a.jsx("span",{children:ne.replies_count})]}),a.jsxs("button",{onClick:be=>ce(ne.id,be),disabled:se.has(ne.id),className:"flex items-center gap-2 hover:opacity-70 transition-all disabled:opacity-50",style:{color:"#8280FF",fontWeight:500},children:[a.jsx(BE,{className:"w-4 h-4",fill:ne.user_liked?"currentColor":"none"}),a.jsx("span",{children:ne.likes})]}),a.jsx("button",{onClick:()=>V(ne.id),className:"flex items-center gap-2 text-gray-500 hover:text-red-500 transition-all",children:a.jsx(w$,{className:"w-4 h-4"})})]})]})]})},ne.id))})]}),u&&l&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"max-w-2xl w-full max-h-[80vh] rounded-xl overflow-hidden",style:{backgroundColor:"#F3F3E0"},children:[a.jsx("div",{className:"p-6 border-b",style:{borderColor:"#CBDCEB"},children:a.jsxs("h3",{className:"text-xl font-bold",style:{color:"#133E87"},children:[l.replies_count," Balasan - ",l.title]})}),a.jsx("div",{className:"p-6 overflow-y-auto max-h-[500px]",children:a.jsx("div",{className:"space-y-4",children:l.replies&&l.replies.length>0?l.replies.map(ne=>a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#CBDCEB"},children:a.jsx(DE,{className:"w-5 h-5",style:{color:"#608BC1"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-sm font-semibold",style:{color:"#133E87"},children:ne.author_name}),a.jsx("span",{className:"text-xs text-gray-500",children:Q(ne.created_at)})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:ne.content}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[a.jsx(BE,{className:"w-3 h-3"}),a.jsxs("span",{children:[ne.likes," suka"]})]})]})]})},ne.id)):a.jsx("div",{className:"text-center py-8 text-gray-500",children:"Belum ada balasan"})})}),a.jsx("div",{className:"p-4 border-t",style:{borderColor:"#CBDCEB"},children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx(mr,{to:`/member/forum/topic/${l.id}`,className:"flex-1",children:a.jsx("button",{className:"w-full py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"#133E87"},onClick:()=>h(!1),children:"Lihat Detail & Balas Topik"})}),a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 rounded-lg border",style:{borderColor:"#133E87",color:"#133E87"},children:"Tutup"})]})})]})}),a.jsx(pn,{open:_,onOpenChange:E,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:"#133E87"},children:"Laporkan Topik"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"#133E87"},children:["Alasan Laporan ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{value:R,onChange:ne=>k(ne.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"#E5E7EB"},children:[a.jsx("option",{value:"",children:"Pilih alasan"}),a.jsx("option",{value:"spam",children:"Spam atau iklan"}),a.jsx("option",{value:"inappropriate",children:"Konten tidak pantas"}),a.jsx("option",{value:"misleading",children:"Informasi menyesatkan"}),a.jsx("option",{value:"harassment",children:"Pelecehan atau bullying"}),a.jsx("option",{value:"other",children:"Lainnya"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"#133E87"},children:"Deskripsi (Opsional)"}),a.jsx("textarea",{value:D,onChange:ne=>O(ne.target.value),placeholder:"Jelaskan lebih detail tentang laporan Anda...",rows:4,className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",style:{borderColor:"#E5E7EB"}})]}),a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsx(Ue,{onClick:ee,disabled:!R||I,className:"flex-1 text-white",style:{backgroundColor:"#EF4444"},children:I?"Mengirim...":"Kirim Laporan"}),a.jsx(Ue,{onClick:()=>E(!1),variant:"outline",disabled:I,children:"Batal"})]})]})]})})}),a.jsx(pn,{open:K,onOpenChange:$,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#CBFFA9"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#133E87"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:"Laporan Berhasil Dikirim"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Terima kasih atas laporan Anda. Admin akan meninjau dan mengambil tindakan yang sesuai."}),a.jsx(Ue,{onClick:()=>$(!1),className:"w-full text-white font-semibold",style:{backgroundColor:"#4880FF"},children:"OK"})]})})}),a.jsx(pn,{open:re,onOpenChange:Y,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#FEF3C7"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#F59E0B"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:"Topik Sudah Dilaporkan"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Anda sudah pernah melaporkan topik ini sebelumnya. Laporan Anda sedang ditinjau oleh admin."}),a.jsx(Ue,{onClick:()=>Y(!1),className:"w-full text-white font-semibold",style:{backgroundColor:"#4880FF"},children:"OK"})]})})})]})}const qn=N.forwardRef(({className:t,checked:e,onCheckedChange:n,onChange:r,...i},s)=>{const o=l=>{r?.(l),n?.(l.target.checked)};return a.jsxs("label",{className:"inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",className:"sr-only peer",ref:s,checked:e,onChange:o,...i}),a.jsx("div",{className:Gt("relative inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors","peer-focus-visible:outline-none peer-focus-visible:ring-2 peer-focus-visible:ring-ring peer-focus-visible:ring-offset-2 peer-focus-visible:ring-offset-background","peer-disabled:cursor-not-allowed peer-disabled:opacity-50","peer-checked:bg-primary peer-unchecked:bg-input",t),children:a.jsx("span",{className:Gt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform","peer-checked:translate-x-4 peer-unchecked:translate-x-0")})})]})});qn.displayName="Switch";const O0=N.createContext(void 0),In=({value:t,onValueChange:e,defaultValue:n,children:r})=>{const[i,s]=N.useState(n),[o,l]=N.useState(!1),c=t!==void 0?t:i,u=h=>{e?e(h):s(h),l(!1)};return a.jsx(O0.Provider,{value:{value:c,onValueChange:u,open:o,setOpen:l},children:a.jsx("div",{className:"relative",children:r})})},Ln=({placeholder:t})=>{const e=N.useContext(O0);return a.jsx("span",{children:e?.value||t})},kn=N.forwardRef(({className:t,children:e,...n},r)=>{const i=N.useContext(O0);return a.jsxs("button",{ref:r,type:"button",className:Gt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),onClick:()=>i?.setOpen(!i.open),...n,children:[e,a.jsx(JB,{className:"h-4 w-4 opacity-50"})]})});kn.displayName="SelectTrigger";const R$=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(u7,{className:"h-4 w-4"})}));R$.displayName="SelectScrollUpButton";const F$=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(JB,{className:"h-4 w-4"})}));F$.displayName="SelectScrollDownButton";const Pn=N.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>{const s=N.useContext(O0),o=N.useRef(null);return N.useEffect(()=>{const l=u=>{o.current&&!o.current.contains(u.target)&&s?.setOpen(!1)},c=u=>{u.key==="Escape"&&s?.setOpen(!1)};return s?.open&&(document.addEventListener("mousedown",l),document.addEventListener("keydown",c)),()=>{document.removeEventListener("mousedown",l),document.removeEventListener("keydown",c)}},[s?.open,s]),s?.open?a.jsx("div",{ref:o,className:Gt("absolute z-50 max-h-96 min-w-[8rem] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",n==="popper"&&"translate-y-1",t),...r,children:a.jsx("div",{className:Gt("p-1",n==="popper"&&"w-full"),children:e})}):null});Pn.displayName="SelectContent";const B$=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("px-2 py-1.5 text-sm",t),...e}));B$.displayName="SelectLabel";const Oe=N.forwardRef(({className:t,children:e,value:n,disabled:r,...i},s)=>{const o=N.useContext(O0),l=o?.value===n,c=()=>{r||o?.onValueChange?.(n)};return a.jsxs("div",{ref:s,className:Gt("relative flex w-full cursor-pointer select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none hover:bg-accent hover:text-accent-foreground",r&&"pointer-events-none opacity-50",l&&"bg-accent",t),onClick:c,...i,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:l&&a.jsx(qB,{className:"h-4 w-4"})}),e]})});Oe.displayName="SelectItem";const D$=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("-mx-1 my-1 h-px bg-muted",t),...e}));D$.displayName="SelectSeparator";function I$(){return a.jsxs("div",{className:"space-y-6 max-w-4xl",children:[a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(eo,{className:"w-6 h-6",style:{color:"#608BC1"}}),a.jsx("h3",{style:{color:"#133E87"},children:"Notifikasi Email"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Notifikasi Kualitas Air"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Terima email saat kualitas air berubah"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Notifikasi Deteksi Penyakit"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Terima email saat penyakit terdeteksi"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Notifikasi Robot"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Terima email tentang status pembersihan robot"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Notifikasi Forum"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Terima email saat ada balasan di forum"})]}),a.jsx(qn,{})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Newsletter Mingguan"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Terima tips perawatan ikan dan update fitur"})]}),a.jsx(qn,{defaultChecked:!0})]})]})]}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(eo,{className:"w-6 h-6",style:{color:"#608BC1"}}),a.jsx("h3",{style:{color:"#133E87"},children:"Notifikasi Dashboard"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Notifikasi Real-time"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Tampilkan notifikasi langsung di dashboard"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Suara Notifikasi"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Mainkan suara saat ada notifikasi penting"})]}),a.jsx(qn,{})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Badge Notifikasi"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Tampilkan jumlah notifikasi yang belum dibaca"})]}),a.jsx(qn,{defaultChecked:!0})]})]})]}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(eo,{className:"w-6 h-6",style:{color:"#608BC1"}}),a.jsx("h3",{style:{color:"#133E87"},children:"Frekuensi Notifikasi"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2",style:{color:"#133E87"},children:"Ringkasan Harian"}),a.jsxs(In,{defaultValue:"morning",children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"disabled",children:"Nonaktif"}),a.jsx(Oe,{value:"morning",children:"Pagi (08:00)"}),a.jsx(Oe,{value:"afternoon",children:"Siang (12:00)"}),a.jsx(Oe,{value:"evening",children:"Sore (18:00)"})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Terima ringkasan aktivitas harian sekali sehari"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2",style:{color:"#133E87"},children:"Laporan Mingguan"}),a.jsxs(In,{defaultValue:"monday",children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"disabled",children:"Nonaktif"}),a.jsx(Oe,{value:"monday",children:"Senin"}),a.jsx(Oe,{value:"wednesday",children:"Rabu"}),a.jsx(Oe,{value:"friday",children:"Jumat"}),a.jsx(Oe,{value:"sunday",children:"Minggu"})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Terima laporan lengkap kondisi akuarium setiap minggu"})]})]})]}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(eo,{className:"w-6 h-6",style:{color:"#608BC1"}}),a.jsx("h3",{style:{color:"#133E87"},children:"Notifikasi Prioritas"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Peringatan Kritis"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Notifikasi segera untuk kondisi darurat (pH ekstrem, suhu berbahaya)"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Penyakit Terdeteksi"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Notifikasi prioritas tinggi saat sistem mendeteksi penyakit"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Gangguan Robot"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Notifikasi saat robot mengalami masalah atau error"})]}),a.jsx(qn,{defaultChecked:!0})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ue,{className:"text-white",style:{backgroundColor:"#133E87"},children:"Simpan Pengaturan"})})]})}const Nt=N.forwardRef(({className:t,...e},n)=>a.jsx("label",{ref:n,className:Gt("text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));Nt.displayName="Label";function L$(){const{user:t,updateProfile:e}=Da(),[n,r]=N.useState(!1),[i,s]=N.useState({namaLengkap:"",email:"",nomorHP:"",alamat:"",usia:"",jenisIkan:""}),[o,l]=N.useState(!1),[c,u]=N.useState(""),[h,f]=N.useState("");N.useEffect(()=>{t&&s({namaLengkap:t.name||"",email:t.email||"",nomorHP:t.phone||"",alamat:t.address||"",usia:t.age?t.age.toString():"",jenisIkan:t.primary_fish_type||""})},[t]);const[m,v]=N.useState({...i}),y=()=>{r(!0),v({...i}),u(""),f("")},S=()=>{r(!1),v({...i}),u(""),f("")},b=async()=>{l(!0),u(""),f("");try{console.log("Sending update data:",{name:m.namaLengkap,phone:m.nomorHP,address:m.alamat,age:m.usia?parseInt(m.usia):void 0,primary_fish_type:m.jenisIkan});const C=await e({name:m.namaLengkap,phone:m.nomorHP,address:m.alamat,age:m.usia?parseInt(m.usia):void 0,primary_fish_type:m.jenisIkan});console.log("Update result:",C),C.success?(s({...m}),f(C.message),r(!1)):u(C.message||"Gagal memperbarui profil")}catch(C){console.error("Update profile error:",C),u(C.message||"Terjadi kesalahan saat memperbarui profil")}finally{l(!1)}},_=(C,j)=>{v({...m,[C]:j})},E=["Ikan Koi","Ikan Mas Koki","Ikan Guppy","Ikan Cupang","Ikan Molly","Ikan Neon Tetra","Ikan Discus","Ikan Arwana","Ikan Louhan","Ikan Oscar","Lainnya"];return a.jsxs("div",{className:"max-w-3xl space-y-6",children:[h&&a.jsx("div",{className:"p-4 rounded-lg bg-green-50 border border-green-200",children:a.jsx("p",{className:"text-green-700",children:h})}),c&&a.jsx("div",{className:"p-4 rounded-lg bg-red-50 border border-red-200",children:a.jsx("p",{className:"text-red-700",children:c})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#CBDCEB"},children:a.jsx(Wc,{className:"w-8 h-8",style:{color:"#608BC1"}})}),a.jsxs("div",{children:[a.jsx("h2",{style:{color:"#133E87"},children:"Profil Pengguna"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Kelola informasi profil Anda"})]})]}),n?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ue,{variant:"outline",onClick:S,disabled:o,children:[a.jsx(md,{className:"w-4 h-4 mr-2"}),"Batal"]}),a.jsxs(Ue,{className:"text-white",style:{backgroundColor:"#133E87"},onClick:b,disabled:o,children:[a.jsx(YB,{className:"w-4 h-4 mr-2"}),o?"Menyimpan...":"Simpan Perubahan"]})]}):a.jsxs(Ue,{className:"text-white",style:{backgroundColor:"#133E87"},onClick:y,children:[a.jsx(ym,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"mb-6",style:{color:"#133E87"},children:"Informasi Personal"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"namaLengkap",children:"Nama Lengkap"}),n?a.jsx(Lt,{id:"namaLengkap",value:m.namaLengkap,onChange:C=>_("namaLengkap",C.target.value),className:"mt-2"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:i.namaLengkap})})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"email",children:"Email"}),n?a.jsx(Lt,{id:"email",type:"email",value:m.email,onChange:C=>_("email",C.target.value),className:"mt-2"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:i.email})})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"nomorHP",children:"Nomor HP"}),n?a.jsx(Lt,{id:"nomorHP",type:"tel",value:m.nomorHP,onChange:C=>_("nomorHP",C.target.value),className:"mt-2"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:i.nomorHP||"Belum diisi"})})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"alamat",children:"Alamat"}),n?a.jsx(Lt,{id:"alamat",type:"text",value:m.alamat,onChange:C=>_("alamat",C.target.value),className:"mt-2"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:i.alamat||"Belum diisi"})})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"usia",children:"Usia"}),n?a.jsx(Lt,{id:"usia",type:"number",value:m.usia,onChange:C=>_("usia",C.target.value),className:"mt-2",min:"1",max:"150",placeholder:"Masukkan usia"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:i.usia?`${i.usia} tahun`:"Belum diisi"})})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"jenisIkan",children:"Jenis Ikan Hias Utama"}),n?a.jsxs("select",{id:"jenisIkan",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 mt-2",value:m.jenisIkan,onChange:C=>_("jenisIkan",C.target.value),children:[a.jsx("option",{value:"",children:"Pilih jenis ikan"}),E.map(C=>a.jsx("option",{value:C,children:C},C))]}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:i.jenisIkan||"Belum diisi"})})]})]})]}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#133E87"},children:"Informasi Akun"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Status Akun"}),a.jsx("span",{className:"text-green-600",children:"Aktif"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Role"}),a.jsx("span",{style:{color:"#133E87"},children:t?.role==="member"?"Member Premium":"Admin"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"User ID"}),a.jsx("span",{style:{color:"#133E87"},children:t?.id||"-"})]})]})]})]})}const zM=N.createContext(void 0),Wm=({value:t,onValueChange:e,defaultValue:n,children:r,className:i,...s})=>{const[o,l]=N.useState(n),c=t!==void 0?t:o,u=e||l;return a.jsx(zM.Provider,{value:{value:c,onValueChange:u},children:a.jsx("div",{className:i,...s,children:r})})},Yc=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Yc.displayName="TabsList";const ns=N.forwardRef(({className:t,value:e,...n},r)=>{const i=N.useContext(zM),s=i?.value===e;return a.jsx("button",{ref:r,type:"button",className:Gt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",s&&"bg-background text-foreground shadow",t),onClick:()=>i?.onValueChange?.(e),...n})});ns.displayName="TabsTrigger";const Jc=N.forwardRef(({className:t,value:e,children:n,...r},i)=>N.useContext(zM)?.value===e?a.jsx("div",{ref:i,className:Gt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r,children:n}):null);Jc.displayName="TabsContent";function R4(){const[t]=N.useState([{id:1,title:"pH terlalu rendah",message:"Parameter pH akuarium Anda berada di 6.2, disarankan untuk dinaikkan ke range optimal 6.8-7.2.",time:"5 menit yang lalu",type:"warning",read:!1},{id:2,title:"Penyakit terdeteksi",message:"Terdeteksi gejala white spot pada ikan Koi Anda. Segera lakukan treatment untuk mencegah penyebaran.",time:"1 jam yang lalu",type:"alert",read:!1},{id:3,title:"Jadwal pemberian makan",message:"Waktunya memberi makan ikan Anda. Pastikan porsi makan sesuai dengan jumlah ikan.",time:"2 jam yang lalu",type:"info",read:!1},{id:4,title:"Suhu air normal",message:"Suhu air akuarium Anda dalam kondisi optimal di 25C.",time:"3 jam yang lalu",type:"success",read:!0},{id:5,title:"Jadwal penggantian air",message:"Sudah waktunya untuk mengganti 25% air akuarium. Terakhir diganti 2 minggu yang lalu.",time:"5 jam yang lalu",type:"info",read:!0},{id:6,title:"Filter perlu dibersihkan",message:"Filter akuarium Anda perlu dibersihkan untuk menjaga kualitas air yang optimal.",time:"1 hari yang lalu",type:"warning",read:!0},{id:7,title:"Kadar oksigen baik",message:"Kadar oksigen terlarut dalam kondisi baik. Sistem aerasi bekerja dengan sempurna.",time:"1 hari yang lalu",type:"success",read:!0},{id:8,title:"Perawatan robot selesai",message:"Perawatan rutin robot pembersih akuarium telah selesai dilakukan.",time:"2 hari yang lalu",type:"success",read:!0},{id:9,title:"Amonia terdeteksi tinggi",message:"Kadar amonia mencapai 0.5 ppm. Segera lakukan penggantian air dan periksa sistem filtrasi.",time:"3 hari yang lalu",type:"alert",read:!0},{id:10,title:"Pencahayaan optimal",message:"Durasi dan intensitas pencahayaan akuarium dalam kondisi optimal untuk pertumbuhan tanaman.",time:"3 hari yang lalu",type:"success",read:!0}]),[e,n]=N.useState("semua"),r=()=>{switch(e){case"belum-dibaca":return t.filter(c=>!c.read);case"sudah-dibaca":return t.filter(c=>c.read);default:return t}},i=c=>{switch(c){case"alert":return a.jsx(la,{className:"w-5 h-5 text-red-500"});case"warning":return a.jsx(la,{className:"w-5 h-5 text-yellow-500"});case"success":return a.jsx(lr,{className:"w-5 h-5 text-green-500"});default:return a.jsx(GC,{className:"w-5 h-5 text-blue-500"})}},s=c=>{switch(c){case"alert":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"success":return"bg-green-100 text-green-800";default:return"bg-blue-100 text-blue-800"}},o=t.filter(c=>!c.read).length,l=t.filter(c=>c.read).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(eo,{className:"w-8 h-8",style:{color:"#133E87"}}),a.jsxs("div",{children:[a.jsx("h2",{style:{color:"#133E87"},children:"Semua Notifikasi"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[o," notifikasi belum dibaca"]})]})]})}),a.jsx(Je,{style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:c=>{c.currentTarget.style.transform="translateY(-4px)",c.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)",c.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs(Wm,{defaultValue:"semua",onValueChange:n,children:[a.jsx("div",{className:"border-b px-6 pt-6",style:{borderColor:"#CBDCEB"},children:a.jsxs(Yc,{className:"w-full justify-start",style:{backgroundColor:"#F3F3E0"},children:[a.jsxs(ns,{value:"semua",className:"data-[state=active]:bg-white",children:["Semua (",t.length,")"]}),a.jsxs(ns,{value:"belum-dibaca",className:"data-[state=active]:bg-white",children:["Belum Dibaca (",o,")"]}),a.jsxs(ns,{value:"sudah-dibaca",className:"data-[state=active]:bg-white",children:["Sudah Dibaca (",l,")"]})]})}),a.jsx(Jc,{value:e,className:"p-0 m-0",children:a.jsxs("div",{className:"divide-y",style:{borderColor:"#CBDCEB"},children:[r().map(c=>a.jsx("div",{className:`p-6 hover:bg-gray-50 transition cursor-pointer ${c.read?"":"bg-blue-50"}`,children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:i(c.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{style:{color:"#133E87"},children:c.title}),!c.read&&a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#608BC1"}})]}),a.jsx(Rt,{className:s(c.type),children:c.type==="alert"?"Penting":c.type==="warning"?"Peringatan":c.type==="success"?"Berhasil":"Info"})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:c.message}),a.jsx("p",{className:"text-xs text-gray-500",children:c.time})]})]})},c.id)),r().length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(eo,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"Tidak ada notifikasi"})]})]})})]})})]})}function S2({className:t,...e}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:Gt("w-full caption-bottom text-sm",t),...e})})}function _2({className:t,...e}){return a.jsx("thead",{"data-slot":"table-header",className:Gt("[&_tr]:border-b",t),...e})}function A2({className:t,...e}){return a.jsx("tbody",{"data-slot":"table-body",className:Gt("[&_tr:last-child]:border-0",t),...e})}function El({className:t,...e}){return a.jsx("tr",{"data-slot":"table-row",className:Gt("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...e})}function $n({className:t,...e}){return a.jsx("th",{"data-slot":"table-head",className:Gt("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function Bn({className:t,...e}){return a.jsx("td",{"data-slot":"table-cell",className:Gt("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e})}function F4(){const[t,e]=N.useState("semua"),n=[{id:1,date:"4 Nov 2025",time:"20:00",duration:"45 menit",status:"completed",batteryUsed:35,areasCleaned:["Dasar kolam","Dinding kolam","Area filter"]},{id:2,date:"3 Nov 2025",time:"20:00",duration:"42 menit",status:"completed",batteryUsed:32,areasCleaned:["Dasar kolam","Dinding kolam"]},{id:3,date:"2 Nov 2025",time:"20:00",duration:"48 menit",status:"completed",batteryUsed:38,areasCleaned:["Dasar kolam","Dinding kolam","Area filter"]},{id:4,date:"2 Nov 2025",time:"10:00",duration:"15 menit",status:"interrupted",batteryUsed:12,areasCleaned:["Dasar kolam"],notes:"Pembersihan dihentikan secara manual"},{id:5,date:"1 Nov 2025",time:"20:00",duration:"44 menit",status:"completed",batteryUsed:34,areasCleaned:["Dasar kolam","Dinding kolam"]},{id:6,date:"31 Okt 2025",time:"20:00",duration:"0 menit",status:"failed",batteryUsed:0,areasCleaned:[],notes:"Baterai terlalu rendah untuk memulai pembersihan"},{id:7,date:"30 Okt 2025",time:"20:00",duration:"46 menit",status:"completed",batteryUsed:36,areasCleaned:["Dasar kolam","Dinding kolam","Area filter"]},{id:8,date:"29 Okt 2025",time:"20:00",duration:"43 menit",status:"completed",batteryUsed:33,areasCleaned:["Dasar kolam","Dinding kolam"]},{id:9,date:"28 Okt 2025",time:"20:00",duration:"47 menit",status:"completed",batteryUsed:37,areasCleaned:["Dasar kolam","Dinding kolam","Area filter"]},{id:10,date:"27 Okt 2025",time:"20:00",duration:"41 menit",status:"completed",batteryUsed:31,areasCleaned:["Dasar kolam","Dinding kolam"]},{id:11,date:"26 Okt 2025",time:"20:00",duration:"45 menit",status:"completed",batteryUsed:35,areasCleaned:["Dasar kolam","Dinding kolam"]},{id:12,date:"25 Okt 2025",time:"20:00",duration:"44 menit",status:"completed",batteryUsed:34,areasCleaned:["Dasar kolam","Dinding kolam","Area filter"]}],r=()=>{switch(t){case"berhasil":return n.filter(c=>c.status==="completed");case"gagal":return n.filter(c=>c.status==="failed"||c.status==="interrupted");default:return n}},i=c=>{switch(c){case"completed":return a.jsx(lr,{className:"w-5 h-5 text-green-600"});case"failed":return a.jsx(Vo,{className:"w-5 h-5 text-red-600"});case"interrupted":return a.jsx(la,{className:"w-5 h-5 text-yellow-600"});default:return null}},s=c=>{switch(c){case"completed":return a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Selesai"});case"failed":return a.jsx(Rt,{className:"bg-red-100 text-red-800",children:"Gagal"});case"interrupted":return a.jsx(Rt,{className:"bg-yellow-100 text-yellow-800",children:"Terputus"});default:return null}},o=n.filter(c=>c.status==="completed").length,l=n.filter(c=>c.status==="failed"||c.status==="interrupted").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Qr,{className:"w-8 h-8",style:{color:"#133E87"}}),a.jsxs("div",{children:[a.jsx("h2",{style:{color:"#133E87"},children:"Riwayat Pembersihan Lengkap"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[o," pembersihan berhasil dari ",n.length," total"]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:c=>{c.currentTarget.style.transform="translateY(-4px)",c.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)",c.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg bg-green-100",children:a.jsx(lr,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Berhasil"}),a.jsx("p",{className:"text-2xl",style:{color:"#133E87"},children:o})]})]})}),a.jsx(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:c=>{c.currentTarget.style.transform="translateY(-4px)",c.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)",c.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg bg-red-100",children:a.jsx(Vo,{className:"w-6 h-6 text-red-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Gagal/Terputus"}),a.jsx("p",{className:"text-2xl",style:{color:"#133E87"},children:l})]})]})}),a.jsx(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:c=>{c.currentTarget.style.transform="translateY(-4px)",c.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)",c.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#CBDCEB"},children:a.jsx(G1,{className:"w-6 h-6",style:{color:"#608BC1"}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Rata-rata Durasi"}),a.jsx("p",{className:"text-2xl",style:{color:"#133E87"},children:"44 menit"})]})]})})]}),a.jsx(Je,{style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:c=>{c.currentTarget.style.transform="translateY(-4px)",c.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:c=>{c.currentTarget.style.transform="translateY(0)",c.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs(Wm,{defaultValue:"semua",onValueChange:e,children:[a.jsx("div",{className:"border-b px-6 pt-6",style:{borderColor:"#CBDCEB"},children:a.jsxs(Yc,{className:"w-full justify-start",style:{backgroundColor:"#F3F3E0"},children:[a.jsxs(ns,{value:"semua",className:"data-[state=active]:bg-white",children:["Semua (",n.length,")"]}),a.jsxs(ns,{value:"berhasil",className:"data-[state=active]:bg-white",children:["Berhasil (",o,")"]}),a.jsxs(ns,{value:"gagal",className:"data-[state=active]:bg-white",children:["Gagal/Terputus (",l,")"]})]})}),a.jsxs(Jc,{value:t,className:"p-6",children:[a.jsxs(S2,{children:[a.jsx(_2,{children:a.jsxs(El,{children:[a.jsx($n,{style:{color:"#133E87"},children:"Tanggal & Waktu"}),a.jsx($n,{style:{color:"#133E87"},children:"Durasi"}),a.jsx($n,{style:{color:"#133E87"},children:"Status"}),a.jsx($n,{style:{color:"#133E87"},children:"Baterai Terpakai"}),a.jsx($n,{style:{color:"#133E87"},children:"Area Dibersihkan"}),a.jsx($n,{style:{color:"#133E87"},children:"Catatan"})]})}),a.jsx(A2,{children:r().map(c=>a.jsxs(El,{children:[a.jsx(Bn,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[i(c.status),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#133E87"},children:c.date}),a.jsx("p",{className:"text-xs text-gray-600",children:c.time})]})]})}),a.jsx(Bn,{style:{color:"#133E87"},children:c.duration}),a.jsx(Bn,{children:s(c.status)}),a.jsxs(Bn,{style:{color:"#133E87"},children:[c.batteryUsed,"%"]}),a.jsx(Bn,{children:a.jsx("div",{className:"space-y-1",children:c.areasCleaned.length>0?c.areasCleaned.map((u,h)=>a.jsxs("p",{className:"text-xs text-gray-600",children:[" ",u]},h)):a.jsx("p",{className:"text-xs text-gray-400",children:"-"})})}),a.jsx(Bn,{children:c.notes?a.jsx("p",{className:"text-xs text-gray-600",children:c.notes}):a.jsx("p",{className:"text-xs text-gray-400",children:"-"})})]},c.id))})]}),r().length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(Qr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"Tidak ada data riwayat pembersihan"})]})]})]})})]})}function B4(){const[t,e]=N.useState("semua"),[n,r]=N.useState("30d"),[i,s]=N.useState(null),o=[{id:1,fishType:"Ikan Koi",location:"Akuarium Utama",date:"4 Nov 2025",time:"14:30",status:"warning",disease:"White Spot Disease",confidence:85,imageUrl:"https://images.unsplash.com/photo-1669241942890-2e066facbd9c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrb2klMjBmaXNoJTIwY2xvc2UlMjB1cHxlbnwxfHx8fDE3NjIyNjUwNTl8MA&ixlib=rb-4.1.0&q=80&w=1080",recommendation:"Segera isolasi ikan yang terinfeksi. Naikkan suhu air secara bertahap hingga 28-30C. Berikan obat anti-parasit sesuai dosis.",symptoms:["Bintik putih pada tubuh","Ikan menggosok-gosokkan tubuh","Nafsu makan menurun"]},{id:2,fishType:"Ikan Mas",location:"Akuarium Utama",date:"3 Nov 2025",time:"16:45",status:"healthy",disease:"Tidak Terdeteksi",confidence:95,imageUrl:"https://images.unsplash.com/photo-1720001586147-0bfee9e5dba2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb2xkZmlzaCUyMGNsb3NlJTIwdW5kZXJ3YXRlcnxlbnwxfHx8fDE3NjIyNjUwNTl8MA&ixlib=rb-4.1.0&q=80&w=1080",recommendation:"Ikan dalam kondisi sehat. Lanjutkan perawatan rutin.",symptoms:[]},{id:3,fishType:"Ikan Cupang",location:"Akuarium Karantina",date:"3 Nov 2025",time:"09:15",status:"warning",disease:"Fin Rot",confidence:72,imageUrl:"https://images.unsplash.com/photo-1573472420143-0c68f179bdc7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiZXR0YSUyMGZpc2glMjBibHVlfGVufDF8fHx8MTc2MjI2NTA2MHww&ixlib=rb-4.1.0&q=80&w=1080",recommendation:"Periksa kualitas air. Ganti 25% air secara berkala. Berikan garam ikan dan antibiotik jika diperlukan.",symptoms:["Sirip robek atau compang-camping","Perubahan warna pada sirip"]},{id:4,fishType:"Ikan Koi",location:"Akuarium Utama",date:"2 Nov 2025",time:"11:20",status:"healthy",disease:"Tidak Terdeteksi",confidence:92,imageUrl:"https://images.unsplash.com/photo-1669241942890-2e066facbd9c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrb2klMjBmaXNoJTIwY2xvc2UlMjB1cHxlbnwxfHx8fDE3NjIyNjUwNTl8MA&ixlib=rb-4.1.0&q=80&w=1080",recommendation:"Ikan dalam kondisi sehat. Lanjutkan perawatan rutin.",symptoms:[]},{id:5,fishType:"Ikan Cupang",location:"Akuarium Karantina",date:"1 Nov 2025",time:"15:30",status:"critical",disease:"Dropsy",confidence:88,imageUrl:"https://images.unsplash.com/photo-1573472420143-0c68f179bdc7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiZXR0YSUyMGZpc2glMjBibHVlfGVufDF8fHx8MTc2MjI2NTA2MHww&ixlib=rb-4.1.0&q=80&w=1080",recommendation:"Kondisi kritis. Isolasi segera. Konsultasi dengan ahli ikan. Berikan antibiotik spektrum luas.",symptoms:["Perut membengkak","Sisik berdiri","Ikan tidak aktif"]},{id:6,fishType:"Ikan Mas",location:"Akuarium Utama",date:"31 Okt 2025",time:"10:00",status:"healthy",disease:"Tidak Terdeteksi",confidence:96,imageUrl:"https://images.unsplash.com/photo-1720001586147-0bfee9e5dba2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb2xkZmlzaCUyMGNsb3NlJTIwdW5kZXJ3YXRlcnxlbnwxfHx8fDE3NjIyNjUwNTl8MA&ixlib=rb-4.1.0&q=80&w=1080",recommendation:"Ikan dalam kondisi sehat. Lanjutkan perawatan rutin.",symptoms:[]},{id:7,fishType:"Ikan Koi",location:"Akuarium Utama",date:"30 Okt 2025",time:"14:15",status:"warning",disease:"Fungal Infection",confidence:78,imageUrl:"https://images.unsplash.com/photo-1669241942890-2e066facbd9c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrb2klMjBmaXNoJTIwY2xvc2UlMjB1cHxlbnwxfHx8fDE3NjIyNjUwNTl8MA&ixlib=rb-4.1.0&q=80&w=1080",recommendation:"Gunakan obat anti-jamur. Perbaiki kualitas air. Isolasi jika memburuk.",symptoms:["Bercak putih seperti kapas","Kulit tampak rusak"]},{id:8,fishType:"Ikan Cupang",location:"Akuarium Karantina",date:"29 Okt 2025",time:"09:45",status:"healthy",disease:"Tidak Terdeteksi",confidence:93,imageUrl:"https://images.unsplash.com/photo-1573472420143-0c68f179bdc7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiZXR0YSUyMGZpc2glMjBibHVlfGVufDF8fHx8MTc2MjI2NTA2MHww&ixlib=rb-4.1.0&q=80&w=1080",recommendation:"Ikan dalam kondisi sehat. Lanjutkan perawatan rutin.",symptoms:[]}],l=()=>{switch(t){case"sehat":return o.filter(m=>m.status==="healthy");case"perhatian":return o.filter(m=>m.status==="warning"||m.status==="critical");default:return o}},c=m=>{switch(m){case"healthy":return a.jsx(lr,{className:"w-5 h-5 text-green-600"});case"warning":return a.jsx(ld,{className:"w-5 h-5 text-yellow-600"});case"critical":return a.jsx(Vo,{className:"w-5 h-5 text-red-600"});default:return null}},u=m=>{switch(m){case"healthy":return a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Sehat"});case"warning":return a.jsx(Rt,{className:"bg-yellow-100 text-yellow-800",children:"Perhatian"});case"critical":return a.jsx(Rt,{className:"bg-red-100 text-red-800",children:"Kritis"});default:return null}},h=o.filter(m=>m.status==="healthy").length,f=o.filter(m=>m.status==="warning"||m.status==="critical").length;return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(206, 57, 57, 0.1)"},children:a.jsx(ka,{className:"w-7 h-7",style:{color:"#CE3939"}})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl",style:{color:"#1F2937",fontWeight:700},children:"Riwayat Deteksi Penyakit"}),a.jsxs("p",{className:"text-sm",style:{color:"#6B7280"},children:[o.length," total deteksi"]})]})]}),a.jsxs(Ue,{className:"text-white hover:shadow-lg transition-all",style:{backgroundColor:"#4880FF"},children:[a.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Export Data"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Je,{className:"p-6 rounded-xl shadow-md border hover:shadow-xl transition-all",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"rgba(74, 217, 145, 0.1)"},children:a.jsx(lr,{className:"w-6 h-6",style:{color:"#4AD991"}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Sehat"}),a.jsx("p",{className:"text-3xl",style:{color:"#1F2937",fontWeight:700},children:h})]})]})}),a.jsx(Je,{className:"p-6 rounded-xl shadow-md border hover:shadow-xl transition-all",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"rgba(254, 197, 61, 0.1)"},children:a.jsx(ld,{className:"w-6 h-6",style:{color:"#FEC53D"}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Perhatian/Kritis"}),a.jsx("p",{className:"text-3xl",style:{color:"#1F2937",fontWeight:700},children:f})]})]})}),a.jsx(Je,{className:"p-6 rounded-xl shadow-md border hover:shadow-xl transition-all",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"rgba(130, 128, 255, 0.1)"},children:a.jsx(G1,{className:"w-6 h-6",style:{color:"#8280FF"}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Periode"}),a.jsxs(In,{value:n,onValueChange:r,children:[a.jsx(kn,{className:"border-0 p-0 h-auto",style:{fontWeight:600},children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"7d",children:"7 Hari"}),a.jsx(Oe,{value:"30d",children:"30 Hari"}),a.jsx(Oe,{value:"90d",children:"90 Hari"})]})]})]})]})})]}),a.jsx(Je,{className:"rounded-xl shadow-md border",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:a.jsxs(Wm,{defaultValue:"semua",onValueChange:e,children:[a.jsx("div",{className:"border-b px-6 pt-6",style:{borderColor:"#E5E7EB"},children:a.jsxs(Yc,{className:"w-full justify-start",style:{backgroundColor:"rgba(72, 128, 255, 0.05)"},children:[a.jsxs(ns,{value:"semua",className:"data-[state=active]:bg-white",style:{fontWeight:600},children:["Semua (",o.length,")"]}),a.jsxs(ns,{value:"sehat",className:"data-[state=active]:bg-white",style:{fontWeight:600},children:["Sehat (",h,")"]}),a.jsxs(ns,{value:"perhatian",className:"data-[state=active]:bg-white",style:{fontWeight:600},children:["Perhatian/Kritis (",f,")"]})]})}),a.jsxs(Jc,{value:t,className:"p-6",children:[a.jsxs(S2,{children:[a.jsx(_2,{children:a.jsxs(El,{children:[a.jsx($n,{style:{color:"#1F2937",fontWeight:700},children:"Ikan"}),a.jsx($n,{style:{color:"#1F2937",fontWeight:700},children:"Tanggal & Waktu"}),a.jsx($n,{style:{color:"#1F2937",fontWeight:700},children:"Status"}),a.jsx($n,{style:{color:"#1F2937",fontWeight:700},children:"Diagnosis"}),a.jsx($n,{style:{color:"#1F2937",fontWeight:700},children:"Kepercayaan"}),a.jsx($n,{style:{color:"#1F2937",fontWeight:700},children:"Aksi"})]})}),a.jsx(A2,{children:l().map(m=>a.jsxs(El,{children:[a.jsx(Bn,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden flex-shrink-0",children:a.jsx(ca,{src:m.imageUrl,alt:m.fishType,className:"w-full h-full object-cover"})}),a.jsx("span",{style:{color:"#1F2937",fontWeight:600},children:m.fishType})]})}),a.jsx(Bn,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[c(m.status),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:m.date}),a.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:m.time})]})]})}),a.jsx(Bn,{children:u(m.status)}),a.jsx(Bn,{style:{color:"#1F2937",fontWeight:600},children:m.disease}),a.jsx(Bn,{children:a.jsxs("span",{className:"px-2 py-1 rounded text-sm",style:{backgroundColor:"rgba(72, 128, 255, 0.1)",color:"#4880FF",fontWeight:600},children:[m.confidence,"%"]})}),a.jsx(Bn,{children:a.jsxs(Ue,{variant:"ghost",size:"sm",onClick:()=>s(m),className:"hover:bg-blue-50 transition-all",style:{color:"#4880FF",fontWeight:600},children:[a.jsx(ka,{className:"w-4 h-4 mr-1"}),"Detail"]})})]},m.id))})]}),l().length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(ka,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"Tidak ada data deteksi"})]})]})]})}),a.jsx(pn,{open:i!==null,onOpenChange:m=>!m&&s(null),children:a.jsx(hn,{className:"max-w-2xl",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:m=>{m.currentTarget.style.transform="translateY(-4px)",m.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:m=>{m.currentTarget.style.transform="translateY(0)",m.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:i&&a.jsxs(a.Fragment,{children:[a.jsx(gr,{children:a.jsx(cr,{className:"text-xl",style:{color:"#1F2937",fontWeight:700},children:"Detail Deteksi Penyakit"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden",children:a.jsx(ca,{src:i.imageUrl,alt:i.fishType,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Jenis Ikan"}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:i.fishType})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Tingkat Kepercayaan"}),a.jsxs("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:[i.confidence,"%"]})]}),a.jsxs("div",{className:"col-span-2 p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Tanggal & Waktu"}),a.jsxs("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:[i.date," - ",i.time]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border-l-4",style:{backgroundColor:i.status==="healthy"?"rgba(74, 217, 145, 0.05)":"rgba(254, 197, 61, 0.05)",borderColor:i.status==="healthy"?"#4AD991":"#FEC53D"},children:[a.jsx("h4",{className:"mb-2 text-sm",style:{color:i.status==="healthy"?"#4AD991":"#FEC53D",fontWeight:600},children:"Diagnosis"}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:i.disease})]}),i.symptoms.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"mb-3 text-sm",style:{color:"#1F2937",fontWeight:600},children:"Gejala yang Terdeteksi"}),a.jsx("div",{className:"space-y-2",children:i.symptoms.map((m,v)=>a.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:"#FEC53D"}}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:m})]},v))})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"rgba(72, 128, 255, 0.05)",borderColor:"#4880FF33"},children:[a.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",style:{color:"#4880FF",fontWeight:600},children:[a.jsx(ld,{className:"w-5 h-5"}),"Rekomendasi Penanganan"]}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:i.recommendation})]})]})]})})})]})}function ad({className:t,...e}){return a.jsx("textarea",{"data-slot":"textarea",className:Gt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function O$(){const t=Ll(),{user:e,isLoggedIn:n}=Da(),[r,i]=N.useState({title:"",category:"",content:""}),[s,o]=N.useState(!1),[l,c]=N.useState(null),[u,h]=N.useState(!1),f=async y=>{if(y.preventDefault(),!r.title.trim()){c("Judul topik harus diisi");return}if(!r.category){c("Kategori harus dipilih");return}if(r.content.length<20){c("Isi topik minimal 20 karakter");return}try{o(!0),c(null),console.log(" Sending topic data:",{title:r.title,content:r.content,category:r.category});const S=await Is.createTopic({title:r.title.trim(),content:r.content.trim(),category:r.category});console.log(" Topic created successfully:",S),S.message||S.success||S.topic?h(!0):c("Response tidak valid dari server")}catch(S){console.error(" Error creating topic:",S);const b=S.response?.data?.error||S.response?.data?.message||S.message||"Gagal membuat topik";c(b)}finally{o(!1)}},m=()=>{h(!1),t("/member/forum/my-topics")},v=()=>{t("/member/forum")};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(Ue,{variant:"ghost",onClick:v,style:{color:"#608BC1"},children:[a.jsx(W1,{className:"w-5 h-5 mr-2"}),"Kembali ke Forum"]})}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-4px)",y.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h2",{className:"mb-6",style:{color:"#133E87"},children:"Buat Topik Baru"}),l&&a.jsx("div",{className:"mb-4 p-4 rounded-lg bg-red-50 border border-red-200",children:a.jsx("p",{className:"text-sm text-red-600",children:l})}),a.jsxs("form",{onSubmit:f,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs(Nt,{htmlFor:"title",className:"text-sm mb-2",style:{color:"#133E87"},children:["Judul Topik ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lt,{id:"title",placeholder:"Masukkan judul topik yang menarik...",value:r.title,onChange:y=>i({...r,title:y.target.value}),required:!0,className:"mt-2"})]}),a.jsxs("div",{children:[a.jsxs(Nt,{htmlFor:"category",className:"text-sm mb-2",style:{color:"#133E87"},children:["Kategori ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(In,{value:r.category,onValueChange:y=>i({...r,category:y}),children:[a.jsx(kn,{className:"mt-2",children:a.jsx(Ln,{placeholder:"Pilih kategori topik"})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"panduan",children:"Panduan"}),a.jsx(Oe,{value:"kesehatan",children:"Kesehatan"}),a.jsx(Oe,{value:"peralatan",children:"Peralatan"}),a.jsx(Oe,{value:"breeding",children:"Breeding"}),a.jsx(Oe,{value:"diskusi-umum",children:"Diskusi Umum"})]})]})]}),a.jsxs("div",{children:[a.jsxs(Nt,{htmlFor:"content",className:"text-sm mb-2",style:{color:"#133E87"},children:["Isi Topik ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ad,{id:"content",placeholder:"Tulis pertanyaan atau diskusi Anda di sini...",value:r.content,onChange:y=>i({...r,content:y.target.value}),required:!0,rows:10,className:"mt-2"}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Minimal 20 karakter. Sertakan detail yang jelas untuk mendapatkan respon yang lebih baik."})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:[a.jsx("h4",{className:"mb-2",style:{color:"#133E87"},children:"Tips Membuat Topik yang Baik:"}),a.jsxs("ul",{className:"text-sm text-gray-700 space-y-1 list-disc list-inside",children:[a.jsx("li",{children:"Gunakan judul yang jelas dan deskriptif"}),a.jsx("li",{children:"Pilih kategori yang sesuai agar mudah ditemukan"}),a.jsx("li",{children:"Jelaskan masalah atau pertanyaan dengan detail"}),a.jsx("li",{children:"Sertakan informasi relevan seperti jenis ikan, ukuran akuarium, dll"}),a.jsx("li",{children:"Gunakan bahasa yang sopan dan mudah dipahami"})]})]}),a.jsxs("div",{className:"flex gap-4 pt-4",children:[a.jsx(Ue,{type:"submit",className:"text-white",style:{backgroundColor:"#133E87"},disabled:!r.title||!r.category||!r.content||s,children:s?"Mempublikasikan...":"Publikasikan Topik"}),a.jsx(Ue,{type:"button",variant:"outline",onClick:v,disabled:s,children:"Batal"})]})]})]}),a.jsx(pn,{open:u,onOpenChange:h,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#CBFFA9"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#133E87"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:"Topik baru berhasil dibuat!"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Topik Anda telah dipublikasikan dan dapat dilihat oleh member lain."}),a.jsx(Ue,{onClick:m,className:"w-full text-white font-semibold",style:{backgroundColor:"#4880FF"},children:"OK"})]})})})]})}const IE=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));IE.displayName="Avatar";const U$=N.forwardRef(({className:t,src:e,alt:n,...r},i)=>{const[s,o]=N.useState(!1),[l,c]=N.useState(!1);return l||!e?null:a.jsx("img",{ref:i,src:e,alt:n,className:Gt("aspect-square h-full w-full object-cover",!s&&"opacity-0",s&&"opacity-100",t),onLoad:()=>o(!0),onError:()=>c(!0),...r})});U$.displayName="AvatarImage";const LE=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Gt("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));LE.displayName="AvatarFallback";function z$(){const t=Ll(),{topicId:e}=$o(),[n,r]=N.useState(""),[i,s]=N.useState(null),[o,l]=N.useState(!0),[c,u]=N.useState(!1),[h,f]=N.useState(!1),[m,v]=N.useState(!1),[y,S]=N.useState(""),[b,_]=N.useState(!1);N.useEffect(()=>{E()},[e]);const E=async()=>{try{l(!0);const k=Number(e);if(!k){t("/member/forum");return}const D=await Is.getTopic(k);if(console.log(" Topic detail from database:",D),D.success&&D.topic){const O={id:D.topic.id,title:D.topic.title,author_name:D.topic.author?.name||D.topic.author?.username||"Anonymous",category:D.topic.category||"Umum",content:D.topic.content,likes:D.topic.like_count||0,views:D.topic.views||0,created_at:D.topic.created_at,is_pinned:D.topic.is_pinned||!1,replies:D.topic.replies?.map(I=>({id:I.id,author_name:I.author?.name||I.author?.username||"Anonymous",content:I.content,likes:I.like_count||0,created_at:I.created_at}))||[]};s(O)}else S("Topik tidak ditemukan"),v(!0),setTimeout(()=>t("/member/forum"),2e3)}catch(k){console.error(" Error fetching topic:",k),S("Gagal memuat topik"),v(!0),setTimeout(()=>t("/member/forum"),2e3)}finally{l(!1)}},C=async k=>{if(k.preventDefault(),!n.trim()){S("Balasan tidak boleh kosong"),v(!0);return}if(n.trim().length<10){S("Balasan minimal 10 karakter"),v(!0);return}try{u(!0);const D=Number(e);console.log(" Sending reply:",{topic_id:D,content:n.trim()});const O=await Is.addReply(D,n.trim());console.log(" Reply created:",O),(O.success||O.reply)&&(r(""),S("Balasan berhasil dikirim!"),f(!0),E())}catch(D){console.error(" Error creating reply:",D);const O=D.response?.data?.error||D.response?.data?.message||"Gagal mengirim balasan";S(O),v(!0)}finally{u(!1)}},j=async()=>{if(!(b||!i))try{_(!0);const k=Number(e),D=await Is.toggleTopicLike(k);console.log(" Like toggled:",D),D.like_count!==void 0&&s({...i,likes:D.like_count})}catch(k){console.error(" Error toggling like:",k),S("Gagal menyukai topik"),v(!0)}finally{_(!1)}},R=k=>{const D=new Date(k),I=Math.floor((new Date().getTime()-D.getTime())/1e3);return I<60?"Baru saja":I<3600?`${Math.floor(I/60)} menit yang lalu`:I<86400?`${Math.floor(I/3600)} jam yang lalu`:`${Math.floor(I/86400)} hari yang lalu`};return o?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat topik..."})]})}):i?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs(Ue,{variant:"ghost",onClick:()=>t("/member/forum"),style:{color:"#608BC1"},children:[a.jsx(W1,{className:"w-5 h-5 mr-2"}),"Kembali ke Forum"]})}),a.jsx(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:k=>{k.currentTarget.style.transform="translateY(-4px)",k.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:k=>{k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx(IE,{className:"w-12 h-12",style:{backgroundColor:"#CBDCEB"},children:a.jsx(LE,{children:a.jsx(Wc,{className:"w-6 h-6",style:{color:"#608BC1"}})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h2",{style:{color:"#133E87"},children:i.title}),i.is_pinned&&a.jsx(Rt,{className:"bg-orange-100 text-orange-600",children:"Populer"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx("span",{style:{color:"#133E87"},children:i.author_name}),a.jsx("span",{children:""}),a.jsx(Rt,{variant:"outline",children:i.category}),a.jsx("span",{children:""}),a.jsx("span",{children:R(i.created_at)})]})]})}),a.jsx("div",{className:"prose max-w-none mb-4",children:a.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:i.content})}),a.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t",style:{borderColor:"#CBDCEB"},children:[a.jsxs("button",{onClick:j,disabled:b,className:"flex items-center gap-2 text-sm hover:opacity-70 transition disabled:opacity-50",style:{color:"#8280FF",fontWeight:500},children:[a.jsx(s7,{className:"w-4 h-4"}),a.jsx("span",{children:i.likes})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#4880FF",fontWeight:500},children:[a.jsx(od,{className:"w-4 h-4"}),a.jsx("span",{children:i.replies.length})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#6B7280",fontWeight:500},children:[a.jsx(ka,{className:"w-4 h-4"}),a.jsx("span",{children:i.views})]})]})]})]})}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:k=>{k.currentTarget.style.transform="translateY(-4px)",k.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:k=>{k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("h3",{className:"mb-4",style:{color:"#133E87"},children:[i.replies.length," Balasan"]}),a.jsx("div",{className:"space-y-4",children:i.replies.map(k=>a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(IE,{className:"w-10 h-10",style:{backgroundColor:"#CBDCEB"},children:a.jsx(LE,{children:a.jsx(Wc,{className:"w-5 h-5",style:{color:"#608BC1"}})})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-sm",style:{color:"#133E87"},children:k.author_name}),a.jsx("span",{className:"text-xs text-gray-500",children:R(k.created_at)})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-3",children:k.content}),a.jsx("button",{className:"text-xs hover:opacity-70 transition",style:{color:"#4880FF"},title:"Balas",children:a.jsx(od,{className:"w-4 h-4"})})]})]})},k.id))})]}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:k=>{k.currentTarget.style.transform="translateY(-4px)",k.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:k=>{k.currentTarget.style.transform="translateY(0)",k.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#133E87"},children:"Tulis Balasan"}),a.jsxs("form",{onSubmit:C,children:[a.jsx(ad,{placeholder:"Tulis balasan Anda di sini...",value:n,onChange:k=>r(k.target.value),rows:5,className:"mb-4"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(Ue,{type:"submit",className:"text-white",style:{backgroundColor:"#133E87"},disabled:!n.trim()||c,children:c?"Mengirim...":"Kirim Balasan"}),a.jsx(Ue,{type:"button",variant:"outline",onClick:()=>r(""),children:"Batal"})]})]})]}),a.jsx(pn,{open:h,onOpenChange:f,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#CBFFA9"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#133E87"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:y}),a.jsx(Ue,{onClick:()=>f(!1),className:"w-full text-white font-semibold mt-4",style:{backgroundColor:"#4880FF"},children:"OK"})]})})}),a.jsx(pn,{open:m,onOpenChange:v,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#FEE2E2"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#EF4444"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:y}),a.jsx(Ue,{onClick:()=>v(!1),className:"w-full text-white font-semibold mt-4",style:{backgroundColor:"#4880FF"},children:"OK"})]})})})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-gray-600",children:"Topik tidak ditemukan"})})})}function H$(){const{user:t}=Da(),[e,n]=N.useState([]),[r,i]=N.useState(!0),[s,o]=N.useState(null),[l,c]=N.useState("recent"),[u,h]=N.useState(!1),[f,m]=N.useState(!1),[v,y]=N.useState(null),[S,b]=N.useState("");N.useEffect(()=>{_()},[t?.id]);const _=async()=>{try{i(!0),o(null);const k=await Is.getUserTopics();if(console.log(" My topics from database:",k),k.success&&k.topics){const D=k.topics.map(O=>({id:O.id,title:O.title,content:O.content,author_name:O.author?.name||O.author?.username||"Anonymous",category:O.category||"Umum",replies_count:O.reply_count||0,likes:O.like_count||0,views:O.views||0,created_at:O.created_at,updated_at:O.updated_at,is_pinned:O.is_pinned||!1}));n(D)}else o("Gagal memuat topik Anda")}catch(k){console.error(" Error fetching my topics:",k),o(k.response?.data?.message||"Gagal memuat topik")}finally{i(!1)}},E=k=>{y(k),h(!0)},C=async()=>{if(v)try{const k=await Is.deleteTopic(v);console.log(" Topic deleted:",k),(k.message||k.success)&&(n(e.filter(D=>D.id!==v)),h(!1),b("Topik berhasil dihapus"),m(!0))}catch(k){console.error(" Error deleting topic:",k),h(!1),b(k.response?.data?.error||k.response?.data?.message||"Gagal menghapus topik"),m(!0)}},j=()=>{const k=[...e];switch(l){case"popular":return k.sort((D,O)=>O.likes-D.likes);case"replies":return k.sort((D,O)=>O.replies_count-D.replies_count);case"recent":default:return k.sort((D,O)=>new Date(O.created_at).getTime()-new Date(D.created_at).getTime())}},R=k=>{const D=new Date(k),I=Math.floor((new Date().getTime()-D.getTime())/1e3);return I<60?"Baru saja":I<3600?`${Math.floor(I/60)} menit yang lalu`:I<86400?`${Math.floor(I/3600)} jam yang lalu`:`${Math.floor(I/86400)} hari yang lalu`};return r?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat topik Anda..."})]})}):a.jsxs("div",{className:"space-y-6 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(mr,{to:"/member/forum",children:a.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-gray-100 transition-all",style:{color:"#4880FF"},children:[a.jsx(x$,{className:"w-4 h-4"}),"Kembali"]})}),a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold",style:{color:"#1F2937"},children:["Topik ",a.jsx("span",{style:{color:"#4880FF"},children:"Saya"})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Total: ",e.length," topik"]})]})]}),a.jsx(mr,{to:"/member/forum/new",children:a.jsx("button",{className:"px-4 py-2 rounded-lg text-white font-semibold hover:shadow-lg transition-all",style:{backgroundColor:"#4880FF"},children:"+ Topik Baru"})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"Urutkan:"}),["recent","popular","replies"].map(k=>a.jsx("button",{onClick:()=>c(k),className:"px-4 py-2 rounded-lg transition-all text-sm font-semibold",style:{backgroundColor:l===k?"#4880FF":"#F3F4F6",color:l===k?"white":"#6B7280"},children:k==="recent"?"Terbaru":k==="popular"?"Populer":"Paling Banyak Balasan"},k))]}),a.jsx("div",{className:"space-y-4",children:j().length===0?a.jsxs("div",{className:"p-12 rounded-xl text-center",style:{backgroundColor:"#F9FAFB",borderColor:"#E5E7EB"},children:[a.jsx(DE,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Anda belum membuat topik"}),a.jsx(mr,{to:"/member/forum/new",children:a.jsx("button",{className:"px-6 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"#4880FF"},children:"Buat Topik Pertama Anda"})})]}):j().map(k=>a.jsx("div",{className:"p-6 rounded-xl shadow-md border hover:shadow-xl transition-all",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:a.jsxs("div",{className:"flex justify-between items-start gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(mr,{to:`/member/forum/topic/${k.id}`,children:a.jsx("h3",{className:"text-lg font-bold hover:underline cursor-pointer mb-2",style:{color:"#1F2937"},children:k.title})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-3 text-sm",children:[a.jsx("span",{className:"px-3 py-1 rounded-lg font-semibold",style:{backgroundColor:"rgba(72, 128, 255, 0.1)",color:"#4880FF"},children:k.category}),a.jsx("span",{style:{color:"#6B7280"},children:""}),a.jsxs("span",{style:{color:"#6B7280"},children:["Dibuat: ",R(k.created_at)]}),a.jsx("span",{style:{color:"#6B7280"},children:""}),a.jsxs("span",{style:{color:"#6B7280"},children:["Diubah: ",R(k.updated_at)]})]}),a.jsx("p",{className:"text-gray-600 text-sm line-clamp-2 mb-4",children:k.content}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",style:{color:"#4880FF",fontWeight:500},children:[a.jsx(P4,{className:"w-4 h-4"}),a.jsx("span",{children:k.replies_count})]}),a.jsxs("div",{className:"flex items-center gap-2",style:{color:"#8280FF",fontWeight:500},children:[a.jsx(BE,{className:"w-4 h-4"}),a.jsx("span",{children:k.likes})]}),a.jsxs("div",{className:"flex items-center gap-2",style:{color:"#6B7280",fontWeight:500},children:[a.jsx(y$,{className:"w-4 h-4"}),a.jsx("span",{children:k.views})]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(mr,{to:`/member/forum/topic/${k.id}/edit`,children:a.jsx("button",{className:"p-2 rounded-lg hover:bg-blue-50 transition-all",style:{color:"#4880FF"},title:"Edit topik",children:a.jsx(A$,{className:"w-5 h-5"})})}),a.jsx("button",{onClick:()=>E(k.id),className:"p-2 rounded-lg hover:bg-red-50 transition-all text-red-500",title:"Hapus topik",children:a.jsx(j$,{className:"w-5 h-5"})})]})]})},k.id))}),a.jsx(pn,{open:u,onOpenChange:h,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#FEF3C7"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#F59E0B"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:"Apakah Anda yakin ingin menghapus topik ini?"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Tindakan ini tidak dapat dibatalkan."}),a.jsxs("div",{className:"flex gap-3 w-full",children:[a.jsx(Ue,{onClick:C,className:"flex-1 text-white font-semibold",style:{backgroundColor:"#EF4444"},children:"OK"}),a.jsx(Ue,{onClick:()=>h(!1),variant:"outline",className:"flex-1",children:"Cancel"})]})]})})}),a.jsx(pn,{open:f,onOpenChange:m,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#CBFFA9"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#133E87"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:S}),a.jsx(Ue,{onClick:()=>m(!1),className:"w-full text-white font-semibold mt-4",style:{backgroundColor:"#4880FF"},children:"OK"})]})})})]})}function G$(){const[t,e]=N.useState("list"),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[h,f]=N.useState(null),[m,v]=N.useState(null),[y,S]=N.useState(null),[b,_]=N.useState(""),[E,C]=N.useState([]),[j,R]=N.useState(!0),[k,D]=N.useState(null),[O,I]=N.useState({quantity:1,address:"",city:"",province:"",postalCode:"",paymentMethod:""}),U={name:"Robot Temanikan - Smart Aquarium Cleaner",image:"https://images.unsplash.com/photo-1563207153-f403bf289096?w=400",price:25e5,description:"Robot pembersih akuarium otomatis dengan AI detection terintegrasi"};N.useEffect(()=>{K()},[]);const K=async()=>{try{R(!0),D(null),console.log(" Fetching member orders from backend...");const X=await Cc.getMyOrders();console.log(" Orders received:",X),C(X.data||[])}catch(X){console.error(" Error fetching orders:",X),D(X.response?.data?.error||X.message||"Gagal memuat pesanan")}finally{R(!1)}},$=X=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(X),re=()=>U.price*O.quantity,Y=()=>O.address.trim()!==""&&O.city.trim()!==""&&O.province!==""&&O.postalCode.trim()!==""&&O.paymentMethod!=="",se=X=>X==="bank_transfer"?"Transfer Bank":X==="ewallet"||X==="e_wallet"?"E-Wallet":X==="credit_card"?"Kartu Kredit":X==="cod"?"COD":X,oe=async()=>{if(!Y()){alert("Mohon lengkapi semua field yang diperlukan");return}try{console.log(" Creating order...");const X=`${O.address}, ${O.city}, ${O.province} ${O.postalCode}`,Ce=await Cc.createOrder({product_name:U.name,quantity:O.quantity,total_price:re(),shipping_address:X,payment_method:O.paymentMethod,notes:""});console.log(" Order created:",Ce),v(Ce.data),r(!0),I({quantity:1,address:"",city:"",province:"",postalCode:"",paymentMethod:""}),K()}catch(X){console.error(" Error creating order:",X),alert("Gagal membuat pesanan: "+(X.response?.data?.error||X.message))}},le=()=>{r(!1),e("list")},H=()=>{r(!1),m&&(f(m),l(!0))},q=X=>{f(X),s(!0)},Q=X=>{f(X),l(!0)},V=X=>{X.target.files&&X.target.files[0]&&S(X.target.files[0])},ee=async()=>{if(!y){alert("Mohon upload bukti pembayaran terlebih dahulu");return}if(!h){alert("Order tidak ditemukan");return}try{console.log(" Uploading payment proof...",{orderId:h.id,fileName:y.name,fileSize:y.size});const X=await Cc.uploadPaymentProof(h.id,y);console.log(" Payment proof uploaded:",X),_(y.name),l(!1),u(!0),S(null),K()}catch(X){console.error(" Error uploading payment proof:",X),alert("Gagal upload bukti pembayaran: "+(X.response?.data?.error||X.message))}},ce=()=>{u(!1),_(""),e("list")},ne=X=>X.includes("Transfer Bank")||X==="bank_transfer"?{title:"Instruksi Transfer Bank",steps:["Transfer ke rekening berikut:","Bank BCA: 1234567890","A.n. PT Temanikan Indonesia",`Total yang harus dibayar: ${h?$(h.total_price):""}`,"Setelah transfer, upload bukti pembayaran di bawah ini"]}:X.includes("E-Wallet")||X==="ewallet"||X==="e_wallet"?{title:"Instruksi E-Wallet",steps:["Scan QR Code berikut menggunakan aplikasi GoPay/OVO/DANA:","[QR CODE PLACEHOLDER]",`Total yang harus dibayar: ${h?$(h.total_price):""}`,"Setelah pembayaran berhasil, upload screenshot bukti pembayaran"]}:{title:"Instruksi Pembayaran",steps:["Selesaikan pembayaran sesuai metode yang dipilih",`Total yang harus dibayar: ${h?$(h.total_price):""}`,"Upload bukti pembayaran setelah transaksi berhasil"]},be=(X,Ce)=>{if(Ce==="pending")return{label:"Menunggu Pembayaran",bgColor:"#FEF3C7",textColor:"#92400E"};const Ge={pending:{label:"Menunggu Konfirmasi",bgColor:"#FEF3C7",textColor:"#92400E"},confirmed:{label:"Diproses",bgColor:"#DBEAFE",textColor:"#1E40AF"},processing:{label:"Diproses",bgColor:"#DBEAFE",textColor:"#1E40AF"},shipping:{label:"Dikirim",bgColor:"#EDE9FE",textColor:"#5B21B6"},delivered:{label:"Selesai",bgColor:"#D1FAE5",textColor:"#065F46"},completed:{label:"Selesai",bgColor:"#D1FAE5",textColor:"#065F46"},cancelled:{label:"Dibatalkan",bgColor:"#FEE2E2",textColor:"#991B1B"}};return Ge[X]||Ge.pending},Ae=X=>X==="total"?E.length:X==="pending_payment"?E.filter(Ce=>Ce.payment_status==="pending").length:X==="processing"?E.filter(Ce=>Ce.status==="confirmed"||Ce.status==="processing").length:X==="shipped"?E.filter(Ce=>Ce.status==="shipping").length:X==="completed"?E.filter(Ce=>Ce.status==="delivered"||Ce.status==="completed").length:E.filter(Ce=>Ce.status===X).length,Se=X=>new Date(X).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),pe=Y();return j&&t==="list"?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Memuat pesanan..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx("button",{onClick:()=>e("create"),className:`p-6 rounded-xl transition-all border-2 ${t==="create"?"border-[#4880FF] shadow-lg":"border-transparent bg-white hover:border-[#CBDCEB]"}`,style:{backgroundColor:t==="create"?"#F3F3E0":"white"},children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(sf,{className:"w-6 h-6",style:{color:"#4880FF"}}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{style:{color:"#4880FF"},children:"Buat Pesanan Baru"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pesan Robot Temanikan"})]})]})}),a.jsx("button",{onClick:()=>e("list"),className:`p-6 rounded-xl transition-all border-2 ${t==="list"?"border-[#4880FF] shadow-lg":"border-transparent bg-white hover:border-[#CBDCEB]"}`,style:{backgroundColor:t==="list"?"#F3F3E0":"white"},children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(nm,{className:"w-6 h-6",style:{color:"#4880FF"}}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{style:{color:"#4880FF"},children:"Pesanan Saya"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Lihat riwayat pesanan"})]})]})})]}),t==="create"&&a.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"md:col-span-2 space-y-6",children:[a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-4px)",X.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#4880FF"},children:"Produk"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("div",{className:"w-32 h-32 flex-shrink-0 rounded-lg overflow-hidden",style:{backgroundColor:"#CBDCEB"},children:a.jsx("img",{src:U.image,alt:U.name,className:"w-full h-full object-cover",onError:X=>{X.currentTarget.src="https://via.placeholder.com/400x300?text=Robot+Temanikan"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"mb-2",style:{color:"#2D3436"},children:U.name}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:U.description}),a.jsx("p",{className:"text-2xl",style:{color:"#4880FF"},children:$(U.price)})]})]})]}),a.jsxs(Je,{className:"p-6",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-4px)",X.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-6",style:{color:"#4880FF"},children:"Detail Pesanan"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#2D3436"},children:"Jumlah"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>I({...O,quantity:Math.max(1,O.quantity-1)}),disabled:O.quantity<=1,children:"-"}),a.jsx(Lt,{type:"number",value:O.quantity,onChange:X=>I({...O,quantity:parseInt(X.target.value)||1}),className:"w-20 text-center",min:"1"}),a.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>I({...O,quantity:O.quantity+1}),children:"+"}),a.jsxs("span",{className:"text-sm text-gray-600 ml-2",children:["Total: ",a.jsx("span",{style:{color:"#4880FF"},children:$(re())})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm mb-2",style:{color:"#2D3436"},children:["Alamat Pengiriman ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(ad,{value:O.address,onChange:X=>I({...O,address:X.target.value}),placeholder:"Jalan, nomor rumah, RT/RW",rows:3,className:O.address?"border-green-300":""})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm mb-2",style:{color:"#2D3436"},children:["Kota ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lt,{value:O.city,onChange:X=>I({...O,city:X.target.value}),placeholder:"Nama kota",className:O.city?"border-green-300":""})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm mb-2",style:{color:"#2D3436"},children:["Provinsi ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(In,{value:O.province,onValueChange:X=>I({...O,province:X}),children:[a.jsx(kn,{className:O.province?"border-green-300":"",children:a.jsx(Ln,{placeholder:"Pilih provinsi"})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"DKI Jakarta",children:"DKI Jakarta"}),a.jsx(Oe,{value:"Jawa Barat",children:"Jawa Barat"}),a.jsx(Oe,{value:"Jawa Tengah",children:"Jawa Tengah"}),a.jsx(Oe,{value:"Jawa Timur",children:"Jawa Timur"}),a.jsx(Oe,{value:"Banten",children:"Banten"}),a.jsx(Oe,{value:"Bali",children:"Bali"})]})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm mb-2",style:{color:"#2D3436"},children:["Kode Pos ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Lt,{value:O.postalCode,onChange:X=>I({...O,postalCode:X.target.value}),placeholder:"12345",className:O.postalCode?"border-green-300":""})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm mb-2",style:{color:"#2D3436"},children:["Metode Pembayaran ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(In,{value:O.paymentMethod,onValueChange:X=>I({...O,paymentMethod:X}),children:[a.jsx(kn,{className:O.paymentMethod?"border-green-300":"",children:a.jsx(Ln,{placeholder:"Pilih metode pembayaran"})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"bank_transfer",children:"Transfer Bank"}),a.jsx(Oe,{value:"e_wallet",children:"E-Wallet (GoPay/OVO/DANA)"}),a.jsx(Oe,{value:"cod",children:"COD (Bayar di Tempat)"})]})]})]})]})]})]}),a.jsx("div",{className:"md:col-span-1",children:a.jsxs(Je,{className:`p-6 sticky top-20 transition-all ${pe?"":"opacity-50"}`,style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-4px)",X.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#4880FF"},children:"Ringkasan Pesanan"}),a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Produk"}),a.jsx("span",{style:{color:"#2D3436"},children:U.name})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Jumlah"}),a.jsxs("span",{style:{color:"#2D3436"},children:[O.quantity," unit"]})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Subtotal"}),a.jsx("span",{style:{color:"#4880FF"},children:$(re())})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Ongkos Kirim"}),a.jsx("span",{className:"text-green-600",children:"Gratis"})]})]}),a.jsx("div",{className:"border-t pt-4 mb-6",style:{borderColor:"#CBDCEB"},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:"#2D3436"},children:"Total"}),a.jsx("span",{className:"text-2xl",style:{color:"#4880FF"},children:$(re())})]})}),!pe&&a.jsx("p",{className:"text-xs text-red-500 mb-3 text-center",children:"Lengkapi semua field yang wajib diisi (*)"}),a.jsxs(Ue,{className:`w-full text-white transition-all ${pe?"":"cursor-not-allowed"}`,style:{backgroundColor:pe?"#4880FF":"#9CA3AF"},onClick:oe,disabled:!pe,children:[a.jsx(bm,{className:"w-4 h-4 mr-2"}),"Buat Pesanan"]})]})})]}),t==="list"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[a.jsxs(Je,{className:"p-4 text-center",style:{backgroundColor:"white",borderLeft:"4px solid #4880FF"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Pesanan"}),a.jsx("p",{className:"text-3xl",style:{color:"#4880FF"},children:Ae("total")})]}),a.jsxs(Je,{className:"p-4 text-center",style:{backgroundColor:"white",borderLeft:"4px solid #F59E0B"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Menunggu Pembayaran"}),a.jsx("p",{className:"text-3xl",style:{color:"#F59E0B"},children:Ae("pending_payment")})]}),a.jsxs(Je,{className:"p-4 text-center",style:{backgroundColor:"white",borderLeft:"4px solid #3B82F6"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Diproses"}),a.jsx("p",{className:"text-3xl",style:{color:"#3B82F6"},children:Ae("processing")})]}),a.jsxs(Je,{className:"p-4 text-center",style:{backgroundColor:"white",borderLeft:"4px solid #8B5CF6"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Dikirim"}),a.jsx("p",{className:"text-3xl",style:{color:"#8B5CF6"},children:Ae("shipped")})]}),a.jsxs(Je,{className:"p-4 text-center",style:{backgroundColor:"white",borderLeft:"4px solid #10B981"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Selesai"}),a.jsx("p",{className:"text-3xl",style:{color:"#10B981"},children:Ae("completed")})]})]}),k&&a.jsxs(Je,{className:"p-6 bg-red-50 border-red-200",children:[a.jsxs("div",{className:"flex items-center gap-3 text-red-800",children:[a.jsx(Vo,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Gagal Memuat Pesanan"}),a.jsx("p",{className:"text-sm",children:k})]})]}),a.jsx(Ue,{onClick:K,className:"mt-4",variant:"outline",children:"Coba Lagi"})]}),a.jsx(Je,{style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-4px)",X.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",style:{borderColor:"#CBDCEB"},children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"ID Pesanan"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Tanggal"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Produk"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Jumlah"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Total"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Aksi"})]})}),a.jsx("tbody",{children:E.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[a.jsx(nm,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"mb-2",style:{color:"#4880FF"},children:"Belum Ada Pesanan"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Anda belum memiliki riwayat pesanan"}),a.jsxs(Ue,{onClick:()=>e("create"),style:{backgroundColor:"#4880FF",color:"white"},children:[a.jsx(sf,{className:"w-4 h-4 mr-2"}),"Buat Pesanan Pertama"]})]})}):E.map(X=>{const Ce=be(X.status,X.payment_status);return a.jsxs("tr",{className:"border-b hover:bg-gray-50",style:{borderColor:"#CBDCEB"},children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",style:{color:"#4880FF"},children:X.order_number})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-600",children:Se(X.created_at)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-900",children:X.product_name})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-sm text-gray-600",children:[X.quantity," unit"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",style:{color:"#4880FF"},children:$(X.total_price)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Rt,{className:"px-2 py-1",style:{backgroundColor:Ce.bgColor,color:Ce.textColor},children:Ce.label})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-2",children:[X.payment_status==="pending"&&a.jsxs(Ue,{size:"sm",className:"text-white",style:{backgroundColor:"#4880FF"},onClick:()=>Q(X),children:[a.jsx(eS,{className:"w-3 h-3 mr-1"}),"Bayar"]}),a.jsxs(Ue,{size:"sm",variant:"outline",style:{borderColor:"#4880FF",color:"#4880FF"},onClick:()=>q(X),children:[a.jsx(ka,{className:"w-3 h-3 mr-1"}),"Detail"]})]})})]},X.id)})})]})})})]}),a.jsx(pn,{open:n,onOpenChange:r,children:a.jsxs(hn,{className:"max-w-md",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-4px)",X.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx(gr,{children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs(cr,{className:"flex items-center gap-3",style:{color:"#4880FF"},children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"#D1FAE5"},children:a.jsx(lr,{className:"w-7 h-7",style:{color:"#10B981"}})}),a.jsx("span",{children:"Pesanan Berhasil Dibuat!"})]})})}),m&&a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F3F4F6"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ID Pesanan"}),a.jsx("p",{className:"text-xl",style:{color:"#4880FF"},children:m.order_number})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Produk"}),a.jsx("span",{style:{color:"#2D3436"},children:m.product_name})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Jumlah"}),a.jsxs("span",{style:{color:"#2D3436"},children:[m.quantity," unit"]})]}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"text-gray-600 mb-1",children:"Alamat Pengiriman"}),a.jsx("p",{style:{color:"#2D3436"},children:m.shipping_address})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Metode Pembayaran"}),a.jsx("span",{style:{color:"#2D3436"},children:se(m.payment_method||"")})]}),a.jsxs("div",{className:"flex justify-between border-t pt-2",style:{borderColor:"#CBDCEB"},children:[a.jsx("span",{style:{color:"#2D3436"},children:"Total"}),a.jsx("span",{className:"text-xl",style:{color:"#4880FF"},children:$(m.total_price)})]})]}),a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#FEF3C7"},children:a.jsx(Rt,{style:{backgroundColor:"#FEF3C7",color:"#92400E"},children:"Menunggu Pembayaran"})}),a.jsxs("div",{className:"text-sm text-gray-600 p-3 rounded-lg",style:{backgroundColor:"#F3F4F6"},children:[a.jsx("p",{className:"mb-2",children:"Langkah selanjutnya:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-xs",children:[a.jsx("li",{children:"Lakukan pembayaran sesuai metode yang dipilih"}),a.jsx("li",{children:"Upload bukti pembayaran pada halaman pembayaran"}),a.jsx("li",{children:"Pesanan akan diproses setelah pembayaran terverifikasi"})]})]})]}),a.jsxs(Oi,{className:"flex gap-2",children:[a.jsx(Ue,{variant:"outline",onClick:le,style:{borderColor:"#4880FF",color:"#4880FF"},children:"Lihat Pesanan Saya"}),a.jsxs(Ue,{onClick:H,style:{backgroundColor:"#4880FF",color:"white"},children:[a.jsx(eS,{className:"w-4 h-4 mr-2"}),"Bayar Sekarang"]})]})]})}),a.jsx(pn,{open:i,onOpenChange:s,children:a.jsx(hn,{className:"max-w-md",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-4px)",X.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:h&&a.jsxs(a.Fragment,{children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#4880FF"},children:"Detail Pesanan"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F3F4F6"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ID Pesanan"}),a.jsx("p",{className:"text-lg",style:{color:"#4880FF"},children:h.order_number})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nama Pemesan"}),a.jsx("p",{style:{color:"#2D3436"},children:h.user?.name||"Customer"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Produk"}),a.jsx("p",{style:{color:"#2D3436"},children:h.product_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Jumlah"}),a.jsxs("p",{style:{color:"#2D3436"},children:[h.quantity," unit"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tanggal Pesanan"}),a.jsx("p",{style:{color:"#2D3436"},children:Se(h.created_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Metode Pembayaran"}),a.jsx("p",{style:{color:"#2D3436"},children:se(h.payment_method||"")})]}),h.shipping_address&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Alamat Pengiriman"}),a.jsx("p",{style:{color:"#2D3436"},children:h.shipping_address})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),a.jsx(Rt,{style:{backgroundColor:be(h.status,h.payment_status).bgColor,color:be(h.status,h.payment_status).textColor},children:be(h.status,h.payment_status).label})]}),a.jsx("div",{className:"border-t pt-3",style:{borderColor:"#CBDCEB"},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:"#2D3436"},children:"Total Pembayaran"}),a.jsx("span",{className:"text-2xl",style:{color:"#4880FF"},children:$(h.total_price)})]})})]})]}),a.jsxs(Oi,{children:[a.jsx(Ue,{variant:"outline",onClick:()=>s(!1),children:"Tutup"}),h.payment_status==="pending"&&a.jsxs(Ue,{onClick:()=>{s(!1),Q(h)},style:{backgroundColor:"#4880FF",color:"white"},children:[a.jsx(eS,{className:"w-4 h-4 mr-2"}),"Bayar Sekarang"]})]})]})})}),a.jsx(pn,{open:c,onOpenChange:u,children:a.jsxs(hn,{className:"max-w-md",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-4px)",X.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx(gr,{children:a.jsxs("div",{className:"flex flex-col items-center gap-4 py-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#D1FAE5"},children:a.jsx(lr,{className:"w-10 h-10",style:{color:"#10B981"}})}),a.jsx(cr,{className:"text-center",style:{color:"#10B981"},children:"Bukti Pembayaran Berhasil Diupload!"})]})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-4 rounded-lg text-center",style:{backgroundColor:"#F3F4F6"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"File yang diupload:"}),a.jsx("p",{className:"font-semibold",style:{color:"#4880FF"},children:b})]}),a.jsx("div",{className:"p-4 rounded-lg border-2",style:{borderColor:"#10B981",backgroundColor:"#F0FDF4"},children:a.jsxs("p",{className:"text-sm text-center",style:{color:"#065F46"},children:["Pembayaran Anda akan diverifikasi dalam ",a.jsx("strong",{children:"1x24 jam"}),". Anda akan menerima notifikasi setelah pembayaran dikonfirmasi."]})})]}),a.jsx(Oi,{children:a.jsx(Ue,{onClick:ce,className:"w-full text-white",style:{backgroundColor:"#4880FF"},children:"OK"})})]})}),a.jsx(pn,{open:o,onOpenChange:l,children:a.jsx(hn,{className:"max-w-lg",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:X=>{X.currentTarget.style.transform="translateY(-4px)",X.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:X=>{X.currentTarget.style.transform="translateY(0)",X.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:h&&a.jsxs(a.Fragment,{children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#4880FF"},children:ne(h.payment_method||"").title})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F3F4F6"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ID Pesanan"}),a.jsx("p",{style:{color:"#4880FF"},children:h.order_number})]}),a.jsx("div",{className:"p-4 rounded-lg border-2",style:{borderColor:"#4880FF",backgroundColor:"#F0F9FF"},children:a.jsx("ol",{className:"space-y-2",children:ne(h.payment_method||"").steps.map((X,Ce)=>a.jsx("li",{className:"text-sm",style:{color:"#2D3436"},children:X.includes("QR CODE")?a.jsx("div",{className:"mt-2 p-8 bg-white rounded-lg text-center border",style:{borderColor:"#CBDCEB"},children:a.jsx("div",{className:"w-48 h-48 mx-auto flex items-center justify-center",style:{backgroundColor:"#F3F4F6"},children:a.jsx("p",{className:"text-sm text-gray-500",children:"QR Code Placeholder"})})}):X},Ce))})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{style:{color:"#2D3436"},children:"Upload Bukti Pembayaran"}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",style:{borderColor:"#CBDCEB"},children:[a.jsx(Pb,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:y?y.name:"Pilih file atau drag & drop di sini"}),a.jsx(Lt,{type:"file",accept:"image/*,.pdf",onChange:V,className:"max-w-xs mx-auto"})]}),a.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Format: JPG, PNG, atau PDF (Max 5MB)"})]})]}),a.jsxs(Oi,{className:"flex gap-2",children:[a.jsx(Ue,{variant:"outline",onClick:()=>{l(!1),S(null)},children:"Batal"}),a.jsxs(Ue,{onClick:ee,style:{backgroundColor:"#4880FF",color:"white"},disabled:!y,children:[a.jsx(Pb,{className:"w-4 h-4 mr-2"}),"Submit Bukti Pembayaran"]})]})]})})})]})}function W$({isOpen:t,onClose:e,onAddDevice:n}){const[r,i]=N.useState(""),[s,o]=N.useState(""),[l,c]=N.useState(""),u=f=>{if(f.preventDefault(),c(""),!r.trim()){c("Nama perangkat harus diisi");return}if(!s.trim()){c("Kode unik perangkat harus diisi");return}if(!/^TMNKN-[A-Z0-9]{4}-[A-Z0-9]{4}$/i.test(s.trim())){c("Format kode unik tidak valid. Contoh: TMNKN-A1B2-C3D4");return}n({namaPerangkat:r.trim(),uniqueID:s.trim().toUpperCase()}),i(""),o(""),c("")},h=()=>{i(""),o(""),c(""),e()};return t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:h,children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg shadow-lg p-6",style:{backgroundColor:"#FFFFFF"},onClick:f=>f.stopPropagation(),children:[a.jsx("button",{onClick:h,className:"absolute top-4 right-4 p-1 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(md,{className:"w-5 h-5",style:{color:"#6B7280"}})}),a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"#EFF6FF"},children:a.jsx(sf,{className:"w-6 h-6",style:{color:"#4880FF"}})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl",style:{color:"#1F2937",fontWeight:700},children:"Tambah Perangkat Baru"}),a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Daftarkan robot Temanikan Anda"})]})]}),a.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l&&a.jsx("div",{className:"p-3 rounded-lg text-sm",style:{backgroundColor:"#FEE2E2",color:"#991B1B"},children:l}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"namaPerangkat",className:"block text-sm mb-2",style:{color:"#374151",fontWeight:600},children:["Nama Perangkat ",a.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),a.jsx("input",{type:"text",id:"namaPerangkat",value:r,onChange:f=>i(f.target.value),placeholder:"Contoh: Akuarium Ruang Tamu",className:"w-full px-4 py-2.5 rounded-lg border text-sm outline-none transition-all",style:{borderColor:"#E5E7EB",color:"#1F2937"},onFocus:f=>f.target.style.borderColor="#4880FF",onBlur:f=>f.target.style.borderColor="#E5E7EB"}),a.jsx("p",{className:"text-xs mt-1",style:{color:"#6B7280"},children:"Beri nama yang mudah Anda kenali"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"uniqueID",className:"block text-sm mb-2",style:{color:"#374151",fontWeight:600},children:["Kode Unik Perangkat ",a.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),a.jsx("input",{type:"text",id:"uniqueID",value:s,onChange:f=>o(f.target.value),placeholder:"TMNKN-XXXX-XXXX",className:"w-full px-4 py-2.5 rounded-lg border text-sm outline-none transition-all font-mono",style:{borderColor:"#E5E7EB",color:"#1F2937"},onFocus:f=>f.target.style.borderColor="#4880FF",onBlur:f=>f.target.style.borderColor="#E5E7EB",maxLength:15}),a.jsx("p",{className:"text-xs mt-1",style:{color:"#6B7280"},children:"Masukkan kode seri yang tertera pada perangkat"})]}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F0F9FF",borderLeft:"3px solid #4880FF"},children:a.jsxs("p",{className:"text-sm",style:{color:"#1E40AF"},children:[a.jsx("span",{style:{fontWeight:600},children:" Tips:"})," Kode unik terletak pada stiker di bagian belakang robot atau di dalam kotak produk."]})}),a.jsxs("div",{className:"flex gap-3 pt-2",children:[a.jsx(Ue,{type:"button",onClick:h,className:"flex-1 px-4 py-2.5 rounded-lg text-sm transition-colors",style:{backgroundColor:"#F3F4F6",color:"#374151",fontWeight:600},children:"Batal"}),a.jsx(Ue,{type:"submit",className:"flex-1 px-4 py-2.5 rounded-lg text-sm transition-colors",style:{backgroundColor:"#4880FF",color:"#FFFFFF",fontWeight:600},children:"Daftarkan Perangkat"})]})]})]})}):null}function D4({isOpen:t,onClose:e,type:n,title:r,message:i}){const s=()=>{switch(n){case"success":return a.jsx(lr,{className:"w-12 h-12 text-green-500"});case"error":return a.jsx(Vo,{className:"w-12 h-12 text-red-500"});case"warning":return a.jsx(ld,{className:"w-12 h-12 text-amber-500"});case"info":return a.jsx(GC,{className:"w-12 h-12 text-blue-500"})}},o=()=>{switch(n){case"success":return"bg-green-50";case"error":return"bg-red-50";case"warning":return"bg-amber-50";case"info":return"bg-blue-50"}};return a.jsx(pn,{open:t,onOpenChange:e,children:a.jsx(hn,{className:"max-w-md",children:a.jsxs("div",{className:`flex flex-col items-center text-center p-6 rounded-lg ${o()}`,children:[a.jsx("div",{className:"mb-4",children:s()}),a.jsx(cr,{className:"text-xl font-semibold mb-2",style:{color:"#133E87"},children:r}),a.jsx(b2,{className:"text-gray-600 mb-6",children:i}),a.jsx(Ue,{onClick:e,className:"w-full text-white",style:{backgroundColor:"#133E87"},children:"OK"})]})})})}function uP(){const t=Ll(),{user:e}=Da(),[n,r]=N.useState(!1),[i,s]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(null),[h,f]=N.useState(!1),[m,v]=N.useState("success"),[y,S]=N.useState(""),[b,_]=N.useState("");N.useEffect(()=>{E()},[]);const E=async()=>{try{l(!0),u(null);const R=await pd.getUserDevices();R.success&&R.devices&&s(R.devices)}catch(R){console.error("Error fetching devices:",R),u(R.response?.data?.error||"Gagal memuat data perangkat")}finally{l(!1)}},C=async R=>{try{const k=await pd.addDevice({name:R.namaPerangkat,device_code:R.uniqueID});(k.message||k.device)&&(r(!1),await E(),v("success"),S("Berhasil!"),_(`Perangkat "${R.namaPerangkat}" berhasil didaftarkan!`),f(!0))}catch(k){console.error("Error adding device:",k);const D=k.response?.data?.error||"Gagal mendaftarkan perangkat. Silakan coba lagi.";v("error"),S("Gagal"),_(D),f(!0)}},j=R=>{t(`/member/device/${R}/dashboard`)};return a.jsxs(Aa,{title:"Perangkat Saya",userType:"member",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold",style:{color:"#FFFFFF",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},children:["Halo, ",e?.name||"Pengguna","!"]}),a.jsx("p",{className:"text-sm mt-1",style:{color:"#FFFFFF",opacity:.9,textShadow:"0 2px 4px rgba(0, 0, 0, 0.3)"},children:"Ayo kelola semua robot Temanikan Anda dalam satu tempat"})]}),i.length>0&&a.jsxs(Ue,{onClick:()=>r(!0),className:"bubble-button flex items-center gap-2 px-4 py-2.5 rounded-full transition-all shadow-md",style:{backgroundColor:"rgba(72, 128, 255, 0.8)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.4)",color:"#FFFFFF",fontWeight:600,boxShadow:"0 4px 20px rgba(72, 128, 255, 0.4)"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-4px) scale(1.05)",R.currentTarget.style.boxShadow="0 8px 30px rgba(72, 128, 255, 0.5)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0) scale(1)",R.currentTarget.style.boxShadow="0 4px 20px rgba(72, 128, 255, 0.4)"},children:[a.jsx(sf,{className:"w-5 h-5"}),a.jsx("span",{children:"Tambah Perangkat Baru"})]})]}),i.length===0?a.jsxs("div",{className:"p-16 rounded-3xl text-center mt-12 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"30px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-4px)",R.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0)",R.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 transition-all duration-300",style:{backgroundColor:"rgba(72, 128, 255, 0.2)",backdropFilter:"blur(10px)",boxShadow:"0 4px 20px rgba(72, 128, 255, 0.3)"},children:a.jsx(Qr,{className:"w-12 h-12",style:{color:"#4880FF"}})}),a.jsx("h2",{className:"text-2xl mb-3 font-bold",style:{color:"#1F2937"},children:"Anda Belum Memiliki Perangkat"}),a.jsx("p",{className:"text-sm mb-8 max-w-md mx-auto",style:{color:"#6B7280",lineHeight:"1.6"},children:"Silakan tambahkan perangkat Temanikan pertama Anda untuk memulai monitoring."}),a.jsxs(Ue,{onClick:()=>r(!0),className:"bubble-button inline-flex items-center gap-2 px-6 py-3 rounded-full transition-all shadow-md",style:{backgroundColor:"rgba(72, 128, 255, 0.8)",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.4)",color:"#FFFFFF",fontWeight:600,fontSize:"15px",boxShadow:"0 4px 20px rgba(72, 128, 255, 0.4)"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-4px) scale(1.05)",R.currentTarget.style.boxShadow="0 8px 30px rgba(72, 128, 255, 0.5)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0) scale(1)",R.currentTarget.style.boxShadow="0 4px 20px rgba(72, 128, 255, 0.4)"},children:[a.jsx(sf,{className:"w-5 h-5"}),a.jsx("span",{children:"Tambah Perangkat Baru"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx("div",{className:"p-4 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-4px) scale(1.02)",R.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0) scale(1)",R.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Total Perangkat"}),a.jsx("p",{className:"text-2xl mt-1 font-bold",style:{color:"#1F2937"},children:i.length})]}),a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(72, 128, 255, 0.2)",backdropFilter:"blur(10px)"},children:a.jsx(Qr,{className:"w-6 h-6",style:{color:"#4880FF"}})})]})}),a.jsx("div",{className:"p-4 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-4px) scale(1.02)",R.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0) scale(1)",R.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Perangkat Online"}),a.jsx("p",{className:"text-2xl mt-1 font-bold",style:{color:"#10B981"},children:i.filter(R=>R.status==="online").length})]}),a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(16, 185, 129, 0.2)",backdropFilter:"blur(10px)"},children:a.jsx(Vc,{className:"w-6 h-6",style:{color:"#10B981"}})})]})}),a.jsx("div",{className:"p-4 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:R=>{R.currentTarget.style.transform="translateY(-4px) scale(1.02)",R.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:R=>{R.currentTarget.style.transform="translateY(0) scale(1)",R.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Perangkat Offline"}),a.jsx("p",{className:"text-2xl mt-1 font-bold",style:{color:"#EF4444"},children:i.filter(R=>R.status==="offline").length})]}),a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(239, 68, 68, 0.2)",backdropFilter:"blur(10px)"},children:a.jsx(zA,{className:"w-6 h-6",style:{color:"#EF4444"}})})]})})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg mb-4",style:{color:"#1F2937",fontWeight:700},children:"Daftar Perangkat"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(R=>a.jsxs("div",{className:"p-5 rounded-lg transition-all",style:{backgroundColor:"#FFFFFF",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",border:"2px solid transparent"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"w-14 h-14 rounded-lg flex items-center justify-center",style:{backgroundColor:R.status==="online"?"#D1FAE5":"#F3F4F6"},children:a.jsx(Qr,{className:"w-7 h-7",style:{color:R.status==="online"?"#10B981":"#9CA3AF"}})}),a.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs",style:{backgroundColor:R.status==="online"?"#D1FAE5":"#FEE2E2",color:R.status==="online"?"#065F46":"#991B1B",fontWeight:600},children:[a.jsx(zA,{className:"w-2 h-2 fill-current",style:{color:R.status==="online"?"#10B981":"#EF4444"}}),R.status==="online"?"Online":"Offline"]})]}),a.jsx("h3",{className:"text-lg mb-1",style:{color:"#1F2937",fontWeight:700},children:R.namaPerangkat}),a.jsx("p",{className:"text-sm mb-3 font-mono",style:{color:"#6B7280"},children:R.uniqueID}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",style:{color:"#9CA3AF"},children:[a.jsx(Vc,{className:"w-3.5 h-3.5"}),a.jsx("span",{children:R.lastActive})]}),a.jsx("div",{className:"mt-4 pt-4 border-t",style:{borderColor:"#E5E7EB"},children:a.jsx("button",{onClick:()=>j(R.id),className:"w-full py-2 rounded-lg text-sm transition-all text-center",style:{backgroundColor:"#EFF6FF",color:"#4880FF",fontWeight:600},onMouseEnter:k=>{k.currentTarget.style.backgroundColor="#4880FF",k.currentTarget.style.color="#FFFFFF"},onMouseLeave:k=>{k.currentTarget.style.backgroundColor="#EFF6FF",k.currentTarget.style.color="#4880FF"},children:"Kelola Perangkat"})})]},R.id))})]})]})]}),a.jsx(W$,{isOpen:n,onClose:()=>r(!1),onAddDevice:C}),a.jsx(D4,{isOpen:h,onClose:()=>f(!1),type:m,title:y,message:b})]})}function V$({deviceId:t,deviceName:e}){const n=g0(),r=Ll(),i=[{icon:kb,label:"Dashboard",path:`/member/device/${t}/dashboard`},{icon:HC,label:"Monitoring Air",path:`/member/device/${t}/monitoring`},{icon:Qr,label:"Kontrol Robot",path:`/member/device/${t}/robot`},{icon:Ix,label:"Deteksi Penyakit",path:`/member/device/${t}/disease`}],s=o=>n.pathname===o;return a.jsx("div",{className:"border-b",style:{backgroundColor:"#FFFFFF",borderColor:"#E5E7EB"},children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"flex items-center justify-between py-3 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsxs("button",{onClick:()=>r("/member/devices"),className:"flex items-center gap-2 text-sm transition-colors hover:opacity-70",style:{color:"#6B7280"},children:[a.jsx(H1,{className:"w-4 h-4"}),a.jsx("span",{children:"Kembali ke Perangkat"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-4 h-4",style:{color:"#4880FF"}}),a.jsx("span",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:e})]})]}),a.jsx("div",{className:"flex items-center gap-1 overflow-x-auto py-2",children:i.map(o=>a.jsxs(mr,{to:o.path,className:"flex items-center gap-2 px-4 py-2.5 rounded-lg transition-all whitespace-nowrap",style:{backgroundColor:s(o.path)?"#EFF6FF":"transparent",color:s(o.path)?"#4880FF":"#6B7280",fontWeight:s(o.path)?600:500,fontSize:"14px",borderBottom:s(o.path)?"2px solid #4880FF":"2px solid transparent"},children:[a.jsx(o.icon,{className:"w-4 h-4"}),a.jsx("span",{children:o.label})]},o.path))})]})})}function Af({deviceId:t,deviceName:e,title:n,children:r,backLabel:i}){const s=Ll(),o=()=>{t&&s(i==="Kembali ke Dashboard"?`/member/device/${t}/dashboard`:i==="Kembali ke Kontrol Robot"?`/member/device/${t}/robot`:i==="Kembali ke Deteksi Penyakit"?`/member/device/${t}/disease`:`/member/device/${t}/dashboard`)};return a.jsxs(Aa,{title:n,userType:"member",children:[t&&e&&a.jsx("div",{className:"-mx-4 sm:-mx-6 lg:-mx-8 -mt-6 mb-6",children:a.jsx(V$,{deviceId:t,deviceName:e})}),i&&t&&a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-sm hover:underline transition-colors",style:{color:"#4880FF",fontWeight:600},children:[a.jsx(H1,{className:"w-4 h-4"}),i]})}),a.jsx("div",{children:r})]})}function I4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=I4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Cn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=I4(t))&&(r&&(r+=" "),r+=e);return r}var K$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function HM(t){if(typeof t!="string")return!1;var e=K$;return e.includes(t)}var X$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function L4(t){if(typeof t!="string")return!1;var e=X$;return e.includes(t)}function O4(t){return typeof t=="string"&&t.startsWith("data-")}function zs(t){var e=Object.entries(t).filter(n=>{var[r]=n;return L4(r)||O4(r)});return Object.fromEntries(e)}function hf(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return zs(e)}return typeof t=="object"&&!Array.isArray(t)?zs(t):null}function bs(t){var e=Object.entries(t).filter(n=>{var[r]=n;return L4(r)||O4(r)||HM(r)});return Object.fromEntries(e)}function Y$(t){return t==null?null:N.isValidElement(t)?bs(t.props):typeof t=="object"&&!Array.isArray(t)?bs(t):null}var J$=["children","width","height","viewBox","className","style","title","desc"];function OE(){return OE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OE.apply(null,arguments)}function q$(t,e){if(t==null)return{};var n,r,i=$$(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $$(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var GM=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:l,title:c,desc:u}=t,h=q$(t,J$),f=s||{width:r,height:i,x:0,y:0},m=Cn("recharts-surface",o);return N.createElement("svg",OE({},bs(h),{className:m,width:r,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),N.createElement("title",null,c),N.createElement("desc",null,u),n)}),Q$=["children","className"];function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(null,arguments)}function Z$(t,e){if(t==null)return{};var n,r,i=eQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hr=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Z$(t,Q$),s=Cn("recharts-layer",r);return N.createElement("g",UE({className:s},bs(i),{ref:e}),n)}),WM=yB(),U4=N.createContext(null),tQ=()=>N.useContext(U4);function ar(t){return function(){return t}}const z4=Math.cos,Wb=Math.sin,nl=Math.sqrt,Vb=Math.PI,E2=2*Vb,zE=Math.PI,HE=2*zE,Ph=1e-6,nQ=HE-Ph;function H4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function rQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return H4;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class iQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?H4:rQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-e,u=i-n,h=o-e,f=l-n,m=h*h+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Ph)if(!(Math.abs(f*c-u*h)>Ph)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-o,y=i-l,S=c*c+u*u,b=v*v+y*y,_=Math.sqrt(S),E=Math.sqrt(m),C=s*Math.tan((zE-Math.acos((S+m-b)/(2*_*E)))/2),j=C/E,R=C/_;Math.abs(j-1)>Ph&&this._append`L${e+j*h},${n+j*f}`,this._append`A${s},${s},0,0,${+(f*v>h*y)},${this._x1=e+R*c},${this._y1=n+R*u}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=e+l,h=n+c,f=1^o,m=o?i-s:s-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>Ph||Math.abs(this._y1-h)>Ph)&&this._append`L${u},${h}`,r&&(m<0&&(m=m%HE+HE),m>nQ?this._append`A${r},${r},0,1,${f},${e-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=h}`:m>Ph&&this._append`A${r},${r},0,${+(m>=zE)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function VM(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new iQ(e)}function KM(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function G4(t){this._context=t}G4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function C2(t){return new G4(t)}function W4(t){return t[0]}function V4(t){return t[1]}function K4(t,e){var n=ar(!0),r=null,i=C2,s=null,o=VM(l);t=typeof t=="function"?t:t===void 0?W4:ar(t),e=typeof e=="function"?e:e===void 0?V4:ar(e);function l(c){var u,h=(c=KM(c)).length,f,m=!1,v;for(r==null&&(s=i(v=o())),u=0;u<=h;++u)!(u<h&&n(f=c[u],u,c))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(f,u,c),+e(f,u,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ar(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ar(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:ar(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function Jy(t,e,n){var r=null,i=ar(!0),s=null,o=C2,l=null,c=VM(u);t=typeof t=="function"?t:t===void 0?W4:ar(+t),e=typeof e=="function"?e:ar(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?V4:ar(+n);function u(f){var m,v,y,S=(f=KM(f)).length,b,_=!1,E,C=new Array(S),j=new Array(S);for(s==null&&(l=o(E=c())),m=0;m<=S;++m){if(!(m<S&&i(b=f[m],m,f))===_)if(_=!_)v=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=m-1;y>=v;--y)l.point(C[y],j[y]);l.lineEnd(),l.areaEnd()}_&&(C[m]=+t(b,m,f),j[m]=+e(b,m,f),l.point(r?+r(b,m,f):C[m],n?+n(b,m,f):j[m]))}if(E)return l=null,E+""||null}function h(){return K4().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ar(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ar(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ar(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ar(+f),u):n},u.lineX0=u.lineY0=function(){return h().x(t).y(e)},u.lineY1=function(){return h().x(t).y(n)},u.lineX1=function(){return h().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ar(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class X4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function sQ(t){return new X4(t,!0)}function aQ(t){return new X4(t,!1)}const XM={draw(t,e){const n=nl(e/Vb);t.moveTo(n,0),t.arc(0,0,n,0,E2)}},oQ={draw(t,e){const n=nl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Y4=nl(1/3),lQ=Y4*2,cQ={draw(t,e){const n=nl(e/lQ),r=n*Y4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},uQ={draw(t,e){const n=nl(e),r=-n/2;t.rect(r,r,n,n)}},dQ=.8908130915292852,J4=Wb(Vb/10)/Wb(7*Vb/10),hQ=Wb(E2/10)*J4,fQ=-z4(E2/10)*J4,pQ={draw(t,e){const n=nl(e*dQ),r=hQ*n,i=fQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=E2*s/5,l=z4(o),c=Wb(o);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},l_=nl(3),mQ={draw(t,e){const n=-nl(e/(l_*3));t.moveTo(0,n*2),t.lineTo(-l_*n,-n),t.lineTo(l_*n,-n),t.closePath()}},Ja=-.5,qa=nl(3)/2,GE=1/nl(12),gQ=(GE/2+1)*3,xQ={draw(t,e){const n=nl(e/gQ),r=n/2,i=n*GE,s=r,o=n*GE+n,l=-s,c=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(Ja*r-qa*i,qa*r+Ja*i),t.lineTo(Ja*s-qa*o,qa*s+Ja*o),t.lineTo(Ja*l-qa*c,qa*l+Ja*c),t.lineTo(Ja*r+qa*i,Ja*i-qa*r),t.lineTo(Ja*s+qa*o,Ja*o-qa*s),t.lineTo(Ja*l+qa*c,Ja*c-qa*l),t.closePath()}};function vQ(t,e){let n=null,r=VM(i);t=typeof t=="function"?t:ar(t||XM),e=typeof e=="function"?e:ar(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:ar(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:ar(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Kb(){}function Xb(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function q4(t){this._context=t}q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Xb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function yQ(t){return new q4(t)}function $4(t){this._context=t}$4.prototype={areaStart:Kb,areaEnd:Kb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bQ(t){return new $4(t)}function Q4(t){this._context=t}Q4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Xb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wQ(t){return new Q4(t)}function Z4(t){this._context=t}Z4.prototype={areaStart:Kb,areaEnd:Kb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function SQ(t){return new Z4(t)}function dP(t){return t<0?-1:1}function hP(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(dP(s)+dP(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function fP(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function c_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,o-l*n,s,o)}function Yb(t){this._context=t}Yb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c_(this,this._t0,fP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,c_(this,fP(this,n=hP(this,t,e)),n);break;default:c_(this,this._t0,n=hP(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function eL(t){this._context=new tL(t)}(eL.prototype=Object.create(Yb.prototype)).point=function(t,e){Yb.prototype.point.call(this,e,t)};function tL(t){this._context=t}tL.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function _Q(t){return new Yb(t)}function AQ(t){return new eL(t)}function nL(t){this._context=t}nL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pP(t),i=pP(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pP(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function EQ(t){return new nL(t)}function M2(t,e){this._context=t,this._t=e}M2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function CQ(t){return new M2(t,.5)}function MQ(t){return new M2(t,0)}function NQ(t){return new M2(t,1)}function Tm(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,l=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function WE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function TQ(t,e){return t[e]}function jQ(t){const e=[];return e.key=t,e}function kQ(){var t=ar([]),e=WE,n=Tm,r=TQ;function i(s){var o=Array.from(t.apply(this,arguments),jQ),l,c=o.length,u=-1,h;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,s)]).data=f;for(l=0,h=KM(e(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:ar(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:ar(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?WE:typeof s=="function"?s:ar(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Tm,i):n},i}function PQ(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Tm(t,e)}}function RQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=t[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Tm(t,e)}}function FQ(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var h=t[e[l]],f=h[r][1]||0,m=h[r-1][1]||0,v=(f-m)/2,y=0;y<l;++y){var S=t[e[y]],b=S[r][1]||0,_=S[r-1][1]||0;v+=b-_}c+=f,u+=v*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Tm(t,e)}}var u_={},d_={},mP;function BQ(){return mP||(mP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(d_)),d_}var h_={},gP;function rL(){return gP||(gP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(h_)),h_}var f_={},xP;function YM(){return xP||(xP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(f_)),f_}var p_={},m_={},vP;function DQ(){return vP||(vP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(m_)),m_}var yP;function JM(){return yP||(yP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DQ(),n=YM();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],o=i.length;if(o===0)return s;let l=0,c="",u="",h=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<o;){const f=i[l];u?f==="\\"&&l+1<o?(l++,c+=i[l]):f===u?u="":c+=f:h?f==='"'||f==="'"?u=f:f==="]"?(h=!1,s.push(c),c=""):c+=f:f==="["?(h=!0,c&&(s.push(c),c="")):f==="."?c&&(s.push(c),c=""):c+=f,l++}return c&&s.push(c),s}t.toPath=r})(p_)),p_}var bP;function qM(){return bP||(bP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BQ(),n=rL(),r=YM(),i=JM();function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return u;const h=l[c];return h===void 0?n.isDeepKey(c)?s(l,i.toPath(c),u):u:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=l[c];return h===void 0?u:h}default:{if(Array.isArray(c))return o(l,c,u);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return u;const h=l[c];return h===void 0?u:h}}}function o(l,c,u){if(c.length===0)return u;let h=l;for(let f=0;f<c.length;f++){if(h==null||e.isUnsafeProperty(c[f]))return u;h=h[c[f]]}return h===void 0?u:h}t.get=s})(u_)),u_}var g_,wP;function IQ(){return wP||(wP=1,g_=qM().get),g_}var LQ=IQ();const ff=Il(LQ);var Ui=t=>t===0?0:t>0?1:-1,ro=t=>typeof t=="number"&&t!=+t,qc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,ft=t=>(typeof t=="number"||t instanceof Number)&&!ro(t),Pl=t=>ft(t)||typeof t=="string",OQ=0,r0=t=>{var e=++OQ;return"".concat(t||"").concat(e)},ys=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ft(e)&&typeof e!="string")return r;var s;if(qc(e)){if(n==null)return r;var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return ro(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},iL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Dn(t,e,n){return ft(t)&&ft(e)?t+n*(e-t):e}function sL(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ff(r,e))===n)}var xr=t=>t===null||typeof t>"u",U0=t=>xr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function UQ(t){return t!=null}function Ef(){}var zQ=["type","size","sizeType"];function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VE.apply(null,arguments)}function SP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _P(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SP(Object(n),!0).forEach(function(r){HQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HQ(t,e,n){return(e=GQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GQ(t){var e=WQ(t,"string");return typeof e=="symbol"?e:e+""}function WQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VQ(t,e){if(t==null)return{};var n,r,i=KQ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var aL={symbolCircle:XM,symbolCross:oQ,symbolDiamond:cQ,symbolSquare:uQ,symbolStar:pQ,symbolTriangle:mQ,symbolWye:xQ},XQ=Math.PI/180,YQ=t=>{var e="symbol".concat(U0(t));return aL[e]||XM},JQ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*XQ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},qQ=(t,e)=>{aL["symbol".concat(U0(t))]=e},$M=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=VQ(t,zQ),s=_P(_P({},i),{},{type:e,size:n,sizeType:r}),o="circle";typeof e=="string"&&(o=e);var l=()=>{var m=YQ(o),v=vQ().type(m).size(JQ(n,r,o)),y=v();if(y!==null)return y},{className:c,cx:u,cy:h}=s,f=bs(s);return ft(u)&&ft(h)&&ft(n)?N.createElement("path",VE({},f,{className:Cn("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(h,")"),d:l()})):null};$M.registerSymbol=qQ;var oL=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,QM=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{HM(i)&&(r[i]=(s=>n[i](n,s)))}),r},$Q=(t,e,n)=>r=>(t(e,n,r),null),z0=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];HM(i)&&typeof s=="function"&&(r||(r={}),r[i]=$Q(s,e,n))}),r};function AP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QQ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AP(Object(n),!0).forEach(function(r){ZQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZQ(t,e,n){return(e=eZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eZ(t){var e=tZ(t,"string");return typeof e=="symbol"?e:e+""}function tZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gr(t,e){var n=QQ({},t),r=e,i=Object.keys(e),s=i.reduce((o,l)=>(o[l]===void 0&&r[l]!==void 0&&(o[l]=r[l]),o),n);return s}function Jb(){return Jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jb.apply(null,arguments)}function EP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EP(Object(n),!0).forEach(function(r){rZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rZ(t,e,n){return(e=iZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=sZ(t,"string");return typeof e=="symbol"?e:e+""}function sZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qa=32,aZ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function oZ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Qa/2,s=Qa/6,o=Qa/3,l=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var u;return N.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Qa,y2:i,className:"recharts-legend-icon"})}if(c==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Qa,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return N.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Qa/8,"h").concat(Qa,"v").concat(Qa*3/4,"h").concat(-Qa,"z"),className:"recharts-legend-icon"});if(N.isValidElement(e.legendIcon)){var h=nZ({},e);return delete h.legendIcon,N.cloneElement(e.legendIcon,h)}return N.createElement($M,{fill:l,cx:i,cy:i,size:Qa,sizeType:"diameter",type:c})}function lZ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:o}=t,l={x:0,y:0,width:Qa,height:Qa},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,f)=>{var m=h.formatter||i,v=Cn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:h.inactive});if(h.type==="none")return null;var y=h.inactive?s:h.color,S=m?m(h.value,h,f):h.value;return N.createElement("li",Jb({className:v,style:c,key:"legend-item-".concat(f)},z0(t,h,f)),N.createElement(GM,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(S," legend icon")},N.createElement(oZ,{data:h,iconType:o,inactiveColor:s})),N.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},S))})}var cZ=t=>{var e=Gr(t,aZ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:s},N.createElement(lZ,Jb({},e,{payload:n})))},x_={},v_={},CP;function uZ(){return CP||(CP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],l=r(o);i.has(l)||i.set(l,o)}return Array.from(i.values())}t.uniqBy=e})(v_)),v_}var y_={},MP;function lL(){return MP||(MP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(y_)),y_}var b_={},w_={},S_={},NP;function dZ(){return NP||(NP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(S_)),S_}var TP;function ZM(){return TP||(TP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(w_)),w_}var __={},jP;function hZ(){return jP||(jP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(__)),__}var kP;function fZ(){return kP||(kP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZM(),n=hZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(b_)),b_}var A_={},E_={},PP;function pZ(){return PP||(PP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qM();function n(r){return function(i){return e.get(i,r)}}t.property=n})(E_)),E_}var C_={},M_={},N_={},T_={},RP;function cL(){return RP||(RP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(T_)),T_}var j_={},FP;function uL(){return FP||(FP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(j_)),j_}var k_={},BP;function dL(){return BP||(BP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(k_)),k_}var DP;function mZ(){return DP||(DP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cL(),n=uL(),r=dL();function i(h,f,m){return typeof m!="function"?i(h,f,()=>{}):s(h,f,function v(y,S,b,_,E,C){const j=m(y,S,b,_,E,C);return j!==void 0?!!j:s(y,S,v,C)},new Map)}function s(h,f,m,v){if(f===h)return!0;switch(typeof f){case"object":return o(h,f,m,v);case"function":return Object.keys(f).length>0?s(h,{...f},m,v):r.eq(h,f);default:return e.isObject(h)?typeof f=="string"?f==="":!0:r.eq(h,f)}}function o(h,f,m,v){if(f==null)return!0;if(Array.isArray(f))return c(h,f,m,v);if(f instanceof Map)return l(h,f,m,v);if(f instanceof Set)return u(h,f,m,v);const y=Object.keys(f);if(h==null)return y.length===0;if(y.length===0)return!0;if(v?.has(f))return v.get(f)===h;v?.set(f,h);try{for(let S=0;S<y.length;S++){const b=y[S];if(!n.isPrimitive(h)&&!(b in h)||f[b]===void 0&&h[b]!==void 0||f[b]===null&&h[b]!==null||!m(h[b],f[b],b,h,f,v))return!1}return!0}finally{v?.delete(f)}}function l(h,f,m,v){if(f.size===0)return!0;if(!(h instanceof Map))return!1;for(const[y,S]of f.entries()){const b=h.get(y);if(m(b,S,y,h,f,v)===!1)return!1}return!0}function c(h,f,m,v){if(f.length===0)return!0;if(!Array.isArray(h))return!1;const y=new Set;for(let S=0;S<f.length;S++){const b=f[S];let _=!1;for(let E=0;E<h.length;E++){if(y.has(E))continue;const C=h[E];let j=!1;if(m(C,b,S,h,f,v)&&(j=!0),j){y.add(E),_=!0;break}}if(!_)return!1}return!0}function u(h,f,m,v){return f.size===0?!0:h instanceof Set?c([...h],[...f],m,v):!1}t.isMatchWith=i,t.isSetMatch=u})(N_)),N_}var IP;function hL(){return IP||(IP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(M_)),M_}var P_={},R_={},F_={},LP;function gZ(){return LP||(LP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(F_)),F_}var B_={},OP;function fL(){return OP||(OP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(B_)),B_}var D_={},UP;function pL(){return UP||(UP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",h="[object Array]",f="[object Function]",m="[object ArrayBuffer]",v="[object Object]",y="[object Error]",S="[object DataView]",b="[object Uint8Array]",_="[object Uint8ClampedArray]",E="[object Uint16Array]",C="[object Uint32Array]",j="[object BigUint64Array]",R="[object Int8Array]",k="[object Int16Array]",D="[object Int32Array]",O="[object BigInt64Array]",I="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=m,t.arrayTag=h,t.bigInt64ArrayTag=O,t.bigUint64ArrayTag=j,t.booleanTag=i,t.dataViewTag=S,t.dateTag=l,t.errorTag=y,t.float32ArrayTag=I,t.float64ArrayTag=U,t.functionTag=f,t.int16ArrayTag=k,t.int32ArrayTag=D,t.int8ArrayTag=R,t.mapTag=c,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=u,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=E,t.uint32ArrayTag=C,t.uint8ArrayTag=b,t.uint8ClampedArrayTag=_})(D_)),D_}var I_={},zP;function xZ(){return zP||(zP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(I_)),I_}var HP;function mL(){return HP||(HP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gZ(),n=fL(),r=pL(),i=uL(),s=xZ();function o(h,f){return l(h,void 0,h,new Map,f)}function l(h,f,m,v=new Map,y=void 0){const S=y?.(h,f,m,v);if(S!==void 0)return S;if(i.isPrimitive(h))return h;if(v.has(h))return v.get(h);if(Array.isArray(h)){const b=new Array(h.length);v.set(h,b);for(let _=0;_<h.length;_++)b[_]=l(h[_],_,m,v,y);return Object.hasOwn(h,"index")&&(b.index=h.index),Object.hasOwn(h,"input")&&(b.input=h.input),b}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const b=new RegExp(h.source,h.flags);return b.lastIndex=h.lastIndex,b}if(h instanceof Map){const b=new Map;v.set(h,b);for(const[_,E]of h)b.set(_,l(E,_,m,v,y));return b}if(h instanceof Set){const b=new Set;v.set(h,b);for(const _ of h)b.add(l(_,void 0,m,v,y));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(s.isTypedArray(h)){const b=new(Object.getPrototypeOf(h)).constructor(h.length);v.set(h,b);for(let _=0;_<h.length;_++)b[_]=l(h[_],_,m,v,y);return b}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const b=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return v.set(h,b),c(b,h,m,v,y),b}if(typeof File<"u"&&h instanceof File){const b=new File([h],h.name,{type:h.type});return v.set(h,b),c(b,h,m,v,y),b}if(typeof Blob<"u"&&h instanceof Blob){const b=new Blob([h],{type:h.type});return v.set(h,b),c(b,h,m,v,y),b}if(h instanceof Error){const b=new h.constructor;return v.set(h,b),b.message=h.message,b.name=h.name,b.stack=h.stack,b.cause=h.cause,c(b,h,m,v,y),b}if(h instanceof Boolean){const b=new Boolean(h.valueOf());return v.set(h,b),c(b,h,m,v,y),b}if(h instanceof Number){const b=new Number(h.valueOf());return v.set(h,b),c(b,h,m,v,y),b}if(h instanceof String){const b=new String(h.valueOf());return v.set(h,b),c(b,h,m,v,y),b}if(typeof h=="object"&&u(h)){const b=Object.create(Object.getPrototypeOf(h));return v.set(h,b),c(b,h,m,v,y),b}return h}function c(h,f,m=h,v,y){const S=[...Object.keys(f),...e.getSymbols(f)];for(let b=0;b<S.length;b++){const _=S[b],E=Object.getOwnPropertyDescriptor(h,_);(E==null||E.writable)&&(h[_]=l(f[_],_,m,v,y))}}function u(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=l,t.copyProperties=c})(R_)),R_}var GP;function vZ(){return GP||(GP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mL();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(P_)),P_}var WP;function yZ(){return WP||(WP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hL(),n=vZ();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(C_)),C_}var L_={},O_={},U_={},VP;function bZ(){return VP||(VP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mL(),n=pL();function r(i,s){return e.cloneDeepWith(i,(o,l,c,u)=>{const h=s?.(o,l,c,u);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const f=new i.constructor(i?.valueOf());return e.copyProperties(f,i),f}case n.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=r})(U_)),U_}var KP;function wZ(){return KP||(KP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(O_)),O_}var z_={},H_={},XP;function gL(){return XP||(XP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(H_)),H_}var G_={},YP;function SZ(){return YP||(YP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fL();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(G_)),G_}var JP;function _Z(){return JP||(JP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rL(),n=gL(),r=SZ(),i=JM();function s(o,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&o?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=o;for(let h=0;h<c.length;h++){const f=c[h];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=s})(z_)),z_}var qP;function AZ(){return qP||(qP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hL(),n=YM(),r=wZ(),i=qM(),s=_Z();function o(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(u){const h=i.get(u,l);return h===void 0?s.has(u,l):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=o})(L_)),L_}var $P;function EZ(){return $P||($P=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lL(),n=pZ(),r=yZ(),i=AZ();function s(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=s})(A_)),A_}var QP;function CZ(){return QP||(QP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uZ(),n=lL(),r=fZ(),i=EZ();function s(o,l=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(l)):[]}t.uniqBy=s})(x_)),x_}var W_,ZP;function MZ(){return ZP||(ZP=1,W_=CZ().uniqBy),W_}var NZ=MZ();const e5=Il(NZ);function xL(t,e,n){return e===!0?e5(t,n):typeof e=="function"?e5(t,e):t}var eN=N.createContext(null),TZ=t=>t,ur=()=>{var t=N.useContext(eN);return t?t.store.dispatch:TZ},Eb=()=>{},jZ=()=>Eb,kZ=(t,e)=>t===e;function yt(t){var e=N.useContext(eN);return Kq.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:jZ,e?e.store.getState:Eb,e?e.store.getState:Eb,e?t:Eb,kZ)}function PZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function RZ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function FZ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var t5=t=>Array.isArray(t)?t:[t];function BZ(t){const e=Array.isArray(t[0])?t[0]:t;return FZ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function DZ(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var IZ=class{constructor(t){this.value=t}deref(){return this.value}},LZ=typeof WeakRef<"u"?WeakRef:IZ,OZ=0,n5=1;function qy(){return{s:OZ,v:void 0,o:null,p:null}}function vL(t,e={}){let n=qy();const{resultEqualityCheck:r}=e;let i,s=0;function o(){let l=n;const{length:c}=arguments;for(let f=0,m=c;f<m;f++){const v=arguments[f];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const S=y.get(v);S===void 0?(l=qy(),y.set(v,l)):l=S}else{let y=l.p;y===null&&(l.p=y=new Map);const S=y.get(v);S===void 0?(l=qy(),y.set(v,l)):l=S}}const u=l;let h;if(l.s===n5)h=l.v;else if(h=t.apply(null,arguments),s++,r){const f=i?.deref?.()??i;f!=null&&r(f,h)&&(h=f,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new LZ(h):h}return u.s=n5,u.v=h,h}return o.clearCache=()=>{n=qy(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function UZ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),PZ(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const h={...n,...c},{memoize:f,memoizeOptions:m=[],argsMemoize:v=vL,argsMemoizeOptions:y=[]}=h,S=t5(m),b=t5(y),_=BZ(i),E=f(function(){return s++,u.apply(null,arguments)},...S),C=v(function(){o++;const R=DZ(_,arguments);return l=E.apply(null,R),l},...b);return Object.assign(C,{resultFunc:u,memoizedResultFunc:E,dependencies:_,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var Ee=UZ(vL),zZ=Object.assign((t,e=Ee)=>{RZ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,l,c)=>(o[n[c]]=l,o),{}))},{withTypes:()=>zZ}),V_={},K_={},X_={},r5;function HZ(){return r5||(r5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=e(r),l=e(i);if(o===l&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-o:o-l}return 0};t.compareValues=n})(X_)),X_}var Y_={},J_={},i5;function yL(){return i5||(i5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(J_)),J_}var s5;function GZ(){return s5||(s5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yL(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}t.isKey=i})(Y_)),Y_}var a5;function WZ(){return a5||(a5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HZ(),n=GZ(),r=JM();function i(s,o,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(v=>String(v));const u=(v,y)=>{let S=v;for(let b=0;b<y.length&&S!=null;++b)S=S[y[b]];return S},h=(v,y)=>y==null||v==null?y:typeof v=="object"&&"key"in v?Object.hasOwn(y,v.key)?y[v.key]:u(y,v.path):typeof v=="function"?v(y):Array.isArray(v)?u(y,v):typeof y=="object"?y[v]:y,f=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:f.map(y=>h(y,v))})).slice().sort((v,y)=>{for(let S=0;S<f.length;S++){const b=e.compareValues(v.criteria[S],y.criteria[S],l[S]);if(b!==0)return b}return 0}).map(v=>v.original)}t.orderBy=i})(K_)),K_}var q_={},o5;function VZ(){return o5||(o5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),o=(l,c)=>{for(let u=0;u<l.length;u++){const h=l[u];Array.isArray(h)&&c<s?o(h,c+1):i.push(h)}};return o(n,0),i}t.flatten=e})(q_)),q_}var $_={},l5;function bL(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gL(),n=ZM(),r=cL(),i=dL();function s(o,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],o):!1}t.isIterateeCall=s})($_)),$_}var c5;function KZ(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WZ(),n=VZ(),r=bL();function i(s,...o){const l=o.length;return l>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:l>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(s,n.flatten(o),["asc"])}t.sortBy=i})(V_)),V_}var Q_,u5;function XZ(){return u5||(u5=1,Q_=KZ().sortBy),Q_}var YZ=XZ();const N2=Il(YZ);var wL=t=>t.legend.settings,JZ=t=>t.legend.size,qZ=t=>t.legend.payload,$Z=Ee([qZ,wL],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?N2(r,n):r});function QZ(){return yt($Z)}var $y=1;function SL(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-e.height)>$y||Math.abs(o.left-e.left)>$y||Math.abs(o.top-e.top)>$y||Math.abs(o.width-e.width)>$y)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Zi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ZZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",d5=ZZ,Z_=()=>Math.random().toString(36).substring(7).split("").join("."),eee={INIT:`@@redux/INIT${Z_()}`,REPLACE:`@@redux/REPLACE${Z_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Z_()}`},qb=eee;function tN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function _L(t,e,n){if(typeof t!="function")throw new Error(Zi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zi(1));return n(_L)(t,e)}let r=t,i=e,s=new Map,o=s,l=0,c=!1;function u(){o===s&&(o=new Map,s.forEach((b,_)=>{o.set(_,b)}))}function h(){if(c)throw new Error(Zi(3));return i}function f(b){if(typeof b!="function")throw new Error(Zi(4));if(c)throw new Error(Zi(5));let _=!0;u();const E=l++;return o.set(E,b),function(){if(_){if(c)throw new Error(Zi(6));_=!1,u(),o.delete(E),s=null}}}function m(b){if(!tN(b))throw new Error(Zi(7));if(typeof b.type>"u")throw new Error(Zi(8));if(typeof b.type!="string")throw new Error(Zi(17));if(c)throw new Error(Zi(9));try{c=!0,i=r(i,b)}finally{c=!1}return(s=o).forEach(E=>{E()}),b}function v(b){if(typeof b!="function")throw new Error(Zi(10));r=b,m({type:qb.REPLACE})}function y(){const b=f;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(Zi(11));function E(){const j=_;j.next&&j.next(h())}return E(),{unsubscribe:b(E)}},[d5](){return this}}}return m({type:qb.INIT}),{dispatch:m,subscribe:f,getState:h,replaceReducer:v,[d5]:y}}function tee(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:qb.INIT})>"u")throw new Error(Zi(12));if(typeof n(void 0,{type:qb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zi(13))})}function AL(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{tee(n)}catch(s){i=s}return function(o={},l){if(i)throw i;let c=!1;const u={};for(let h=0;h<r.length;h++){const f=r[h],m=n[f],v=o[f],y=m(v,l);if(typeof y>"u")throw l&&l.type,new Error(Zi(14));u[f]=y,c=c||y!==v}return c=c||r.length!==Object.keys(o).length,c?u:o}}function $b(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function nee(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Zi(15))};const o={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=t.map(c=>c(o));return s=$b(...l)(i.dispatch),{...i,dispatch:s}}}function EL(t){return tN(t)&&"type"in t&&typeof t.type=="string"}var CL=Symbol.for("immer-nothing"),h5=Symbol.for("immer-draftable"),Ba=Symbol.for("immer-state");function Go(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var i0=Object.getPrototypeOf;function pf(t){return!!t&&!!t[Ba]}function $c(t){return t?ML(t)||Array.isArray(t)||!!t[h5]||!!t.constructor?.[h5]||H0(t)||j2(t):!1}var ree=Object.prototype.constructor.toString(),f5=new WeakMap;function ML(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=f5.get(n);return r===void 0&&(r=Function.toString.call(n),f5.set(n,r)),r===ree}function Qb(t,e,n=!0){T2(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function T2(t){const e=t[Ba];return e?e.type_:Array.isArray(t)?1:H0(t)?2:j2(t)?3:0}function KE(t,e){return T2(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NL(t,e,n){const r=T2(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function iee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function H0(t){return t instanceof Map}function j2(t){return t instanceof Set}function Rh(t){return t.copy_||t.base_}function XE(t,e){if(H0(t))return new Map(t);if(j2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=ML(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ba];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],l=r[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[o]})}return Object.create(i0(t),r)}else{const r=i0(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function nN(t,e=!1){return k2(t)||pf(t)||!$c(t)||(T2(t)>1&&Object.defineProperties(t,{set:Qy,add:Qy,clear:Qy,delete:Qy}),Object.freeze(t),e&&Object.values(t).forEach(n=>nN(n,!0))),t}function see(){Go(2)}var Qy={value:see};function k2(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var aee={};function mf(t){const e=aee[t];return e||Go(0,t),e}var s0;function TL(){return s0}function oee(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function p5(t,e){e&&(mf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function YE(t){JE(t),t.drafts_.forEach(lee),t.drafts_=null}function JE(t){t===s0&&(s0=t.parent_)}function m5(t){return s0=oee(s0,t)}function lee(t){const e=t[Ba];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function g5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ba].modified_&&(YE(e),Go(4)),$c(t)&&(t=Zb(e,t),e.parent_||e1(e,t)),e.patches_&&mf("Patches").generateReplacementPatches_(n[Ba].base_,t,e.patches_,e.inversePatches_)):t=Zb(e,n,[]),YE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==CL?t:void 0}function Zb(t,e,n){if(k2(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ba];if(!i)return Qb(e,(s,o)=>x5(t,i,e,s,o,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return e1(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let o=s,l=!1;i.type_===3&&(o=new Set(s),s.clear(),l=!0),Qb(o,(c,u)=>x5(t,i,s,c,u,n,l),r),e1(t,s,!1),n&&t.patches_&&mf("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function x5(t,e,n,r,i,s,o){if(i==null||typeof i!="object"&&!o)return;const l=k2(i);if(!(l&&!o)){if(pf(i)){const c=s&&e&&e.type_!==3&&!KE(e.assigned_,r)?s.concat(r):void 0,u=Zb(t,i,c);if(NL(n,r,u),pf(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if($c(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;Zb(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(H0(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&e1(t,i)}}}function e1(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&nN(e,n)}function cee(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:TL(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=rN;n&&(i=[r],s=a0);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=o,l}var rN={get(t,e){if(e===Ba)return t;const n=Rh(t);if(!KE(n,e))return uee(t,n,e);const r=n[e];return t.finalized_||!$c(r)?r:r===eA(t.base_,e)?(tA(t),t.copy_[e]=$E(r,t)):r},has(t,e){return e in Rh(t)},ownKeys(t){return Reflect.ownKeys(Rh(t))},set(t,e,n){const r=jL(Rh(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=eA(Rh(t),e),s=i?.[Ba];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(iee(n,i)&&(n!==void 0||KE(t.base_,e)))return!0;tA(t),qE(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return eA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,tA(t),qE(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Rh(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Go(11)},getPrototypeOf(t){return i0(t.base_)},setPrototypeOf(){Go(12)}},a0={};Qb(rN,(t,e)=>{a0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});a0.deleteProperty=function(t,e){return a0.set.call(this,t,e,void 0)};a0.set=function(t,e,n){return rN.set.call(this,t[0],e,n,t[0])};function eA(t,e){const n=t[Ba];return(n?Rh(n):t)[e]}function uee(t,e,n){const r=jL(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function jL(t,e){if(!(e in t))return;let n=i0(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=i0(n)}}function qE(t){t.modified_||(t.modified_=!0,t.parent_&&qE(t.parent_))}function tA(t){t.copy_||(t.copy_=XE(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var dee=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(c=s,...u){return o.produce(c,h=>n.call(this,h,...u))}}typeof n!="function"&&Go(6),r!==void 0&&typeof r!="function"&&Go(7);let i;if($c(e)){const s=m5(this),o=$E(e,void 0);let l=!0;try{i=n(o),l=!1}finally{l?YE(s):JE(s)}return p5(s,r),g5(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===CL&&(i=void 0),this.autoFreeze_&&nN(i,!0),r){const s=[],o=[];mf("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else Go(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,c=>e(c,...l));let r,i;return[this.produce(e,n,(o,l)=>{r=o,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){$c(t)||Go(8),pf(t)&&(t=Oc(t));const e=m5(this),n=$E(t,void 0);return n[Ba].isManual_=!0,JE(e),n}finishDraft(t,e){const n=t&&t[Ba];(!n||!n.isManual_)&&Go(9);const{scope_:r}=n;return p5(r,e),g5(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=mf("Patches").applyPatches_;return pf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function $E(t,e){const n=H0(t)?mf("MapSet").proxyMap_(t,e):j2(t)?mf("MapSet").proxySet_(t,e):cee(t,e);return(e?e.scope_:TL()).drafts_.push(n),n}function Oc(t){return pf(t)||Go(10,t),kL(t)}function kL(t){if(!$c(t)||k2(t))return t;const e=t[Ba];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=XE(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=XE(t,!0);return Qb(n,(i,s)=>{NL(n,i,kL(s))},r),e&&(e.finalized_=!1),n}var QE=new dee,PL=QE.produce,hee=QE.setUseStrictIteration.bind(QE);function RL(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var fee=RL(),pee=RL,mee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?$b:$b.apply(null,arguments)};function io(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ra(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>EL(r)&&r.type===t,n}var FL=class Mx extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Mx.prototype)}static get[Symbol.species](){return Mx}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Mx(...e[0].concat(this)):new Mx(...e.concat(this))}};function v5(t){return $c(t)?PL(t,()=>{}):t}function Zy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function gee(t){return typeof t=="boolean"}var xee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new FL;return n&&(gee(n)?o.push(fee):o.push(pee(n.extraArgument))),o},BL="RTK_autoBatch",_i=()=>t=>({payload:t,meta:{[BL]:!0}}),y5=t=>e=>{setTimeout(e,t)},DL=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:y5(10):t.type==="callback"?t.queueNotification:y5(t.timeout),u=()=>{o=!1,s&&(s=!1,l.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const f=()=>i&&h(),m=r.subscribe(f);return l.add(h),()=>{m(),l.delete(h)}},dispatch(h){try{return i=!h?.meta?.[BL],s=!i,s&&(o||(o=!0,c(u))),r.dispatch(h)}finally{i=!0}}})},vee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new FL(t);return r&&i.push(DL(typeof r=="object"?r:void 0)),i};function yee(t){const e=xee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(tN(n))l=AL(n);else throw new Error(Ra(1));let c;typeof r=="function"?c=r(e):c=e();let u=$b;i&&(u=mee({trace:!1,...typeof i=="object"&&i}));const h=nee(...c),f=vee(h);let m=typeof o=="function"?o(f):f();const v=u(...m);return _L(l,s,v)}function IL(t){const e={},n=[];let r;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Ra(28));if(l in e)throw new Error(Ra(29));return e[l]=o,i},addAsyncThunk(s,o){return o.pending&&(e[s.pending.type]=o.pending),o.rejected&&(e[s.rejected.type]=o.rejected),o.fulfilled&&(e[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}hee(!1);function bee(t){return typeof t=="function"}function wee(t,e){let[n,r,i]=IL(e),s;if(bee(t))s=()=>v5(t());else{const l=v5(t);s=()=>l}function o(l=s(),c){let u=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return u.filter(h=>!!h).length===0&&(u=[i]),u.reduce((h,f)=>{if(f)if(pf(h)){const v=f(h,c);return v===void 0?h:v}else{if($c(h))return PL(h,m=>f(m,c));{const m=f(h,c);if(m===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return h},l)}return o.getInitialState=s,o}var See="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",_ee=(t=21)=>{let e="",n=t;for(;n--;)e+=See[Math.random()*64|0];return e},Aee=Symbol.for("rtk-slice-createasyncthunk");function Eee(t,e){return`${t}/${e}`}function Cee({creators:t}={}){const e=t?.asyncThunk?.[Aee];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Ra(11));const o=(typeof r.reducers=="function"?r.reducers(Nee()):r.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(C,j){const R=typeof C=="string"?C:C.type;if(!R)throw new Error(Ra(12));if(R in c.sliceCaseReducersByType)throw new Error(Ra(13));return c.sliceCaseReducersByType[R]=j,u},addMatcher(C,j){return c.sliceMatchers.push({matcher:C,reducer:j}),u},exposeAction(C,j){return c.actionCreators[C]=j,u},exposeCaseReducer(C,j){return c.sliceCaseReducersByName[C]=j,u}};l.forEach(C=>{const j=o[C],R={reducerName:C,type:Eee(i,C),createNotation:typeof r.reducers=="function"};jee(j)?Pee(R,j,u,e):Tee(R,j,u)});function h(){const[C={},j=[],R=void 0]=typeof r.extraReducers=="function"?IL(r.extraReducers):[r.extraReducers],k={...C,...c.sliceCaseReducersByType};return wee(r.initialState,D=>{for(let O in k)D.addCase(O,k[O]);for(let O of c.sliceMatchers)D.addMatcher(O.matcher,O.reducer);for(let O of j)D.addMatcher(O.matcher,O.reducer);R&&D.addDefaultCase(R)})}const f=C=>C,m=new Map,v=new WeakMap;let y;function S(C,j){return y||(y=h()),y(C,j)}function b(){return y||(y=h()),y.getInitialState()}function _(C,j=!1){function R(D){let O=D[C];return typeof O>"u"&&j&&(O=Zy(v,R,b)),O}function k(D=f){const O=Zy(m,j,()=>new WeakMap);return Zy(O,D,()=>{const I={};for(const[U,K]of Object.entries(r.selectors??{}))I[U]=Mee(K,D,()=>Zy(v,D,b),j);return I})}return{reducerPath:C,getSelectors:k,get selectors(){return k(R)},selectSlice:R}}const E={name:i,reducer:S,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:b,..._(s),injectInto(C,{reducerPath:j,...R}={}){const k=j??s;return C.inject({reducerPath:k,reducer:S},R),{...E,..._(k,!0)}}};return E}}function Mee(t,e,n,r){function i(s,...o){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...o)}return i.unwrapped=t,i}var ua=Cee();function Nee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Tee({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!kee(r))throw new Error(Ra(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?io(t,o):io(t))}function jee(t){return t._reducerDefinitionType==="asyncThunk"}function kee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Pee({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ra(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:h}=n,f=i(t,s,h);r.exposeAction(e,f),o&&r.addCase(f.fulfilled,o),l&&r.addCase(f.pending,l),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:o||eb,pending:l||eb,rejected:c||eb,settled:u||eb})}function eb(){}var Ree="task",LL="listener",OL="completed",iN="cancelled",Fee=`task-${iN}`,Bee=`task-${OL}`,ZE=`${LL}-${iN}`,Dee=`${LL}-${OL}`,P2=class{constructor(t){this.code=t,this.message=`${Ree} ${iN} (reason: ${t})`}name="TaskAbortError";message},sN=(t,e)=>{if(typeof t!="function")throw new TypeError(Ra(32))},t1=()=>{},UL=(t,e=t1)=>(t.catch(e),t),zL=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Qh=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Zh=t=>{if(t.aborted){const{reason:e}=t;throw new P2(e)}};function HL(t,e){let n=t1;return new Promise((r,i)=>{const s=()=>i(new P2(t.reason));if(t.aborted){s();return}n=zL(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=t1})}var Iee=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof P2?"cancelled":"rejected",error:n}}finally{e?.()}},n1=t=>e=>UL(HL(t,e).then(n=>(Zh(t),n))),GL=t=>{const e=n1(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:mm}=Object,b5={},R2="listenerMiddleware",Lee=(t,e)=>{const n=r=>zL(t,()=>Qh(r,t.reason));return(r,i)=>{sN(r);const s=new AbortController;n(s);const o=Iee(async()=>{Zh(t),Zh(s.signal);const l=await r({pause:n1(s.signal),delay:GL(s.signal),signal:s.signal});return Zh(s.signal),l},()=>Qh(s,Bee));return i?.autoJoin&&e.push(o.catch(t1)),{result:n1(t)(o),cancel(){Qh(s,Fee)}}}},Oee=(t,e)=>{const n=async(r,i)=>{Zh(e);let s=()=>{};const l=[new Promise((c,u)=>{let h=t({predicate:r,effect:(f,m)=>{m.unsubscribe(),c([f,m.getState(),m.getOriginalState()])}});s=()=>{h(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await HL(e,Promise.race(l));return Zh(e),c}finally{s()}};return(r,i)=>UL(n(r,i))},WL=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=io(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ra(21));return sN(s),{predicate:i,type:e,effect:s}},VL=mm(t=>{const{type:e,predicate:n,effect:r}=WL(t);return{id:_ee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ra(22))}}},{withTypes:()=>VL}),w5=(t,e)=>{const{type:n,effect:r,predicate:i}=WL(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},eC=t=>{t.pending.forEach(e=>{Qh(e,ZE)})},Uee=(t,e)=>()=>{for(const n of e.keys())eC(n);t.clear()},S5=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},KL=mm(io(`${R2}/add`),{withTypes:()=>KL}),zee=io(`${R2}/removeAll`),XL=mm(io(`${R2}/remove`),{withTypes:()=>XL}),Hee=(...t)=>{console.error(`${R2}/error`,...t)},G0=(t={})=>{const e=new Map,n=new Map,r=v=>{const y=n.get(v)??0;n.set(v,y+1)},i=v=>{const y=n.get(v)??1;y===1?n.delete(v):n.set(v,y-1)},{extra:s,onError:o=Hee}=t;sN(o);const l=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),y=>{v.unsubscribe(),y?.cancelActive&&eC(v)}),c=v=>{const y=w5(e,v)??VL(v);return l(y)};mm(c,{withTypes:()=>c});const u=v=>{const y=w5(e,v);return y&&(y.unsubscribe(),v.cancelActive&&eC(y)),!!y};mm(u,{withTypes:()=>u});const h=async(v,y,S,b)=>{const _=new AbortController,E=Oee(c,_.signal),C=[];try{v.pending.add(_),r(v),await Promise.resolve(v.effect(y,mm({},S,{getOriginalState:b,condition:(j,R)=>E(j,R).then(Boolean),take:E,delay:GL(_.signal),pause:n1(_.signal),extra:s,signal:_.signal,fork:Lee(_.signal,C),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((j,R,k)=>{j!==_&&(Qh(j,ZE),k.delete(j))})},cancel:()=>{Qh(_,ZE),v.pending.delete(_)},throwIfCancelled:()=>{Zh(_.signal)}})))}catch(j){j instanceof P2||S5(o,j,{raisedBy:"effect"})}finally{await Promise.all(C),Qh(_,Dee),i(v),v.pending.delete(_)}},f=Uee(e,n);return{middleware:v=>y=>S=>{if(!EL(S))return y(S);if(KL.match(S))return c(S.payload);if(zee.match(S)){f();return}if(XL.match(S))return u(S.payload);let b=v.getState();const _=()=>{if(b===b5)throw new Error(Ra(23));return b};let E;try{if(E=y(S),e.size>0){const C=v.getState(),j=Array.from(e.values());for(const R of j){let k=!1;try{k=R.predicate(S,C,b)}catch(D){k=!1,S5(o,D,{raisedBy:"predicate"})}k&&h(R,S,v,_)}}}finally{b=b5}return E},startListening:c,stopListening:u,clearListeners:f}};function Ra(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Gee={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YL=ua({name:"chartLayout",initialState:Gee,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Wee,setLayout:Vee,setChartSize:Kee,setScale:Xee}=YL.actions,Yee=YL.reducer;function JL(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function _5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_5(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return(e=qee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=$ee(t,"string");return typeof e=="symbol"?e:e+""}function $ee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qn(t,e,n){return xr(t)||xr(e)?n:Pl(e)?ff(t,e,n):typeof e=="function"?e(t):n}var Qee=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:l}=e;if((l==="vertical"||l==="horizontal"&&o==="middle")&&s!=="center"&&ft(t[s]))return lm(lm({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&o!=="middle"&&ft(t[o]))return lm(lm({},t),{},{[o]:t[o]+(i||0)})}return t},Ul=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",qL=(t,e,n,r)=>{if(r)return t.map(l=>l.coordinate);var i,s,o=t.map(l=>(l.coordinate===e&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate));return i||o.push(e),s||o.push(n),o},$L=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:s,scale:o,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:h,ticks:f,niceTicks:m,axisType:v}=t;if(!o)return null;var y=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,S=i==="category"&&o.bandwidth?o.bandwidth()/y:0;if(S=v==="angleAxis"&&s&&s.length>=2?Ui(s[0]-s[1])*2*S:S,f||m){var b=(f||m||[]).map((_,E)=>{var C=r?r.indexOf(_):_;return{coordinate:o(C)+S,value:_,offset:S,index:E}});return b.filter(_=>!ro(_.coordinate))}return c&&u?u.map((_,E)=>({coordinate:o(_)+S,value:_,index:E,offset:S})):o.ticks&&h!=null?o.ticks(h).map((_,E)=>({coordinate:o(_)+S,value:_,offset:S,index:E})):o.domain().map((_,E)=>({coordinate:o(_)+S,value:r?r[_]:_,index:E,offset:S}))},A5=1e-4,Zee=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-A5,s=Math.max(r[0],r[1])+A5,o=t(e[0]),l=t(e[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([e[0],e[n-1]])}},ete=(t,e)=>{if(!e||e.length!==2||!ft(e[0])||!ft(e[1]))return t;var n=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]),i=[t[0],t[1]];return(!ft(t[0])||t[0]<n)&&(i[0]=n),(!ft(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},tte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,o=0;o<e;++o){var l=ro(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},nte=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var o=ro(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},rte={sign:tte,expand:PQ,none:Tm,silhouette:RQ,wiggle:FQ,positive:nte},ite=(t,e,n)=>{var r=rte[n],i=kQ().keys(e).value((s,o)=>Number(Qn(s,o,0))).order(WE).offset(r);return i(t)};function QL(t){return t==null?void 0:String(t)}function r1(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!xr(i[e.dataKey])){var l=sL(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Qn(i,xr(o)?e.dataKey:o);return xr(c)?null:e.scale(c)}var E5=t=>{var{axis:e,ticks:n,offset:r,bandSize:i,entry:s,index:o}=t;if(e.type==="category")return n[o]?n[o].coordinate+r:null;var l=Qn(s,e.dataKey,e.scale.domain()[o]);return xr(l)?null:e.scale(l)-i/2+r},ste=t=>{var{numericAxis:e}=t,n=e.scale.domain();if(e.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},ate=t=>{var e=t.flat(2).filter(ft);return[Math.min(...e),Math.max(...e)]},ote=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],lte=(t,e,n)=>{if(t!=null)return ote(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:o}=s,l=o.reduce((c,u)=>{var h=JL(u,e,n),f=ate(h);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},C5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,M5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wd=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=N2(e,h=>h.coordinate),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function N5(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return lm(lm({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Md(t,e){if(t)return String(t);if(typeof e=="string")return e}var cte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},ute=(t,e)=>e==="centric"?t.angle:t.radius,iu=t=>t.layout.width,su=t=>t.layout.height,dte=t=>t.layout.scale,ZL=t=>t.layout.margin,F2=Ee(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),B2=Ee(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),eO="data-recharts-item-index",tO="data-recharts-item-data-key",W0=60;function T5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T5(Object(n),!0).forEach(function(r){hte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hte(t,e,n){return(e=fte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fte(t){var e=pte(t,"string");return typeof e=="symbol"?e:e+""}function pte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mte=t=>t.brush.height;function gte(t){var e=B2(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:W0;return n+i}return n},0)}function xte(t){var e=B2(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:W0;return n+i}return n},0)}function vte(t){var e=F2(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function yte(t){var e=F2(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Mi=Ee([iu,su,ZL,mte,gte,xte,vte,yte,wL,JZ],(t,e,n,r,i,s,o,l,c,u)=>{var h={left:(n.left||0)+i,right:(n.right||0)+s},f={top:(n.top||0)+o,bottom:(n.bottom||0)+l},m=tb(tb({},f),h),v=m.bottom;m.bottom+=r,m=Qee(m,c,u);var y=t-m.left-m.right,S=e-m.top-m.bottom;return tb(tb({brushBottom:v},m),{},{width:Math.max(y,0),height:Math.max(S,0)})}),bte=Ee(Mi,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),aN=Ee(iu,su,(t,e)=>({x:0,y:0,width:t,height:e})),wte=N.createContext(null),zi=()=>N.useContext(wte)!=null,D2=t=>t.brush,I2=Ee([D2,Mi,ZL],(t,e,n)=>({height:t.height,x:ft(t.x)?t.x:e.left,y:ft(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:ft(t.width)?t.width:e.width})),nA={},rA={},iA={},j5;function Ste(){return j5||(j5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let o,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),h=()=>{l!==null&&(n.apply(o,l),o=void 0,l=null)},f=()=>{u&&h(),S()};let m=null;const v=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,f()},r)},y=()=>{m!==null&&(clearTimeout(m),m=null)},S=()=>{y(),o=void 0,l=null},b=()=>{h()},_=function(...E){if(i?.aborted)return;o=this,l=E;const C=m==null;v(),c&&C&&h()};return _.schedule=v,_.cancel=S,_.flush=b,i?.addEventListener("abort",S,{once:!0}),_}t.debounce=e})(iA)),iA}var k5;function _te(){return k5||(k5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ste();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let h,f=null;const m=e.debounce(function(...S){h=r.apply(this,S),f=null},i,{edges:u}),v=function(...S){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(h=r.apply(this,S),f=Date.now(),m.cancel(),m.schedule(),h):(m.apply(this,S),h)},y=()=>(m.flush(),h);return v.cancel=m.cancel,v.flush=y,v}t.debounce=n})(rA)),rA}var P5;function Ate(){return P5||(P5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_te();function n(r,i=0,s={}){const{leading:o=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:o,maxWait:i,trailing:l})}t.throttle=n})(nA)),nA}var sA,R5;function Ete(){return R5||(R5=1,sA=Ate().throttle),sA}var Cte=Ete();const Mte=Il(Cte);var i1=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},nO=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:s,maxHeight:o}=n,l=qc(r)?t:Number(r),c=qc(i)?e:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:l,calculatedHeight:c}},Nte={width:0,height:0,overflow:"visible"},Tte={width:0,overflowX:"visible"},jte={height:0,overflowY:"visible"},kte={},Pte=t=>{var{width:e,height:n}=t,r=qc(e),i=qc(n);return r&&i?Nte:r?Tte:i?jte:kte};function Rte(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=r&&r>0?void 0:"100%":s===void 0&&(s=r&&r>0?void 0:"100%"),{width:i,height:s}}function vr(t){return Number.isFinite(t)}function Rl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tC.apply(null,arguments)}function F5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F5(Object(n),!0).forEach(function(r){Fte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fte(t,e,n){return(e=Bte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=Dte(t,"string");return typeof e=="symbol"?e:e+""}function Dte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rO=N.createContext({width:-1,height:-1});function Ite(t){return Rl(t.width)&&Rl(t.height)}function iO(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return Ite(i)?N.createElement(rO.Provider,{value:i},e):null}var oN=()=>N.useContext(rO),Lte=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:s,minWidth:o=0,minHeight:l,maxHeight:c,children:u,debounce:h=0,id:f,className:m,onResize:v,style:y={}}=t,S=N.useRef(null),b=N.useRef();b.current=v,N.useImperativeHandle(e,()=>S.current);var[_,E]=N.useState({containerWidth:r.width,containerHeight:r.height}),C=N.useCallback((O,I)=>{E(U=>{var K=Math.round(O),$=Math.round(I);return U.containerWidth===K&&U.containerHeight===$?U:{containerWidth:K,containerHeight:$}})},[]);N.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return Ef;var O=$=>{var re,{width:Y,height:se}=$[0].contentRect;C(Y,se),(re=b.current)===null||re===void 0||re.call(b,Y,se)};h>0&&(O=Mte(O,h,{trailing:!0,leading:!1}));var I=new ResizeObserver(O),{width:U,height:K}=S.current.getBoundingClientRect();return C(U,K),I.observe(S.current),()=>{I.disconnect()}},[C,h]);var{containerWidth:j,containerHeight:R}=_;i1(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:D}=nO(j,R,{width:i,height:s,aspect:n,maxHeight:c});return i1(k!=null&&k>0||D!=null&&D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,D,i,s,o,l,n),N.createElement("div",{id:f?"".concat(f):void 0,className:Cn("recharts-responsive-container",m),style:B5(B5({},y),{},{width:i,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:S},N.createElement("div",{style:Pte({width:i,height:s})},N.createElement(iO,{width:k,height:D},u)))}),Jo=N.forwardRef((t,e)=>{var n=oN();if(Rl(n.width)&&Rl(n.height))return t.children;var{width:r,height:i}=Rte({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:o}=nO(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return ft(s)&&ft(o)?N.createElement(iO,{width:s,height:o},t.children):N.createElement(Lte,tC({},t,{width:r,height:i,ref:e}))});function sO(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var L2=()=>{var t,e=zi(),n=yt(bte),r=yt(I2),i=(t=yt(D2))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Ote={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aO=()=>{var t;return(t=yt(Mi))!==null&&t!==void 0?t:Ote},lN=()=>yt(iu),cN=()=>yt(su),Ute=()=>yt(t=>t.layout.margin),mn=t=>t.layout.layoutType,Vm=()=>yt(mn),zte=()=>{var t=Vm();return t!==void 0},O2=t=>{var e=ur(),n=zi(),{width:r,height:i}=t,s=oN(),o=r,l=i;return s&&(o=s.width>0?s.width:r,l=s.height>0?s.height:i),N.useEffect(()=>{!n&&Rl(o)&&Rl(l)&&e(Kee({width:o,height:l}))},[e,n,o,l]),null},Hte={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oO=ua({name:"legend",initialState:Hte,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:_i()},removeLegendPayload:{reducer(t,e){var n=Oc(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:_i()}}}),{setLegendSize:D5,setLegendSettings:Gte,addLegendPayload:lO,removeLegendPayload:cO}=oO.actions,Wte=oO.reducer,Vte=["contextPayload"];function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(null,arguments)}function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(r){Kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kte(t,e,n){return(e=Xte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xte(t){var e=Yte(t,"string");return typeof e=="symbol"?e:e+""}function Yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jte(t,e){if(t==null)return{};var n,r,i=qte(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qte(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $te(t){return t.value}function Qte(t){var{contextPayload:e}=t,n=Jte(t,Vte),r=xL(e,t.payloadUniqBy,$te),i=jm(jm({},n),{},{payload:r});return N.isValidElement(t.content)?N.cloneElement(t.content,i):typeof t.content=="function"?N.createElement(t.content,i):N.createElement(cZ,i)}function Zte(t,e,n,r,i,s){var{layout:o,align:l,verticalAlign:c}=e,u,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(l==="center"&&o==="vertical"?u={left:((r||0)-s.width)/2}:u=l==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-s.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),jm(jm({},u),h)}function ene(t){var e=ur();return N.useEffect(()=>{e(Gte(t))},[e,t]),null}function tne(t){var e=ur();return N.useEffect(()=>(e(D5(t)),()=>{e(D5({width:0,height:0}))}),[e,t]),null}function nne(t,e,n,r){return t==="vertical"&&ft(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var rne={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function s1(t){var e=Gr(t,rne),n=QZ(),r=tQ(),i=Ute(),{width:s,height:o,wrapperStyle:l,portal:c}=e,[u,h]=SL([n]),f=lN(),m=cN();if(f==null||m==null)return null;var v=f-(i?.left||0)-(i?.right||0),y=nne(e.layout,o,s,v),S=c?l:jm(jm({position:"absolute",width:y?.width||s||"auto",height:y?.height||o||"auto"},Zte(l,e,i,f,m,u)),l),b=c??r;if(b==null||n==null)return null;var _=N.createElement("div",{className:"recharts-legend-wrapper",style:S,ref:h},N.createElement(ene,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),N.createElement(tne,{width:u.width,height:u.height}),N.createElement(Qte,nC({},e,y,{margin:i,chartWidth:f,chartHeight:m,contextPayload:n})));return WM.createPortal(_,b)}s1.displayName="Legend";function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rC.apply(null,arguments)}function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(r){ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ine(t,e,n){return(e=sne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sne(t){var e=ane(t,"string");return typeof e=="symbol"?e:e+""}function ane(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function one(t){return Array.isArray(t)&&Pl(t[0])&&Pl(t[1])?t.join(" ~ "):t}var lne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:h,labelFormatter:f,accessibilityLayer:m=!1}=t,v=()=>{if(s&&s.length){var R={padding:0,margin:0},k=(l?N2(s,l):s).map((D,O)=>{if(D.type==="none")return null;var I=D.formatter||o||one,{value:U,name:K}=D,$=U,re=K;if(I){var Y=I(U,K,D,O,s);if(Array.isArray(Y))[$,re]=Y;else if(Y!=null)$=Y;else return null}var se=aA({display:"block",paddingTop:4,paddingBottom:4,color:D.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:se},Pl(re)?N.createElement("span",{className:"recharts-tooltip-item-name"},re):null,Pl(re)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},$),N.createElement("span",{className:"recharts-tooltip-item-unit"},D.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:R},k)}return null},y=aA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),S=aA({margin:0},i),b=!xr(h),_=b?h:"",E=Cn("recharts-default-tooltip",c),C=Cn("recharts-tooltip-label",u);b&&f&&s!==void 0&&s!==null&&(_=f(h,s));var j=m?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",rC({className:E,style:y},j),N.createElement("p",{className:C,style:S},N.isValidElement(_)?_:"".concat(_)),v())},xx="recharts-tooltip-wrapper",cne={visibility:"hidden"};function une(t){var{coordinate:e,translateX:n,translateY:r}=t;return Cn(xx,{["".concat(xx,"-right")]:ft(n)&&e&&ft(e.x)&&n>=e.x,["".concat(xx,"-left")]:ft(n)&&e&&ft(e.x)&&n<e.x,["".concat(xx,"-bottom")]:ft(r)&&e&&ft(e.y)&&r>=e.y,["".concat(xx,"-top")]:ft(r)&&e&&ft(e.y)&&r<e.y})}function O5(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=t;if(s&&ft(s[r]))return s[r];var h=n[r]-l-(i>0?i:0),f=n[r]+i;if(e[r])return o[r]?h:f;var m=c[r];if(m==null)return 0;if(o[r]){var v=h,y=m;return v<y?Math.max(f,m):Math.max(h,m)}if(u==null)return 0;var S=f+l,b=m+u;return S>b?Math.max(h,m):Math.max(f,m)}function dne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:l,viewBox:c}=t,u,h,f;return o.height>0&&o.width>0&&n?(h=O5({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=O5({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=dne({translateX:h,translateY:f,useTranslate3d:l})):u=cne,{cssProperties:u,cssClasses:une({translateX:h,translateY:f,coordinate:n})}}function U5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(n),!0).forEach(function(r){iC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iC(t,e,n){return(e=fne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fne(t){var e=pne(t,"string");return typeof e=="symbol"?e:e+""}function pne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class mne extends N.PureComponent{constructor(){super(...arguments),iC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iC(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:l,isAnimationActive:c,offset:u,position:h,reverseDirection:f,useTranslate3d:m,viewBox:v,wrapperStyle:y,lastBoundingBox:S,innerRef:b,hasPortalFromProps:_}=this.props,{cssClasses:E,cssProperties:C}=hne({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:h,reverseDirection:f,tooltipBox:{height:S.height,width:S.width},useTranslate3d:m,viewBox:v}),j=_?{}:nb(nb({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),R=nb(nb({},j),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},y);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:R,ref:b},s)}}var gne=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),au={devToolsEnabled:!1,isSsr:gne()},uO=()=>{var t;return(t=yt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function sC(){return sC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sC.apply(null,arguments)}function z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z5(Object(n),!0).forEach(function(r){xne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xne(t,e,n){return(e=vne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vne(t){var e=yne(t,"string");return typeof e=="symbol"?e:e+""}function yne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G5={curveBasisClosed:bQ,curveBasisOpen:wQ,curveBasis:yQ,curveBumpX:sQ,curveBumpY:aQ,curveLinearClosed:SQ,curveLinear:C2,curveMonotoneX:_Q,curveMonotoneY:AQ,curveNatural:EQ,curveStep:CQ,curveStepAfter:NQ,curveStepBefore:MQ},a1=t=>vr(t.x)&&vr(t.y),W5=t=>t.base!=null&&a1(t.base)&&a1(t),vx=t=>t.x,yx=t=>t.y,bne=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(U0(t));return(n==="curveMonotone"||n==="curveBump")&&e?G5["".concat(n).concat(e==="vertical"?"Y":"X")]:G5[n]||C2},wne=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,o=bne(e,i),l=s?n.filter(a1):n,c;if(Array.isArray(r)){var u=n.map((v,y)=>H5(H5({},v),{},{base:r[y]}));i==="vertical"?c=Jy().y(yx).x1(vx).x0(v=>v.base.x):c=Jy().x(vx).y1(yx).y0(v=>v.base.y);var h=c.defined(W5).curve(o),f=s?u.filter(W5):u;return h(f)}i==="vertical"&&ft(r)?c=Jy().y(yx).x1(vx).x0(r):ft(r)?c=Jy().x(vx).y1(yx).y0(r):c=K4().x(vx).y(yx);var m=c.defined(a1).curve(o);return m(l)},gm=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?wne(t):r;return N.createElement("path",sC({},zs(t),QM(t),{className:Cn("recharts-curve",e),d:s===null?void 0:s,ref:i}))},Sne=["x","y","top","left","width","height","className"];function aC(){return aC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aC.apply(null,arguments)}function V5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(n),!0).forEach(function(r){Ane(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ane(t,e,n){return(e=Ene(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ene(t){var e=Cne(t,"string");return typeof e=="symbol"?e:e+""}function Cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mne(t,e){if(t==null)return{};var n,r,i=Nne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tne=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),jne=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:l}=t,c=Mne(t,Sne),u=_ne({x:e,y:n,top:r,left:i,width:s,height:o},c);return!ft(e)||!ft(n)||!ft(s)||!ft(o)||!ft(r)||!ft(i)?null:N.createElement("path",aC({},bs(u),{className:Cn("recharts-cross",l),d:Tne(e,n,s,o,r,i)}))};function kne(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function K5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K5(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return(e=Rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=Fne(t,"string");return typeof e=="symbol"?e:e+""}function Fne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bne=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),dO=(t,e,n)=>t.map(r=>"".concat(Bne(r)," ").concat(e,"ms ").concat(n)).join(","),Dne=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),o0=(t,e)=>Object.keys(e).reduce((n,r)=>X5(X5({},n),{},{[r]:t(r,e[r])}),{});function Y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(n),!0).forEach(function(r){Ine(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ine(t,e,n){return(e=Lne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lne(t){var e=One(t,"string");return typeof e=="symbol"?e:e+""}function One(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var o1=(t,e,n)=>t+(e-t)*n,oC=t=>{var{from:e,to:n}=t;return e!==n},hO=(t,e,n)=>{var r=o0((i,s)=>{if(oC(s)){var[o,l]=t(s.from,s.to,s.velocity);return bi(bi({},s),{},{from:o,velocity:l})}return s},e);return n<1?o0((i,s)=>oC(s)?bi(bi({},s),{},{velocity:o1(s.velocity,r[i].velocity,n),from:o1(s.from,r[i].from,n)}):s,e):hO(t,r,n-1)};function Une(t,e,n,r,i,s){var o,l=r.reduce((m,v)=>bi(bi({},m),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),c=()=>o0((m,v)=>v.from,l),u=()=>!Object.values(l).filter(oC).length,h=null,f=m=>{o||(o=m);var v=m-o,y=v/n.dt;l=hO(n,l,y),i(bi(bi(bi({},t),e),c())),o=m,u()||(h=s.setTimeout(f))};return()=>(h=s.setTimeout(f),()=>{var m;(m=h)===null||m===void 0||m()})}function zne(t,e,n,r,i,s,o){var l=null,c=i.reduce((f,m)=>bi(bi({},f),{},{[m]:[t[m],e[m]]}),{}),u,h=f=>{u||(u=f);var m=(f-u)/r,v=o0((S,b)=>o1(...b,n(m)),c);if(s(bi(bi(bi({},t),e),v)),m<1)l=o.setTimeout(h);else{var y=o0((S,b)=>o1(...b,n(1)),c);s(bi(bi(bi({},t),e),y))}};return()=>(l=o.setTimeout(h),()=>{var f;(f=l)===null||f===void 0||f()})}const Hne=(t,e,n,r,i,s)=>{var o=Dne(t,e);return n==null?()=>(i(bi(bi({},t),e)),()=>{}):n.isStepper===!0?Une(t,e,n,o,i,s):zne(t,e,n,r,o,i,s)};var l1=1e-4,fO=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],pO=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),J5=(t,e)=>n=>{var r=fO(t,e);return pO(r,n)},Gne=(t,e)=>n=>{var r=fO(t,e),i=[...r.map((s,o)=>s*o).slice(1),0];return pO(i,n)},Wne=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,s=n[0].split("(");if(s[0]==="cubic-bezier"&&((i=s[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(l=>parseFloat(l));return[o[0],o[1],o[2],o[3]]}}}return n.length===4?n:[0,0,1,1]},Vne=(t,e,n,r)=>{var i=J5(t,n),s=J5(e,r),o=Gne(t,n),l=u=>u>1?1:u<0?0:u,c=u=>{for(var h=u>1?1:u,f=h,m=0;m<8;++m){var v=i(f)-h,y=o(f);if(Math.abs(v-h)<l1||y<l1)return s(f);f=l(f-v/y)}return s(f)};return c.isStepper=!1,c},q5=function(){return Vne(...Wne(...arguments))},Kne=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(o,l,c)=>{var u=-(o-l)*n,h=c*r,f=c+(u-h)*i/1e3,m=c*i/1e3+o;return Math.abs(m-l)<l1&&Math.abs(f)<l1?[l,0]:[m,f]};return s.isStepper=!0,s.dt=i,s},Xne=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return q5(t);case"spring":return Kne();default:if(t.split("(")[0]==="cubic-bezier")return q5(t)}return typeof t=="function"?t:null};function Yne(t){var e,n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var l=o,[c,...u]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,u),c);return}s(c),i=t.setTimeout(s.bind(null,u));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class Jne{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function qne(){return Yne(new Jne)}var $ne=N.createContext(qne);function Qne(t,e){var n=N.useContext($ne);return N.useMemo(()=>e??n(t),[t,e,n])}var Zne={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$5={t:0},oA={t:1};function Km(t){var e=Gr(t,Zne),{isActive:n,canBegin:r,duration:i,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=e,h=Qne(e.animationId,e.animationManager),[f,m]=N.useState(n?$5:oA),v=N.useRef(null);return N.useEffect(()=>{n||m(oA)},[n]),N.useEffect(()=>{if(!n||!r)return Ef;var y=Hne($5,oA,Xne(s),i,m,h.getTimeoutController()),S=()=>{v.current=y()};return h.start([c,o,S,i,l]),()=>{h.stop(),v.current&&v.current(),l()}},[n,r,i,s,o,c,l,h]),u(f.t)}function Xm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(r0(e)),r=N.useRef(t);return r.current!==t&&(n.current=r0(e),r.current=t),n.current}var ere=["radius"],tre=["radius"];function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Z5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(r){nre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nre(t,e,n){return(e=rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rre(t){var e=ire(t,"string");return typeof e=="symbol"?e:e+""}function ire(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c1(){return c1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c1.apply(null,arguments)}function eR(t,e){if(t==null)return{};var n,r,i=sre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tR=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],f=0,m=4;f<m;f++)h[f]=i[f]>s?s:i[f];u="M".concat(t,",").concat(e+o*h[0]),h[0]>0&&(u+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+l*h[0],",").concat(e)),u+="L ".concat(t+n-l*h[1],",").concat(e),h[1]>0&&(u+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+o*h[1])),u+="L ".concat(t+n,",").concat(e+r-o*h[2]),h[2]>0&&(u+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-l*h[2],",").concat(e+r)),u+="L ".concat(t+l*h[3],",").concat(e+r),h[3]>0&&(u+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-o*h[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var v=Math.min(s,i);u="M ".concat(t,",").concat(e+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+l*v,",").concat(e,`
            L `).concat(t+n-l*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n,",").concat(e+o*v,`
            L `).concat(t+n,",").concat(e+r-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t+n-l*v,",").concat(e+r,`
            L `).concat(t+l*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(t,",").concat(e+r-o*v," Z")}else u="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return u},nR={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mO=t=>{var e=Gr(t,nR),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var le=n.current.getTotalLength();le&&i(le)}catch{}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:h}=e,{animationEasing:f,animationDuration:m,animationBegin:v,isAnimationActive:y,isUpdateAnimationActive:S}=e,b=N.useRef(l),_=N.useRef(c),E=N.useRef(s),C=N.useRef(o),j=N.useMemo(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),R=Xm(j,"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||l===0||c===0)return null;var k=Cn("recharts-rectangle",h);if(!S){var D=bs(e),{radius:O}=D,I=eR(D,ere);return N.createElement("path",c1({},I,{radius:typeof u=="number"?u:void 0,className:k,d:tR(s,o,l,c,u)}))}var U=b.current,K=_.current,$=E.current,re=C.current,Y="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),oe=dO(["strokeDasharray"],m,typeof f=="string"?f:nR.animationEasing);return N.createElement(Km,{animationId:R,key:R,canBegin:r>0,duration:m,easing:f,isActive:S,begin:v},le=>{var H=Dn(U,l,le),q=Dn(K,c,le),Q=Dn($,s,le),V=Dn(re,o,le);n.current&&(b.current=H,_.current=q,E.current=Q,C.current=V);var ee;y?le>0?ee={transition:oe,strokeDasharray:se}:ee={strokeDasharray:Y}:ee={strokeDasharray:se};var ce=bs(e),{radius:ne}=ce,be=eR(ce,tre);return N.createElement("path",c1({},be,{radius:typeof u=="number"?u:void 0,className:k,d:tR(Q,V,H,q,u),ref:n,style:Z5(Z5({},ee),e.style)}))})};function rR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rR(Object(n),!0).forEach(function(r){are(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function are(t,e,n){return(e=ore(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ore(t){var e=lre(t,"string");return typeof e=="symbol"?e:e+""}function lre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u1=Math.PI/180,cre=t=>t*180/Math.PI,ci=(t,e,n,r)=>({x:t+Math.cos(-u1*r)*n,y:e+Math.sin(-u1*r)*n}),gO=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},ure=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},dre=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,o=ure({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var l=(n-i)/o,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:o,angle:cre(c),angleInRadian:c}},hre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},fre=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return t+o*360},pre=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=dre({x:n,y:r},e),{innerRadius:o,outerRadius:l}=e;if(i<o||i>l||i===0)return null;var{startAngle:c,endAngle:u}=hre(e),h=s,f;if(c<=u){for(;h>u;)h-=360;for(;h<c;)h+=360;f=h>=c&&h<=u}else{for(;h>c;)h-=360;for(;h<u;)h+=360;f=h>=u&&h<=c}return f?iR(iR({},e),{},{radius:i,angle:fre(h,e)}):null};function xO(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,o=ci(e,n,r,i),l=ci(e,n,r,s);return{points:[o,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function lC(){return lC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lC.apply(null,arguments)}var mre=(t,e)=>{var n=Ui(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},rb=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:l,cornerIsExternal:c}=t,u=l*(o?1:-1)+r,h=Math.asin(l/u)/u1,f=c?i:i+s*h,m=ci(e,n,u,f),v=ci(e,n,r,f),y=c?i-s*h:i,S=ci(e,n,u*Math.cos(h*u1),y);return{center:m,circleTangency:v,lineTangency:S,theta:h}},vO=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=t,l=mre(s,o),c=s+l,u=ci(e,n,i,s),h=ci(e,n,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var m=ci(e,n,r,s),v=ci(e,n,r,c);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else f+="L ".concat(e,",").concat(n," Z");return f},gre=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}=t,h=Ui(u-c),{circleTangency:f,lineTangency:m,theta:v}=rb({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:s,cornerIsExternal:l}),{circleTangency:y,lineTangency:S,theta:b}=rb({cx:e,cy:n,radius:i,angle:u,sign:-h,cornerRadius:s,cornerIsExternal:l}),_=l?Math.abs(c-u):Math.abs(c-u)-v-b;if(_<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):vO({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:j,theta:R}=rb({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:k,lineTangency:D,theta:O}=rb({cx:e,cy:n,radius:r,angle:u,sign:-h,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),I=l?Math.abs(c-u):Math.abs(c-u)-R-O;if(I<0&&s===0)return"".concat(E,"L").concat(e,",").concat(n,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(I>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,"Z")}else E+="L".concat(e,",").concat(n,"Z");return E},xre={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yO=t=>{var e=Gr(t,xre),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h,className:f}=e;if(s<i||u===h)return null;var m=Cn("recharts-sector",f),v=s-i,y=ys(o,v,0,!0),S;return y>0&&Math.abs(u-h)<360?S=gre({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:h}):S=vO({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:h}),N.createElement("path",lC({},bs(e),{className:m,d:S}))};function vre(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(oL(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:o,angle:l}=e,c=ci(r,i,s,l),u=ci(r,i,o,l);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return xO(e)}}var lA={},cA={},uA={},sR;function yre(){return sR||(sR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yL();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(uA)),uA}var aR;function bre(){return aR||(aR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yre();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(cA)),cA}var oR;function wre(){return oR||(oR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bL(),n=bre();function r(i,s,o){o&&typeof o!="number"&&e.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const l=Math.max(Math.ceil((s-i)/(o||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=o;return c}t.range=r})(lA)),lA}var dA,lR;function Sre(){return lR||(lR=1,dA=wre().range),dA}var _re=Sre();const bO=Il(_re);function fd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Are(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function uN(t){let e,n,r;t.length!==2?(e=fd,n=(l,c)=>fd(t(l),c),r=(l,c)=>t(l)-c):(e=t===fd||t===Are?t:Ere,n=t,r=t);function i(l,c,u=0,h=l.length){if(u<h){if(e(c,c)!==0)return h;do{const f=u+h>>>1;n(l[f],c)<0?u=f+1:h=f}while(u<h)}return u}function s(l,c,u=0,h=l.length){if(u<h){if(e(c,c)!==0)return h;do{const f=u+h>>>1;n(l[f],c)<=0?u=f+1:h=f}while(u<h)}return u}function o(l,c,u=0,h=l.length){const f=i(l,c,u,h-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function Ere(){return 0}function wO(t){return t===null?NaN:+t}function*Cre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Mre=uN(fd),V0=Mre.right;uN(wO).center;class cR extends Map{constructor(e,n=jre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(uR(this,e))}has(e){return super.has(uR(this,e))}set(e,n){return super.set(Nre(this,e),n)}delete(e){return super.delete(Tre(this,e))}}function uR({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Nre({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Tre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function jre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function kre(t=fd){if(t===fd)return SO;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function SO(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Pre=Math.sqrt(50),Rre=Math.sqrt(10),Fre=Math.sqrt(2);function d1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Pre?10:s>=Rre?5:s>=Fre?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=n&&n<2?d1(t,e,n*2):[l,c,u]}function cC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?d1(e,t,n):d1(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function uC(t,e,n){return e=+e,t=+t,n=+n,d1(t,e,n)[2]}function dC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?uC(e,t,n):uC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function dR(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function hR(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _O(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?SO:kre(i);r>n;){if(r-n>600){const c=r-n+1,u=e-n+1,h=Math.log(c),f=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*f*(c-f)/c)*(u-c/2<0?-1:1),v=Math.max(n,Math.floor(e-u*f/c+m)),y=Math.min(r,Math.floor(e+(c-u)*f/c+m));_O(t,e,v,y,i)}const s=t[e];let o=n,l=r;for(bx(t,n,e),i(t[r],s)>0&&bx(t,n,r);o<l;){for(bx(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?bx(t,n,l):(++l,bx(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function bx(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Bre(t,e,n){if(t=Float64Array.from(Cre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return hR(t);if(e>=1)return dR(t);var r,i=(r-1)*e,s=Math.floor(i),o=dR(_O(t,s).subarray(0,s+1)),l=hR(t.subarray(s+1));return o+(l-o)*(i-s)}}function Dre(t,e,n=wO){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function Ire(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function oo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ou(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const hC=Symbol("implicit");function dN(){var t=new cR,e=[],n=[],r=hC;function i(s){let o=t.get(s);if(o===void 0){if(r!==hC)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new cR;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return dN(e,n).unknown(r)},oo.apply(i,arguments),i}function hN(){var t=dN().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,l=!1,c=0,u=0,h=.5;delete t.unknown;function f(){var m=e().length,v=i<r,y=v?i:r,S=v?r:i;s=(S-y)/Math.max(1,m-c+u*2),l&&(s=Math.floor(s)),y+=(S-y-s*(m-c))*h,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var b=Ire(m).map(function(_){return y+s*_});return n(v?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),f()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(m){return arguments.length?(l=!!m,f()):l},t.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},t.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},t.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},t.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),f()):h},t.copy=function(){return hN(e(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(h)},oo.apply(f(),arguments)}function AO(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return AO(e())},t}function Lre(){return AO(hN.apply(null,arguments).paddingInner(1))}function fN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function EO(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function K0(){}var l0=.7,h1=1/l0,xm="\\s*([+-]?\\d+)\\s*",c0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Cl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ore=/^#([0-9a-f]{3,8})$/,Ure=new RegExp(`^rgb\\(${xm},${xm},${xm}\\)$`),zre=new RegExp(`^rgb\\(${Cl},${Cl},${Cl}\\)$`),Hre=new RegExp(`^rgba\\(${xm},${xm},${xm},${c0}\\)$`),Gre=new RegExp(`^rgba\\(${Cl},${Cl},${Cl},${c0}\\)$`),Wre=new RegExp(`^hsl\\(${c0},${Cl},${Cl}\\)$`),Vre=new RegExp(`^hsla\\(${c0},${Cl},${Cl},${c0}\\)$`),fR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};fN(K0,u0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pR,formatHex:pR,formatHex8:Kre,formatHsl:Xre,formatRgb:mR,toString:mR});function pR(){return this.rgb().formatHex()}function Kre(){return this.rgb().formatHex8()}function Xre(){return CO(this).formatHsl()}function mR(){return this.rgb().formatRgb()}function u0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ore.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?gR(e):n===3?new sa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ib(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ib(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ure.exec(t))?new sa(e[1],e[2],e[3],1):(e=zre.exec(t))?new sa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hre.exec(t))?ib(e[1],e[2],e[3],e[4]):(e=Gre.exec(t))?ib(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wre.exec(t))?yR(e[1],e[2]/100,e[3]/100,1):(e=Vre.exec(t))?yR(e[1],e[2]/100,e[3]/100,e[4]):fR.hasOwnProperty(t)?gR(fR[t]):t==="transparent"?new sa(NaN,NaN,NaN,0):null}function gR(t){return new sa(t>>16&255,t>>8&255,t&255,1)}function ib(t,e,n,r){return r<=0&&(t=e=n=NaN),new sa(t,e,n,r)}function Yre(t){return t instanceof K0||(t=u0(t)),t?(t=t.rgb(),new sa(t.r,t.g,t.b,t.opacity)):new sa}function fC(t,e,n,r){return arguments.length===1?Yre(t):new sa(t,e,n,r??1)}function sa(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}fN(sa,fC,EO(K0,{brighter(t){return t=t==null?h1:Math.pow(h1,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?l0:Math.pow(l0,t),new sa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new sa(ef(this.r),ef(this.g),ef(this.b),f1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xR,formatHex:xR,formatHex8:Jre,formatRgb:vR,toString:vR}));function xR(){return`#${Gh(this.r)}${Gh(this.g)}${Gh(this.b)}`}function Jre(){return`#${Gh(this.r)}${Gh(this.g)}${Gh(this.b)}${Gh((isNaN(this.opacity)?1:this.opacity)*255)}`}function vR(){const t=f1(this.opacity);return`${t===1?"rgb(":"rgba("}${ef(this.r)}, ${ef(this.g)}, ${ef(this.b)}${t===1?")":`, ${t})`}`}function f1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ef(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gh(t){return t=ef(t),(t<16?"0":"")+t.toString(16)}function yR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wo(t,e,n,r)}function CO(t){if(t instanceof Wo)return new Wo(t.h,t.s,t.l,t.opacity);if(t instanceof K0||(t=u0(t)),!t)return new Wo;if(t instanceof Wo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Wo(o,l,c,t.opacity)}function qre(t,e,n,r){return arguments.length===1?CO(t):new Wo(t,e,n,r??1)}function Wo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}fN(Wo,qre,EO(K0,{brighter(t){return t=t==null?h1:Math.pow(h1,t),new Wo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?l0:Math.pow(l0,t),new Wo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new sa(hA(t>=240?t-240:t+120,i,r),hA(t,i,r),hA(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wo(bR(this.h),sb(this.s),sb(this.l),f1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=f1(this.opacity);return`${t===1?"hsl(":"hsla("}${bR(this.h)}, ${sb(this.s)*100}%, ${sb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bR(t){return t=(t||0)%360,t<0?t+360:t}function sb(t){return Math.max(0,Math.min(1,t||0))}function hA(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const pN=t=>()=>t;function $re(t,e){return function(n){return t+n*e}}function Qre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Zre(t){return(t=+t)==1?MO:function(e,n){return n-e?Qre(e,n,t):pN(isNaN(e)?n:e)}}function MO(t,e){var n=e-t;return n?$re(t,n):pN(isNaN(t)?e:t)}const wR=(function t(e){var n=Zre(e);function r(i,s){var o=n((i=fC(i)).r,(s=fC(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=MO(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=u(h),i+""}}return r.gamma=t,r})(1);function eie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function tie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Ym(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function rie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function p1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ym(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var pC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fA=new RegExp(pC.source,"g");function sie(t){return function(){return t}}function aie(t){return function(e){return t(e)+""}}function oie(t,e){var n=pC.lastIndex=fA.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=pC.exec(t))&&(i=fA.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:p1(r,i)})),n=fA.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?aie(c[0].x):sie(e):(e=c.length,function(u){for(var h=0,f;h<e;++h)l[(f=c[h]).i]=f.x(u);return l.join("")})}function Ym(t,e){var n=typeof e,r;return e==null||n==="boolean"?pN(e):(n==="number"?p1:n==="string"?(r=u0(e))?(e=r,wR):oie:e instanceof u0?wR:e instanceof Date?rie:tie(e)?eie:Array.isArray(e)?nie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iie:p1)(t,e)}function mN(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function lie(t,e){e===void 0&&(e=t,t=Ym);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function cie(t){return function(){return t}}function m1(t){return+t}var SR=[0,1];function Os(t){return t}function mC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cie(isNaN(e)?NaN:.5)}function uie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function die(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=mC(i,r),s=n(o,s)):(r=mC(r,i),s=n(s,o)),function(l){return s(r(l))}}function hie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=mC(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(l){var c=V0(t,l,1,r)-1;return s[c](i[c](l))}}function X0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function U2(){var t=SR,e=SR,n=Ym,r,i,s,o=Os,l,c,u;function h(){var m=Math.min(t.length,e.length);return o!==Os&&(o=uie(t[0],t[m-1])),l=m>2?hie:die,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(c||(c=l(t.map(r),e,n)))(r(o(m)))}return f.invert=function(m){return o(i((u||(u=l(e,t.map(r),p1)))(m)))},f.domain=function(m){return arguments.length?(t=Array.from(m,m1),h()):t.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),h()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),n=mN,h()},f.clamp=function(m){return arguments.length?(o=m?!0:Os,h()):o!==Os},f.interpolate=function(m){return arguments.length?(n=m,h()):n},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,v){return r=m,i=v,h()}}function gN(){return U2()(Os,Os)}function fie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function g1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function km(t){return t=g1(Math.abs(t)),t?t[1]:NaN}function pie(t,e){return function(n,r){for(var i=n.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function mie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d0(t){if(!(e=gie.exec(t)))throw new Error("invalid format: "+t);var e;return new xN({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}d0.prototype=xN.prototype;function xN(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}xN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var NO;function vie(t,e){var n=g1(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(NO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+g1(t,Math.max(0,e+s-1))[0]}function _R(t,e){var n=g1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const AR={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_R(t*100,e),r:_R,s:vie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function ER(t){return t}var CR=Array.prototype.map,MR=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function yie(t){var e=t.grouping===void 0||t.thousands===void 0?ER:pie(CR.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?ER:mie(CR.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=d0(f);var m=f.fill,v=f.align,y=f.sign,S=f.symbol,b=f.zero,_=f.width,E=f.comma,C=f.precision,j=f.trim,R=f.type;R==="n"?(E=!0,R="g"):AR[R]||(C===void 0&&(C=12),j=!0,R="g"),(b||m==="0"&&v==="=")&&(b=!0,m="0",v="=");var k=S==="$"?n:S==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",D=S==="$"?r:/[%p]/.test(R)?o:"",O=AR[R],I=/[defgprs%]/.test(R);C=C===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function U(K){var $=k,re=D,Y,se,oe;if(R==="c")re=O(K)+re,K="";else{K=+K;var le=K<0||1/K<0;if(K=isNaN(K)?c:O(Math.abs(K),C),j&&(K=xie(K)),le&&+K==0&&y!=="+"&&(le=!1),$=(le?y==="("?y:l:y==="-"||y==="("?"":y)+$,re=(R==="s"?MR[8+NO/3]:"")+re+(le&&y==="("?")":""),I){for(Y=-1,se=K.length;++Y<se;)if(oe=K.charCodeAt(Y),48>oe||oe>57){re=(oe===46?i+K.slice(Y+1):K.slice(Y))+re,K=K.slice(0,Y);break}}}E&&!b&&(K=e(K,1/0));var H=$.length+K.length+re.length,q=H<_?new Array(_-H+1).join(m):"";switch(E&&b&&(K=e(q+K,q.length?_-re.length:1/0),q=""),v){case"<":K=$+K+re+q;break;case"=":K=$+q+K+re;break;case"^":K=q.slice(0,H=q.length>>1)+$+K+re+q.slice(H);break;default:K=q+$+K+re;break}return s(K)}return U.toString=function(){return f+""},U}function h(f,m){var v=u((f=d0(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(km(m)/3)))*3,S=Math.pow(10,-y),b=MR[8+y/3];return function(_){return v(S*_)+b}}return{format:u,formatPrefix:h}}var ab,vN,TO;bie({thousands:",",grouping:[3],currency:["$",""]});function bie(t){return ab=yie(t),vN=ab.format,TO=ab.formatPrefix,ab}function wie(t){return Math.max(0,-km(Math.abs(t)))}function Sie(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(km(e)/3)))*3-km(Math.abs(t)))}function _ie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,km(e)-km(t))+1}function jO(t,e,n,r){var i=dC(t,e,n),s;switch(r=d0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Sie(i,o))&&(r.precision=s),TO(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=_ie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=wie(i))&&(r.precision=s-(r.type==="%")*2);break}}return vN(r)}function Nd(t){var e=t.domain;return t.ticks=function(n){var r=e();return cC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jO(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,h=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);h-- >0;){if(u=uC(o,l,n),u===c)return r[i]=o,r[s]=l,e(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function kO(){var t=gN();return t.copy=function(){return X0(t,kO())},oo.apply(t,arguments),Nd(t)}function PO(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,m1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return PO(t).unknown(e)},t=arguments.length?Array.from(t,m1):[0,1],Nd(n)}function RO(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function NR(t){return Math.log(t)}function TR(t){return Math.exp(t)}function Aie(t){return-Math.log(-t)}function Eie(t){return-Math.exp(-t)}function Cie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mie(t){return t===10?Cie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Nie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jR(t){return(e,n)=>-t(-e,n)}function yN(t){const e=t(NR,TR),n=e.domain;let r=10,i,s;function o(){return i=Nie(r),s=Mie(r),n()[0]<0?(i=jR(i),s=jR(s),t(Aie,Eie)):t(NR,TR),e}return e.base=function(l){return arguments.length?(r=+l,o()):r},e.domain=function(l){return arguments.length?(n(l),o()):n()},e.ticks=l=>{const c=n();let u=c[0],h=c[c.length-1];const f=h<u;f&&([u,h]=[h,u]);let m=i(u),v=i(h),y,S;const b=l==null?10:+l;let _=[];if(!(r%1)&&v-m<b){if(m=Math.floor(m),v=Math.ceil(v),u>0){for(;m<=v;++m)for(y=1;y<r;++y)if(S=m<0?y/s(-m):y*s(m),!(S<u)){if(S>h)break;_.push(S)}}else for(;m<=v;++m)for(y=r-1;y>=1;--y)if(S=m>0?y/s(-m):y*s(m),!(S<u)){if(S>h)break;_.push(S)}_.length*2<b&&(_=cC(u,h,b))}else _=cC(m,v,Math.min(v-m,b)).map(s);return f?_.reverse():_},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=d0(c)).precision==null&&(c.trim=!0),c=vN(c)),l===1/0)return c;const u=Math.max(1,r*l/e.ticks().length);return h=>{let f=h/s(Math.round(i(h)));return f*r<r-.5&&(f*=r),f<=u?c(h):""}},e.nice=()=>n(RO(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function FO(){const t=yN(U2()).domain([1,10]);return t.copy=()=>X0(t,FO()).base(t.base()),oo.apply(t,arguments),t}function kR(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function PR(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function bN(t){var e=1,n=t(kR(e),PR(e));return n.constant=function(r){return arguments.length?t(kR(e=+r),PR(e)):e},Nd(n)}function BO(){var t=bN(U2());return t.copy=function(){return X0(t,BO()).constant(t.constant())},oo.apply(t,arguments)}function RR(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Tie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jie(t){return t<0?-t*t:t*t}function wN(t){var e=t(Os,Os),n=1;function r(){return n===1?t(Os,Os):n===.5?t(Tie,jie):t(RR(n),RR(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nd(e)}function SN(){var t=wN(U2());return t.copy=function(){return X0(t,SN()).exponent(t.exponent())},oo.apply(t,arguments),t}function kie(){return SN.apply(null,arguments).exponent(.5)}function FR(t){return Math.sign(t)*t*t}function Pie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function DO(){var t=gN(),e=[0,1],n=!1,r;function i(s){var o=Pie(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(FR(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,m1)).map(FR)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return DO(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},oo.apply(i,arguments),Nd(i)}function IO(){var t=[],e=[],n=[],r;function i(){var o=0,l=Math.max(1,e.length);for(n=new Array(l-1);++o<l;)n[o-1]=Dre(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:e[V0(n,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(fd),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return IO().domain(t).range(e).unknown(r)},oo.apply(s,arguments)}function LO(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[V0(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return LO().domain([t,e]).range(i).unknown(s)},oo.apply(Nd(o),arguments)}function OO(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[V0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return OO().domain(t).range(e).unknown(n)},oo.apply(i,arguments)}const pA=new Date,mA=new Date;function Ni(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>Ni(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(pA.setTime(+s),mA.setTime(+o),t(pA),t(mA),Math.floor(n(pA,mA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const x1=Ni(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);x1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ni(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):x1);x1.range;const Bc=1e3,no=Bc*60,Dc=no*60,Qc=Dc*24,_N=Qc*7,BR=Qc*30,gA=Qc*365,Wh=Ni(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bc)},(t,e)=>(e-t)/Bc,t=>t.getUTCSeconds());Wh.range;const AN=Ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bc)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getMinutes());AN.range;const EN=Ni(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getUTCMinutes());EN.range;const CN=Ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bc-t.getMinutes()*no)},(t,e)=>{t.setTime(+t+e*Dc)},(t,e)=>(e-t)/Dc,t=>t.getHours());CN.range;const MN=Ni(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Dc)},(t,e)=>(e-t)/Dc,t=>t.getUTCHours());MN.range;const Y0=Ni(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*no)/Qc,t=>t.getDate()-1);Y0.range;const z2=Ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qc,t=>t.getUTCDate()-1);z2.range;const UO=Ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qc,t=>Math.floor(t/Qc));UO.range;function Cf(t){return Ni(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*no)/_N)}const H2=Cf(0),v1=Cf(1),Rie=Cf(2),Fie=Cf(3),Pm=Cf(4),Bie=Cf(5),Die=Cf(6);H2.range;v1.range;Rie.range;Fie.range;Pm.range;Bie.range;Die.range;function Mf(t){return Ni(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_N)}const G2=Mf(0),y1=Mf(1),Iie=Mf(2),Lie=Mf(3),Rm=Mf(4),Oie=Mf(5),Uie=Mf(6);G2.range;y1.range;Iie.range;Lie.range;Rm.range;Oie.range;Uie.range;const NN=Ni(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());NN.range;const TN=Ni(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());TN.range;const Zc=Ni(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Zc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ni(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Zc.range;const eu=Ni(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());eu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ni(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});eu.range;function zO(t,e,n,r,i,s){const o=[[Wh,1,Bc],[Wh,5,5*Bc],[Wh,15,15*Bc],[Wh,30,30*Bc],[s,1,no],[s,5,5*no],[s,15,15*no],[s,30,30*no],[i,1,Dc],[i,3,3*Dc],[i,6,6*Dc],[i,12,12*Dc],[r,1,Qc],[r,2,2*Qc],[n,1,_N],[e,1,BR],[e,3,3*BR],[t,1,gA]];function l(u,h,f){const m=h<u;m&&([u,h]=[h,u]);const v=f&&typeof f.range=="function"?f:c(u,h,f),y=v?v.range(u,+h+1):[];return m?y.reverse():y}function c(u,h,f){const m=Math.abs(h-u)/f,v=uN(([,,b])=>b).right(o,m);if(v===o.length)return t.every(dC(u/gA,h/gA,f));if(v===0)return x1.every(Math.max(dC(u,h,f),1));const[y,S]=o[m/o[v-1][2]<o[v][2]/m?v-1:v];return y.every(S)}return[l,c]}const[zie,Hie]=zO(eu,TN,G2,UO,MN,EN),[Gie,Wie]=zO(Zc,NN,H2,Y0,CN,AN);function xA(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vA(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wx(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Vie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Sx(i),h=_x(i),f=Sx(s),m=_x(s),v=Sx(o),y=_x(o),S=Sx(l),b=_x(l),_=Sx(c),E=_x(c),C={a:le,A:H,b:q,B:Q,c:null,d:zR,e:zR,f:pse,g:Ase,G:Cse,H:dse,I:hse,j:fse,L:HO,m:mse,M:gse,p:V,q:ee,Q:WR,s:VR,S:xse,u:vse,U:yse,V:bse,w:wse,W:Sse,x:null,X:null,y:_se,Y:Ese,Z:Mse,"%":GR},j={a:ce,A:ne,b:be,B:Ae,c:null,d:HR,e:HR,f:kse,g:zse,G:Gse,H:Nse,I:Tse,j:jse,L:WO,m:Pse,M:Rse,p:Se,q:pe,Q:WR,s:VR,S:Fse,u:Bse,U:Dse,V:Ise,w:Lse,W:Ose,x:null,X:null,y:Use,Y:Hse,Z:Wse,"%":GR},R={a:U,A:K,b:$,B:re,c:Y,d:OR,e:OR,f:ose,g:LR,G:IR,H:UR,I:UR,j:rse,L:ase,m:nse,M:ise,p:I,q:tse,Q:cse,s:use,S:sse,u:qie,U:$ie,V:Qie,w:Jie,W:Zie,x:se,X:oe,y:LR,Y:IR,Z:ese,"%":lse};C.x=k(n,C),C.X=k(r,C),C.c=k(e,C),j.x=k(n,j),j.X=k(r,j),j.c=k(e,j);function k(X,Ce){return function(Ge){var J=[],ue=-1,fe=0,Ie=X.length,ke,at,$e;for(Ge instanceof Date||(Ge=new Date(+Ge));++ue<Ie;)X.charCodeAt(ue)===37&&(J.push(X.slice(fe,ue)),(at=DR[ke=X.charAt(++ue)])!=null?ke=X.charAt(++ue):at=ke==="e"?" ":"0",($e=Ce[ke])&&(ke=$e(Ge,at)),J.push(ke),fe=ue+1);return J.push(X.slice(fe,ue)),J.join("")}}function D(X,Ce){return function(Ge){var J=wx(1900,void 0,1),ue=O(J,X,Ge+="",0),fe,Ie;if(ue!=Ge.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Ce&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(fe=vA(wx(J.y,0,1)),Ie=fe.getUTCDay(),fe=Ie>4||Ie===0?y1.ceil(fe):y1(fe),fe=z2.offset(fe,(J.V-1)*7),J.y=fe.getUTCFullYear(),J.m=fe.getUTCMonth(),J.d=fe.getUTCDate()+(J.w+6)%7):(fe=xA(wx(J.y,0,1)),Ie=fe.getDay(),fe=Ie>4||Ie===0?v1.ceil(fe):v1(fe),fe=Y0.offset(fe,(J.V-1)*7),J.y=fe.getFullYear(),J.m=fe.getMonth(),J.d=fe.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Ie="Z"in J?vA(wx(J.y,0,1)).getUTCDay():xA(wx(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Ie+5)%7:J.w+J.U*7-(Ie+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,vA(J)):xA(J)}}function O(X,Ce,Ge,J){for(var ue=0,fe=Ce.length,Ie=Ge.length,ke,at;ue<fe;){if(J>=Ie)return-1;if(ke=Ce.charCodeAt(ue++),ke===37){if(ke=Ce.charAt(ue++),at=R[ke in DR?Ce.charAt(ue++):ke],!at||(J=at(X,Ge,J))<0)return-1}else if(ke!=Ge.charCodeAt(J++))return-1}return J}function I(X,Ce,Ge){var J=u.exec(Ce.slice(Ge));return J?(X.p=h.get(J[0].toLowerCase()),Ge+J[0].length):-1}function U(X,Ce,Ge){var J=v.exec(Ce.slice(Ge));return J?(X.w=y.get(J[0].toLowerCase()),Ge+J[0].length):-1}function K(X,Ce,Ge){var J=f.exec(Ce.slice(Ge));return J?(X.w=m.get(J[0].toLowerCase()),Ge+J[0].length):-1}function $(X,Ce,Ge){var J=_.exec(Ce.slice(Ge));return J?(X.m=E.get(J[0].toLowerCase()),Ge+J[0].length):-1}function re(X,Ce,Ge){var J=S.exec(Ce.slice(Ge));return J?(X.m=b.get(J[0].toLowerCase()),Ge+J[0].length):-1}function Y(X,Ce,Ge){return O(X,e,Ce,Ge)}function se(X,Ce,Ge){return O(X,n,Ce,Ge)}function oe(X,Ce,Ge){return O(X,r,Ce,Ge)}function le(X){return o[X.getDay()]}function H(X){return s[X.getDay()]}function q(X){return c[X.getMonth()]}function Q(X){return l[X.getMonth()]}function V(X){return i[+(X.getHours()>=12)]}function ee(X){return 1+~~(X.getMonth()/3)}function ce(X){return o[X.getUTCDay()]}function ne(X){return s[X.getUTCDay()]}function be(X){return c[X.getUTCMonth()]}function Ae(X){return l[X.getUTCMonth()]}function Se(X){return i[+(X.getUTCHours()>=12)]}function pe(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var Ce=k(X+="",C);return Ce.toString=function(){return X},Ce},parse:function(X){var Ce=D(X+="",!1);return Ce.toString=function(){return X},Ce},utcFormat:function(X){var Ce=k(X+="",j);return Ce.toString=function(){return X},Ce},utcParse:function(X){var Ce=D(X+="",!0);return Ce.toString=function(){return X},Ce}}}var DR={"-":"",_:" ",0:"0"},Hi=/^\s*\d+/,Kie=/^%/,Xie=/[\\^$*+?|[\]().{}]/g;function Tn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Yie(t){return t.replace(Xie,"\\$&")}function Sx(t){return new RegExp("^(?:"+t.map(Yie).join("|")+")","i")}function _x(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Jie(t,e,n){var r=Hi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function qie(t,e,n){var r=Hi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function $ie(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qie(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Zie(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function IR(t,e,n){var r=Hi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function LR(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ese(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tse(t,e,n){var r=Hi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nse(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OR(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rse(t,e,n){var r=Hi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function UR(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ise(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function sse(t,e,n){var r=Hi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ase(t,e,n){var r=Hi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ose(t,e,n){var r=Hi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function lse(t,e,n){var r=Kie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cse(t,e,n){var r=Hi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function use(t,e,n){var r=Hi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function zR(t,e){return Tn(t.getDate(),e,2)}function dse(t,e){return Tn(t.getHours(),e,2)}function hse(t,e){return Tn(t.getHours()%12||12,e,2)}function fse(t,e){return Tn(1+Y0.count(Zc(t),t),e,3)}function HO(t,e){return Tn(t.getMilliseconds(),e,3)}function pse(t,e){return HO(t,e)+"000"}function mse(t,e){return Tn(t.getMonth()+1,e,2)}function gse(t,e){return Tn(t.getMinutes(),e,2)}function xse(t,e){return Tn(t.getSeconds(),e,2)}function vse(t){var e=t.getDay();return e===0?7:e}function yse(t,e){return Tn(H2.count(Zc(t)-1,t),e,2)}function GO(t){var e=t.getDay();return e>=4||e===0?Pm(t):Pm.ceil(t)}function bse(t,e){return t=GO(t),Tn(Pm.count(Zc(t),t)+(Zc(t).getDay()===4),e,2)}function wse(t){return t.getDay()}function Sse(t,e){return Tn(v1.count(Zc(t)-1,t),e,2)}function _se(t,e){return Tn(t.getFullYear()%100,e,2)}function Ase(t,e){return t=GO(t),Tn(t.getFullYear()%100,e,2)}function Ese(t,e){return Tn(t.getFullYear()%1e4,e,4)}function Cse(t,e){var n=t.getDay();return t=n>=4||n===0?Pm(t):Pm.ceil(t),Tn(t.getFullYear()%1e4,e,4)}function Mse(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tn(e/60|0,"0",2)+Tn(e%60,"0",2)}function HR(t,e){return Tn(t.getUTCDate(),e,2)}function Nse(t,e){return Tn(t.getUTCHours(),e,2)}function Tse(t,e){return Tn(t.getUTCHours()%12||12,e,2)}function jse(t,e){return Tn(1+z2.count(eu(t),t),e,3)}function WO(t,e){return Tn(t.getUTCMilliseconds(),e,3)}function kse(t,e){return WO(t,e)+"000"}function Pse(t,e){return Tn(t.getUTCMonth()+1,e,2)}function Rse(t,e){return Tn(t.getUTCMinutes(),e,2)}function Fse(t,e){return Tn(t.getUTCSeconds(),e,2)}function Bse(t){var e=t.getUTCDay();return e===0?7:e}function Dse(t,e){return Tn(G2.count(eu(t)-1,t),e,2)}function VO(t){var e=t.getUTCDay();return e>=4||e===0?Rm(t):Rm.ceil(t)}function Ise(t,e){return t=VO(t),Tn(Rm.count(eu(t),t)+(eu(t).getUTCDay()===4),e,2)}function Lse(t){return t.getUTCDay()}function Ose(t,e){return Tn(y1.count(eu(t)-1,t),e,2)}function Use(t,e){return Tn(t.getUTCFullYear()%100,e,2)}function zse(t,e){return t=VO(t),Tn(t.getUTCFullYear()%100,e,2)}function Hse(t,e){return Tn(t.getUTCFullYear()%1e4,e,4)}function Gse(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Rm(t):Rm.ceil(t),Tn(t.getUTCFullYear()%1e4,e,4)}function Wse(){return"+0000"}function GR(){return"%"}function WR(t){return+t}function VR(t){return Math.floor(+t/1e3)}var $p,KO,XO;Vse({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vse(t){return $p=Vie(t),KO=$p.format,$p.parse,XO=$p.utcFormat,$p.utcParse,$p}function Kse(t){return new Date(t)}function Xse(t){return t instanceof Date?+t:+new Date(+t)}function jN(t,e,n,r,i,s,o,l,c,u){var h=gN(),f=h.invert,m=h.domain,v=u(".%L"),y=u(":%S"),S=u("%I:%M"),b=u("%I %p"),_=u("%a %d"),E=u("%b %d"),C=u("%B"),j=u("%Y");function R(k){return(c(k)<k?v:l(k)<k?y:o(k)<k?S:s(k)<k?b:r(k)<k?i(k)<k?_:E:n(k)<k?C:j)(k)}return h.invert=function(k){return new Date(f(k))},h.domain=function(k){return arguments.length?m(Array.from(k,Xse)):m().map(Kse)},h.ticks=function(k){var D=m();return t(D[0],D[D.length-1],k??10)},h.tickFormat=function(k,D){return D==null?R:u(D)},h.nice=function(k){var D=m();return(!k||typeof k.range!="function")&&(k=e(D[0],D[D.length-1],k??10)),k?m(RO(D,k)):h},h.copy=function(){return X0(h,jN(t,e,n,r,i,s,o,l,c,u))},h}function Yse(){return oo.apply(jN(Gie,Wie,Zc,NN,H2,Y0,CN,AN,Wh,KO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jse(){return oo.apply(jN(zie,Hie,eu,TN,G2,z2,MN,EN,Wh,XO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function W2(){var t=0,e=1,n,r,i,s,o=Os,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function h(f){return function(m){var v,y;return arguments.length?([v,y]=m,o=f(v,y),u):[o(0),o(1)]}}return u.range=h(Ym),u.rangeRound=h(mN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Td(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function YO(){var t=Nd(W2()(Os));return t.copy=function(){return Td(t,YO())},ou.apply(t,arguments)}function JO(){var t=yN(W2()).domain([1,10]);return t.copy=function(){return Td(t,JO()).base(t.base())},ou.apply(t,arguments)}function qO(){var t=bN(W2());return t.copy=function(){return Td(t,qO()).constant(t.constant())},ou.apply(t,arguments)}function kN(){var t=wN(W2());return t.copy=function(){return Td(t,kN()).exponent(t.exponent())},ou.apply(t,arguments)}function qse(){return kN.apply(null,arguments).exponent(.5)}function $O(){var t=[],e=Os;function n(r){if(r!=null&&!isNaN(r=+r))return e((V0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Bre(t,s/r))},n.copy=function(){return $O(e).domain(t)},ou.apply(n,arguments)}function V2(){var t=0,e=.5,n=1,r=1,i,s,o,l,c,u=Os,h,f=!1,m;function v(S){return isNaN(S=+S)?m:(S=.5+((S=+h(S))-s)*(r*S<r*s?l:c),u(f?Math.max(0,Math.min(1,S)):S))}v.domain=function(S){return arguments.length?([t,e,n]=S,i=h(t=+t),s=h(e=+e),o=h(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,v):[t,e,n]},v.clamp=function(S){return arguments.length?(f=!!S,v):f},v.interpolator=function(S){return arguments.length?(u=S,v):u};function y(S){return function(b){var _,E,C;return arguments.length?([_,E,C]=b,u=lie(S,[_,E,C]),v):[u(0),u(.5),u(1)]}}return v.range=y(Ym),v.rangeRound=y(mN),v.unknown=function(S){return arguments.length?(m=S,v):m},function(S){return h=S,i=S(t),s=S(e),o=S(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,v}}function QO(){var t=Nd(V2()(Os));return t.copy=function(){return Td(t,QO())},ou.apply(t,arguments)}function ZO(){var t=yN(V2()).domain([.1,1,10]);return t.copy=function(){return Td(t,ZO()).base(t.base())},ou.apply(t,arguments)}function e8(){var t=bN(V2());return t.copy=function(){return Td(t,e8()).constant(t.constant())},ou.apply(t,arguments)}function PN(){var t=wN(V2());return t.copy=function(){return Td(t,PN()).exponent(t.exponent())},ou.apply(t,arguments)}function $se(){return PN.apply(null,arguments).exponent(.5)}const Nx=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hN,scaleDiverging:QO,scaleDivergingLog:ZO,scaleDivergingPow:PN,scaleDivergingSqrt:$se,scaleDivergingSymlog:e8,scaleIdentity:PO,scaleImplicit:hC,scaleLinear:kO,scaleLog:FO,scaleOrdinal:dN,scalePoint:Lre,scalePow:SN,scaleQuantile:IO,scaleQuantize:LO,scaleRadial:DO,scaleSequential:YO,scaleSequentialLog:JO,scaleSequentialPow:kN,scaleSequentialQuantile:$O,scaleSequentialSqrt:qse,scaleSequentialSymlog:qO,scaleSqrt:kie,scaleSymlog:BO,scaleThreshold:OO,scaleTime:Yse,scaleUtc:Jse,tickFormat:jO},Symbol.toStringTag,{value:"Module"}));var jd=t=>t.chartData,RN=Ee([jd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),J0=(t,e,n,r)=>r?RN(t):jd(t);function gf(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(vr(e)&&vr(n))return!0}return!1}function KR(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function t8(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(vr(n))i=n;else if(typeof n=="function")return;if(vr(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(gf(o))return o}}function Qse(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(gf(r))return KR(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,o,l;if(i==="auto")e!=null&&(o=Math.min(...e));else if(ft(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&C5.test(i)){var c=C5.exec(i);if(c==null||e==null)o=void 0;else{var u=+c[1];o=e[0]-u}}else o=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(ft(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&M5.test(s)){var h=M5.exec(s);if(h==null||e==null)l=void 0;else{var f=+h[1];l=e[1]+f}}else l=e?.[1];var m=[o,l];if(gf(m))return e==null?m:KR(m,e,n)}}}var Jm=1e9,Zse={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BN,Er=!0,so="[DecimalError] ",tf=so+"Invalid argument: ",FN=so+"Exponent out of range: ",qm=Math.floor,Fh=Math.pow,eae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ta,Li=1e7,pr=7,n8=9007199254740991,b1=qm(n8/pr),xt={};xt.absoluteValue=xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xt.comparedTo=xt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};xt.decimalPlaces=xt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};xt.dividedBy=xt.div=function(t){return Uc(this,new this.constructor(t))};xt.dividedToIntegerBy=xt.idiv=function(t){var e=this,n=e.constructor;return nr(Uc(e,new n(t),0,1),n.precision)};xt.equals=xt.eq=function(t){return!this.cmp(t)};xt.exponent=function(){return ui(this)};xt.greaterThan=xt.gt=function(t){return this.cmp(t)>0};xt.greaterThanOrEqualTo=xt.gte=function(t){return this.cmp(t)>=0};xt.isInteger=xt.isint=function(){return this.e>this.d.length-2};xt.isNegative=xt.isneg=function(){return this.s<0};xt.isPositive=xt.ispos=function(){return this.s>0};xt.isZero=function(){return this.s===0};xt.lessThan=xt.lt=function(t){return this.cmp(t)<0};xt.lessThanOrEqualTo=xt.lte=function(t){return this.cmp(t)<1};xt.logarithm=xt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ta))throw Error(so+"NaN");if(n.s<1)throw Error(so+(n.s?"NaN":"-Infinity"));return n.eq(Ta)?new r(0):(Er=!1,e=Uc(h0(n,s),h0(t,s),s),Er=!0,nr(e,i))};xt.minus=xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?s8(e,t):r8(e,(t.s=-t.s,t))};xt.modulo=xt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(so+"NaN");return n.s?(Er=!1,e=Uc(n,t,0,1).times(t),Er=!0,n.minus(e)):nr(new r(n),i)};xt.naturalExponential=xt.exp=function(){return i8(this)};xt.naturalLogarithm=xt.ln=function(){return h0(this)};xt.negated=xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xt.plus=xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r8(e,t):s8(e,(t.s=-t.s,t))};xt.precision=xt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(tf+t);if(e=ui(i)+1,r=i.d.length-1,n=r*pr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};xt.squareRoot=xt.sqrt=function(){var t,e,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(so+"NaN")}for(t=ui(l),Er=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=wl(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(Uc(l,s,o+2)).times(.5),wl(s.d).slice(0,o)===(e=wl(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(nr(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;o+=4}return Er=!0,nr(r,n)};xt.times=xt.mul=function(t){var e,n,r,i,s,o,l,c,u,h=this,f=h.constructor,m=h.d,v=(t=new f(t)).d;if(!h.s||!t.s)return new f(0);for(t.s*=h.s,n=h.e+t.e,c=m.length,u=v.length,c<u&&(s=m,m=v,v=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+v[r]*m[i-r-1]+e,s[i--]=l%Li|0,e=l/Li|0;s[i]=(s[i]+e)%Li|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Er?nr(t,f.precision):t};xt.toDecimalPlaces=xt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Fl(t,0,Jm),e===void 0?e=r.rounding:Fl(e,0,8),nr(n,t+ui(n)+1,e))};xt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=xf(r,!0):(Fl(t,0,Jm),e===void 0?e=i.rounding:Fl(e,0,8),r=nr(new i(r),t+1,e),n=xf(r,!0,t+1)),n};xt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?xf(i):(Fl(t,0,Jm),e===void 0?e=s.rounding:Fl(e,0,8),r=nr(new s(i),t+ui(i)+1,e),n=xf(r.abs(),!1,t+ui(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};xt.toInteger=xt.toint=function(){var t=this,e=t.constructor;return nr(new e(t),ui(t)+1,e.rounding)};xt.toNumber=function(){return+this};xt.toPower=xt.pow=function(t){var e,n,r,i,s,o,l=this,c=l.constructor,u=12,h=+(t=new c(t));if(!t.s)return new c(Ta);if(l=new c(l),!l.s){if(t.s<1)throw Error(so+"Infinity");return l}if(l.eq(Ta))return l;if(r=c.precision,t.eq(Ta))return nr(l,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=l.s,o){if((n=h<0?-h:h)<=n8){for(i=new c(Ta),e=Math.ceil(r/pr+4),Er=!1;n%2&&(i=i.times(l),YR(i.d,e)),n=qm(n/2),n!==0;)l=l.times(l),YR(l.d,e);return Er=!0,t.s<0?new c(Ta).div(i):nr(i,r)}}else if(s<0)throw Error(so+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Er=!1,i=t.times(h0(l,r+u)),Er=!0,i=i8(i),i.s=s,i};xt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=ui(i),r=xf(i,n<=s.toExpNeg||n>=s.toExpPos)):(Fl(t,1,Jm),e===void 0?e=s.rounding:Fl(e,0,8),i=nr(new s(i),t,e),n=ui(i),r=xf(i,t<=n||n<=s.toExpNeg,t)),r};xt.toSignificantDigits=xt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Fl(t,1,Jm),e===void 0?e=r.rounding:Fl(e,0,8)),nr(new r(n),t,e)};xt.toString=xt.valueOf=xt.val=xt.toJSON=xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ui(t),n=t.constructor;return xf(t,e<=n.toExpNeg||e>=n.toExpPos)};function r8(t,e){var n,r,i,s,o,l,c,u,h=t.constructor,f=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Er?nr(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/pr),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/Li|0,c[s]%=Li;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Er?nr(e,f):e}function Fl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(tf+t)}function wl(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=pr-r.length,n&&(s+=td(n)),s+=r;o=t[e],r=o+"",n=pr-r.length,n&&(s+=td(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Uc=(function(){function t(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%Li|0,o=s/Li|0;return o&&r.unshift(o),r}function e(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Li+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,h,f,m,v,y,S,b,_,E,C,j,R,k,D,O,I=r.constructor,U=r.s==i.s?1:-1,K=r.d,$=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(so+"Division by zero");for(c=r.e-i.e,D=$.length,R=K.length,v=new I(U),y=v.d=[],u=0;$[u]==(K[u]||0);)++u;if($[u]>(K[u]||0)&&--c,s==null?E=s=I.precision:o?E=s+(ui(r)-ui(i))+1:E=s,E<0)return new I(0);if(E=E/pr+2|0,u=0,D==1)for(h=0,$=$[0],E++;(u<R||h)&&E--;u++)C=h*Li+(K[u]||0),y[u]=C/$|0,h=C%$|0;else{for(h=Li/($[0]+1)|0,h>1&&($=t($,h),K=t(K,h),D=$.length,R=K.length),j=D,S=K.slice(0,D),b=S.length;b<D;)S[b++]=0;O=$.slice(),O.unshift(0),k=$[0],$[1]>=Li/2&&++k;do h=0,l=e($,S,D,b),l<0?(_=S[0],D!=b&&(_=_*Li+(S[1]||0)),h=_/k|0,h>1?(h>=Li&&(h=Li-1),f=t($,h),m=f.length,b=S.length,l=e(f,S,m,b),l==1&&(h--,n(f,D<m?O:$,m))):(h==0&&(l=h=1),f=$.slice()),m=f.length,m<b&&f.unshift(0),n(S,f,b),l==-1&&(b=S.length,l=e($,S,D,b),l<1&&(h++,n(S,D<b?O:$,b))),b=S.length):l===0&&(h++,S=[0]),y[u++]=h,l&&S[0]?S[b++]=K[j]||0:(S=[K[j]],b=1);while((j++<R||S[0]!==void 0)&&E--)}return y[0]||y.shift(),v.e=c,nr(v,o?s+ui(v)+1:s)}})();function i8(t,e){var n,r,i,s,o,l,c=0,u=0,h=t.constructor,f=h.precision;if(ui(t)>16)throw Error(FN+ui(t));if(!t.s)return new h(Ta);for(Er=!1,l=f,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(Fh(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new h(Ta),h.precision=l;;){if(i=nr(i.times(t),l),n=n.times(++c),o=s.plus(Uc(i,n,l)),wl(o.d).slice(0,l)===wl(s.d).slice(0,l)){for(;u--;)s=nr(s.times(s),l);return h.precision=f,e==null?(Er=!0,nr(s,f)):s}s=o}}function ui(t){for(var e=t.e*pr,n=t.d[0];n>=10;n/=10)e++;return e}function yA(t,e,n){if(e>t.LN10.sd())throw Er=!0,n&&(t.precision=n),Error(so+"LN10 precision limit exceeded");return nr(new t(t.LN10),e)}function td(t){for(var e="";t--;)e+="0";return e}function h0(t,e){var n,r,i,s,o,l,c,u,h,f=1,m=10,v=t,y=v.d,S=v.constructor,b=S.precision;if(v.s<1)throw Error(so+(v.s?"NaN":"-Infinity"));if(v.eq(Ta))return new S(0);if(e==null?(Er=!1,u=b):u=e,v.eq(10))return e==null&&(Er=!0),yA(S,u);if(u+=m,S.precision=u,n=wl(y),r=n.charAt(0),s=ui(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=wl(v.d),r=n.charAt(0),f++;s=ui(v),r>1?(v=new S("0."+n),s++):v=new S(r+"."+n.slice(1))}else return c=yA(S,u+2,b).times(s+""),v=h0(new S(r+"."+n.slice(1)),u-m).plus(c),S.precision=b,e==null?(Er=!0,nr(v,b)):v;for(l=o=v=Uc(v.minus(Ta),v.plus(Ta),u),h=nr(v.times(v),u),i=3;;){if(o=nr(o.times(h),u),c=l.plus(Uc(o,new S(i),u)),wl(c.d).slice(0,u)===wl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(yA(S,u+2,b).times(s+""))),l=Uc(l,new S(f),u),S.precision=b,e==null?(Er=!0,nr(l,b)):l;l=c,i+=2}}function XR(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=qm(n/pr),t.d=[],r=(n+1)%pr,n<0&&(r+=pr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pr;r<i;)t.d.push(+e.slice(r,r+=pr));e=e.slice(r),r=pr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Er&&(t.e>b1||t.e<-b1))throw Error(FN+n)}else t.s=0,t.e=0,t.d=[0];return t}function nr(t,e,n){var r,i,s,o,l,c,u,h,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=pr,i=e,u=f[h=0];else{if(h=Math.ceil((r+1)/pr),s=f.length,h>=s)return t;for(u=s=f[h],o=1;s>=10;s/=10)o++;r%=pr,i=r-pr+o}if(n!==void 0&&(s=Fh(10,o-i-1),l=u/s%10|0,c=e<0||f[h+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/Fh(10,o-i):0:f[h-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return c?(s=ui(t),f.length=1,e=e-s-1,f[0]=Fh(10,(pr-e%pr)%pr),t.e=qm(-e/pr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=h,s=1,h--):(f.length=h+1,s=Fh(10,pr-r),f[h]=i>0?(u/Fh(10,o-i)%Fh(10,i)|0)*s:0),c)for(;;)if(h==0){(f[0]+=s)==Li&&(f[0]=1,++t.e);break}else{if(f[h]+=s,f[h]!=Li)break;f[h--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Er&&(t.e>b1||t.e<-b1))throw Error(FN+ui(t));return t}function s8(t,e){var n,r,i,s,o,l,c,u,h,f,m=t.constructor,v=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Er?nr(e,v):e;if(c=t.d,f=e.d,r=e.e,u=t.e,c=c.slice(),o=u-r,o){for(h=o<0,h?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(v/pr),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){h=c[i]<f[i];break}o=0}for(h&&(n=c,c=f,f=n,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Li-1;--c[s],c[i]+=Li}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Er?nr(e,v):e):new m(0)}function xf(t,e,n){var r,i=ui(t),s=wl(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+td(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+td(-i-1)+s,n&&(r=n-o)>0&&(s+=td(r))):i>=o?(s+=td(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+td(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=td(r))),t.s<0?"-"+s:s}function YR(t,e){if(t.length>e)return t.length=e,!0}function a8(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(tf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return XR(o,s.toString())}else if(typeof s!="string")throw Error(tf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,eae.test(s))XR(o,s);else throw Error(tf+s)}if(i.prototype=xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=a8,i.config=i.set=tae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function tae(t){if(!t||typeof t!="object")throw Error(so+"Object expected");var e,n,r,i=["precision",1,Jm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(qm(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(tf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(tf+n+": "+r);return this}var BN=a8(Zse);Ta=new BN(1);const zn=BN;var nae=t=>t,o8={},l8=t=>t===o8,JR=t=>function e(){return arguments.length===0||arguments.length===1&&l8(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},c8=(t,e)=>t===1?e:JR(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==o8).length;return s>=t?e(...r):c8(t-s,JR(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=r.map(h=>l8(h)?l.shift():h);return e(...u,...l)}))}),K2=t=>c8(t.length,t),gC=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},rae=K2((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),iae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return nae;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((l,c)=>c(l),s(...arguments))}},xC=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),u8=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((o,l)=>{var c;return o===((c=e)===null||c===void 0?void 0:c[l])})||(e=i,n=t(...i)),n}};function d8(t){var e;return t===0?e=1:e=Math.floor(new zn(t).abs().log(10).toNumber())+1,e}function h8(t,e,n){for(var r=new zn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}K2((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});K2((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});K2((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var f8=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},p8=(t,e,n)=>{if(t.lte(0))return new zn(0);var r=d8(t.toNumber()),i=new zn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,l=new zn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return e?new zn(c.toNumber()):new zn(Math.ceil(c.toNumber()))},sae=(t,e,n)=>{var r=new zn(1),i=new zn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new zn(10).pow(d8(t)-1),i=new zn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new zn(Math.floor(t)))}else t===0?i=new zn(Math.floor((e-1)/2)):n||(i=new zn(Math.floor(t)));var o=Math.floor((e-1)/2),l=iae(rae(c=>i.add(new zn(c-o).mul(r)).toNumber()),gC);return l(0,e)},m8=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new zn(0),tickMin:new zn(0),tickMax:new zn(0)};var o=p8(new zn(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new zn(0):(l=new zn(e).add(n).div(2),l=l.sub(new zn(l).mod(o)));var c=Math.ceil(l.sub(e).div(o).toNumber()),u=Math.ceil(new zn(n).sub(l).div(o).toNumber()),h=c+u+1;return h>r?m8(e,n,r,i,s+1):(h<r&&(u=n>0?u+(r-h):u,c=n>0?c:c+(r-h)),{step:o,tickMin:l.sub(new zn(c).mul(o)),tickMax:l.add(new zn(u).mul(o))})};function aae(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[o,l]=f8([e,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...gC(0,r-1).map(()=>1/0)]:[...gC(0,r-1).map(()=>-1/0),l];return e>n?xC(c):c}if(o===l)return sae(o,r,i);var{step:u,tickMin:h,tickMax:f}=m8(o,l,s,i,0),m=h8(h,f.add(new zn(.1).mul(u)),u);return e>n?xC(m):m}function oae(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=f8([n,r]);if(s===-1/0||o===1/0)return[n,r];if(s===o)return[s];var l=Math.max(e,2),c=p8(new zn(o).sub(s).div(l-1),i,0),u=[...h8(new zn(s),new zn(o),c),o];return i===!1&&(u=u.map(h=>Math.round(h))),n>r?xC(u):u}var lae=u8(aae),cae=u8(oae),g8=t=>t.rootProps.maxBarSize,uae=t=>t.rootProps.barGap,x8=t=>t.rootProps.barCategoryGap,dae=t=>t.rootProps.barSize,q0=t=>t.rootProps.stackOffset,DN=t=>t.options.chartName,IN=t=>t.rootProps.syncId,v8=t=>t.rootProps.syncMethod,LN=t=>t.options.eventEmitter,hae=t=>t.rootProps.baseValue,$r={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Tc={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ma={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},X2=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},fae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Tc.angleAxisId,includeHidden:!1,name:void 0,reversed:Tc.reversed,scale:Tc.scale,tick:Tc.tick,tickCount:void 0,ticks:void 0,type:Tc.type,unit:void 0},pae={allowDataOverflow:Ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ma.scale,tick:Ma.tick,tickCount:Ma.tickCount,ticks:void 0,type:Ma.type,unit:void 0},mae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Tc.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tc.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tc.scale,tick:Tc.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},gae={allowDataOverflow:Ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ma.scale,tick:Ma.tick,tickCount:Ma.tickCount,ticks:void 0,type:"category",unit:void 0},ON=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?mae:fae,UN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?gae:pae,Y2=t=>t.polarOptions,zN=Ee([iu,su,Mi],gO),y8=Ee([Y2,zN],(t,e)=>{if(t!=null)return ys(t.innerRadius,e,0)}),b8=Ee([Y2,zN],(t,e)=>{if(t!=null)return ys(t.outerRadius,e,e*.8)}),xae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},w8=Ee([Y2],xae);Ee([ON,w8],X2);var S8=Ee([zN,y8,b8],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Ee([UN,S8],X2);var _8=Ee([mn,Y2,y8,b8,iu,su],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:l,startAngle:c,endAngle:u}=e;return{cx:ys(o,i,i/2),cy:ys(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),Cr=(t,e)=>e,$0=(t,e,n)=>n;function J2(t){return t?.id}function A8(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,o=new Map;return t.forEach(l=>{var c,u=(c=l.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var h=J2(l);u.forEach((f,m)=>{var v=s==null||i?m:String(Qn(f,s,null)),y=Qn(f,l.dataKey,0),S;o.has(v)?S=o.get(v):S={},Object.assign(S,{[h]:y}),o.set(v,S)})}}),Array.from(o.values())}function q2(t){return t.stackId!=null&&t.dataKey!=null}var $2=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Q2(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function vae(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Ti=t=>{var e=mn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},$m=t=>t.tooltip.settings.axisId;function qR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function w1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qR(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return(e=bae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bae(t){var e=wae(t,"string");return typeof e=="symbol"?e:e+""}function wae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vC=[0,"auto"],Ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},E8=(t,e)=>t.cartesianAxis.xAxis[e],lu=(t,e)=>{var n=E8(t,e);return n??Ea},Ca={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:W0},C8=(t,e)=>t.cartesianAxis.yAxis[e],cu=(t,e)=>{var n=C8(t,e);return n??Ca},Sae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},HN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Sae},Br=(t,e,n)=>{switch(e){case"xAxis":return lu(t,n);case"yAxis":return cu(t,n);case"zAxis":return HN(t,n);case"angleAxis":return ON(t,n);case"radiusAxis":return UN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},_ae=(t,e,n)=>{switch(e){case"xAxis":return lu(t,n);case"yAxis":return cu(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Q0=(t,e,n)=>{switch(e){case"xAxis":return lu(t,n);case"yAxis":return cu(t,n);case"angleAxis":return ON(t,n);case"radiusAxis":return UN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},M8=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function GN(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var Z0=t=>t.graphicalItems.cartesianItems,Aae=Ee([Cr,$0],GN),WN=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),ev=Ee([Z0,Br,Aae],WN,{memoizeOptions:{resultEqualityCheck:Q2}}),N8=Ee([ev],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(q2)),T8=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Eae=Ee([ev],T8),VN=t=>t.map(e=>e.data).filter(Boolean).flat(1),Cae=Ee([ev],VN,{memoizeOptions:{resultEqualityCheck:Q2}}),KN=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},XN=Ee([Cae,J0],KN),YN=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Qn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Qn(i,r)}))):t.map(r=>({value:r})),Z2=Ee([XN,Br,ev],YN);function j8(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Cb(t){if(Pl(t)||t instanceof Date){var e=Number(t);if(vr(e))return e}}function $R(t){if(Array.isArray(t)){var e=[Cb(t[0]),Cb(t[1])];return gf(e)?e:void 0}var n=Cb(t);if(n!=null)return[n,n]}function tu(t){return t.map(Cb).filter(UQ)}function Mae(t,e,n){return!n||typeof e!="number"||ro(e)?[]:n.length?tu(n.flatMap(r=>{var i=Qn(t,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!vr(s)||!vr(o)))return[e-s,e+o]})):[]}var ji=t=>{var e=Ti(t),n=$m(t);return Q0(t,e,n)},k8=Ee([ji],t=>t?.dataKey),Nae=Ee([N8,J0,ji],A8),P8=(t,e,n)=>{var r={},i=e.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[o,l]=s,c=l.map(J2);return[o,{stackedData:ite(t,c,n),graphicalItems:l}]}))},f0=Ee([Nae,N8,q0],P8),R8=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var o=lte(t,i,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Tae=Ee([Br],t=>t.allowDataOverflow),JN=t=>{var e;if(t==null||!("domain"in t))return vC;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=tu(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:vC},qN=Ee([Br],JN),$N=Ee([qN,Tae],t8),jae=Ee([f0,jd,Cr,$N],R8,{memoizeOptions:{resultEqualityCheck:$2}}),ew=t=>t.errorBars,kae=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>j8(n,r)),S1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),l=Math.max(...s);return[o,l]}},QN=(t,e,n,r,i)=>{var s,o;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var u,h,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(_=>j8(i,_)),m=Qn(l,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),v=Mae(l,m,f);if(v.length>=2){var y=Math.min(...v),S=Math.max(...v);(s==null||y<s)&&(s=y),(o==null||S>o)&&(o=S)}var b=$R(m);b!=null&&(s=s==null?b[0]:Math.min(s,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=$R(Qn(l,e.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),vr(s)&&vr(o))return[s,o]},Pae=Ee([XN,Br,Eae,ew,Cr],QN,{memoizeOptions:{resultEqualityCheck:$2}});function Rae(t){var{value:e}=t;if(Pl(e)||e instanceof Date)return e}var Fae=(t,e,n)=>{var r=t.map(Rae).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&iL(r))?bO(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},F8=t=>t.referenceElements.dots,Qm=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Bae=Ee([F8,Cr,$0],Qm),B8=t=>t.referenceElements.areas,Dae=Ee([B8,Cr,$0],Qm),D8=t=>t.referenceElements.lines,Iae=Ee([D8,Cr,$0],Qm),I8=(t,e)=>{var n=tu(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Lae=Ee(Bae,Cr,I8),L8=(t,e)=>{var n=tu(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Oae=Ee([Dae,Cr],L8);function Uae(t){var e;if(t.x!=null)return tu([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:tu(n)}function zae(t){var e;if(t.y!=null)return tu([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:tu(n)}var O8=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Uae(r):zae(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Hae=Ee([Iae,Cr],O8),Gae=Ee(Lae,Hae,Oae,(t,e,n)=>S1(t,n,e)),ZN=(t,e,n,r,i,s,o,l)=>{if(n!=null)return n;var c=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=c?S1(r,s,i):S1(s,i);return Qse(e,u,t.allowDataOverflow)},Wae=Ee([Br,qN,$N,jae,Pae,Gae,mn,Cr],ZN,{memoizeOptions:{resultEqualityCheck:$2}}),Vae=[0,1],eT=(t,e,n,r,i,s,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:l,type:c}=t,u=Ul(e,s);if(u&&l==null){var h;return bO(0,(h=n?.length)!==null&&h!==void 0?h:0)}return c==="category"?Fae(r,t,u):i==="expand"?Vae:o}},tT=Ee([Br,mn,XN,Z2,q0,Cr,Wae],eT),U8=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:o}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(U0(s));return l in Nx?l:"point"}}},Zm=Ee([Br,mn,M8,DN,Cr],U8);function Kae(t){if(t!=null){if(t in Nx)return Nx[t]();var e="scale".concat(U0(t));if(e in Nx)return Nx[e]()}}function nT(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Kae(e);if(i!=null){var s=i.domain(n).range(r);return Zee(s),s}}}var rT=(t,e,n)=>{var r=JN(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&gf(t))return lae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&gf(t))return cae(t,e.tickCount,e.allowDecimals)}},iT=Ee([tT,Q0,Zm],rT),sT=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&gf(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],o=e[1],l=n[n.length-1];return[Math.min(i,s),Math.max(o,l)]}return e},Xae=Ee([Br,tT,iT,Cr],sT),Yae=Ee(Z2,Br,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(tu(t.map(l=>l.value))).sort((l,c)=>l-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/i}}),z8=Ee(Yae,mn,x8,Mi,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!vr(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var o=ys(n,t*s),l=t*s/2;return l-o-(l-o)/s*o}return 0}),Jae=(t,e)=>{var n=lu(t,e);return n==null||typeof n.padding!="string"?0:z8(t,"xAxis",e,n.padding)},qae=(t,e)=>{var n=cu(t,e);return n==null||typeof n.padding!="string"?0:z8(t,"yAxis",e,n.padding)},$ae=Ee(lu,Jae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Qae=Ee(cu,qae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Zae=Ee([Mi,$ae,I2,D2,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),eoe=Ee([Mi,mn,Qae,I2,D2,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),tv=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Zae(t,n,r);case"yAxis":return eoe(t,n,r);case"zAxis":return(i=HN(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return w8(t);case"radiusAxis":return S8(t,n);default:return}},H8=Ee([Br,tv],X2),eg=Ee([Br,Zm,Xae,H8],nT);Ee([ev,ew,Cr],kae);function G8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var tw=(t,e)=>e,nw=(t,e,n)=>n,toe=Ee(F2,tw,nw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(G8)),noe=Ee(B2,tw,nw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(G8)),W8=(t,e)=>({width:t.width,height:e.height}),roe=(t,e)=>{var n=typeof e.width=="number"?e.width:W0;return{width:n,height:t.height}},V8=Ee(Mi,lu,W8),ioe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},soe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},aoe=Ee(su,Mi,toe,tw,nw,(t,e,n,r,i)=>{var s={},o;return n.forEach(l=>{var c=W8(e,l);o==null&&(o=ioe(e,r,t));var u=r==="top"&&!i||r==="bottom"&&i;s[l.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),s}),ooe=Ee(iu,Mi,noe,tw,nw,(t,e,n,r,i)=>{var s={},o;return n.forEach(l=>{var c=roe(e,l);o==null&&(o=soe(e,r,t));var u=r==="left"&&!i||r==="right"&&i;s[l.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),s}),loe=(t,e)=>{var n=lu(t,e);if(n!=null)return aoe(t,n.orientation,n.mirror)},coe=Ee([Mi,lu,loe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),uoe=(t,e)=>{var n=cu(t,e);if(n!=null)return ooe(t,n.orientation,n.mirror)},doe=Ee([Mi,cu,uoe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),K8=Ee(Mi,cu,(t,e)=>{var n=typeof e.width=="number"?e.width:W0;return{width:n,height:t.height}}),QR=(t,e,n)=>{switch(e){case"xAxis":return V8(t,n).width;case"yAxis":return K8(t,n).height;default:return}},X8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,l=Ul(t,r),c=e.map(u=>u.value);if(o&&l&&s==="category"&&i&&iL(c))return c}},aT=Ee([mn,Z2,Br,Cr],X8),Y8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=Ul(t,r);if(o&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},oT=Ee([mn,Z2,Q0,Cr],Y8),ZR=Ee([mn,_ae,Zm,eg,aT,oT,tv,iT,Cr],(t,e,n,r,i,s,o,l,c)=>{if(e!=null){var u=Ul(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:o,realScaleType:n,scale:r}}}),hoe=(t,e,n,r,i,s,o,l,c)=>{if(!(e==null||r==null)){var u=Ul(t,c),{type:h,ticks:f,tickCount:m}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,y=h==="category"&&r.bandwidth?r.bandwidth()/v:0;y=c==="angleAxis"&&s!=null&&s.length>=2?Ui(s[0]-s[1])*2*y:y;var S=f||i;if(S){var b=S.map((_,E)=>{var C=o?o.indexOf(_):_;return{index:E,coordinate:r(C)+y,value:_,offset:y}});return b.filter(_=>vr(_.coordinate))}return u&&l?l.map((_,E)=>({coordinate:r(_)+y,value:_,index:E,offset:y})).filter(_=>vr(_.coordinate)):r.ticks?r.ticks(m).map(_=>({coordinate:r(_)+y,value:_,offset:y})):r.domain().map((_,E)=>({coordinate:r(_)+y,value:o?o[_]:_,index:E,offset:y}))}},J8=Ee([mn,Q0,Zm,eg,iT,tv,aT,oT,Cr],hoe),foe=(t,e,n,r,i,s,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Ul(t,o),{tickCount:c}=e,u=0;return u=o==="angleAxis"&&r?.length>=2?Ui(r[0]-r[1])*2*u:u,l&&s?s.map((h,f)=>({coordinate:n(h)+u,value:h,index:f,offset:u})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+u,value:h,offset:u})):n.domain().map((h,f)=>({coordinate:n(h)+u,value:i?i[h]:h,index:f,offset:u}))}},Bl=Ee([mn,Q0,eg,tv,aT,oT,Cr],foe),Dl=Ee(Br,eg,(t,e)=>{if(!(t==null||e==null))return w1(w1({},t),{},{scale:e})}),poe=Ee([Br,Zm,tT,H8],nT);Ee((t,e,n)=>HN(t,n),poe,(t,e)=>{if(!(t==null||e==null))return w1(w1({},t),{},{scale:e})});var moe=Ee([mn,F2,B2],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),q8=t=>t.options.defaultTooltipEventType,$8=t=>t.options.validateTooltipEventTypes;function Q8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function lT(t,e){var n=q8(t),r=$8(t);return Q8(e,n,r)}function goe(t){return yt(e=>lT(e,t))}var Z8=(t,e)=>{var n,r=Number(e);if(!(ro(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},xoe=t=>t.tooltip.settings,sd={active:!1,index:null,dataKey:void 0,coordinate:void 0},voe={itemInteraction:{click:sd,hover:sd},axisInteraction:{click:sd,hover:sd},keyboardInteraction:sd,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},e6=ua({name:"tooltip",initialState:voe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:_i()},removeTooltipEntrySettings:{reducer(t,e){var n=Oc(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:_i()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:yoe,removeTooltipEntrySettings:boe,setTooltipSettingsState:woe,setActiveMouseOverItemIndex:t6,mouseLeaveItem:Soe,mouseLeaveChart:n6,setActiveClickItemIndex:_oe,setMouseOverAxisIndex:r6,setMouseClickAxisIndex:Aoe,setSyncInteraction:yC,setKeyboardInteraction:bC}=e6.actions,Eoe=e6.reducer;function eF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ob(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eF(Object(n),!0).forEach(function(r){Coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Coe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=Noe(t,"string");return typeof e=="symbol"?e:e+""}function Noe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Toe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function joe(t){return t.index!=null}var i6=(t,e,n,r)=>{if(e==null)return sd;var i=Toe(t,e,n);if(i==null)return sd;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(joe(i)){if(s)return ob(ob({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return ob(ob({},sd),{},{coordinate:i.coordinate})},cT=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!vr(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},s6=(t,e,n,r,i,s,o,l)=>{if(!(s==null||l==null)){var c=o[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var h=i?.[Number(s)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},a6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},nv=t=>t.options.tooltipPayloadSearcher,tg=t=>t.tooltip;function tF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(n),!0).forEach(function(r){koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e,n){return(e=Poe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Poe(t){var e=Roe(t,"string");return typeof e=="symbol"?e:e+""}function Roe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Foe(t,e){return t??e}var o6=(t,e,n,r,i,s,o)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:h}=n,f=[];return t.reduce((m,v)=>{var y,{dataDefinedOnItem:S,settings:b}=v,_=Foe(S,l),E=Array.isArray(_)?JL(_,u,h):_,C=(y=b?.dataKey)!==null&&y!==void 0?y:r,j=b?.nameKey,R;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?R=sL(E,r,i):R=s(E,e,c,j),Array.isArray(R))R.forEach(D=>{var O=nF(nF({},b),{},{name:D.name,unit:D.unit,color:void 0,fill:void 0});m.push(N5({tooltipEntrySettings:O,dataKey:D.dataKey,payload:D.payload,value:Qn(D.payload,D.dataKey),name:D.name}))});else{var k;m.push(N5({tooltipEntrySettings:b,dataKey:C,payload:R,value:Qn(R,C),name:(k=Qn(R,j))!==null&&k!==void 0?k:b?.name}))}return m},f)}},uT=Ee([ji,mn,M8,DN,Ti],U8),Boe=Ee([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Doe=Ee([Ti,$m],GN),rv=Ee([Boe,ji,Doe],WN,{memoizeOptions:{resultEqualityCheck:Q2}}),Ioe=Ee([rv],t=>t.filter(q2)),Loe=Ee([rv],VN,{memoizeOptions:{resultEqualityCheck:Q2}}),ng=Ee([Loe,jd],KN),Ooe=Ee([Ioe,jd,ji],A8),dT=Ee([ng,ji,rv],YN),l6=Ee([ji],JN),Uoe=Ee([ji],t=>t.allowDataOverflow),c6=Ee([l6,Uoe],t8),zoe=Ee([rv],t=>t.filter(q2)),Hoe=Ee([Ooe,zoe,q0],P8),Goe=Ee([Hoe,jd,Ti,c6],R8),Woe=Ee([rv],T8),Voe=Ee([ng,ji,Woe,ew,Ti],QN,{memoizeOptions:{resultEqualityCheck:$2}}),Koe=Ee([F8,Ti,$m],Qm),Xoe=Ee([Koe,Ti],I8),Yoe=Ee([B8,Ti,$m],Qm),Joe=Ee([Yoe,Ti],L8),qoe=Ee([D8,Ti,$m],Qm),$oe=Ee([qoe,Ti],O8),Qoe=Ee([Xoe,$oe,Joe],S1),Zoe=Ee([ji,l6,c6,Goe,Voe,Qoe,mn,Ti],ZN),u6=Ee([ji,mn,ng,dT,q0,Ti,Zoe],eT),ele=Ee([u6,ji,uT],rT),tle=Ee([ji,u6,ele,Ti],sT),d6=t=>{var e=Ti(t),n=$m(t),r=!1;return tv(t,e,n,r)},h6=Ee([ji,d6],X2),f6=Ee([ji,uT,tle,h6],nT),nle=Ee([mn,dT,ji,Ti],X8),rle=Ee([mn,dT,ji,Ti],Y8),ile=(t,e,n,r,i,s,o,l)=>{if(e){var{type:c}=e,u=Ul(t,l);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return f=l==="angleAxis"&&i!=null&&i?.length>=2?Ui(i[0]-i[1])*2*f:f,u&&o?o.map((m,v)=>({coordinate:r(m)+f,value:m,index:v,offset:f})):r.domain().map((m,v)=>({coordinate:r(m)+f,value:s?s[m]:m,index:v,offset:f}))}}},uu=Ee([mn,ji,uT,f6,d6,nle,rle,Ti],ile),hT=Ee([q8,$8,xoe],(t,e,n)=>Q8(n.shared,t,e)),p6=t=>t.tooltip.settings.trigger,fT=t=>t.tooltip.settings.defaultIndex,rw=Ee([tg,hT,p6,fT],i6),Sd=Ee([rw,ng],cT),m6=Ee([uu,Sd],Z8),g6=Ee([rw],t=>{if(t)return t.dataKey}),x6=Ee([tg,hT,p6,fT],a6),sle=Ee([iu,su,mn,Mi,uu,fT,x6,nv],s6),ale=Ee([rw,sle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),ole=Ee([rw],t=>t.active),lle=Ee([x6,Sd,jd,k8,m6,nv,hT],o6),cle=Ee([lle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function rF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(n),!0).forEach(function(r){ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fle=()=>yt(ji),ple=()=>{var t=fle(),e=yt(uu),n=yt(f6);return wd(!t||!n?void 0:iF(iF({},t),{},{scale:n}),e)};function sF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(n),!0).forEach(function(r){mle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mle(t,e,n){return(e=gle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gle(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vle=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},yle=(t,e,n,r)=>{var i=e.find(u=>u&&u.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:o}=r;return Qp(Qp(Qp({},r),ci(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,{angle:c}=r;return Qp(Qp(Qp({},r),ci(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ble(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var v6=(t,e,n,r,i)=>{var s,o=-1,l=(s=e?.length)!==null&&s!==void 0?s:0;if(l<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?n[c-1].coordinate:n[l-1].coordinate,h=n[c].coordinate,f=c>=l-1?n[0].coordinate:n[c+1].coordinate,m=void 0;if(Ui(h-u)!==Ui(f-h)){var v=[];if(Ui(f-h)===Ui(i[1]-i[0])){m=f;var y=h+i[1]-i[0];v[0]=Math.min(y,(y+u)/2),v[1]=Math.max(y,(y+u)/2)}else{m=u;var S=f+i[1]-i[0];v[0]=Math.min(h,(S+h)/2),v[1]=Math.max(h,(S+h)/2)}var b=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>b[0]&&t<=b[1]||t>=v[0]&&t<=v[1]){({index:o}=n[c]);break}}else{var _=Math.min(u,f),E=Math.max(u,f);if(t>(_+h)/2&&t<=(E+h)/2){({index:o}=n[c]);break}}}else if(e){for(var C=0;C<l;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<l-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===l-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:o}=e[C]);break}}return o},y6=()=>yt(DN),pT=(t,e)=>e,b6=(t,e,n)=>n,mT=(t,e,n,r)=>r,wle=Ee(uu,t=>N2(t,e=>e.coordinate)),gT=Ee([tg,pT,b6,mT],i6),w6=Ee([gT,ng],cT),Sle=(t,e,n)=>{if(e!=null){var r=tg(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},S6=Ee([tg,pT,b6,mT],a6),_1=Ee([iu,su,mn,Mi,uu,mT,S6,nv],s6),_le=Ee([gT,_1],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),_6=Ee([uu,w6],Z8),Ale=Ee([S6,w6,jd,k8,_6,nv,pT],o6),Ele=Ee([gT],t=>({isActive:t.active,activeIndex:t.index})),Cle=(t,e,n,r,i,s,o)=>{if(!(!t||!n||!r||!i)&&ble(t,o)){var l=cte(t,e),c=v6(l,s,i,n,r),u=vle(e,i,c,t);return{activeIndex:String(c),activeCoordinate:u}}},Mle=(t,e,n,r,i,s,o)=>{if(!(!t||!r||!i||!s||!n)){var l=pre(t,n);if(l){var c=ute(l,e),u=v6(c,o,s,r,i),h=yle(e,s,u,l);return{activeIndex:String(u),activeCoordinate:h}}}},Nle=(t,e,n,r,i,s,o,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Cle(t,e,r,i,s,o,l):Mle(t,e,n,r,i,s,o)},Tle=Ee(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),jle=Ee(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values($r)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:vae}});function aF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aF(Object(n),!0).forEach(function(r){kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kle(t,e,n){return(e=Ple(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ple(t){var e=Rle(t,"string");return typeof e=="symbol"?e:e+""}function Rle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fle={},Ble={zIndexMap:Object.values($r).reduce((t,e)=>oF(oF({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Fle)},Dle=new Set(Object.values($r));function Ile(t){return Dle.has(t)}var A6=ua({name:"zIndex",initialState:Ble,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:_i()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Ile(n)&&delete t.zIndexMap[n])},prepare:_i()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:_i()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:_i()}}}),{registerZIndexPortal:Lle,unregisterZIndexPortal:Ole,registerZIndexPortalId:Ule,unregisterZIndexPortalId:zle}=A6.actions,Hle=A6.reducer;function Hs(t){var{zIndex:e,children:n}=t,r=zte(),i=r&&e!==void 0&&e!==0,s=zi(),o=ur();N.useLayoutEffect(()=>i?(o(Lle({zIndex:e})),()=>{o(Ole({zIndex:e}))}):Ef,[o,e,i]);var l=yt(u=>Tle(u,e,s));if(!i)return n;if(!l)return null;var c=document.getElementById(l);return c?WM.createPortal(n,c):null}function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wC.apply(null,arguments)}function lF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lF(Object(n),!0).forEach(function(r){Gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gle(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Vle(t,"string");return typeof e=="symbol"?e:e+""}function Vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kle(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function Xle(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:o,layout:l,cursor:c,tooltipEventType:u,chartName:h}=t,f=n,m=r,v=i;if(!c||!f||h!=="ScatterChart"&&u!=="axis")return null;var y,S,b;if(h==="ScatterChart")y=f,S=jne,b=$r.cursorLine;else if(h==="BarChart")y=kne(l,f,s,o),S=mO,b=$r.cursorRectangle;else if(l==="radial"&&oL(f)){var{cx:_,cy:E,radius:C,startAngle:j,endAngle:R}=xO(f);y={cx:_,cy:E,startAngle:j,endAngle:R,innerRadius:C,outerRadius:C},S=yO,b=$r.cursorLine}else y={points:vre(l,f,s)},S=gm,b=$r.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,D=lb(lb(lb(lb({stroke:"#ccc",pointerEvents:"none"},s),y),hf(c)),{},{payload:m,payloadIndex:v,className:Cn("recharts-tooltip-cursor",k)});return N.createElement(Hs,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:b},N.createElement(Kle,{cursor:c,cursorComp:S,cursorProps:D}))}function Yle(t){var e=ple(),n=aO(),r=Vm(),i=y6();return e==null||n==null||r==null||i==null?null:N.createElement(Xle,wC({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var E6=N.createContext(null),Jle=()=>N.useContext(E6),bA={exports:{}},cF;function qle(){return cF||(cF=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function s(c,u,h,f,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,f||c,m),y=n?n+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],v]:c._events[y].push(v):(c._events[y]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=n?n+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,v=f.length,y=new Array(v);m<v;m++)y[m]=f[m].fn;return y},l.prototype.listenerCount=function(u){var h=n?n+u:u,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,h,f,m,v,y){var S=n?n+u:u;if(!this._events[S])return!1;var b=this._events[S],_=arguments.length,E,C;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),_){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,f),!0;case 4:return b.fn.call(b.context,h,f,m),!0;case 5:return b.fn.call(b.context,h,f,m,v),!0;case 6:return b.fn.call(b.context,h,f,m,v,y),!0}for(C=1,E=new Array(_-1);C<_;C++)E[C-1]=arguments[C];b.fn.apply(b.context,E)}else{var j=b.length,R;for(C=0;C<j;C++)switch(b[C].once&&this.removeListener(u,b[C].fn,void 0,!0),_){case 1:b[C].fn.call(b[C].context);break;case 2:b[C].fn.call(b[C].context,h);break;case 3:b[C].fn.call(b[C].context,h,f);break;case 4:b[C].fn.call(b[C].context,h,f,m);break;default:if(!E)for(R=1,E=new Array(_-1);R<_;R++)E[R-1]=arguments[R];b[C].fn.apply(b[C].context,E)}}return!0},l.prototype.on=function(u,h,f){return s(this,u,h,f,!1)},l.prototype.once=function(u,h,f){return s(this,u,h,f,!0)},l.prototype.removeListener=function(u,h,f,m){var v=n?n+u:u;if(!this._events[v])return this;if(!h)return o(this,v),this;var y=this._events[v];if(y.fn)y.fn===h&&(!m||y.once)&&(!f||y.context===f)&&o(this,v);else{for(var S=0,b=[],_=y.length;S<_;S++)(y[S].fn!==h||m&&!y[S].once||f&&y[S].context!==f)&&b.push(y[S]);b.length?this._events[v]=b.length===1?b[0]:b:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(bA)),bA.exports}var $le=qle();const Qle=Il($le);var p0=new Qle,SC="recharts.syncEvent.tooltip",uF="recharts.syncEvent.brush";function iw(t,e){if(e){var n=Number.parseInt(e,10);if(!ro(n))return t?.[n]}}var Zle={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},C6=ua({name:"options",initialState:Zle,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ece=C6.reducer,{createEventEmitter:tce}=C6.actions;function nce(t){return t.tooltip.syncInteraction}var rce={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},M6=ua({name:"chartData",initialState:rce,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:dF,setDataStartEndIndexes:ice,setComputedData:Qxe}=M6.actions,sce=M6.reducer,ace=["x","y"];function hF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(n),!0).forEach(function(r){oce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oce(t,e,n){return(e=lce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lce(t){var e=cce(t,"string");return typeof e=="symbol"?e:e+""}function cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uce(t,e){if(t==null)return{};var n,r,i=dce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hce(){var t=yt(IN),e=yt(LN),n=ur(),r=yt(v8),i=yt(uu),s=Vm(),o=L2(),l=yt(c=>c.rootProps.className);N.useEffect(()=>{if(t==null)return Ef;var c=(u,h,f)=>{if(e!==f&&t===u){if(r==="index"){var m;if(o&&h!==null&&h!==void 0&&(m=h.payload)!==null&&m!==void 0&&m.coordinate&&h.payload.sourceViewBox){var v=h.payload.coordinate,{x:y,y:S}=v,b=uce(v,ace),{x:_,y:E,width:C,height:j}=h.payload.sourceViewBox,R=Zp(Zp({},b),{},{x:o.x+(C?(y-_)/C:0)*o.width,y:o.y+(j?(S-E)/j:0)*o.height});n(Zp(Zp({},h),{},{payload:Zp(Zp({},h.payload),{},{coordinate:R})}))}else n(h);return}if(i!=null){var k;if(typeof r=="function"){var D={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},O=r(i,D);k=i[O]}else r==="value"&&(k=i.find(oe=>String(oe.value)===h.payload.label));var{coordinate:I}=h.payload;if(k==null||h.payload.active===!1||I==null||o==null){n(yC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:U,y:K}=I,$=Math.min(U,o.x+o.width),re=Math.min(K,o.y+o.height),Y={x:s==="horizontal"?k.coordinate:$,y:s==="horizontal"?re:k.coordinate},se=yC({active:h.payload.active,coordinate:Y,dataKey:h.payload.dataKey,index:String(k.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox});n(se)}}};return p0.on(SC,c),()=>{p0.off(SC,c)}},[l,n,e,t,r,i,s,o])}function fce(){var t=yt(IN),e=yt(LN),n=ur();N.useEffect(()=>{if(t==null)return Ef;var r=(i,s,o)=>{e!==o&&t===i&&n(ice(s))};return p0.on(uF,r),()=>{p0.off(uF,r)}},[n,e,t])}function pce(){var t=ur();N.useEffect(()=>{t(tce())},[t]),hce(),fce()}function mce(t,e,n,r,i,s){var o=yt(v=>Sle(v,t,e)),l=yt(LN),c=yt(IN),u=yt(v8),h=yt(nce),f=h?.active,m=L2();N.useEffect(()=>{if(!f&&c!=null&&l!=null){var v=yC({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:m});p0.emit(SC,c,v,l)}},[f,n,o,i,r,l,c,u,s,m])}function fF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return(e=xce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xce(t){var e=vce(t,"string");return typeof e=="symbol"?e:e+""}function vce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yce(t){return t.dataKey}function bce(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(lne,e)}var mF=[],wce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!au.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ml(t){var e,n,r=Gr(t,wce),{active:i,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:h,offset:f,payloadUniqBy:m,position:v,reverseDirection:y,useTranslate3d:S,wrapperStyle:b,cursor:_,shared:E,trigger:C,defaultIndex:j,portal:R,axisId:k}=r,D=ur(),O=typeof j=="number"?String(j):j;N.useEffect(()=>{D(woe({shared:E,trigger:C,axisId:k,active:i,defaultIndex:O}))},[D,E,C,k,i,O]);var I=L2(),U=uO(),K=goe(E),{activeIndex:$,isActive:re}=(e=yt(Se=>Ele(Se,K,C,O)))!==null&&e!==void 0?e:{},Y=yt(Se=>Ale(Se,K,C,O)),se=yt(Se=>_6(Se,K,C,O)),oe=yt(Se=>_le(Se,K,C,O)),le=Y,H=Jle(),q=(n=i??re)!==null&&n!==void 0?n:!1,[Q,V]=SL([le,q]),ee=K==="axis"?se:void 0;mce(K,C,oe,ee,$,q);var ce=R??H;if(ce==null||I==null||K==null)return null;var ne=le??mF;q||(ne=mF),u&&ne.length&&(ne=xL(ne.filter(Se=>Se.value!=null&&(Se.hide!==!0||r.includeHidden)),m,yce));var be=ne.length>0,Ae=N.createElement(mne,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:q,coordinate:oe,hasPayload:be,offset:f,position:v,reverseDirection:y,useTranslate3d:S,viewBox:I,wrapperStyle:b,lastBoundingBox:Q,innerRef:V,hasPortalFromProps:!!R},bce(c,pF(pF({},r),{},{payload:ne,label:ee,active:q,activeIndex:$,coordinate:oe,accessibilityLayer:U})));return N.createElement(N.Fragment,null,WM.createPortal(Ae,ce),q&&N.createElement(Yle,{cursor:_,tooltipEventType:K,coordinate:oe,payload:ne,index:$}))}var rg=t=>null;rg.displayName="Cell";function Sce(t,e,n){return(e=_ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ce(t){var e=Ace(t,"string");return typeof e=="symbol"?e:e+""}function Ace(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ece{constructor(e){Sce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function gF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gF(Object(n),!0).forEach(function(r){Mce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mce(t,e,n){return(e=Nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t){var e=Tce(t,"string");return typeof e=="symbol"?e:e+""}function Tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jce={cacheSize:2e3,enableCache:!0},N6=Cce({},jce),xF=new Ece(N6.cacheSize),kce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vF="recharts_measurement_span";function Pce(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",o=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(o,"|").concat(l)}var yF=(t,e)=>{try{var n=document.getElementById(vF);n||(n=document.createElement("span"),n.setAttribute("id",vF),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,kce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Fx=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||au.isSsr)return{width:0,height:0};if(!N6.enableCache)return yF(e,n);var r=Pce(e,n),i=xF.get(r);if(i)return i;var s=yF(e,n);return xF.set(r,s),s},bF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rce=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,T6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bce=Object.keys(T6),cm="NaN";function Dce(t,e){return t*T6[e]}class na{static parse(e){var n,[,r,i]=(n=Fce.exec(e))!==null&&n!==void 0?n:[];return new na(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ro(e)&&(this.unit=""),n!==""&&!Rce.test(n)&&(this.num=NaN,this.unit=""),Bce.includes(n)&&(this.num=Dce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new na(NaN,""):new na(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new na(NaN,""):new na(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new na(NaN,""):new na(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new na(NaN,""):new na(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ro(this.num)}}function j6(t){if(t.includes(cm))return cm;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=bF.exec(e))!==null&&n!==void 0?n:[],o=na.parse(r??""),l=na.parse(s??""),c=i==="*"?o.multiply(l):o.divide(l);if(c.isNaN())return cm;e=e.replace(bF,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,h,f,m]=(u=wF.exec(e))!==null&&u!==void 0?u:[],v=na.parse(h??""),y=na.parse(m??""),S=f==="+"?v.add(y):v.subtract(y);if(S.isNaN())return cm;e=e.replace(wF,S.toString())}return e}var SF=/\(([^()]*)\)/;function Ice(t){for(var e=t,n;(n=SF.exec(e))!=null;){var[,r]=n;e=e.replace(SF,j6(r))}return e}function Lce(t){var e=t.replace(/\s+/g,"");return e=Ice(e),e=j6(e),e}function Oce(t){try{return Lce(t)}catch{return cm}}function wA(t){var e=Oce(t.slice(5,-1));return e===cm?"":e}var Uce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zce=["dx","dy","angle","className","breakAll"];function _C(){return _C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_C.apply(null,arguments)}function _F(t,e){if(t==null)return{};var n,r,i=Hce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var k6=/[ \f\n\r\t\v\u2028\u2029]+/,P6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];xr(e)||(n?i=e.toString().split(""):i=e.toString().split(k6));var s=i.map(l=>({word:l,width:Fx(l,r).width})),o=n?0:Fx("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function Gce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var R6=(t,e,n,r)=>t.reduce((i,s)=>{var{word:o,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(o),c.width+=l+n;else{var u={words:[o],width:l};i.push(u)}return i},[]),F6=t=>t.reduce((e,n)=>e.width>n.width?e:n),Wce="",AF=(t,e,n,r,i,s,o,l)=>{var c=t.slice(0,e),u=P6({breakAll:n,style:r,children:c+Wce});if(!u)return[!1,[]];var h=R6(u.wordsWithComputedWidth,s,o,l),f=h.length>i||F6(h).width>Number(s);return[f,h]},Vce=(t,e,n,r,i)=>{var{maxLines:s,children:o,style:l,breakAll:c}=t,u=ft(s),h=String(o),f=R6(e,r,n,i);if(!u||i)return f;var m=f.length>s||F6(f).width>Number(r);if(!m)return f;for(var v=0,y=h.length-1,S=0,b;v<=y&&S<=h.length-1;){var _=Math.floor((v+y)/2),E=_-1,[C,j]=AF(h,E,c,l,s,r,n,i),[R]=AF(h,_,c,l,s,r,n,i);if(!C&&!R&&(v=_+1),C&&R&&(y=_-1),!C&&R){b=j;break}S++}return b||f},EF=t=>{var e=xr(t)?[]:t.toString().split(k6);return[{words:e,width:void 0}]},Kce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=t;if((e||n)&&!au.isSsr){var l,c,u=P6({breakAll:s,children:r,style:i});if(u){var{wordsWithComputedWidth:h,spaceWidth:f}=u;l=h,c=f}else return EF(r);return Vce({breakAll:s,children:r,maxLines:o,style:i},l,c,e,!!n)}return EF(r)},B6="#808080",Xce={breakAll:!1,capHeight:"0.71em",fill:B6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sw=N.forwardRef((t,e)=>{var n=Gr(t,Xce),{x:r,y:i,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:h}=n,f=_F(n,Uce),m=N.useMemo(()=>Kce({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:v,dy:y,angle:S,className:b,breakAll:_}=f,E=_F(f,zce);if(!Pl(r)||!Pl(i)||m.length===0)return null;var C=Number(r)+(ft(v)?v:0),j=Number(i)+(ft(y)?y:0);if(!vr(C)||!vr(j))return null;var R;switch(h){case"start":R=wA("calc(".concat(o,")"));break;case"middle":R=wA("calc(".concat((m.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:R=wA("calc(".concat(m.length-1," * -").concat(s,")"));break}var k=[];if(c){var D=m[0].width,{width:O}=f;k.push("scale(".concat(ft(O)&&ft(D)?O/D:1,")"))}return S&&k.push("rotate(".concat(S,", ").concat(C,", ").concat(j,")")),k.length&&(E.transform=k.join(" ")),N.createElement("text",_C({},bs(E),{ref:e,x:C,y:j,className:Cn("recharts-text",b),textAnchor:u,fill:l.includes("url")?B6:l}),m.map((I,U)=>{var K=I.words.join(_?"":" ");return N.createElement("tspan",{x:C,dy:U===0?R:s,key:"".concat(K,"-").concat(U)},K)}))});sw.displayName="Text";var Yce=["labelRef"];function Jce(t,e){if(t==null)return{};var n,r,i=qce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(n),!0).forEach(function(r){$ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ce(t,e,n){return(e=Qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qce(t){var e=Zce(t,"string");return typeof e=="symbol"?e:e+""}function Zce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jc(){return jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jc.apply(null,arguments)}var D6=N.createContext(null),eue=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:o,children:l}=t,c=N.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:o}),[e,n,r,i,s,o]);return N.createElement(D6.Provider,{value:c},l)},I6=()=>{var t=N.useContext(D6),e=L2();return t||sO(e)},tue=N.createContext(null),nue=()=>{var t=N.useContext(tue),e=yt(_8);return t||e},rue=t=>{var{value:e,formatter:n}=t,r=xr(t.children)?e:t.children;return typeof n=="function"?n(r):r},xT=t=>t!=null&&typeof t=="function",iue=(t,e)=>{var n=Ui(e-t),r=Math.min(Math.abs(e-t),360);return n*r},sue=(t,e,n,r,i)=>{var{offset:s,className:o}=t,{cx:l,cy:c,innerRadius:u,outerRadius:h,startAngle:f,endAngle:m,clockWise:v}=i,y=(u+h)/2,S=iue(f,m),b=S>=0?1:-1,_,E;switch(e){case"insideStart":_=f+b*s,E=v;break;case"insideEnd":_=m-b*s,E=!v;break;case"end":_=m+b*s,E=v;break;default:throw new Error("Unsupported position ".concat(e))}E=S<=0?E:!E;var C=ci(l,c,y,_),j=ci(l,c,y,_+(E?1:-1)*359),R="M".concat(C.x,",").concat(C.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(E?0:1,`,
    `).concat(j.x,",").concat(j.y),k=xr(t.id)?r0("recharts-radial-line-"):t.id;return N.createElement("text",jc({},r,{dominantBaseline:"central",className:Cn("recharts-radial-bar-label",o)}),N.createElement("defs",null,N.createElement("path",{id:k,d:R})),N.createElement("textPath",{xlinkHref:"#".concat(k)},n))},aue=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:l,endAngle:c}=t,u=(l+c)/2;if(n==="outside"){var{x:h,y:f}=ci(r,i,o+e,u);return{x:h,y:f,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=(s+o)/2,{x:v,y}=ci(r,i,m,u);return{x:v,y,textAnchor:"middle",verticalAnchor:"middle"}},AC=t=>"cx"in t&&ft(t.cx),oue=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,s;n!=null&&!AC(n)&&(s=n);var{x:o,y:l,upperWidth:c,lowerWidth:u,height:h}=e,f=o,m=o+(c-u)/2,v=(f+m)/2,y=(c+u)/2,S=f+c/2,b=h>=0?1:-1,_=b*r,E=b>0?"end":"start",C=b>0?"start":"end",j=c>=0?1:-1,R=j*r,k=j>0?"end":"start",D=j>0?"start":"end";if(i==="top"){var O={x:f+c/2,y:l-_,textAnchor:"middle",verticalAnchor:E};return qr(qr({},O),s?{height:Math.max(l-s.y,0),width:c}:{})}if(i==="bottom"){var I={x:m+u/2,y:l+h+_,textAnchor:"middle",verticalAnchor:C};return qr(qr({},I),s?{height:Math.max(s.y+s.height-(l+h),0),width:u}:{})}if(i==="left"){var U={x:v-R,y:l+h/2,textAnchor:k,verticalAnchor:"middle"};return qr(qr({},U),s?{width:Math.max(U.x-s.x,0),height:h}:{})}if(i==="right"){var K={x:v+y+R,y:l+h/2,textAnchor:D,verticalAnchor:"middle"};return qr(qr({},K),s?{width:Math.max(s.x+s.width-K.x,0),height:h}:{})}var $=s?{width:y,height:h}:{};return i==="insideLeft"?qr({x:v+R,y:l+h/2,textAnchor:D,verticalAnchor:"middle"},$):i==="insideRight"?qr({x:v+y-R,y:l+h/2,textAnchor:k,verticalAnchor:"middle"},$):i==="insideTop"?qr({x:f+c/2,y:l+_,textAnchor:"middle",verticalAnchor:C},$):i==="insideBottom"?qr({x:m+u/2,y:l+h-_,textAnchor:"middle",verticalAnchor:E},$):i==="insideTopLeft"?qr({x:f+R,y:l+_,textAnchor:D,verticalAnchor:C},$):i==="insideTopRight"?qr({x:f+c-R,y:l+_,textAnchor:k,verticalAnchor:C},$):i==="insideBottomLeft"?qr({x:m+R,y:l+h-_,textAnchor:D,verticalAnchor:E},$):i==="insideBottomRight"?qr({x:m+u-R,y:l+h-_,textAnchor:k,verticalAnchor:E},$):i&&typeof i=="object"&&(ft(i.x)||qc(i.x))&&(ft(i.y)||qc(i.y))?qr({x:o+ys(i.x,y),y:l+ys(i.y,h),textAnchor:"end",verticalAnchor:"end"},$):qr({x:S,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},$)},lue={offset:5,zIndex:$r.label};function nd(t){var e=Gr(t,lue),{viewBox:n,position:r,value:i,children:s,content:o,className:l="",textBreakAll:c,labelRef:u}=e,h=nue(),f=I6(),m=r==="center"?f:h??f,v,y,S;if(n==null?v=m:AC(n)?v=n:v=sO(n),!v||xr(i)&&xr(s)&&!N.isValidElement(o)&&typeof o!="function")return null;var b=qr(qr({},e),{},{viewBox:v});if(N.isValidElement(o)){var{labelRef:_}=b,E=Jce(b,Yce);return N.cloneElement(o,E)}if(typeof o=="function"){if(y=N.createElement(o,b),N.isValidElement(y))return y}else y=rue(e);var C=bs(e);if(AC(v)){if(r==="insideStart"||r==="insideEnd"||r==="end")return sue(e,r,y,C,v);S=aue(v,e.offset,e.position)}else S=oue(e,v);return N.createElement(Hs,{zIndex:e.zIndex},N.createElement(sw,jc({ref:u,className:Cn("recharts-label",l)},C,S,{textAnchor:Gce(C.textAnchor)?C.textAnchor:S.textAnchor,breakAll:c}),y))}nd.displayName="Label";var cue=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(nd,jc({key:"label-implicit"},r)):Pl(t)?N.createElement(nd,jc({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===nd?N.cloneElement(t,qr({key:"label-implicit"},r)):N.createElement(nd,jc({key:"label-implicit",content:t},r)):xT(t)?N.createElement(nd,jc({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(nd,jc({},t,{key:"label-implicit"},r)):null};function uue(t){var{label:e,labelRef:n}=t,r=I6();return cue(e,r,n)||null}var SA={},_A={},MF;function due(){return MF||(MF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(_A)),_A}var AA={},NF;function hue(){return NF||(NF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(AA)),AA}var TF;function fue(){return TF||(TF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=due(),n=hue(),r=ZM();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(SA)),SA}var EA,jF;function pue(){return jF||(jF=1,EA=fue().last),EA}var mue=pue();const gue=Il(mue);var xue=["valueAccessor"],vue=["dataKey","clockWise","id","textBreakAll","zIndex"];function A1(){return A1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A1.apply(null,arguments)}function kF(t,e){if(t==null)return{};var n,r,i=yue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bue=t=>Array.isArray(t.value)?gue(t.value):t.value,L6=N.createContext(void 0),vT=L6.Provider,O6=N.createContext(void 0),wue=O6.Provider;function Sue(){return N.useContext(L6)}function _ue(){return N.useContext(O6)}function Mb(t){var{valueAccessor:e=bue}=t,n=kF(t,xue),{dataKey:r,clockWise:i,id:s,textBreakAll:o,zIndex:l}=n,c=kF(n,vue),u=Sue(),h=_ue(),f=u||h;return!f||!f.length?null:N.createElement(Hs,{zIndex:l??$r.label},N.createElement(Hr,{className:"recharts-label-list"},f.map((m,v)=>{var y,S=xr(r)?e(m,v):Qn(m&&m.payload,r),b=xr(s)?{}:{id:"".concat(s,"-").concat(v)};return N.createElement(nd,A1({key:"label-".concat(v)},bs(m),c,b,{fill:(y=n.fill)!==null&&y!==void 0?y:m.fill,parentViewBox:m.parentViewBox,value:S,textBreakAll:o,viewBox:m.viewBox,index:v,zIndex:0}))})))}Mb.displayName="LabelList";function aw(t){var{label:e}=t;return e?e===!0?N.createElement(Mb,{key:"labelList-implicit"}):N.isValidElement(e)||xT(e)?N.createElement(Mb,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(Mb,A1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EC.apply(null,arguments)}var U6=t=>{var{cx:e,cy:n,r,className:i}=t,s=Cn("recharts-dot",i);return ft(e)&&ft(n)&&ft(r)?N.createElement("circle",EC({},zs(t),QM(t),{className:s,cx:e,cy:n,r})):null},z6=t=>t.graphicalItems.polarItems,Aue=Ee([Cr,$0],GN),ow=Ee([z6,Br,Aue],WN),Eue=Ee([ow],VN),lw=Ee([Eue,RN],KN),Cue=Ee([lw,Br,ow],YN);Ee([lw,Br,ow],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,o=Qn(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?t.map(r=>({value:Qn(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var PF=()=>{},Mue=Ee([lw,Br,ow,ew,Cr],QN),Nue=Ee([Br,qN,$N,PF,Mue,PF,mn,Cr],ZN),H6=Ee([Br,mn,lw,Cue,q0,Cr,Nue],eT),Tue=Ee([H6,Br,Zm],rT);Ee([Br,H6,Tue,Cr],sT);var jue={radiusAxis:{},angleAxis:{}},G6=ua({name:"polarAxis",initialState:jue,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Zxe,removeRadiusAxis:e0e,addAngleAxis:t0e,removeAngleAxis:n0e}=G6.actions,kue=G6.reducer;function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(n),!0).forEach(function(r){Pue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pue(t,e,n){return(e=Rue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rue(t){var e=Fue(t,"string");return typeof e=="symbol"?e:e+""}function Fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bue=(t,e)=>e,yT=Ee([z6,Bue],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),Due=[],bT=(t,e,n)=>n?.length===0?Due:n,W6=Ee([RN,yT,bT],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if(e?.data!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>FF(FF({},e.presentationProps),s.props))),i!=null)return i}}),Iue=Ee([W6,yT,bT],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var s,o=Qn(r,e.nameKey,e.name),l;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?l=r.fill:l=e.fill,{value:Md(o,e.dataKey),color:l,payload:r,type:e.legendType}})}),Lue=Ee([W6,yT,bT,Mi],(t,e,n,r)=>{if(!(e==null||t==null))return Ide({offset:r,pieSettings:e,displayedData:t,cells:n})}),CA={exports:{}},Jn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BF;function Oue(){if(BF)return Jn;BF=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function y(S){if(typeof S=="object"&&S!==null){var b=S.$$typeof;switch(b){case t:switch(S=S.type,S){case n:case i:case r:case c:case u:case m:return S;default:switch(S=S&&S.$$typeof,S){case o:case l:case f:case h:return S;case s:return S;default:return b}}case e:return b}}}return Jn.ContextConsumer=s,Jn.ContextProvider=o,Jn.Element=t,Jn.ForwardRef=l,Jn.Fragment=n,Jn.Lazy=f,Jn.Memo=h,Jn.Portal=e,Jn.Profiler=i,Jn.StrictMode=r,Jn.Suspense=c,Jn.SuspenseList=u,Jn.isContextConsumer=function(S){return y(S)===s},Jn.isContextProvider=function(S){return y(S)===o},Jn.isElement=function(S){return typeof S=="object"&&S!==null&&S.$$typeof===t},Jn.isForwardRef=function(S){return y(S)===l},Jn.isFragment=function(S){return y(S)===n},Jn.isLazy=function(S){return y(S)===f},Jn.isMemo=function(S){return y(S)===h},Jn.isPortal=function(S){return y(S)===e},Jn.isProfiler=function(S){return y(S)===i},Jn.isStrictMode=function(S){return y(S)===r},Jn.isSuspense=function(S){return y(S)===c},Jn.isSuspenseList=function(S){return y(S)===u},Jn.isValidElementType=function(S){return typeof S=="string"||typeof S=="function"||S===n||S===i||S===r||S===c||S===u||typeof S=="object"&&S!==null&&(S.$$typeof===f||S.$$typeof===h||S.$$typeof===o||S.$$typeof===s||S.$$typeof===l||S.$$typeof===v||S.getModuleId!==void 0)},Jn.typeOf=y,Jn}var DF;function Uue(){return DF||(DF=1,CA.exports=Oue()),CA.exports}var zue=Uue(),IF=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",LF=null,MA=null,V6=t=>{if(t===LF&&Array.isArray(MA))return MA;var e=[];return N.Children.forEach(t,n=>{xr(n)||(zue.isFragment(n)?e=e.concat(V6(n.props.children)):e.push(n))}),MA=e,LF=t,e};function wT(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>IF(i)):r=[IF(e)],V6(t).forEach(i=>{var s=ff(i,"type.displayName")||ff(i,"type.name");s&&r.indexOf(s)!==-1&&n.push(i)}),n}var ST=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,NA={},OF;function Hue(){return OF||(OF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(NA)),NA}var TA,UF;function Gue(){return UF||(UF=1,TA=Hue().isPlainObject),TA}var Wue=Gue();const Vue=Il(Wue);function zF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(n),!0).forEach(function(r){Kue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kue(t,e,n){return(e=Xue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xue(t){var e=Yue(t,"string");return typeof e=="symbol"?e:e+""}function Yue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E1(){return E1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},E1.apply(null,arguments)}var GF=(t,e,n,r,i)=>{var s=n-r,o;return o="M ".concat(t,",").concat(e),o+="L ".concat(t+n,",").concat(e),o+="L ".concat(t+n-s/2,",").concat(e+i),o+="L ".concat(t+n-s/2-r,",").concat(e+i),o+="L ".concat(t,",").concat(e," Z"),o},Jue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},que=t=>{var e=Gr(t,Jue),{x:n,y:r,upperWidth:i,lowerWidth:s,height:o,className:l}=e,{animationEasing:c,animationDuration:u,animationBegin:h,isUpdateAnimationActive:f}=e,m=N.useRef(null),[v,y]=N.useState(-1),S=N.useRef(i),b=N.useRef(s),_=N.useRef(o),E=N.useRef(n),C=N.useRef(r),j=Xm(t,"trapezoid-");if(N.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var Y=m.current.getTotalLength();Y&&y(Y)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||o!==+o||i===0&&s===0||o===0)return null;var R=Cn("recharts-trapezoid",l);if(!f)return N.createElement("g",null,N.createElement("path",E1({},bs(e),{className:R,d:GF(n,r,i,s,o)})));var k=S.current,D=b.current,O=_.current,I=E.current,U=C.current,K="0px ".concat(v===-1?1:v,"px"),$="".concat(v,"px 0px"),re=dO(["strokeDasharray"],u,c);return N.createElement(Km,{animationId:j,key:j,canBegin:v>0,duration:u,easing:c,isActive:f,begin:h},Y=>{var se=Dn(k,i,Y),oe=Dn(D,s,Y),le=Dn(O,o,Y),H=Dn(I,n,Y),q=Dn(U,r,Y);m.current&&(S.current=se,b.current=oe,_.current=le,E.current=H,C.current=q);var Q=Y>0?{transition:re,strokeDasharray:$}:{strokeDasharray:K};return N.createElement("path",E1({},bs(e),{className:R,d:GF(H,q,se,oe,le),ref:m,style:HF(HF({},Q),e.style)}))})},$ue=["option","shapeType","propTransformer","activeClassName","isActive"];function Que(t,e){if(t==null)return{};var n,r,i=Zue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(n),!0).forEach(function(r){ede(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ede(t,e,n){return(e=tde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tde(t){var e=nde(t,"string");return typeof e=="symbol"?e:e+""}function nde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rde(t,e){return C1(C1({},e),t)}function ide(t,e){return t==="symbols"}function VF(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(mO,n);case"trapezoid":return N.createElement(que,n);case"sector":return N.createElement(yO,n);case"symbols":if(ide(e))return N.createElement($M,n);break;case"curve":return N.createElement(gm,n);default:return null}}function sde(t){return N.isValidElement(t)?t.props:t}function _T(t){var{option:e,shapeType:n,propTransformer:r=rde,activeClassName:i="recharts-active-shape",isActive:s}=t,o=Que(t,$ue),l;if(N.isValidElement(e))l=N.cloneElement(e,C1(C1({},o),sde(e)));else if(typeof e=="function")l=e(o);else if(Vue(e)&&typeof e!="boolean"){var c=r(e,o);l=N.createElement(VF,{shapeType:n,elementProps:c})}else{var u=o;l=N.createElement(VF,{shapeType:n,elementProps:u})}return s?N.createElement(Hr,{className:i},l):l}var AT=(t,e)=>{var n=ur();return(r,i)=>s=>{t?.(r,i,s),n(t6({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},ET=t=>{var e=ur();return(n,r)=>i=>{t?.(n,r,i),e(Soe())}},CT=(t,e)=>{var n=ur();return(r,i)=>s=>{t?.(r,i,s),n(_oe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function cw(t){var{fn:e,args:n}=t,r=ur(),i=zi();return N.useLayoutEffect(()=>{if(!i){var s=e(n);return r(yoe(s)),()=>{r(boe(s))}}},[e,n,r,i]),null}function MT(t){var{legendPayload:e}=t,n=ur(),r=zi();return N.useLayoutEffect(()=>r?Ef:(n(lO(e)),()=>{n(cO(e))}),[n,r,e]),null}function ade(t){var{legendPayload:e}=t,n=ur(),r=yt(mn);return N.useLayoutEffect(()=>r!=="centric"&&r!=="radial"?Ef:(n(lO(e)),()=>{n(cO(e))}),[n,r,e]),null}var jA,ode=()=>{var[t]=N.useState(()=>r0("uid-"));return t},lde=(jA=x9.useId)!==null&&jA!==void 0?jA:ode;function K6(t,e){var n=lde();return e||(t?"".concat(t,"-").concat(n):n)}var cde=N.createContext(void 0),uw=t=>{var{id:e,type:n,children:r}=t,i=K6("recharts-".concat(n),e);return N.createElement(cde.Provider,{value:i},r(i))},ude={cartesianItems:[],polarItems:[]},X6=ua({name:"graphicalItems",initialState:ude,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:_i()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Oc(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:_i()},removeCartesianGraphicalItem:{reducer(t,e){var n=Oc(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:_i()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:_i()},removePolarGraphicalItem:{reducer(t,e){var n=Oc(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:_i()}}}),{addCartesianGraphicalItem:dde,replaceCartesianGraphicalItem:hde,removeCartesianGraphicalItem:fde,addPolarGraphicalItem:pde,removePolarGraphicalItem:mde}=X6.actions,gde=X6.reducer;function NT(t){var e=ur(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e(dde(t)):n.current!==t&&e(hde({prev:n.current,next:t})),n.current=t},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(e(fde(n.current)),n.current=null)},[e]),null}function xde(t){var e=ur();return N.useLayoutEffect(()=>(e(pde(t)),()=>{e(mde(t))}),[e,t]),null}var vde=["onMouseEnter","onClick","onMouseLeave"],yde=["id"],bde=["id"];function TT(t,e){if(t==null)return{};var n,r,i=wde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function KF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ar(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(n),!0).forEach(function(r){Sde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sde(t,e,n){return(e=_de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _de(t){var e=Ade(t,"string");return typeof e=="symbol"?e:e+""}function Ade(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_d.apply(null,arguments)}function Ede(t){var e=N.useMemo(()=>wT(t.children,rg),[t.children]),n=yt(r=>Iue(r,t.id,e));return n==null?null:N.createElement(ade,{legendPayload:n})}function Cde(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:o,name:l,hide:c,tooltipType:u}=t;return{dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:o,dataKey:e,nameKey:n,name:Md(l,e),hide:c,type:u,color:o,unit:""}}}var Mde=(t,e)=>t>e?"start":t<e?"end":"middle",Nde=(t,e,n)=>ys(typeof e=="function"?e(t):e,n,n*.8),Tde=(t,e,n)=>{var{top:r,left:i,width:s,height:o}=e,l=gO(s,o),c=i+ys(t.cx,s,s/2),u=r+ys(t.cy,o,o/2),h=ys(t.innerRadius,l,0),f=Nde(n,t.outerRadius,l),m=t.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:c,cy:u,innerRadius:h,outerRadius:f,maxRadius:m}},jde=(t,e)=>{var n=Ui(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function kde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var Pde=(t,e)=>{if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return t(e);var n=Cn("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return N.createElement(gm,_d({},e,{type:"linear",className:n}))},Rde=(t,e,n)=>{if(N.isValidElement(t))return N.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),N.isValidElement(r)))return r;var i=Cn("recharts-pie-label-text",kde(t));return N.createElement(sw,_d({},e,{alignmentBaseline:"middle",className:i}),r)};function Fde(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:o}=n;if(!r||!i||!e)return null;var l=zs(n),c=hf(i),u=hf(s),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((m,v)=>{var y=(m.startAngle+m.endAngle)/2,S=ci(m.cx,m.cy,m.outerRadius+h,y),b=Ar(Ar(Ar(Ar({},l),m),{},{stroke:"none"},c),{},{index:v,textAnchor:Mde(S.x,m.cx)},S),_=Ar(Ar(Ar(Ar({},l),m),{},{fill:"none",stroke:m.fill},u),{},{index:v,points:[ci(m.cx,m.cy,m.outerRadius,y),S],key:"line"});return N.createElement(Hs,{zIndex:$r.label,key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},N.createElement(Hr,null,s&&Pde(s,_),Rde(i,b,Qn(m,o))))});return N.createElement(Hr,{className:"recharts-pie-labels"},f)}function Bde(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(aw,{label:i}):N.createElement(Fde,{sectors:e,props:n,showLabels:r})}function Dde(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i}=t,s=yt(Sd),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=TT(i,vde),h=AT(o,i.dataKey),f=ET(c),m=CT(l,i.dataKey);return e==null||e.length===0?null:N.createElement(N.Fragment,null,e.map((v,y)=>{if(v?.startAngle===0&&v?.endAngle===0&&e.length!==1)return null;var S=n&&String(y)===s,b=s?r:null,_=S?n:b,E=Ar(Ar({},v),{},{stroke:v.stroke,tabIndex:-1,[eO]:y,[tO]:i.dataKey});return N.createElement(Hr,_d({key:"sector-".concat(v?.startAngle,"-").concat(v?.endAngle,"-").concat(v.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},z0(u,v,y),{onMouseEnter:h(v,y),onMouseLeave:f(v,y),onClick:m(v,y)}),N.createElement(_T,_d({option:_,isActive:S,shapeType:"sector"},E)))}))}function Ide(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:o,startAngle:l,endAngle:c,dataKey:u,nameKey:h,tooltipType:f}=n,m=Math.abs(n.minAngle),v=jde(l,c),y=Math.abs(v),S=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,b=r.filter(k=>Qn(k,u,0)!==0).length,_=(y>=360?b:b-1)*S,E=y-b*m-_,C=r.reduce((k,D)=>{var O=Qn(D,u,0);return k+(ft(O)?O:0)},0),j;if(C>0){var R;j=r.map((k,D)=>{var O=Qn(k,u,0),I=Qn(k,h,D),U=Tde(n,s,k),K=(ft(O)?O:0)/C,$,re=Ar(Ar({},k),i&&i[D]&&i[D].props);D?$=R.endAngle+Ui(v)*S*(O!==0?1:0):$=l;var Y=$+Ui(v)*((O!==0?m:0)+K*E),se=($+Y)/2,oe=(U.innerRadius+U.outerRadius)/2,le=[{name:I,value:O,payload:re,dataKey:u,type:f}],H=ci(U.cx,U.cy,oe,se);return R=Ar(Ar(Ar(Ar({},n.presentationProps),{},{percent:K,cornerRadius:typeof o=="string"?parseFloat(o):o,name:I,tooltipPayload:le,midAngle:se,middleRadius:oe,tooltipPosition:H},re),U),{},{value:O,startAngle:$,endAngle:Y,payload:re,paddingAngle:Ui(v)*S}),R})}return j}function Lde(t){var{showLabels:e,sectors:n,children:r}=t,i=N.useMemo(()=>!e||!n?[]:n.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[n,e]);return N.createElement(wue,{value:e?i:void 0},r)}function Ode(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:h,onAnimationEnd:f}=e,m=Xm(e,"recharts-pie-"),v=n.current,[y,S]=N.useState(!1),b=N.useCallback(()=>{typeof f=="function"&&f(),S(!1)},[f]),_=N.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return N.createElement(Lde,{showLabels:!y,sectors:r},N.createElement(Km,{animationId:m,begin:s,duration:o,isActive:i,easing:l,onAnimationStart:_,onAnimationEnd:b,key:m},E=>{var C=[],j=r&&r[0],R=j?.startAngle;return r?.forEach((k,D)=>{var O=v&&v[D],I=D>0?ff(k,"paddingAngle",0):0;if(O){var U=Dn(O.endAngle-O.startAngle,k.endAngle-k.startAngle,E),K=Ar(Ar({},k),{},{startAngle:R+I,endAngle:R+U+I});C.push(K),R=K.endAngle}else{var{endAngle:$,startAngle:re}=k,Y=Dn(0,$-re,E),se=Ar(Ar({},k),{},{startAngle:R+I,endAngle:R+Y+I});C.push(se),R=se.endAngle}}),n.current=C,N.createElement(Hr,null,N.createElement(Dde,{sectors:C,activeShape:c,inactiveShape:u,allOtherPieProps:e}))}),N.createElement(Bde,{showLabels:!y,sectors:r,props:e}),e.children)}var Ude={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!au.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:$r.area};function zde(t){var{id:e}=t,n=TT(t,yde),{hide:r,className:i,rootTabIndex:s}=t,o=N.useMemo(()=>wT(t.children,rg),[t.children]),l=yt(h=>Lue(h,e,o)),c=N.useRef(null),u=Cn("recharts-pie",i);return r||l==null?(c.current=null,N.createElement(Hr,{tabIndex:s,className:u})):N.createElement(Hs,{zIndex:t.zIndex},N.createElement(cw,{fn:Cde,args:Ar(Ar({},t),{},{sectors:l})}),N.createElement(Hr,{tabIndex:s,className:u},N.createElement(Ode,{props:Ar(Ar({},n),{},{sectors:l}),previousSectorsRef:c})))}function jT(t){var e=Gr(t,Ude),{id:n}=e,r=TT(e,bde),i=zs(r);return N.createElement(uw,{id:n,type:"pie"},s=>N.createElement(N.Fragment,null,N.createElement(xde,{type:"pie",id:s,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),N.createElement(Ede,_d({},r,{id:s})),N.createElement(zde,_d({},r,{id:s}))))}jT.displayName="Pie";var Hde=["points"];function XF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(n),!0).forEach(function(r){Gde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gde(t,e,n){return(e=Wde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wde(t){var e=Vde(t,"string");return typeof e=="symbol"?e:e+""}function Vde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M1(){return M1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M1.apply(null,arguments)}function Kde(t,e){if(t==null)return{};var n,r,i=Xde(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Yde(t){var{option:e,dotProps:n,className:r}=t;if(N.isValidElement(e))return N.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Cn(r,typeof e!="boolean"?e.className:""),s=n??{},{points:o}=s,l=Kde(s,Hde);return N.createElement(U6,M1({},l,{className:i}))}function Jde(t,e){return t==null?!1:e?!0:t.length===1}function Y6(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=$r.scatter}=t;if(!Jde(e,n))return null;var h=ST(n),f=Y$(n),m=e.map((y,S)=>{var b,_,E=kA(kA(kA({r:3},o),f),{},{index:S,cx:(b=y.x)!==null&&b!==void 0?b:void 0,cy:(_=y.y)!==null&&_!==void 0?_:void 0,dataKey:s,value:y.value,payload:y.payload,points:e});return N.createElement(Yde,{key:"dot-".concat(S),option:n,dotProps:E,className:i})}),v={};return l&&c!=null&&(v.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),N.createElement(Hs,{zIndex:u},N.createElement(Hr,M1({className:r},v),m))}function YF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(n),!0).forEach(function(r){qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qde(t,e,n){return(e=$de(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $de(t){var e=Qde(t,"string");return typeof e=="symbol"?e:e+""}function Qde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zde={xAxis:{},yAxis:{},zAxis:{}},J6=ua({name:"cartesianAxis",initialState:Zde,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:_i()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:_i()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:_i()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:_i()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:_i()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:_i()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-s[0])<=1)return;var o=[...s,r].slice(-3);t.yAxis[n]=JF(JF({},t.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:ehe,removeXAxis:the,addYAxis:nhe,removeYAxis:rhe,addZAxis:r0e,removeZAxis:i0e,updateYAxisWidth:ihe}=J6.actions,she=J6.reducer,ahe=Ee([Mi],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),ohe=Ee([ahe,iu,su],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),dw=()=>yt(ohe),lhe=()=>yt(cle);function qF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(n),!0).forEach(function(r){che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function che(t,e,n){return(e=uhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uhe(t){var e=dhe(t,"string");return typeof e=="symbol"?e:e+""}function dhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hhe=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=PA(PA(PA({},o),hf(i)),QM(i)),c;return N.isValidElement(i)?c=N.cloneElement(i,l):typeof i=="function"?c=i(l):c=N.createElement(U6,l),N.createElement(Hr,{className:"recharts-active-dot"},c)};function CC(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,zIndex:s=$r.activeDot}=t,o=yt(Sd),l=lhe();if(e==null||l==null)return null;var c=e.find(u=>l.includes(u.payload));return xr(c)?null:N.createElement(Hs,{zIndex:s},N.createElement(hhe,{point:c,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r}))}var fhe="Invariant failed";function phe(t,e){throw new Error(fhe)}var mhe=["x","y"];function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MC.apply(null,arguments)}function $F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$F(Object(n),!0).forEach(function(r){ghe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ghe(t,e,n){return(e=xhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xhe(t){var e=vhe(t,"string");return typeof e=="symbol"?e:e+""}function vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yhe(t,e){if(t==null)return{};var n,r,i=bhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function whe(t,e){var{x:n,y:r}=t,i=yhe(t,mhe),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(e.height||i.height),h=parseInt(u,10),f="".concat(e.width||i.width),m=parseInt(f,10);return Ax(Ax(Ax(Ax(Ax({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:m,name:e.name,radius:e.radius})}function N1(t){return N.createElement(_T,MC({shapeType:"rectangle",propTransformer:whe,activeClassName:"recharts-active-bar"},t))}var She=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ft(e))return e;var s=ft(r)||xr(r);return s?e(r,i):(s||phe(),n)}},_he={},q6=ua({name:"errorBars",initialState:_he,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:s0e,replaceErrorBar:a0e,removeErrorBar:o0e}=q6.actions,Ahe=q6.reducer,Ehe=["children"];function Che(t,e){if(t==null)return{};var n,r,i=Mhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Nhe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},The=N.createContext(Nhe);function $6(t){var{children:e}=t,n=Che(t,Ehe);return N.createElement(The.Provider,{value:n},e)}function hw(t,e){var n,r,i=yt(u=>lu(u,t)),s=yt(u=>cu(u,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ea.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Ca.allowDataOverflow,c=o||l;return{needClip:c,needClipX:o,needClipY:l}}function kT(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=dw(),{needClipX:s,needClipY:o,needClip:l}=hw(e,n);if(!l||!i)return null;var{x:c,y:u,width:h,height:f}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:s?c:c-h/2,y:o?u:u-f/2,width:s?h:h*2,height:o?f:f*2}))}function jhe(t,e){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&vr(t.zIndex)?t.zIndex:e}var khe=["onMouseEnter","onMouseLeave","onClick"],Phe=["value","background","tooltipPosition"],Rhe=["id"],Fhe=["onMouseEnter","onClick","onMouseLeave"];function nu(){return nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nu.apply(null,arguments)}function QF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ds(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QF(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return(e=Dhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dhe(t){var e=Ihe(t,"string");return typeof e=="symbol"?e:e+""}function Ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T1(t,e){if(t==null)return{};var n,r,i=Lhe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ohe=t=>{var{dataKey:e,name:n,fill:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Md(n,e),payload:t}]};function Uhe(t){var{dataKey:e,stroke:n,strokeWidth:r,fill:i,name:s,hide:o,unit:l}=t;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:e,nameKey:void 0,name:Md(s,e),hide:o,type:t.tooltipType,color:t.fill,unit:l}}}function zhe(t){var e=yt(Sd),{data:n,dataKey:r,background:i,allOtherBarProps:s}=t,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=T1(s,khe),h=AT(o,r),f=ET(l),m=CT(c,r);if(!i||n==null)return null;var v=hf(i);return N.createElement(Hs,{zIndex:jhe(i,$r.barBackground)},n.map((y,S)=>{var{value:b,background:_,tooltipPosition:E}=y,C=T1(y,Phe);if(!_)return null;var j=h(y,S),R=f(y,S),k=m(y,S),D=Ds(Ds(Ds(Ds(Ds({option:i,isActive:String(S)===e},C),{},{fill:"#eee"},_),v),z0(u,y,S)),{},{onMouseEnter:j,onMouseLeave:R,onClick:k,dataKey:r,index:S,className:"recharts-bar-background-rectangle"});return N.createElement(N1,nu({key:"background-bar-".concat(S)},D))}))}function Hhe(t){var{showLabels:e,children:n,rects:r}=t,i=r?.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Ds(Ds({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return N.createElement(vT,{value:e?i:void 0},n)}function Ghe(t){var{shape:e,activeBar:n,baseProps:r,entry:i,index:s,dataKey:o}=t,l=yt(Sd),c=yt(g6),u=n&&String(s)===l&&(c==null||o===c),h=u?n:e;return u?N.createElement(Hs,{zIndex:$r.activeBar},N.createElement(N1,nu({},r,{name:String(r.name)},i,{isActive:u,option:h,index:s,dataKey:o}))):N.createElement(N1,nu({},r,{name:String(r.name)},i,{isActive:u,option:h,index:s,dataKey:o}))}function Whe(t){var{shape:e,baseProps:n,entry:r,index:i,dataKey:s}=t;return N.createElement(N1,nu({},n,{name:String(n.name)},r,{isActive:!1,option:e,index:i,dataKey:s}))}function Vhe(t){var e,{data:n,props:r}=t,i=(e=zs(r))!==null&&e!==void 0?e:{},{id:s}=i,o=T1(i,Rhe),{shape:l,dataKey:c,activeBar:u}=r,{onMouseEnter:h,onClick:f,onMouseLeave:m}=r,v=T1(r,Fhe),y=AT(h,c),S=ET(m),b=CT(f,c);return n?N.createElement(N.Fragment,null,n.map((_,E)=>N.createElement(Hr,nu({key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(E),className:"recharts-bar-rectangle"},z0(v,_,E),{onMouseEnter:y(_,E),onMouseLeave:S(_,E),onClick:b(_,E)}),u?N.createElement(Ghe,{shape:l,activeBar:u,baseProps:o,entry:_,index:E,dataKey:c}):N.createElement(Whe,{shape:l,baseProps:o,entry:_,index:E,dataKey:c})))):null}function Khe(t){var{props:e,previousRectanglesRef:n}=t,{data:r,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:h}=e,f=n.current,m=Xm(e,"recharts-bar-"),[v,y]=N.useState(!1),S=!v,b=N.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),_=N.useCallback(()=>{typeof h=="function"&&h(),y(!0)},[h]);return N.createElement(Hhe,{showLabels:S,rects:r},N.createElement(Km,{animationId:m,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:b,onAnimationStart:_,key:m},E=>{var C=E===1?r:r?.map((j,R)=>{var k=f&&f[R];if(k)return Ds(Ds({},j),{},{x:Dn(k.x,j.x,E),y:Dn(k.y,j.y,E),width:Dn(k.width,j.width,E),height:Dn(k.height,j.height,E)});if(i==="horizontal"){var D=Dn(0,j.height,E),O=Dn(j.stackedBarStart,j.y,E);return Ds(Ds({},j),{},{y:O,height:D})}var I=Dn(0,j.width,E),U=Dn(j.stackedBarStart,j.x,E);return Ds(Ds({},j),{},{width:I,x:U})});return E>0&&(n.current=C??null),C==null?null:N.createElement(Hr,null,N.createElement(Vhe,{props:e,data:C}))}),N.createElement(aw,{label:e.label}),e.children)}function Xhe(t){var e=N.useRef(null);return N.createElement(Khe,{previousRectanglesRef:e,props:t})}var Q6=0,Yhe=(t,e)=>{var n=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:n,errorVal:Qn(t,e)}};class Jhe extends N.PureComponent{render(){var{hide:e,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:o,needClip:l,background:c,id:u}=this.props;if(e||n==null)return null;var h=Cn("recharts-bar",i),f=u;return N.createElement(Hr,{className:h,id:u},l&&N.createElement("defs",null,N.createElement(kT,{clipPathId:f,xAxisId:s,yAxisId:o})),N.createElement(Hr,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},N.createElement(zhe,{data:n,dataKey:r,background:c,allOtherBarProps:this.props}),N.createElement(Xhe,this.props)))}}var qhe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!au.isSsr,legendType:"rect",minPointSize:Q6,xAxisId:0,yAxisId:0,zIndex:$r.bar};function $he(t){var{xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:h}=t,{needClip:f}=hw(e,n),m=Vm(),v=zi(),y=wT(t.children,rg),S=yt(E=>Efe(E,e,n,v,t.id,y));if(m!=="vertical"&&m!=="horizontal")return null;var b,_=S?.[0];return _==null||_.height==null||_.width==null?b=0:b=m==="vertical"?_.height/2:_.width/2,N.createElement($6,{xAxisId:e,yAxisId:n,data:S,dataPointFormatter:Yhe,errorBarOffset:b},N.createElement(Jhe,nu({},t,{layout:m,needClip:f,data:S,xAxisId:e,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:h})))}function Qhe(t){var{layout:e,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:o,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:h,displayedData:f,offset:m,cells:v,parentViewBox:y,dataStartIndex:S}=t,b=e==="horizontal"?l:o,_=h?b.scale.domain():null,E=ste({numericAxis:b}),C=b.scale(E);return f.map((j,R)=>{var k,D,O,I,U,K;h?k=ete(h[R+S],_):(k=Qn(j,n),Array.isArray(k)||(k=[E,k]));var $=She(r,Q6)(k[1],R);if(e==="horizontal"){var re,[Y,se]=[l.scale(k[0]),l.scale(k[1])];D=E5({axis:o,ticks:c,bandSize:s,offset:i.offset,entry:j,index:R}),O=(re=se??Y)!==null&&re!==void 0?re:void 0,I=i.size;var oe=Y-se;if(U=ro(oe)?0:oe,K={x:D,y:m.top,width:I,height:m.height},Math.abs($)>0&&Math.abs(U)<Math.abs($)){var le=Ui(U||$)*(Math.abs($)-Math.abs(U));O-=le,U+=le}}else{var[H,q]=[o.scale(k[0]),o.scale(k[1])];if(D=H,O=E5({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:j,index:R}),I=q-H,U=i.size,K={x:m.left,y:O,width:m.width,height:U},Math.abs($)>0&&Math.abs(I)<Math.abs($)){var Q=Ui(I||$)*(Math.abs($)-Math.abs(I));I+=Q}}if(D==null||O==null||I==null||U==null)return null;var V=Ds(Ds({},j),{},{stackedBarStart:C,x:D,y:O,width:I,height:U,value:h?k:k[1],payload:j,background:K,tooltipPosition:{x:D+I/2,y:O+U/2},parentViewBox:y},v&&v[R]&&v[R].props);return V}).filter(Boolean)}function Zhe(t){var e=Gr(t,qhe),n=zi();return N.createElement(uw,{id:e.id,type:"bar"},r=>N.createElement(N.Fragment,null,N.createElement(MT,{legendPayload:Ohe(e)}),N.createElement(cw,{fn:Uhe,args:e}),N.createElement(NT,{type:"bar",id:r,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:QL(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:n}),N.createElement(Hs,{zIndex:e.zIndex},N.createElement($he,nu({},e,{id:r})))))}var fw=N.memo(Zhe);fw.displayName="Bar";function ZF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(n),!0).forEach(function(r){efe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function efe(t,e,n){return(e=tfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tfe(t){var e=nfe(t,"string");return typeof e=="symbol"?e:e+""}function nfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rfe=(t,e)=>e,ife=(t,e,n)=>n,sfe=(t,e,n,r)=>r,afe=(t,e,n,r,i)=>i,iv=Ee([Z0,afe],(t,e)=>t.filter(n=>n.type==="bar").find(n=>n.id===e)),ofe=Ee([iv],t=>t?.maxBarSize),lfe=(t,e,n,r,i,s)=>s,eB=(t,e,n)=>{var r=n??t;if(!xr(r))return ys(r,e,0)},cfe=Ee([mn,Z0,rfe,ife,sfe],(t,e,n,r,i)=>e.filter(s=>t==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),ufe=(t,e,n,r)=>{var i=mn(t);return i==="horizontal"?f0(t,"yAxis",n,r):f0(t,"xAxis",e,r)},dfe=(t,e,n)=>{var r=mn(t);return r==="horizontal"?QR(t,"xAxis",e):QR(t,"yAxis",n)},hfe=(t,e,n)=>{var r={},i=t.filter(q2),s=t.filter(u=>u.stackId==null),o=i.reduce((u,h)=>(u[h.stackId]||(u[h.stackId]=[]),u[h.stackId].push(h),u),r),l=Object.entries(o).map(u=>{var[h,f]=u,m=f.map(y=>y.dataKey),v=eB(e,n,f[0].barSize);return{stackId:h,dataKeys:m,barSize:v}}),c=s.map(u=>{var h=[u.dataKey].filter(m=>m!=null),f=eB(e,n,u.barSize);return{stackId:void 0,dataKeys:h,barSize:f}});return[...l,...c]},ffe=Ee([cfe,dae,dfe],hfe),pfe=(t,e,n,r,i)=>{var s,o,l=iv(t,e,n,r,i);if(l!=null){var c=mn(t),u=g8(t),{maxBarSize:h}=l,f=xr(h)?u:h,m,v;return c==="horizontal"?(m=Dl(t,"xAxis",e,r),v=Bl(t,"xAxis",e,r)):(m=Dl(t,"yAxis",n,r),v=Bl(t,"yAxis",n,r)),(s=(o=wd(m,v,!0))!==null&&o!==void 0?o:f)!==null&&s!==void 0?s:0}},Z6=(t,e,n,r)=>{var i=mn(t),s,o;return i==="horizontal"?(s=Dl(t,"xAxis",e,r),o=Bl(t,"xAxis",e,r)):(s=Dl(t,"yAxis",n,r),o=Bl(t,"yAxis",n,r)),wd(s,o)};function mfe(t,e,n,r,i){var s=r.length;if(!(s<1)){var o=ys(t,n,0,!0),l,c=[];if(vr(r[0].barSize)){var u=!1,h=n/s,f=r.reduce((_,E)=>_+(E.barSize||0),0);f+=(s-1)*o,f>=n&&(f-=(s-1)*o,o=0),f>=n&&h>0&&(u=!0,h*=.9,f=s*h);var m=(n-f)/2>>0,v={offset:m-o,size:0};l=r.reduce((_,E)=>{var C,j={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:v.offset+v.size+o,size:u?h:(C=E.barSize)!==null&&C!==void 0?C:0}},R=[..._,j];return v=R[R.length-1].position,R},c)}else{var y=ys(e,n,0,!0);n-2*y-(s-1)*o<=0&&(o=0);var S=(n-2*y-(s-1)*o)/s;S>1&&(S>>=0);var b=vr(i)?Math.min(S,i):S;l=r.reduce((_,E,C)=>[..._,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:y+(S+o)*C+(S-b)/2,size:b}}],c)}return l}}var gfe=(t,e,n,r,i,s,o)=>{var l=xr(o)?e:o,c=mfe(n,r,i!==s?i:s,t,l);return i!==s&&c!=null&&(c=c.map(u=>cb(cb({},u),{},{position:cb(cb({},u.position),{},{offset:u.position.offset-i/2})}))),c},xfe=Ee([ffe,g8,uae,x8,pfe,Z6,ofe],gfe),vfe=(t,e,n,r)=>Dl(t,"xAxis",e,r),yfe=(t,e,n,r)=>Dl(t,"yAxis",n,r),bfe=(t,e,n,r)=>Bl(t,"xAxis",e,r),wfe=(t,e,n,r)=>Bl(t,"yAxis",n,r),Sfe=Ee([xfe,iv],(t,e)=>{if(!(t==null||e==null)){var n=t.find(r=>r.stackId===e.stackId&&e.dataKey!=null&&r.dataKeys.includes(e.dataKey));if(n!=null)return n.position}}),_fe=(t,e)=>{var n=J2(e);if(!(!t||n==null||e==null)){var{stackId:r}=e;if(r!=null){var i=t[r];if(i){var{stackedData:s}=i;if(s)return s.find(o=>o.key===n)}}}},Afe=Ee([ufe,iv],_fe),Efe=Ee([Mi,aN,vfe,yfe,bfe,wfe,Sfe,mn,J0,Z6,Afe,iv,lfe],(t,e,n,r,i,s,o,l,c,u,h,f,m)=>{var{chartData:v,dataStartIndex:y,dataEndIndex:S}=c;if(!(f==null||o==null||e==null||l!=="horizontal"&&l!=="vertical"||n==null||r==null||i==null||s==null||u==null)){var{data:b}=f,_;if(b!=null&&b.length>0?_=b:_=v?.slice(y,S+1),_!=null)return Qhe({layout:l,barSettings:f,pos:o,parentViewBox:e,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,stackedData:h,displayedData:_,offset:t,cells:m,dataStartIndex:y})}}),eU=t=>{var{chartData:e}=t,n=ur(),r=zi();return N.useEffect(()=>r?()=>{}:(n(dF(e)),()=>{n(dF(void 0))}),[e,n,r]),null},tB={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},tU=ua({name:"brush",initialState:tB,reducers:{setBrushSettings(t,e){return e.payload==null?tB:e.payload}}}),{setBrushSettings:l0e}=tU.actions,Cfe=tU.reducer;function Mfe(t,e,n){return(e=Nfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nfe(t){var e=Tfe(t,"string");return typeof e=="symbol"?e:e+""}function Tfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class PT{static create(e){return new PT(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}Mfe(PT,"EPS",1e-4);function jfe(t){return(t%180+180)%180}var kfe=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=jfe(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Pfe={dots:[],areas:[],lines:[]},nU=ua({name:"referenceElements",initialState:Pfe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Oc(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Oc(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Oc(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:c0e,removeDot:u0e,addArea:d0e,removeArea:h0e,addLine:f0e,removeLine:p0e}=nU.actions,Rfe=nU.reducer,Ffe=N.createContext(void 0),Bfe=t=>{var{children:e}=t,[n]=N.useState("".concat(r0("recharts"),"-clip")),r=dw();if(r==null)return null;var{x:i,y:s,width:o,height:l}=r;return N.createElement(Ffe.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:s,height:l,width:o}))),e)};function Fm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function rU(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e)n.push(t[r]);return n}function Dfe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return kfe(r,n)}function Ife(t,e,n){var r=n==="width",{x:i,y:s,width:o,height:l}=t;return e===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function j1(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Lfe(t,e){return rU(t,e+1)}function Ofe(t,e,n,r,i){for(var s=(r||[]).slice(),{start:o,end:l}=e,c=0,u=1,h=o,f=function(){var y=r?.[c];if(y===void 0)return{v:rU(r,u)};var S=c,b,_=()=>(b===void 0&&(b=n(y,S)),b),E=y.coordinate,C=c===0||j1(t,E,_,h,l);C||(c=0,h=o,u+=1),C&&(h=E+t*(_()/2+i),c+=u)},m;u<=s.length;)if(m=f(),m)return m.v;return[]}function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ps(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){Ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ufe(t,e,n){return(e=zfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zfe(t){var e=Hfe(t,"string");return typeof e=="symbol"?e:e+""}function Hfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gfe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,{start:l}=e,{end:c}=e,u=function(m){var v=s[m],y,S=()=>(y===void 0&&(y=n(v,m)),y);if(m===o-1){var b=t*(v.coordinate+t*S()/2-c);s[m]=v=ps(ps({},v),{},{tickCoord:b>0?v.coordinate-b*t:v.coordinate})}else s[m]=v=ps(ps({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var _=j1(t,v.tickCoord,S,l,c);_&&(c=v.tickCoord-t*(S()/2+i),s[m]=ps(ps({},v),{},{isShow:!0}))}},h=o-1;h>=0;h--)u(h);return s}function Wfe(t,e,n,r,i,s){var o=(r||[]).slice(),l=o.length,{start:c,end:u}=e;if(s){var h=r[l-1],f=n(h,l-1),m=t*(h.coordinate+t*f/2-u);if(o[l-1]=h=ps(ps({},h),{},{tickCoord:m>0?h.coordinate-m*t:h.coordinate}),h.tickCoord!=null){var v=j1(t,h.tickCoord,()=>f,c,u);v&&(u=h.tickCoord-t*(f/2+i),o[l-1]=ps(ps({},h),{},{isShow:!0}))}}for(var y=s?l-1:l,S=function(E){var C=o[E],j,R=()=>(j===void 0&&(j=n(C,E)),j);if(E===0){var k=t*(C.coordinate-t*R()/2-c);o[E]=C=ps(ps({},C),{},{tickCoord:k<0?C.coordinate-k*t:C.coordinate})}else o[E]=C=ps(ps({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var D=j1(t,C.tickCoord,R,c,u);D&&(c=C.tickCoord+t*(R()/2+i),o[E]=ps(ps({},C),{},{isShow:!0}))}},b=0;b<y;b++)S(b);return o}function RT(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:h,angle:f}=t;if(!i||!i.length||!r)return[];if(ft(c)||au.isSsr){var m;return(m=Lfe(i,ft(c)?c:0))!==null&&m!==void 0?m:[]}var v=[],y=l==="top"||l==="bottom"?"width":"height",S=h&&y==="width"?Fx(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=(C,j)=>{var R=typeof u=="function"?u(C.value,j):C.value;return y==="width"?Dfe(Fx(R,{fontSize:e,letterSpacing:n}),S,f):Fx(R,{fontSize:e,letterSpacing:n})[y]},_=i.length>=2?Ui(i[1].coordinate-i[0].coordinate):1,E=Ife(s,_,y);return c==="equidistantPreserveStart"?Ofe(_,E,b,i,o):(c==="preserveStart"||c==="preserveStartEnd"?v=Wfe(_,E,b,i,o,c==="preserveStartEnd"):v=Gfe(_,E,b,i,o),v.filter(C=>C.isShow))}var Vfe=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,o=0;if(e){Array.from(e).forEach(h=>{if(h){var f=h.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,u=o+c+l+(n?r:0);return Math.round(u)}return 0},Kfe=["axisLine","width","height","className","hide","ticks","axisType"],Xfe=["viewBox"],Yfe=["viewBox"];function NC(t,e){if(t==null)return{};var n,r,i=Jfe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Jfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vf.apply(null,arguments)}function rB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(r){qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e,n){return(e=$fe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Qfe(t,"string");return typeof e=="symbol"?e:e+""}function Qfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:$r.axis};function Zfe(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var u=oi(oi(oi({},c),zs(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!o||s==="bottom"&&o);u=oi(oi({},u),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var f=+(s==="left"&&!o||s==="right"&&o);u=oi(oi({},u),{},{x1:e+f*r,y1:n,x2:e+f*r,y2:n+i})}return N.createElement("line",vf({},u,{className:Cn("recharts-cartesian-axis-line",ff(l,"className"))}))}function epe(t,e,n,r,i,s,o,l,c){var u,h,f,m,v,y,S=l?-1:1,b=t.tickSize||o,_=ft(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":u=h=t.coordinate,m=n+ +!l*i,f=m-S*b,y=f-S*c,v=_;break;case"left":f=m=t.coordinate,h=e+ +!l*r,u=h-S*b,v=u-S*c,y=_;break;case"right":f=m=t.coordinate,h=e+ +l*r,u=h+S*b,v=u+S*c,y=_;break;default:u=h=t.coordinate,m=n+ +l*i,f=m+S*b,y=f+S*c,v=_;break}return{line:{x1:u,y1:f,x2:h,y2:m},tick:{x:v,y}}}function tpe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function npe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function rpe(t){var{option:e,tickProps:n,value:r}=t,i,s=Cn(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))i=N.cloneElement(e,oi(oi({},n),{},{className:s}));else if(typeof e=="function")i=e(oi(oi({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Cn(o,e?.className)),i=N.createElement(sw,vf({},n,{className:o}),r)}return i}var ipe=N.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:h,mirror:f,x:m,y:v,width:y,height:S,tickSize:b,tickMargin:_,fontSize:E,letterSpacing:C,getTicksConfig:j,events:R,axisType:k}=t,D=RT(oi(oi({},j),{},{ticks:n}),E,C),O=tpe(h,f),I=npe(h,f),U=zs(j),K=hf(r),$={};typeof i=="object"&&($=i);var re=oi(oi({},U),{},{fill:"none"},$),Y=D.map(le=>oi({entry:le},epe(le,m,v,y,S,h,b,f,_))),se=Y.map(le=>{var{entry:H,line:q}=le;return N.createElement(Hr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},i&&N.createElement("line",vf({},re,q,{className:Cn("recharts-cartesian-axis-tick-line",ff(i,"className"))})))}),oe=Y.map((le,H)=>{var{entry:q,tick:Q}=le,V=oi(oi(oi(oi({textAnchor:O,verticalAnchor:I},U),{},{stroke:"none",fill:s},K),Q),{},{index:H,payload:q,visibleTicksCount:D.length,tickFormatter:o,padding:c},u);return N.createElement(Hr,vf({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},z0(R,q,H)),r&&N.createElement(rpe,{option:r,tickProps:V,value:"".concat(typeof o=="function"?o(q.value,H):q.value).concat(l||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},oe.length>0&&N.createElement(Hs,{zIndex:$r.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:e},oe)),se.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},se))}),spe=N.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:o,ticks:l,axisType:c}=t,u=NC(t,Kfe),[h,f]=N.useState(""),[m,v]=N.useState(""),y=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var b;return Vfe({ticks:y.current,label:(b=t.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var S=N.useCallback(b=>{if(b){var _=b.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=_;var E=_[0];if(E){var C=window.getComputedStyle(E),j=C.fontSize,R=C.letterSpacing;(j!==h||R!==m)&&(f(j),v(R))}}},[h,m]);return o||r!=null&&r<=0||i!=null&&i<=0?null:N.createElement(Hs,{zIndex:t.zIndex},N.createElement(Hr,{className:Cn("recharts-cartesian-axis",s)},N.createElement(Zfe,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:zs(t)}),N.createElement(ipe,{ref:S,axisType:c,events:u,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:m,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),N.createElement(eue,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},N.createElement(uue,{label:t.label,labelRef:t.labelRef}),t.children)))}),ape=N.memo(spe,(t,e)=>{var{viewBox:n}=t,r=NC(t,Xfe),{viewBox:i}=e,s=NC(e,Yfe);return Fm(n,i)&&Fm(r,s)}),BT=N.forwardRef((t,e)=>{var n=Gr(t,FT);return N.createElement(ape,vf({},n,{ref:e}))});BT.displayName="CartesianAxis";var ope=["x1","y1","x2","y2","key"],lpe=["offset"],cpe=["xAxisId","yAxisId"],upe=["xAxisId","yAxisId"];function iB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ms(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iB(Object(n),!0).forEach(function(r){dpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dpe(t,e,n){return(e=hpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hpe(t){var e=fpe(t,"string");return typeof e=="symbol"?e:e+""}function fpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(null,arguments)}function k1(t,e){if(t==null)return{};var n,r,i=ppe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ppe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mpe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:o,ry:l}=t;return N.createElement("rect",{x:r,y:i,ry:l,width:s,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function iU(t){var{option:e,lineItemProps:n}=t,r;if(N.isValidElement(e))r=N.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:s,y1:o,x2:l,y2:c,key:u}=n,h=k1(n,ope),f=(i=zs(h))!==null&&i!==void 0?i:{},{offset:m}=f,v=k1(f,lpe);r=N.createElement("line",Vh({},v,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return r}function gpe(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=t,l=k1(t,cpe),c=i.map((u,h)=>{var f=ms(ms({},l),{},{x1:e,y1:u,x2:e+n,y2:u,key:"line-".concat(h),index:h});return N.createElement(iU,{key:"line-".concat(h),option:r,lineItemProps:f})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function xpe(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=t,l=k1(t,upe),c=i.map((u,h)=>{var f=ms(ms({},l),{},{x1:u,y1:e,x2:u,y2:e+n,key:"line-".concat(h),index:h});return N.createElement(iU,{option:r,lineItemProps:f,key:"line-".concat(h)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function vpe(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=t;if(!c||!e||!e.length||l==null)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var h=u.map((f,m)=>{var v=!u[m+1],y=v?i+o-f:u[m+1]-f;if(y<=0)return null;var S=m%e.length;return N.createElement("rect",{key:"react-".concat(m),y:f,x:r,height:y,width:s,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ype(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:o,height:l,verticalPoints:c}=t;if(!e||!n||!n.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,m)=>f-m);i!==u[0]&&u.unshift(0);var h=u.map((f,m)=>{var v=!u[m+1],y=v?i+o-f:u[m+1]-f;if(y<=0)return null;var S=m%n.length;return N.createElement("rect",{key:"react-".concat(m),x:f,y:s,width:y,height:l,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var bpe=(t,e)=>{var{xAxis:n,width:r,height:i,offset:s}=t;return qL(RT(ms(ms(ms({},FT),n),{},{ticks:$L(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},wpe=(t,e)=>{var{yAxis:n,width:r,height:i,offset:s}=t;return qL(RT(ms(ms(ms({},FT),n),{},{ticks:$L(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},Spe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:$r.grid};function zc(t){var e=lN(),n=cN(),r=aO(),i=ms(ms({},Gr(t,Spe)),{},{x:ft(t.x)?t.x:r.left,y:ft(t.y)?t.y:r.top,width:ft(t.width)?t.width:r.width,height:ft(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:h,syncWithTicks:f,horizontalValues:m,verticalValues:v}=i,y=zi(),S=yt(I=>ZR(I,"xAxis",s,y)),b=yt(I=>ZR(I,"yAxis",o,y));if(!Rl(u)||!Rl(h)||!ft(l)||!ft(c))return null;var _=i.verticalCoordinatesGenerator||bpe,E=i.horizontalCoordinatesGenerator||wpe,{horizontalPoints:C,verticalPoints:j}=i;if((!C||!C.length)&&typeof E=="function"){var R=m&&m.length,k=E({yAxis:b?ms(ms({},b),{},{ticks:R?m:b.ticks}):void 0,width:e??u,height:n??h,offset:r},R?!0:f);i1(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(C=k)}if((!j||!j.length)&&typeof _=="function"){var D=v&&v.length,O=_({xAxis:S?ms(ms({},S),{},{ticks:D?v:S.ticks}):void 0,width:e??u,height:n??h,offset:r},D?!0:f);i1(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(j=O)}return N.createElement(Hs,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(mpe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(vpe,Vh({},i,{horizontalPoints:C})),N.createElement(ype,Vh({},i,{verticalPoints:j})),N.createElement(gpe,Vh({},i,{offset:r,horizontalPoints:C,xAxis:S,yAxis:b})),N.createElement(xpe,Vh({},i,{offset:r,verticalPoints:j,xAxis:S,yAxis:b}))))}zc.displayName="CartesianGrid";var sU=(t,e,n,r)=>Dl(t,"xAxis",e,r),aU=(t,e,n,r)=>Bl(t,"xAxis",e,r),oU=(t,e,n,r)=>Dl(t,"yAxis",n,r),lU=(t,e,n,r)=>Bl(t,"yAxis",n,r),_pe=Ee([mn,sU,oU,aU,lU],(t,e,n,r,i)=>Ul(t,"xAxis")?wd(e,r,!1):wd(n,i,!1)),Ape=(t,e,n,r,i)=>i;function Epe(t){return t.type==="line"}var Cpe=Ee([Z0,Ape],(t,e)=>t.filter(Epe).find(n=>n.id===e)),Mpe=Ee([mn,sU,oU,aU,lU,Cpe,_pe,J0],(t,e,n,r,i,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:h}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:f,data:m}=s,v;if(m!=null&&m.length>0?v=m:v=c?.slice(u,h+1),v!=null)return Xpe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:o,displayedData:v})}});function cU(t){var e=hf(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,o=Number(i),l=Number(s);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(l)||l<0)&&(l=r),{r:o,strokeWidth:l}}return{r:n,strokeWidth:r}}var Npe=["id"],Tpe=["type","layout","connectNulls","needClip","shape"],jpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function m0(){return m0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m0.apply(null,arguments)}function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kpe(t,e,n){return(e=Ppe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ppe(t){var e=Rpe(t,"string");return typeof e=="symbol"?e:e+""}function Rpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DT(t,e){if(t==null)return{};var n,r,i=Fpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bpe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Md(n,e),payload:t}]};function Dpe(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Md(o,e),hide:l,type:t.tooltipType,color:t.stroke,unit:c}}}var uU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ipe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Lpe=(t,e,n)=>{var r=n.reduce((f,m)=>f+m);if(!r)return uU(e,t);for(var i=Math.floor(t/r),s=t%r,o=e-t,l=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>s){l=[...n.slice(0,c),s-u];break}var h=l.length%2===0?[0,o]:[o];return[...Ipe(n,i),...l,...h].map(f=>"".concat(f,"px")).join(", ")};function Ope(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:o}=r,{id:l}=r,c=DT(r,Npe),u=zs(c);return N.createElement(Y6,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:u,needClip:o,clipPathId:e})}function Upe(t){var{showLabels:e,children:n,points:r}=t,i=N.useMemo(()=>r?.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return bl(bl({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return N.createElement(vT,{value:e?i:void 0},n)}function aB(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:o,layout:l,connectNulls:c,needClip:u,shape:h}=s,f=DT(s,Tpe),m=bl(bl({},bs(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return N.createElement(N.Fragment,null,r?.length>1&&N.createElement(_T,m0({shapeType:"curve",option:h},m,{pathRef:n})),N.createElement(Ope,{points:r,clipPathId:e,props:s}))}function zpe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Hpe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:h,animationEasing:f,animateNewValues:m,width:v,height:y,onAnimationEnd:S,onAnimationStart:b}=n,_=i.current,E=Xm(n,"recharts-line-"),[C,j]=N.useState(!1),R=!C,k=N.useCallback(()=>{typeof S=="function"&&S(),j(!1)},[S]),D=N.useCallback(()=>{typeof b=="function"&&b(),j(!0)},[b]),O=zpe(r.current),I=s.current;return N.createElement(Upe,{points:o,showLabels:R},n.children,N.createElement(Km,{animationId:E,begin:u,duration:h,isActive:c,easing:f,onAnimationEnd:k,onAnimationStart:D,key:E},U=>{var K=Dn(I,O+I,U),$=Math.min(K,O),re;if(c)if(l){var Y="".concat(l).split(/[,\s]+/gim).map(le=>parseFloat(le));re=Lpe($,O,Y)}else re=uU(O,$);else re=l==null?void 0:String(l);if(_){var se=_.length/o.length,oe=U===1?o:o.map((le,H)=>{var q=Math.floor(H*se);if(_[q]){var Q=_[q];return bl(bl({},le),{},{x:Dn(Q.x,le.x,U),y:Dn(Q.y,le.y,U)})}return m?bl(bl({},le),{},{x:Dn(v*2,le.x,U),y:Dn(y/2,le.y,U)}):bl(bl({},le),{},{x:le.x,y:le.y})});return i.current=oe,N.createElement(aB,{props:n,points:oe,clipPathId:e,pathRef:r,strokeDasharray:re})}return U>0&&O>0&&(i.current=o,s.current=$),N.createElement(aB,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:re})}),N.createElement(aw,{label:n.label}))}function Gpe(t){var{clipPathId:e,props:n}=t,r=N.useRef(null),i=N.useRef(0),s=N.useRef(null);return N.createElement(Hpe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Wpe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Qn(t.payload,e)}};class Vpe extends N.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:h,id:f,needClip:m,zIndex:v}=this.props;if(e)return null;var y=Cn("recharts-line",i),S=f,{r:b,strokeWidth:_}=cU(n),E=ST(n),C=b*2+_;return N.createElement(Hs,{zIndex:v},N.createElement(Hr,{className:y},m&&N.createElement("defs",null,N.createElement(kT,{clipPathId:S,xAxisId:s,yAxisId:o}),!E&&N.createElement("clipPath",{id:"clipPath-dots-".concat(S)},N.createElement("rect",{x:c-C/2,y:l-C/2,width:u+C,height:h+C}))),N.createElement($6,{xAxisId:s,yAxisId:o,data:r,dataPointFormatter:Wpe,errorBarOffset:0},N.createElement(Gpe,{props:this.props,clipPathId:S}))),N.createElement(CC,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var dU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!au.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:$r.line};function Kpe(t){var e=Gr(t,dU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:h,label:f,legendType:m,xAxisId:v,yAxisId:y,id:S}=e,b=DT(e,jpe),{needClip:_}=hw(v,y),E=dw(),C=Vm(),j=zi(),R=yt(U=>Mpe(U,v,y,j,S));if(C!=="horizontal"&&C!=="vertical"||R==null||E==null)return null;var{height:k,width:D,x:O,y:I}=E;return N.createElement(Vpe,m0({},b,{id:S,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:h,hide:u,label:f,legendType:m,xAxisId:v,yAxisId:y,points:R,layout:C,height:k,width:D,left:O,top:I,needClip:_}))}function Xpe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:o,bandSize:l,displayedData:c}=t;return c.map((u,h)=>{var f=Qn(u,o);if(e==="horizontal"){var m=r1({axis:n,ticks:i,bandSize:l,entry:u,index:h}),v=xr(f)?null:r.scale(f);return{x:m,y:v,value:f,payload:u}}var y=xr(f)?null:n.scale(f),S=r1({axis:r,ticks:s,bandSize:l,entry:u,index:h});return y==null||S==null?null:{x:y,y:S,value:f,payload:u}}).filter(Boolean)}function Ype(t){var e=Gr(t,dU),n=zi();return N.createElement(uw,{id:e.id,type:"line"},r=>N.createElement(N.Fragment,null,N.createElement(MT,{legendPayload:Bpe(e)}),N.createElement(cw,{fn:Dpe,args:e}),N.createElement(NT,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),N.createElement(Kpe,m0({},e,{id:r}))))}var um=N.memo(Ype);um.displayName="Line";var hU=(t,e,n,r)=>Dl(t,"xAxis",e,r),fU=(t,e,n,r)=>Bl(t,"xAxis",e,r),pU=(t,e,n,r)=>Dl(t,"yAxis",n,r),mU=(t,e,n,r)=>Bl(t,"yAxis",n,r),Jpe=Ee([mn,hU,pU,fU,mU],(t,e,n,r,i)=>Ul(t,"xAxis")?wd(e,r,!1):wd(n,i,!1)),qpe=(t,e,n,r,i)=>i,gU=Ee([Z0,qpe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),$pe=(t,e,n,r,i)=>{var s,o=gU(t,e,n,r,i);if(o!=null){var l=mn(t),c=Ul(l,"xAxis"),u;if(c?u=f0(t,"yAxis",n,r):u=f0(t,"xAxis",e,r),u!=null){var{stackId:h}=o,f=J2(o);if(!(h==null||f==null)){var m=(s=u[h])===null||s===void 0?void 0:s.stackedData;return m?.find(v=>v.key===f)}}}},Qpe=Ee([mn,hU,pU,fU,mU,$pe,J0,Jpe,gU,hae],(t,e,n,r,i,s,o,l,c,u)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=o;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:v}=c,y;if(v&&v.length>0?y=v:y=h?.slice(f,m+1),y!=null)return xme({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:f,areaSettings:c,stackedData:s,displayedData:y,chartBaseValue:u,bandSize:l})}}),Zpe=["id"],eme=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(null,arguments)}function xU(t,e){if(t==null)return{};var n,r,i=tme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){nme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nme(t,e,n){return(e=rme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rme(t){var e=ime(t,"string");return typeof e=="symbol"?e:e+""}function ime(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P1(t,e){return t&&t!=="none"?t:e}var sme=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:o}=t;return[{inactive:o,dataKey:e,type:s,color:P1(r,i),value:Md(n,e),payload:t}]};function ame(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:o,hide:l,unit:c}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Md(o,e),hide:l,type:t.tooltipType,color:P1(r,s),unit:c}}}function ome(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:o}=r,l=zs(r);return N.createElement(Y6,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:l,needClip:i,clipPathId:e})}function lme(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var o,l,c={x:(o=s.x)!==null&&o!==void 0?o:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return dm(dm({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return N.createElement(vT,{value:e?i:void 0},n)}function lB(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:o,type:l,stroke:c,connectNulls:u,isRange:h}=s,{id:f}=s,m=xU(s,Zpe),v=zs(m),y=bs(m);return N.createElement(N.Fragment,null,e?.length>1&&N.createElement(Hr,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(gm,nf({},y,{id:f,points:e,connectNulls:u,type:l,baseLine:n,layout:o,stroke:"none",className:"recharts-area-area"})),c!=="none"&&N.createElement(gm,nf({},v,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:e})),c!=="none"&&h&&N.createElement(gm,nf({},v,{className:"recharts-area-curve",layout:o,type:l,connectNulls:u,fill:"none",points:n}))),N.createElement(ome,{points:e,props:m,clipPathId:i}))}function cme(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,s=r[0].y,o=r[r.length-1].y;if(!vr(s)||!vr(o))return null;var l=e*Math.abs(s-o),c=Math.max(...r.map(u=>u.x||0));return ft(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.x||0),c)),ft(c)?N.createElement("rect",{x:0,y:s<o?s:s-l,width:c+(i?parseInt("".concat(i),10):1),height:Math.floor(l)}):null}function ume(t){var{alpha:e,baseLine:n,points:r,strokeWidth:i}=t,s=r[0].x,o=r[r.length-1].x;if(!vr(s)||!vr(o))return null;var l=e*Math.abs(s-o),c=Math.max(...r.map(u=>u.y||0));return ft(n)?c=Math.max(n,c):n&&Array.isArray(n)&&n.length&&(c=Math.max(...n.map(u=>u.y||0),c)),ft(c)?N.createElement("rect",{x:s<o?s:s-l,y:0,width:l,height:Math.floor(c+(i?parseInt("".concat(i),10):1))}):null}function dme(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?N.createElement(cme,{alpha:e,points:r,baseLine:i,strokeWidth:s}):N.createElement(ume,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function hme(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:o,baseLine:l,isAnimationActive:c,animationBegin:u,animationDuration:h,animationEasing:f,onAnimationStart:m,onAnimationEnd:v}=r,y=Xm(r,"recharts-area-"),[S,b]=N.useState(!1),_=!S,E=N.useCallback(()=>{typeof v=="function"&&v(),b(!1)},[v]),C=N.useCallback(()=>{typeof m=="function"&&m(),b(!0)},[m]),j=i.current,R=s.current;return N.createElement(lme,{showLabels:_,points:o},r.children,N.createElement(Km,{animationId:y,begin:u,duration:h,isActive:c,easing:f,onAnimationEnd:E,onAnimationStart:C,key:y},k=>{if(j){var D=j.length/o.length,O=k===1?o:o.map((U,K)=>{var $=Math.floor(K*D);if(j[$]){var re=j[$];return dm(dm({},U),{},{x:Dn(re.x,U.x,k),y:Dn(re.y,U.y,k)})}return U}),I;return ft(l)?I=Dn(R,l,k):xr(l)||ro(l)?I=Dn(R,0,k):I=l.map((U,K)=>{var $=Math.floor(K*D);if(Array.isArray(R)&&R[$]){var re=R[$];return dm(dm({},U),{},{x:Dn(re.x,U.x,k),y:Dn(re.y,U.y,k)})}return U}),k>0&&(i.current=O,s.current=I),N.createElement(lB,{points:O,baseLine:I,needClip:e,clipPathId:n,props:r})}return k>0&&(i.current=o,s.current=l),N.createElement(Hr,null,c&&N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(dme,{alpha:k,points:o,baseLine:l,layout:r.layout,strokeWidth:r.strokeWidth}))),N.createElement(Hr,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(lB,{points:o,baseLine:l,needClip:e,clipPathId:n,props:r})))}),N.createElement(aw,{label:r.label}))}function fme(t){var{needClip:e,clipPathId:n,props:r}=t,i=N.useRef(null),s=N.useRef();return N.createElement(hme,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class pme extends N.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:o,needClip:l,xAxisId:c,yAxisId:u,width:h,height:f,id:m,baseLine:v,zIndex:y}=this.props;if(e)return null;var S=Cn("recharts-area",i),b=m,{r:_,strokeWidth:E}=cU(n),C=ST(n),j=_*2+E;return N.createElement(Hs,{zIndex:y},N.createElement(Hr,{className:S},l&&N.createElement("defs",null,N.createElement(kT,{clipPathId:b,xAxisId:c,yAxisId:u}),!C&&N.createElement("clipPath",{id:"clipPath-dots-".concat(b)},N.createElement("rect",{x:o-j/2,y:s-j/2,width:h+j,height:f+j}))),N.createElement(fme,{needClip:l,clipPathId:b,props:this.props})),N.createElement(CC,{points:r,mainColor:P1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(v)&&N.createElement(CC,{points:v,mainColor:P1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var vU={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!au.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0,zIndex:$r.area};function mme(t){var e,n=Gr(t,vU),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,fill:u,fillOpacity:h,hide:f,isAnimationActive:m,legendType:v,stroke:y,xAxisId:S,yAxisId:b}=n,_=xU(n,eme),E=Vm(),C=y6(),{needClip:j}=hw(S,b),R=zi(),{points:k,isRange:D,baseLine:O}=(e=yt(Y=>Qpe(Y,S,b,R,t.id)))!==null&&e!==void 0?e:{},I=dw();if(E!=="horizontal"&&E!=="vertical"||I==null||C!=="AreaChart"&&C!=="ComposedChart")return null;var{height:U,width:K,x:$,y:re}=I;return!k||!k.length?null:N.createElement(pme,nf({},_,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:o,baseLine:O,connectNulls:l,dot:c,fill:u,fillOpacity:h,height:U,hide:f,layout:E,isAnimationActive:m,isRange:D,legendType:v,needClip:j,points:k,stroke:y,width:K,left:$,top:re,xAxisId:S,yAxisId:b}))}var gme=(t,e,n,r,i)=>{var s=n??e;if(ft(s))return s;var o=t==="horizontal"?i:r,l=o.scale.domain();if(o.type==="number"){var c=Math.max(l[0],l[1]),u=Math.min(l[0],l[1]);return s==="dataMin"?u:s==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function xme(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:o,xAxis:l,yAxis:c,displayedData:u,dataStartIndex:h,xAxisTicks:f,yAxisTicks:m,bandSize:v}=t,y=i&&i.length,S=gme(s,o,n,l,c),b=s==="horizontal",_=!1,E=u.map((j,R)=>{var k;y?k=i[h+R]:(k=Qn(j,r),Array.isArray(k)?_=!0:k=[S,k]);var D=k[1]==null||y&&!e&&Qn(j,r)==null;return b?{x:r1({axis:l,ticks:f,bandSize:v,entry:j,index:R}),y:D?null:c.scale(k[1]),value:k,payload:j}:{x:D?null:l.scale(k[1]),y:r1({axis:c,ticks:m,bandSize:v,entry:j,index:R}),value:k,payload:j}}),C;return y||_?C=E.map(j=>{var R=Array.isArray(j.value)?j.value[0]:null;return b?{x:j.x,y:R!=null&&j.y!=null?c.scale(R):null,payload:j.payload}:{x:R!=null?l.scale(R):null,y:j.y,payload:j.payload}}):C=b?c.scale(S):l.scale(S),{points:E,baseLine:C,isRange:_}}function vme(t){var e=Gr(t,vU),n=zi();return N.createElement(uw,{id:e.id,type:"area"},r=>N.createElement(N.Fragment,null,N.createElement(MT,{legendPayload:sme(e)}),N.createElement(cw,{fn:ame,args:e}),N.createElement(NT,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:QL(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),N.createElement(mme,nf({},e,{id:r}))))}var Bx=N.memo(vme);Bx.displayName="Area";var yme=["dangerouslySetInnerHTML","ticks"],bme=["id"],wme=["domain"],Sme=["domain"];function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TC.apply(null,arguments)}function R1(t,e){if(t==null)return{};var n,r,i=_me(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _me(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ame(t){var e=ur();return N.useLayoutEffect(()=>(e(ehe(t)),()=>{e(the(t))}),[t,e]),null}var Eme=t=>{var{xAxisId:e,className:n}=t,r=yt(aN),i=zi(),s="xAxis",o=yt(b=>eg(b,s,e,i)),l=yt(b=>J8(b,s,e,i)),c=yt(b=>V8(b,e)),u=yt(b=>coe(b,e)),h=yt(b=>E8(b,e));if(c==null||u==null||h==null)return null;var{dangerouslySetInnerHTML:f,ticks:m}=t,v=R1(t,yme),{id:y}=h,S=R1(h,bme);return N.createElement(BT,TC({},v,S,{scale:o,x:u.x,y:u.y,width:c.width,height:c.height,className:Cn("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:l,axisType:s}))},Cme={allowDataOverflow:Ea.allowDataOverflow,allowDecimals:Ea.allowDecimals,allowDuplicatedCategory:Ea.allowDuplicatedCategory,height:Ea.height,hide:!1,mirror:Ea.mirror,orientation:Ea.orientation,padding:Ea.padding,reversed:Ea.reversed,scale:Ea.scale,tickCount:Ea.tickCount,type:Ea.type,xAxisId:0},Mme=t=>{var e,n,r,i,s,o=Gr(t,Cme);return N.createElement(N.Fragment,null,N.createElement(Ame,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(s=o.tick)!==null&&s!==void 0?s:!0,tickFormatter:o.tickFormatter}),N.createElement(Eme,o))},Nme=(t,e)=>{var{domain:n}=t,r=R1(t,wme),{domain:i}=e,s=R1(e,Sme);return Fm(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Fm({domain:n},{domain:i}):!1},Hc=N.memo(Mme,Nme);Hc.displayName="XAxis";var Tme=["dangerouslySetInnerHTML","ticks"],jme=["id"],kme=["domain"],Pme=["domain"];function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jC.apply(null,arguments)}function F1(t,e){if(t==null)return{};var n,r,i=Rme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Fme(t){var e=ur();return N.useLayoutEffect(()=>(e(nhe(t)),()=>{e(rhe(t))}),[t,e]),null}var Bme=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,s=N.useRef(null),o=N.useRef(null),l=yt(aN),c=zi(),u=ur(),h="yAxis",f=yt(R=>eg(R,h,e,c)),m=yt(R=>K8(R,e)),v=yt(R=>doe(R,e)),y=yt(R=>J8(R,h,e,c)),S=yt(R=>C8(R,e));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!m||xT(i)||N.isValidElement(i)||S==null)){var R=s.current;if(R){var k=R.getCalculatedWidth();Math.round(m.width)!==Math.round(k)&&u(ihe({id:e,width:k}))}}},[y,m,u,i,e,r,S]),m==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:b,ticks:_}=t,E=F1(t,Tme),{id:C}=S,j=F1(S,jme);return N.createElement(BT,jC({},E,j,{ref:s,labelRef:o,scale:f,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Cn("recharts-".concat(h," ").concat(h),n),viewBox:l,ticks:y,axisType:h}))},Dme={allowDataOverflow:Ca.allowDataOverflow,allowDecimals:Ca.allowDecimals,allowDuplicatedCategory:Ca.allowDuplicatedCategory,hide:!1,mirror:Ca.mirror,orientation:Ca.orientation,padding:Ca.padding,reversed:Ca.reversed,scale:Ca.scale,tickCount:Ca.tickCount,type:Ca.type,width:Ca.width,yAxisId:0},Ime=t=>{var e,n,r,i,s,o=Gr(t,Dme);return N.createElement(N.Fragment,null,N.createElement(Fme,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(s=o.tick)!==null&&s!==void 0?s:!0,tickFormatter:o.tickFormatter}),N.createElement(Bme,o))},Lme=(t,e)=>{var{domain:n}=t,r=F1(t,kme),{domain:i}=e,s=F1(e,Pme);return Fm(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Fm({domain:n},{domain:i}):!1},Gc=N.memo(Ime,Lme);Gc.displayName="YAxis";var RA={exports:{}},FA={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cB;function Ome(){if(cB)return FA;cB=1;var t=bf();function e(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,o=t.useMemo,l=t.useDebugValue;return FA.useSyncExternalStoreWithSelector=function(c,u,h,f,m){var v=i(null);if(v.current===null){var y={hasValue:!1,value:null};v.current=y}else y=v.current;v=o(function(){function b(R){if(!_){if(_=!0,E=R,R=f(R),m!==void 0&&y.hasValue){var k=y.value;if(m(k,R))return C=k}return C=R}if(k=C,n(E,R))return k;var D=f(R);return m!==void 0&&m(k,D)?(E=R,k):(E=R,C=D)}var _=!1,E,C,j=h===void 0?null:h;return[function(){return b(u())},j===null?void 0:function(){return b(j())}]},[u,h,f,m]);var S=r(c,v[0],v[1]);return s(function(){y.hasValue=!0,y.value=S},[S]),l(S),S},FA}var uB;function Ume(){return uB||(uB=1,RA.exports=Ome()),RA.exports}Ume();function zme(t){t()}function Hme(){let t=null,e=null;return{clear(){t=null,e=null},notify(){zme(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var dB={notify(){},get:()=>[]};function Gme(t,e){let n,r=dB,i=0,s=!1;function o(S){h();const b=r.subscribe(S);let _=!1;return()=>{_||(_=!0,b(),f())}}function l(){r.notify()}function c(){y.onStateChange&&y.onStateChange()}function u(){return s}function h(){i++,n||(n=t.subscribe(c),r=Hme())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=dB)}function m(){s||(s=!0,h())}function v(){s&&(s=!1,f())}const y={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:v,getListeners:()=>r};return y}var Wme=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vme=Wme(),Kme=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Xme=Kme(),Yme=()=>Vme||Xme?N.useLayoutEffect:N.useEffect,Jme=Yme(),qme=Symbol.for("react-redux-context"),$me=typeof globalThis<"u"?globalThis:{};function Qme(){if(!N.createContext)return{};const t=$me[qme]??=new Map;let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var Zme=Qme();function ege(t){const{children:e,context:n,serverState:r,store:i}=t,s=N.useMemo(()=>{const c=Gme(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),o=N.useMemo(()=>i.getState(),[i]);Jme(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,o]);const l=n||Zme;return N.createElement(l.Provider,{value:s},e)}var tge=ege,nge=(t,e)=>e,IT=Ee([nge,mn,_8,Ti,h6,uu,wle,Mi],Nle),LT=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},yU=io("mouseClick"),bU=G0();bU.startListening({actionCreator:yU,effect:(t,e)=>{var n=t.payload,r=IT(e.getState(),LT(n));r?.activeIndex!=null&&e.dispatch(Aoe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var kC=io("mouseMove"),wU=G0();wU.startListening({actionCreator:kC,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=lT(r,r.tooltip.settings.shared),s=IT(r,LT(n));i==="axis"&&(s?.activeIndex!=null?e.dispatch(r6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(n6()))}});var hB={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0},SU=ua({name:"rootProps",initialState:hB,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:hB.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue}}}),rge=SU.reducer,{updateOptions:ige}=SU.actions,_U=ua({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:sge}=_U.actions,age=_U.reducer,AU=io("keyDown"),EU=io("focus"),OT=G0();OT.startListening({actionCreator:AU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Number(cT(i,ng(n))),l=uu(n);if(s==="Enter"){var c=_1(n,"axis","hover",String(i.index));e.dispatch(bC({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=moe(n),h=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,m=o+f*h;if(!(l==null||m>=l.length||m<0)){var v=_1(n,"axis","hover",String(m));e.dispatch(bC({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});OT.startListening({actionCreator:EU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=_1(n,"axis","hover",String(s));e.dispatch(bC({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var $a=io("externalEvent"),CU=G0();CU.startListening({actionCreator:$a,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:ale(n),activeDataKey:g6(n),activeIndex:Sd(n),activeLabel:m6(n),activeTooltipIndex:Sd(n),isTooltipActive:ole(n)};t.payload.handler(r,t.payload.reactEvent)}}});var oge=Ee([tg],t=>t.tooltipItemPayloads),lge=Ee([oge,nv,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(l=>l.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=e(s,n);return o}}}),MU=io("touchMove"),NU=G0();NU.startListening({actionCreator:MU,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=lT(r,r.tooltip.settings.shared);if(i==="axis"){var s=IT(r,LT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(r6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(eO),h=(o=c.getAttribute(tO))!==null&&o!==void 0?o:void 0,f=lge(e.getState(),u,h);e.dispatch(t6({activeDataKey:h,activeIndex:u,activeCoordinate:f}))}}}});var cge=AL({brush:Cfe,cartesianAxis:she,chartData:sce,errorBars:Ahe,graphicalItems:gde,layout:Yee,legend:Wte,options:ece,polarAxis:kue,polarOptions:age,referenceElements:Rfe,rootProps:rge,tooltip:Eoe,zIndex:Hle}),uge=function(e){return yee({reducer:cge,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([bU.middleware,wU.middleware,OT.middleware,CU.middleware,NU.middleware]),enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(DL({type:"raf"}))},devTools:au.devToolsEnabled})};function TU(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=zi(),s=N.useRef(null);if(i)return n;s.current==null&&(s.current=uge(e));var o=eN;return N.createElement(tge,{context:o,store:s.current},n)}function jU(t){var{layout:e,margin:n}=t,r=ur(),i=zi();return N.useEffect(()=>{i||(r(Vee(e)),r(Wee(n)))},[r,i,e,n]),null}function kU(t){var e=ur();return N.useEffect(()=>{e(ige(t))},[e,t]),null}function fB(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=K6("".concat(r).concat(e)),s=ur();return N.useLayoutEffect(()=>(s(Ule({zIndex:e,elementId:i,isPanorama:n})),()=>{s(zle({zIndex:e,isPanorama:n}))}),[s,e,i,n]),N.createElement("g",{id:i})}function pB(t){var{children:e,isPanorama:n}=t,r=yt(jle);if(!r||r.length===0)return e;var i=r.filter(o=>o<0),s=r.filter(o=>o>0);return N.createElement(N.Fragment,null,i.map(o=>N.createElement(fB,{key:o,zIndex:o,isPanorama:n})),e,s.map(o=>N.createElement(fB,{key:o,zIndex:o,isPanorama:n})))}var dge=["children"];function hge(t,e){if(t==null)return{};var n,r,i=fge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}var pge={width:"100%",height:"100%",display:"block"},mge=N.forwardRef((t,e)=>{var n=lN(),r=cN(),i=uO();if(!Rl(n)||!Rl(r))return null;var{children:s,otherAttributes:o,title:l,desc:c}=t,u,h;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?h=o.role:h=i?"application":void 0),N.createElement(GM,B1({},o,{title:l,desc:c,role:h,tabIndex:u,width:n,height:r,style:pge,ref:e}),s)}),gge=t=>{var{children:e}=t,n=yt(I2);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return N.createElement(GM,{width:r,height:i,x:o,y:s},e)},mB=N.forwardRef((t,e)=>{var{children:n}=t,r=hge(t,dge),i=zi();return i?N.createElement(gge,null,N.createElement(pB,{isPanorama:!0},n)):N.createElement(mge,B1({ref:e},r),N.createElement(pB,{isPanorama:!1},n))});function xge(){var t=ur(),[e,n]=N.useState(null),r=yt(dte);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;vr(s)&&s!==r&&t(Xee(s))}},[e,t,r]),n}function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yge(t,e,n){return(e=bge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bge(t){var e=wge(t,"string");return typeof e=="symbol"?e:e+""}function wge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yf.apply(null,arguments)}var Sge=()=>(pce(),null);function D1(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var _ge=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[s,o]=N.useState({containerWidth:D1((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:D1((r=t.style)===null||r===void 0?void 0:r.height)}),l=N.useCallback((u,h)=>{o(f=>{var m=Math.round(u),v=Math.round(h);return f.containerWidth===m&&f.containerHeight===v?f:{containerWidth:m,containerHeight:v}})},[]),c=N.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:h,height:f}=u.getBoundingClientRect();l(h,f);var m=y=>{var{width:S,height:b}=y[0].contentRect;l(S,b)},v=new ResizeObserver(m);v.observe(u),i.current=v}},[e,l]);return N.useEffect(()=>()=>{var u=i.current;u?.disconnect()},[l]),N.createElement(N.Fragment,null,N.createElement(O2,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",yf({ref:c},t)))}),Age=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=N.useState({containerWidth:D1(n),containerHeight:D1(r)}),o=N.useCallback((c,u)=>{s(h=>{var f=Math.round(c),m=Math.round(u);return h.containerWidth===f&&h.containerHeight===m?h:{containerWidth:f,containerHeight:m}})},[]),l=N.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:u,height:h}=c.getBoundingClientRect();o(u,h)}},[e,o]);return N.createElement(N.Fragment,null,N.createElement(O2,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",yf({ref:l},t)))}),Ege=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(O2,{width:n,height:r}),N.createElement("div",yf({ref:e},t)))}),Cge=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return qc(n)||qc(r)?N.createElement(Age,yf({},t,{ref:e})):N.createElement(Ege,yf({},t,{ref:e}))});function Mge(t){return t===!0?_ge:Cge}var Nge=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:h,onMouseMove:f,onMouseUp:m,onTouchEnd:v,onTouchMove:y,onTouchStart:S,style:b,width:_,responsive:E,dispatchTouchEvents:C=!0}=t,j=N.useRef(null),R=ur(),[k,D]=N.useState(null),[O,I]=N.useState(null),U=xge(),K=oN(),$=K?.width>0?K.width:_,re=K?.height>0?K.height:i,Y=N.useCallback(X=>{U(X),typeof e=="function"&&e(X),D(X),I(X),X!=null&&(j.current=X)},[U,e,D,I]),se=N.useCallback(X=>{R(yU(X)),R($a({handler:s,reactEvent:X}))},[R,s]),oe=N.useCallback(X=>{R(kC(X)),R($a({handler:u,reactEvent:X}))},[R,u]),le=N.useCallback(X=>{R(n6()),R($a({handler:h,reactEvent:X}))},[R,h]),H=N.useCallback(X=>{R(kC(X)),R($a({handler:f,reactEvent:X}))},[R,f]),q=N.useCallback(()=>{R(EU())},[R]),Q=N.useCallback(X=>{R(AU(X.key))},[R]),V=N.useCallback(X=>{R($a({handler:o,reactEvent:X}))},[R,o]),ee=N.useCallback(X=>{R($a({handler:l,reactEvent:X}))},[R,l]),ce=N.useCallback(X=>{R($a({handler:c,reactEvent:X}))},[R,c]),ne=N.useCallback(X=>{R($a({handler:m,reactEvent:X}))},[R,m]),be=N.useCallback(X=>{R($a({handler:S,reactEvent:X}))},[R,S]),Ae=N.useCallback(X=>{C&&R(MU(X)),R($a({handler:y,reactEvent:X}))},[R,C,y]),Se=N.useCallback(X=>{R($a({handler:v,reactEvent:X}))},[R,v]),pe=Mge(E);return N.createElement(E6.Provider,{value:k},N.createElement(U4.Provider,{value:O},N.createElement(pe,{width:$??b?.width,height:re??b?.height,className:Cn("recharts-wrapper",r),style:vge({position:"relative",cursor:"default",width:$,height:re},b),onClick:se,onContextMenu:V,onDoubleClick:ee,onFocus:q,onKeyDown:Q,onMouseDown:ce,onMouseEnter:oe,onMouseLeave:le,onMouseMove:H,onMouseUp:ne,onTouchEnd:Se,onTouchMove:Ae,onTouchStart:be,ref:Y},N.createElement(Sge,null),n)))}),Tge=["width","height","responsive","children","className","style","compact","title","desc"];function jge(t,e){if(t==null)return{};var n,r,i=kge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var PU=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:o,style:l,compact:c,title:u,desc:h}=t,f=jge(t,Tge),m=zs(f);return c?N.createElement(N.Fragment,null,N.createElement(O2,{width:n,height:r}),N.createElement(mB,{otherAttributes:m,title:u,desc:h},s)):N.createElement(Nge,{className:o,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(mB,{otherAttributes:m,title:u,desc:h,ref:e},N.createElement(Bfe,null,s)))});function PC(){return PC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PC.apply(null,arguments)}var Pge={top:5,right:5,bottom:5,left:5},Rge={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Pge,reverseStackOrder:!1,syncMethod:"index",responsive:!1},UT=N.forwardRef(function(e,n){var r,i=Gr(e.categoricalChartProps,Rge),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:u}=e,h={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return N.createElement(TU,{preloadedState:{options:h},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:s},N.createElement(eU,{chartData:u.data}),N.createElement(jU,{layout:i.layout,margin:i.margin}),N.createElement(kU,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(PU,PC({},i,{ref:n})))}),Fge=["axis"],RU=N.forwardRef((t,e)=>N.createElement(UT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Fge,tooltipPayloadSearcher:iw,categoricalChartProps:t,ref:e})),Bge=["axis","item"],zT=N.forwardRef((t,e)=>N.createElement(UT,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bge,tooltipPayloadSearcher:iw,categoricalChartProps:t,ref:e}));function Dge(t){var e=ur();return N.useEffect(()=>{e(sge(t))},[e,t]),null}var Ige=["layout"];function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RC.apply(null,arguments)}function Lge(t,e){if(t==null)return{};var n,r,i=Oge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Uge={top:5,right:5,bottom:5,left:5},zge={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Uge,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Hge=N.forwardRef(function(e,n){var r,i=Gr(e.categoricalChartProps,zge),{layout:s}=i,o=Lge(i,Ige),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:h}=e,f={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:h,eventEmitter:void 0};return N.createElement(TU,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:l},N.createElement(eU,{chartData:i.data}),N.createElement(jU,{layout:s,margin:i.margin}),N.createElement(kU,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(Dge,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(PU,RC({},o,{ref:n})))}),Gge=["item"],Wge={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},FU=N.forwardRef((t,e)=>{var n=Gr(t,Wge);return N.createElement(Hge,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Gge,tooltipPayloadSearcher:iw,categoricalChartProps:n,ref:e})}),Vge=["axis"],Nb=N.forwardRef((t,e)=>N.createElement(UT,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Vge,tooltipPayloadSearcher:iw,categoricalChartProps:t,ref:e}));function Kge({isOpen:t,onClose:e,disease:n}){return n?a.jsx(pn,{open:t,onOpenChange:e,children:a.jsxs(hn,{className:"max-w-2xl",style:{backgroundColor:"white"},children:[a.jsx(gr,{children:a.jsx(cr,{className:"text-xl",style:{color:"#1F2937",fontWeight:700},children:"Detail Deteksi Penyakit"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden",children:a.jsx(ca,{src:n.imageUrl,alt:n.fishType,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Jenis Ikan"}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:n.fishType})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Tingkat Kepercayaan"}),a.jsxs("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:[n.confidence,"%"]})]}),a.jsxs("div",{className:"col-span-2 p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Tanggal & Waktu"}),a.jsxs("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:[n.date," - ",n.time]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border-l-4",style:{backgroundColor:n.statusBg,borderColor:n.statusColor},children:[a.jsx("h4",{className:"mb-2 text-sm",style:{color:n.statusColor,fontWeight:600},children:"Diagnosis"}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:n.disease})]}),n.symptoms.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"mb-3 text-sm",style:{color:"#1F2937",fontWeight:600},children:"Gejala yang Terdeteksi"}),a.jsx("div",{className:"space-y-2",children:n.symptoms.map((r,i)=>a.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:n.statusColor}}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:r})]},i))})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"rgba(72, 128, 255, 0.05)",borderColor:"#4880FF33"},children:[a.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",style:{color:"#4880FF",fontWeight:600},children:[a.jsx(la,{className:"w-5 h-5"}),"Rekomendasi Penanganan"]}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:n.recommendation})]})]})]})}):null}function Xge(){g0();const{deviceId:t}=$o(),{user:e}=Da();e?.name;const[n,r]=N.useState(new Date),[i,s]=N.useState(7),[o,l]=N.useState(26),[c,u]=N.useState(2),[h,f]=N.useState("idle"),[m,v]=N.useState(87),[y,S]=N.useState("Akuarium Ruang Tamu"),[b,_]=N.useState(!1),[E,C]=N.useState({fishType:"Ikan Koi",disease:"White Spot",confidence:85,date:"4 Nov 2025",time:"14:30",imageUrl:"https://images.unsplash.com/photo-1718632496269-6c0fd71dc29c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80",symptoms:["Bintik putih pada tubuh","Ikan menggosok-gosokkan tubuh","Nafsu makan menurun"],recommendation:"Segera isolasi ikan yang terinfeksi. Naikkan suhu air secara bertahap hingga 28-30C. Berikan obat anti-parasit sesuai dosis.",statusColor:"#CE3939",statusBg:"rgba(206, 57, 57, 0.1)"});N.useEffect(()=>{if(!t)return;const O=async()=>{try{const U=parseInt(t),K=await pd.getDashboardWaterLatest(U);K.success&&K.data&&(s(K.data.ph.value),l(K.data.temperature.value),u(K.data.turbidity.value));const $=await pd.getDashboardRobotStatus(U);$.success&&$.data&&(f($.data.status),v($.data.battery))}catch(U){console.error("Error fetching dashboard data:",U)}};O();const I=setInterval(O,3e4);return()=>clearInterval(I)},[t]),N.useEffect(()=>{const O=setInterval(()=>{r(new Date),s(I=>Math.max(6.8,Math.min(7.5,I+(Math.random()-.5)*.05))),l(I=>Math.max(24,Math.min(28,I+(Math.random()-.5)*.1))),u(I=>Math.max(1.5,Math.min(3,I+(Math.random()-.5)*.05)))},3e3);return()=>clearInterval(O)},[]);const R=(()=>{const O=[];for(let I=23;I>=0;I--)O.push({time:`${23-I}:00`,ph:7+Math.random()*.5,temp:25+Math.random()*2,turbidity:1.5+Math.random()*1});return O})(),k=[{label:"pH",value:i.toFixed(1),unit:"",status:i>=6.5&&i<=7.5?"Optimal":"Perlu Perhatian",icon:Vc,iconColor:"#8280FF",iconBgColor:"rgba(130, 128, 255, 0.1)",trend:"+0.2",trendUp:!0,chartColor:"#8280FF"},{label:"Suhu",value:o.toFixed(1),unit:"C",status:o>=24&&o<=28?"Optimal":"Perlu Perhatian",icon:XB,iconColor:"#FEC53D",iconBgColor:"rgba(254, 197, 61, 0.1)",trend:"-0.3",trendUp:!1,chartColor:"#FEC53D"},{label:"Kekeruhan",value:c.toFixed(1),unit:" NTU",status:c<5?"Baik":"Perlu Perhatian",icon:HC,iconColor:"#4AD991",iconBgColor:"rgba(74, 217, 145, 0.1)",trend:"+0.1",trendUp:!0,chartColor:"#4AD991"}],D=[{id:1,type:"info",message:"Pembersihan otomatis dijadwalkan pada 20:00",time:"1 jam yang lalu",iconColor:"#8280FF",icon:Lx},{id:2,type:"success",message:"Kualitas air dalam kondisi optimal",time:"2 jam yang lalu",iconColor:"#4AD991",icon:lr},{id:3,type:"warning",message:"Terdeteksi gejala awal penyakit pada Ikan Koi",time:"3 jam yang lalu",iconColor:"#CE3939",icon:la}];return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:k.map((O,I)=>a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300 cursor-pointer group",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)",height:"100%"},onMouseEnter:U=>{U.currentTarget.style.transform="translateY(-4px) scale(1.02)",U.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:U=>{U.currentTarget.style.transform="translateY(0) scale(1)",U.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:O.label}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(gd,{className:`w-3 h-3 ${O.trendUp?"":"rotate-180"}`,style:{color:O.trendUp?"#4AD991":"#CE3939"}}),a.jsx("span",{className:"text-xs",style:{color:O.trendUp?"#4AD991":"#CE3939"},children:O.trend})]})]}),a.jsxs("p",{className:"text-4xl mb-2 group-hover:scale-105 transition-transform",style:{color:"#1F2937",fontWeight:700},children:[O.value,a.jsx("span",{className:"text-xl",children:O.unit})]}),a.jsx(Rt,{className:"text-xs px-2 py-1",style:{backgroundColor:O.status==="Optimal"?"rgba(74, 217, 145, 0.1)":"rgba(254, 197, 61, 0.1)",color:O.status==="Optimal"?"#4AD991":"#FEC53D",border:"none"},children:O.status})]}),a.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",style:{backgroundColor:O.iconBgColor},children:a.jsx(O.icon,{className:"w-7 h-7",style:{color:O.iconColor}})})]}),a.jsx("div",{className:"h-16 -mx-2 mt-4",children:a.jsx(Jo,{width:"100%",height:"100%",children:a.jsxs(Nb,{data:R.slice(-12),children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`gradient-${I}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:O.chartColor,stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:O.chartColor,stopOpacity:0})]})}),a.jsx(Bx,{type:"monotone",dataKey:I===0?"ph":I===1?"temp":"turbidity",stroke:O.chartColor,strokeWidth:2,fill:`url(#gradient-${I})`})]})})})]},I))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)",height:"100%"},onMouseEnter:O=>{O.currentTarget.style.transform="translateY(-4px)",O.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:O=>{O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Status Robot Temanikan"}),a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer",style:{backgroundColor:"rgba(35, 154, 246, 0.1)"},children:a.jsx(Qr,{className:"w-6 h-6",style:{color:"#239AF6"}})})]}),a.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"rgba(74, 217, 145, 0.05)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full animate-pulse",style:{backgroundColor:"#4AD991"}}),a.jsx("span",{className:"text-sm",style:{color:"#4AD991",fontWeight:600},children:"Operasi Normal"})]}),a.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"Robot berfungsi dengan baik"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsxs("span",{className:"text-sm flex items-center gap-2",style:{color:"#6B7280"},children:[a.jsx(lr,{className:"w-4 h-4",style:{color:"#4AD991"}}),"Status Operasi"]}),a.jsx("span",{className:"text-sm px-3 py-1 rounded-full",style:{color:"#4AD991",backgroundColor:"rgba(74, 217, 145, 0.1)",fontWeight:600},children:"Siap"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-sm",style:{color:"#6B7280"},children:"Baterai"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full transition-all",style:{width:"87%",backgroundColor:"#4AD991"}})}),a.jsx("span",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:"87%"})]})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-sm",style:{color:"#6B7280"},children:"Pembersihan Terakhir"}),a.jsx("span",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:"2 jam yang lalu"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-sm",style:{color:"#6B7280"},children:"Jadwal Berikutnya"}),a.jsx("span",{className:"text-sm px-3 py-1 rounded-full",style:{color:"#4880FF",backgroundColor:"rgba(72, 128, 255, 0.1)",fontWeight:600},children:"Hari ini, 20:00"})]})]})]}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)",height:"100%"},onMouseEnter:O=>{O.currentTarget.style.transform="translateY(-4px)",O.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:O=>{O.currentTarget.style.transform="translateY(0)",O.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Deteksi Penyakit Terbaru"}),a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center hover:scale-110 transition-transform cursor-pointer",style:{backgroundColor:"rgba(206, 57, 57, 0.1)"},children:a.jsx(ka,{className:"w-6 h-6",style:{color:"#CE3939"}})})]}),a.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:a.jsx(ca,{src:"https://images.unsplash.com/photo-1718632496269-6c0fd71dc29c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrb2klMjBmaXNoJTIwY2xvc2UlMjB1bmRlcndhdGVyfGVufDF8fHx8MTc2MzA0MjY4N3ww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Ikan Koi Terdeteksi",className:"w-full h-48 object-cover"})}),a.jsxs("div",{className:"mb-6 p-4 rounded-lg border-l-4",style:{backgroundColor:"rgba(254, 197, 61, 0.05)",borderColor:"#FEC53D"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(la,{className:"w-4 h-4",style:{color:"#FEC53D"}}),a.jsx("span",{className:"text-sm",style:{color:"#FEC53D",fontWeight:600},children:"Perhatian Diperlukan"})]}),a.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"Penyakit terdeteksi pada salah satu ikan"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-sm",style:{color:"#6B7280"},children:"Ikan Terdeteksi"}),a.jsx("span",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:"Ikan Koi"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-sm",style:{color:"#6B7280"},children:"Penyakit"}),a.jsx("span",{className:"text-sm px-3 py-1 rounded-full",style:{color:"#CE3939",backgroundColor:"rgba(206, 57, 57, 0.1)",fontWeight:600},children:"White Spot"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-sm",style:{color:"#6B7280"},children:"Tingkat Keparahan"}),a.jsx(Rt,{className:"text-xs px-3 py-1",style:{backgroundColor:"rgba(254, 197, 61, 0.1)",color:"#FEC53D",border:"none",fontWeight:600},children:"Sedang"})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("span",{className:"text-sm",style:{color:"#6B7280"},children:"Waktu Deteksi"}),a.jsx("span",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:"1 jam yang lalu"})]})]}),a.jsx("button",{onClick:()=>_(!0),className:"mt-4 w-full block text-center px-4 py-2 rounded-lg transition-all hover:shadow-md",style:{backgroundColor:"#4880FF",color:"white",fontWeight:600,fontSize:"14px",border:"none",cursor:"pointer"},children:"Lihat Detail & Rekomendasi"})]})]}),a.jsxs(Je,{className:"p-6 rounded-xl shadow-md border hover:shadow-xl transition-all duration-300",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Notifikasi Terbaru"}),a.jsxs(mr,{to:t?`/member/device/${t}/notifications`:"/member/notifications",className:"text-sm hover:underline flex items-center gap-1 transition-colors",style:{color:"#4880FF",fontWeight:600},children:["Lihat Semua",a.jsx(gd,{className:"w-4 h-4 rotate-90"})]})]}),a.jsx("div",{className:"space-y-3",children:D.map(O=>a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-lg border hover:shadow-md transition-all cursor-pointer group",style:{backgroundColor:"#FAFBFC",borderColor:"#E5E7EB"},children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",style:{backgroundColor:`${O.iconColor}15`},children:a.jsx(O.icon,{className:"w-5 h-5",style:{color:O.iconColor}})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm mb-1",style:{color:"#1F2937",fontWeight:500},children:O.message}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lx,{className:"w-3 h-3",style:{color:"#9CA3AF"}}),a.jsx("p",{className:"text-xs",style:{color:"#9CA3AF"},children:O.time})]})]}),a.jsx("button",{className:"text-xs px-3 py-1 rounded-full hover:bg-gray-200 transition-colors",style:{color:"#6B7280"},children:"Tandai Baca"})]},O.id))})]}),a.jsx(Kge,{isOpen:b,onClose:()=>_(!1),disease:E})]})}function Yge(){const{deviceId:t}=$o(),[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{i(!0);const c=await pd.getDevice(parseInt(t));c.device?n(c.device):o("Device not found")}catch(c){console.error("Error fetching device:",c),o("Device not found")}finally{i(!1)}})()},[t]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F6FA"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:"#4880FF"}}),a.jsx("p",{className:"mt-4",style:{color:"#6B7280"},children:"Memuat perangkat..."})]})}):s||!e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F6FA"},children:a.jsxs("div",{className:"text-center p-12 rounded-xl",style:{backgroundColor:"#FFFFFF",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{className:"text-2xl mb-4",style:{color:"#1F2937",fontWeight:700},children:"Perangkat Tidak Ditemukan"}),a.jsx("p",{style:{color:"#6B7280"},children:"Perangkat dengan ID tidak ditemukan."})]})}):a.jsx(Af,{deviceId:e.id.toString(),deviceName:e.name,title:`Dashboard - ${e.name}`,children:a.jsx(Xge,{})})}const HT=N.createContext(void 0),Jge=({open:t,onOpenChange:e,children:n})=>{const[r,i]=N.useState(!1),s=t!==void 0?t:r,o=e||i;return a.jsx(HT.Provider,{value:{open:s,setOpen:o},children:a.jsx("div",{className:"relative inline-block",children:n})})},BU=N.forwardRef(({className:t,children:e,asChild:n,...r},i)=>{const s=N.useContext(HT),o=()=>{s?.setOpen(!s.open)};return n&&N.isValidElement(e)?N.cloneElement(e,{onClick:o,ref:i}):a.jsx("button",{ref:i,className:t,onClick:o,...r,children:e})});BU.displayName="PopoverTrigger";const DU=N.forwardRef(({className:t,children:e,align:n="center",sideOffset:r=4,...i},s)=>{const o=N.useContext(HT),l=N.useRef(null);if(N.useEffect(()=>{const u=f=>{l.current&&!l.current.contains(f.target)&&o?.setOpen(!1)},h=f=>{f.key==="Escape"&&o?.setOpen(!1)};return o?.open&&(document.addEventListener("mousedown",u),document.addEventListener("keydown",h)),()=>{document.removeEventListener("mousedown",u),document.removeEventListener("keydown",h)}},[o?.open,o]),!o?.open)return null;const c={start:"left-0",center:"left-1/2 -translate-x-1/2",end:"right-0"};return a.jsx("div",{ref:l,className:Gt("absolute z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none animate-in fade-in-0 zoom-in-95",c[n],t),style:{top:`calc(100% + ${r}px)`},...i,children:e})});DU.displayName="PopoverContent";function qge({className:t,mode:e="single",selected:n,onSelect:r,disabled:i,...s}){const[o,l]=N.useState(new Date),c=new Date(o.getFullYear(),o.getMonth()+1,0).getDate(),u=new Date(o.getFullYear(),o.getMonth(),1).getDay(),h=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Su","Mo","Tu","We","Th","Fr","Sa"],m=()=>{l(new Date(o.getFullYear(),o.getMonth()-1))},v=()=>{l(new Date(o.getFullYear(),o.getMonth()+1))},y=E=>{const C=new Date(o.getFullYear(),o.getMonth(),E);i&&i(C)||e==="single"&&r?.(C)},S=E=>{if(!n)return!1;if(e==="single"&&n instanceof Date){const C=new Date(o.getFullYear(),o.getMonth(),E);return C.getDate()===n.getDate()&&C.getMonth()===n.getMonth()&&C.getFullYear()===n.getFullYear()}return!1},b=E=>{const C=new Date,j=new Date(o.getFullYear(),o.getMonth(),E);return j.getDate()===C.getDate()&&j.getMonth()===C.getMonth()&&j.getFullYear()===C.getFullYear()},_=[];for(let E=0;E<u;E++)_.push(a.jsx("div",{className:"p-0"},`empty-${E}`));for(let E=1;E<=c;E++){const C=new Date(o.getFullYear(),o.getMonth(),E),j=i&&i(C);_.push(a.jsx("button",{onClick:()=>y(E),disabled:j,className:Gt(Ab({variant:"ghost"}),"h-8 w-8 p-0 font-normal",S(E)&&"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground",b(E)&&!S(E)&&"bg-accent text-accent-foreground",j&&"text-muted-foreground opacity-50 cursor-not-allowed"),children:E},E))}return a.jsx("div",{className:Gt("p-3",t),...s,children:a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex justify-center pt-1 relative items-center",children:[a.jsxs("div",{className:"text-sm",children:[h[o.getMonth()]," ",o.getFullYear()]}),a.jsxs("div",{className:"flex items-center gap-1 absolute right-0",children:[a.jsx("button",{onClick:m,className:Gt(Ab({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),children:a.jsx(H1,{className:"h-4 w-4"})}),a.jsx("button",{onClick:v,className:Gt(Ab({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),children:a.jsx(w0,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"w-full border-collapse",children:[a.jsx("div",{className:"flex",children:f.map(E=>a.jsx("div",{className:"text-muted-foreground w-8 text-[0.8rem] text-center",children:E},E))}),a.jsx("div",{className:"grid grid-cols-7 gap-y-2 mt-2",children:_})]})]})})}const Ex=(t,e="dd MMM yyyy")=>{const n=["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],r=t.getDate(),i=n[t.getMonth()],s=t.getFullYear();return e==="dd MMM yyyy"?`${r} ${i} ${s}`:e==="PPP"?`${r} ${i} ${s}`:t.toLocaleDateString("id-ID")};function $ge(){const[t,e]=N.useState("24h"),[n,r]=N.useState({from:void 0,to:void 0}),[i,s]=N.useState(void 0),l=(h=>h==="24h"?{ph:[{time:"00:00",value:7.1},{time:"04:00",value:7.2},{time:"08:00",value:7.3},{time:"12:00",value:7.2},{time:"16:00",value:7.1},{time:"20:00",value:7.2},{time:"24:00",value:7.2}],temp:[{time:"00:00",value:25.5},{time:"04:00",value:25.2},{time:"08:00",value:26.1},{time:"12:00",value:26.8},{time:"16:00",value:26.5},{time:"20:00",value:26},{time:"24:00",value:25.8}],turbidity:[{time:"00:00",value:2},{time:"04:00",value:2.1},{time:"08:00",value:2.3},{time:"12:00",value:2.2},{time:"16:00",value:2.1},{time:"20:00",value:1.9},{time:"24:00",value:2}]}:h==="7d"?{ph:[{time:"Sen",value:7},{time:"Sel",value:7.1},{time:"Rab",value:7.2},{time:"Kam",value:7.3},{time:"Jum",value:7.1},{time:"Sab",value:7.2},{time:"Min",value:7.2}],temp:[{time:"Sen",value:25.8},{time:"Sel",value:25.9},{time:"Rab",value:26.2},{time:"Kam",value:26.5},{time:"Jum",value:26.3},{time:"Sab",value:26.1},{time:"Min",value:26}],turbidity:[{time:"Sen",value:2.2},{time:"Sel",value:2.1},{time:"Rab",value:2},{time:"Kam",value:2.3},{time:"Jum",value:2.1},{time:"Sab",value:2},{time:"Min",value:2}]}:h==="30d"?{ph:[{time:"Minggu 1",value:7},{time:"Minggu 2",value:7.1},{time:"Minggu 3",value:7.2},{time:"Minggu 4",value:7.3}],temp:[{time:"Minggu 1",value:25.5},{time:"Minggu 2",value:26},{time:"Minggu 3",value:26.3},{time:"Minggu 4",value:26.2}],turbidity:[{time:"Minggu 1",value:2.3},{time:"Minggu 2",value:2.1},{time:"Minggu 3",value:2},{time:"Minggu 4",value:2.1}]}:{ph:[{time:"1 Nov",value:7.1},{time:"5 Nov",value:7.2},{time:"10 Nov",value:7.3},{time:"15 Nov",value:7.2},{time:"20 Nov",value:7.1},{time:"25 Nov",value:7.2},{time:"30 Nov",value:7.2}],temp:[{time:"1 Nov",value:25.5},{time:"5 Nov",value:25.8},{time:"10 Nov",value:26.1},{time:"15 Nov",value:26.4},{time:"20 Nov",value:26.2},{time:"25 Nov",value:26},{time:"30 Nov",value:25.9}],turbidity:[{time:"1 Nov",value:2.2},{time:"5 Nov",value:2.1},{time:"10 Nov",value:2},{time:"15 Nov",value:2.3},{time:"20 Nov",value:2.1},{time:"25 Nov",value:2},{time:"30 Nov",value:2}]})(t),c=h=>{e(h)},u=()=>{alert(`Exporting data for ${t==="custom"&&n.from&&n.to?`${Ex(n.from,"dd MMM yyyy")} - ${Ex(n.to,"dd MMM yyyy")}`:t==="24h"?"24 Jam Terakhir":t==="7d"?"7 Hari Terakhir":"30 Hari Terakhir"}`)};return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl mb-2",style:{color:"#1F2937",fontWeight:700},children:["Monitoring ",a.jsx("span",{style:{color:"#4880FF"},children:"Kualitas Air"})]}),a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Pantau parameter air akuarium Anda secara real-time"})]}),a.jsx(Je,{className:"p-6 rounded-xl shadow-md border transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-4px)",h.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#1F2937",fontWeight:600},children:"Rentang Waktu"}),a.jsxs(In,{value:t,onValueChange:c,children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"24h",children:"24 Jam Terakhir"}),a.jsx(Oe,{value:"7d",children:"7 Hari Terakhir"}),a.jsx(Oe,{value:"30d",children:"30 Hari Terakhir"}),a.jsx(Oe,{value:"custom",children:"Kustom"})]})]})]}),t==="custom"&&a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#1F2937",fontWeight:600},children:"Pilih Tanggal"}),a.jsxs(Jge,{children:[a.jsx(BU,{asChild:!0,children:a.jsxs(Ue,{variant:"outline",className:"w-full justify-start text-left",children:[a.jsx(G1,{className:"mr-2 h-4 w-4"}),n.from&&n.to?a.jsxs(a.Fragment,{children:[Ex(n.from,"dd MMM yyyy")," -"," ",Ex(n.to,"dd MMM yyyy")]}):a.jsx("span",{children:"Pilih rentang tanggal"})]})}),a.jsx(DU,{className:"w-auto p-0",align:"start",style:{backgroundColor:"white"},children:a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx("div",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:i?"Pilih tanggal akhir":"Pilih tanggal mulai"}),a.jsx(qge,{mode:"single",selected:i||n.to,onSelect:h=>{i?h&&i&&h>=i?(r({from:i,to:h}),s(void 0)):h&&i&&h<i&&(r({from:h,to:i}),s(void 0)):s(h)},disabled:h=>i?h<i:!1,locale:id,className:"rounded-md border-0"}),i&&a.jsxs("div",{className:"text-xs text-gray-600 text-center",children:["Mulai: ",Ex(i,"dd MMM yyyy")]}),n.from&&n.to&&a.jsx("div",{className:"flex gap-2",children:a.jsx(Ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>{r({from:void 0,to:void 0}),s(void 0)},children:"Reset"})})]})})]})]}),a.jsxs(Ue,{className:"text-white hover:shadow-lg transition-all",style:{backgroundColor:"#4880FF"},onClick:u,children:[a.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-4px)",h.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(130, 128, 255, 0.1)"},children:a.jsx(Vc,{className:"w-6 h-6",style:{color:"#8280FF"}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Grafik pH"}),a.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"Tren perubahan pH dalam waktu yang dipilih"})]})]}),a.jsx(Jo,{width:"100%",height:300,children:a.jsxs(Nb,{data:l.ph,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gradientPh",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#8280FF",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#8280FF",stopOpacity:0})]})}),a.jsx(zc,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),a.jsx(Hc,{dataKey:"time",stroke:"#6B7280",style:{fontSize:"12px"}}),a.jsx(Gc,{stroke:"#6B7280",domain:[6,8],style:{fontSize:"12px"}}),a.jsx(Ml,{cursor:{stroke:"#8280FF",strokeWidth:2},contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}}),a.jsx(Bx,{type:"monotone",dataKey:"value",stroke:"#8280FF",strokeWidth:3,fill:"url(#gradientPh)",name:"pH",dot:{fill:"#8280FF",strokeWidth:2,r:5,stroke:"white"},activeDot:{r:8,fill:"#8280FF",stroke:"white",strokeWidth:2}})]})}),a.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"rgba(74, 217, 145, 0.05)"},children:[a.jsx(lr,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:"#4AD991"}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:"Status: Optimal"}),a.jsx("p",{className:"text-xs mt-1",style:{color:"#6B7280"},children:"Rentang Ideal: 6.5 - 7.5 | Nilai Saat Ini: 7.2"})]})]})]}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-4px)",h.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(254, 197, 61, 0.1)"},children:a.jsx(XB,{className:"w-6 h-6",style:{color:"#FEC53D"}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Grafik Suhu"}),a.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"Tren perubahan suhu dalam waktu yang dipilih"})]})]}),a.jsx(Jo,{width:"100%",height:300,children:a.jsxs(Nb,{data:l.temp,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gradientTemp",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#FEC53D",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#FEC53D",stopOpacity:0})]})}),a.jsx(zc,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),a.jsx(Hc,{dataKey:"time",stroke:"#6B7280",style:{fontSize:"12px"}}),a.jsx(Gc,{stroke:"#6B7280",domain:[24,28],style:{fontSize:"12px"}}),a.jsx(Ml,{cursor:{stroke:"#FEC53D",strokeWidth:2},contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}}),a.jsx(Bx,{type:"monotone",dataKey:"value",stroke:"#FEC53D",strokeWidth:3,fill:"url(#gradientTemp)",name:"Suhu (C)",dot:{fill:"#FEC53D",strokeWidth:2,r:5,stroke:"white"},activeDot:{r:8,fill:"#FEC53D",stroke:"white",strokeWidth:2}})]})}),a.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"rgba(74, 217, 145, 0.05)"},children:[a.jsx(lr,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:"#4AD991"}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:"Status: Optimal"}),a.jsx("p",{className:"text-xs mt-1",style:{color:"#6B7280"},children:"Rentang Ideal: 24 - 28C | Nilai Saat Ini: 26C"})]})]})]}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-4px)",h.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(74, 217, 145, 0.1)"},children:a.jsx(HC,{className:"w-6 h-6",style:{color:"#4AD991"}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Grafik Kekeruhan"}),a.jsx("p",{className:"text-xs",style:{color:"#6B7280"},children:"Tren perubahan kekeruhan dalam waktu yang dipilih"})]})]}),a.jsx(Jo,{width:"100%",height:300,children:a.jsxs(Nb,{data:l.turbidity,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gradientTurbidity",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#4AD991",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#4AD991",stopOpacity:0})]})}),a.jsx(zc,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),a.jsx(Hc,{dataKey:"time",stroke:"#6B7280",style:{fontSize:"12px"}}),a.jsx(Gc,{stroke:"#6B7280",domain:[0,5],style:{fontSize:"12px"}}),a.jsx(Ml,{cursor:{stroke:"#4AD991",strokeWidth:2},contentStyle:{backgroundColor:"white",border:"1px solid #E5E7EB",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}}),a.jsx(Bx,{type:"monotone",dataKey:"value",stroke:"#4AD991",strokeWidth:3,fill:"url(#gradientTurbidity)",name:"Kekeruhan (NTU)",dot:{fill:"#4AD991",strokeWidth:2,r:5,stroke:"white"},activeDot:{r:8,fill:"#4AD991",stroke:"white",strokeWidth:2}})]})}),a.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"rgba(74, 217, 145, 0.05)"},children:[a.jsx(lr,{className:"w-5 h-5 mt-0.5 flex-shrink-0",style:{color:"#4AD991"}}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:"Status: Baik"}),a.jsxs("p",{className:"text-xs mt-1",style:{color:"#6B7280"},children:["Rentang Ideal: ","<"," 5 NTU | Nilai Saat Ini: 2.1 NTU"]})]})]})]})]})}function Qge(){const{deviceId:t}=$o(),[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{i(!0);const c=await pd.getDevice(parseInt(t));c.device?n(c.device):o("Device not found")}catch(c){console.error("Error fetching device:",c),o("Device not found")}finally{i(!1)}})()},[t]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F6FA"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:"#4880FF"}}),a.jsx("p",{className:"mt-4",style:{color:"#6B7280"},children:"Memuat perangkat..."})]})}):s||!e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F6FA"},children:a.jsxs("div",{className:"text-center p-12 rounded-xl",style:{backgroundColor:"#FFFFFF",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{className:"text-2xl mb-4",style:{color:"#1F2937",fontWeight:700},children:"Perangkat Tidak Ditemukan"}),a.jsx("p",{style:{color:"#6B7280"},children:"Perangkat dengan ID tidak ditemukan."})]})}):a.jsx(Af,{deviceId:e.id.toString(),deviceName:e.name,title:`Monitoring Air - ${e.name}`,children:a.jsx($ge,{})})}function Zge(){const{deviceId:t}=$o(),[e,n]=N.useState(!0),[r,i]=N.useState("idle"),s=()=>{i("cleaning"),setTimeout(()=>{i("idle")},5e3)};return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl mb-2",style:{color:"#1F2937",fontWeight:700},children:["Kontrol ",a.jsx("span",{style:{color:"#4880FF"},children:"Robot"})]}),a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Kelola robot pembersih akuarium Anda"})]}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-4px)",o.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(35, 154, 246, 0.1)"},children:a.jsx(Qr,{className:"w-7 h-7",style:{color:"#239AF6"}})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Status Robot Terkini"}),a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Kolam Utama"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"p-3 rounded-full",style:{backgroundColor:r==="idle"?"rgba(74, 217, 145, 0.1)":r==="cleaning"?"rgba(72, 128, 255, 0.1)":"rgba(254, 197, 61, 0.1)"},children:[r==="idle"&&a.jsx(lr,{className:"w-6 h-6",style:{color:"#4AD991"}}),r==="cleaning"&&a.jsx(Jj,{className:"w-6 h-6",style:{color:"#4880FF"}}),r==="charging"&&a.jsx(Fb,{className:"w-6 h-6",style:{color:"#FEC53D"}})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Status"}),a.jsxs("p",{style:{color:"#1F2937",fontWeight:600},children:[r==="idle"&&"Siap",r==="cleaning"&&"Sedang Membersihkan",r==="charging"&&"Mengisi Daya"]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"rgba(130, 128, 255, 0.1)"},children:a.jsx(Fb,{className:"w-6 h-6",style:{color:"#8280FF"}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Baterai"}),a.jsx("p",{style:{color:"#1F2937",fontWeight:600},children:"87%"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"rgba(254, 197, 61, 0.1)"},children:a.jsx(Lx,{className:"w-6 h-6",style:{color:"#FEC53D"}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Pembersihan Terakhir"}),a.jsx("p",{style:{color:"#1F2937",fontWeight:600},children:"2 jam yang lalu"})]})]})]})]}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-4px)",o.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Jadwal Pembersihan Otomatis"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm",style:{color:"#6B7280",fontWeight:600},children:e?"Aktif":"Nonaktif"}),a.jsx(qn,{checked:e,onCheckedChange:n})]})]}),e&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#1F2937",fontWeight:600},children:"Frekuensi"}),a.jsxs(In,{defaultValue:"daily",children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"daily",children:"Setiap Hari"}),a.jsx(Oe,{value:"alternate",children:"Setiap 2 Hari"}),a.jsx(Oe,{value:"weekly",children:"Setiap Minggu"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#1F2937",fontWeight:600},children:"Waktu"}),a.jsxs(In,{defaultValue:"20:00",children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"08:00",children:"08:00"}),a.jsx(Oe,{value:"12:00",children:"12:00"}),a.jsx(Oe,{value:"16:00",children:"16:00"}),a.jsx(Oe,{value:"20:00",children:"20:00"})]})]})]})]}),a.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"rgba(72, 128, 255, 0.05)"},children:a.jsxs("p",{className:"text-sm",style:{color:"#1F2937"},children:[a.jsx("strong",{children:"Jadwal Berikutnya:"})," Hari ini, 20:00 WIB"]})}),a.jsx(Ue,{className:"text-white hover:shadow-lg transition-all",style:{backgroundColor:"#4880FF"},children:"Simpan Jadwal"})]})]}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-4px)",o.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-6 text-lg",style:{color:"#1F2937",fontWeight:600},children:"Operasi Manual"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs(Ue,{className:"text-white py-6 hover:shadow-lg transition-all",style:{backgroundColor:"#4AD991"},onClick:s,disabled:r==="cleaning",children:[a.jsx(Jj,{className:"w-5 h-5 mr-2"}),"Mulai Pembersihan"]}),a.jsxs(Ue,{className:"py-6 hover:bg-gray-50 transition-all",style:{backgroundColor:"white",color:"#CE3939",border:"2px solid #CE3939",fontWeight:600},disabled:r!=="cleaning",children:[a.jsx(a7,{className:"w-5 h-5 mr-2"}),"Hentikan"]}),a.jsxs(Ue,{className:"py-6 hover:bg-gray-50 transition-all",style:{backgroundColor:"white",color:"#4880FF",border:"2px solid #4880FF",fontWeight:600},children:[a.jsx(o7,{className:"w-5 h-5 mr-2"}),"Kembali ke Dock"]})]}),r==="cleaning"&&a.jsxs("div",{className:"mt-4 p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"rgba(72, 128, 255, 0.05)"},children:[a.jsx(ld,{className:"w-5 h-5 flex-shrink-0",style:{color:"#4880FF"}}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:"Robot sedang melakukan pembersihan manual. Proses akan selesai dalam beberapa menit."})]})]}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-4px)",o.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0)",o.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:"Riwayat Pembersihan"}),a.jsx(mr,{to:t?`/member/device/${t}/cleaning-history`:"/member/cleaning-history",className:"text-sm hover:underline",style:{color:"#4880FF",fontWeight:600},children:"Lihat Semua"})]}),a.jsx("div",{className:"space-y-3",children:[{date:"4 Nov 2025",time:"20:00",duration:"45 menit",status:"Selesai"},{date:"3 Nov 2025",time:"20:00",duration:"42 menit",status:"Selesai"},{date:"2 Nov 2025",time:"20:00",duration:"48 menit",status:"Selesai"},{date:"1 Nov 2025",time:"20:00",duration:"44 menit",status:"Selesai"}].map((o,l)=>a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:shadow-md transition-all",style:{backgroundColor:"rgba(74, 217, 145, 0.05)",border:"1px solid rgba(74, 217, 145, 0.1)"},children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"rgba(74, 217, 145, 0.1)"},children:a.jsx(lr,{className:"w-5 h-5",style:{color:"#4AD991"}})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:[o.date," - ",o.time]}),a.jsxs("p",{className:"text-xs",style:{color:"#6B7280"},children:["Durasi: ",o.duration]})]})]}),a.jsx("span",{className:"text-sm px-3 py-1 rounded-full",style:{color:"#4AD991",backgroundColor:"rgba(74, 217, 145, 0.1)",fontWeight:600},children:o.status})]},l))})]})]})}function exe(){const{deviceId:t}=$o(),[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{i(!0);const c=await pd.getDevice(parseInt(t));c.device?n(c.device):o("Device not found")}catch(c){console.error("Error fetching device:",c),o("Device not found")}finally{i(!1)}})()},[t]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F6FA"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:"#4880FF"}}),a.jsx("p",{className:"mt-4",style:{color:"#6B7280"},children:"Memuat perangkat..."})]})}):s||!e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F6FA"},children:a.jsxs("div",{className:"text-center p-12 rounded-xl",style:{backgroundColor:"#FFFFFF",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{className:"text-2xl mb-4",style:{color:"#1F2937",fontWeight:700},children:"Perangkat Tidak Ditemukan"}),a.jsx("p",{style:{color:"#6B7280"},children:"Perangkat dengan ID tidak ditemukan."})]})}):a.jsx(Af,{deviceId:e.id.toString(),deviceName:e.name,title:`Kontrol Robot - ${e.name}`,children:a.jsx(Zge,{})})}function txe(){const{deviceId:t}=$o(),[e,n]=N.useState(!1),r=[{label:"Total Deteksi Hari Ini",value:"12",icon:ka,color:"#8280FF",bgColor:"rgba(130, 128, 255, 0.1)",trend:"+3",trendUp:!0},{label:"Ikan Sehat",value:"8",icon:lr,color:"#4AD991",bgColor:"rgba(74, 217, 145, 0.1)",trend:"+2",trendUp:!0},{label:"Perlu Perhatian",value:"4",icon:la,color:"#FEC53D",bgColor:"rgba(254, 197, 61, 0.1)",trend:"+1",trendUp:!0}],i=[{id:1,fishType:"Ikan Koi",location:"Akuarium Utama",date:"4 Nov 2025",time:"14:30",status:"warning",statusLabel:"Perhatian",statusColor:"#FEC53D",statusBg:"rgba(254, 197, 61, 0.1)",disease:"White Spot Disease",confidence:85,recommendation:"Segera isolasi ikan yang terinfeksi. Naikkan suhu air secara bertahap hingga 28-30C. Berikan obat anti-parasit sesuai dosis.",symptoms:["Bintik putih pada tubuh","Ikan menggosok-gosokkan tubuh","Nafsu makan menurun"],imageUrl:"https://images.unsplash.com/photo-1669241942890-2e066facbd9c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxrb2klMjBmaXNoJTIwY2xvc2UlMjB1cHxlbnwxfHx8fDE3NjIyNjUwNTl8MA&ixlib=rb-4.1.0&q=80&w=1080"},{id:2,fishType:"Ikan Mas",location:"Akuarium Utama",date:"3 Nov 2025",time:"16:45",status:"healthy",statusLabel:"Sehat",statusColor:"#4AD991",statusBg:"rgba(74, 217, 145, 0.1)",disease:"Tidak Terdeteksi",confidence:95,recommendation:"Ikan dalam kondisi sehat. Lanjutkan perawatan rutin.",symptoms:[],imageUrl:"https://images.unsplash.com/photo-1720001586147-0bfee9e5dba2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxnb2xkZmlzaCUyMGNsb3NlJTIwdW5kZXJ3YXRlcnxlbnwxfHx8fDE3NjIyNjUwNTl8MA&ixlib=rb-4.1.0&q=80&w=1080"},{id:3,fishType:"Ikan Cupang",location:"Akuarium Karantina",date:"3 Nov 2025",time:"09:15",status:"info",statusLabel:"Observasi",statusColor:"#8280FF",statusBg:"rgba(130, 128, 255, 0.1)",disease:"Fin Rot",confidence:72,recommendation:"Periksa kualitas air. Ganti 25% air secara berkala. Berikan garam ikan dan antibiotik jika diperlukan.",symptoms:["Sirip robek atau compang-camping","Perubahan warna pada sirip"],imageUrl:"https://images.unsplash.com/photo-1573472420143-0c68f179bdc7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiZXR0YSUyMGZpc2glMjBibHVlfGVufDF8fHx8MTc2MjI2NTA2MHww&ixlib=rb-4.1.0&q=80&w=1080"}];return a.jsxs("div",{className:"space-y-6 animate-fade-in",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl mb-2",style:{color:"#1F2937",fontWeight:700},children:["Deteksi ",a.jsx("span",{style:{color:"#4880FF"},children:"Penyakit Ikan"})]}),a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Monitoring kesehatan ikan dengan teknologi AI"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:r.map((s,o)=>a.jsx(Je,{className:"p-6 rounded-xl shadow-md border hover:shadow-xl transition-all duration-300 cursor-pointer group",style:{backgroundColor:"white",borderColor:"#E5E7EB"},children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:s.label}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(gd,{className:`w-3 h-3 ${s.trendUp?"":"rotate-180"}`,style:{color:s.trendUp?"#4AD991":"#CE3939"}}),a.jsx("span",{className:"text-xs",style:{color:s.trendUp?"#4AD991":"#CE3939"},children:s.trend})]})]}),a.jsx("p",{className:"text-3xl group-hover:scale-105 transition-transform",style:{color:"#1F2937",fontWeight:700},children:s.value})]}),a.jsx("div",{className:"w-14 h-14 rounded-full flex items-center justify-center flex-shrink-0 group-hover:scale-110 transition-transform",style:{backgroundColor:s.bgColor},children:a.jsx(s.icon,{className:"w-7 h-7",style:{color:s.color}})})]})},o))}),a.jsx(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-end justify-between",children:[a.jsx("div",{className:"flex flex-col md:flex-row gap-4 flex-1 w-full",children:a.jsxs("div",{className:"flex-1 min-w-[200px]",children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#1F2937",fontWeight:600},children:"Periode"}),a.jsxs(In,{defaultValue:"7d",children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"24h",children:"24 Jam Terakhir"}),a.jsx(Oe,{value:"7d",children:"7 Hari Terakhir"}),a.jsx(Oe,{value:"30d",children:"30 Hari Terakhir"})]})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto",children:[a.jsxs(Ue,{className:"text-white whitespace-nowrap hover:shadow-lg transition-all",style:{backgroundColor:"#4880FF"},onClick:()=>n(!0),children:[a.jsx(qj,{className:"w-4 h-4 mr-2"}),"Lihat Akuarium Realtime"]}),a.jsx(mr,{to:t?`/member/device/${t}/detection-history`:"/member/detection-history",children:a.jsx(Ue,{variant:"outline",className:"w-full sm:w-auto whitespace-nowrap hover:bg-gray-50 transition-all",style:{color:"#4880FF",borderColor:"#4880FF"},children:"Lihat Riwayat Deteksi"})})]})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(s=>a.jsxs(pn,{children:[a.jsx(T4,{asChild:!0,children:a.jsxs(Je,{className:"p-0 overflow-hidden cursor-pointer transition-all duration-300 group rounded-2xl",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-4px) scale(1.02)",o.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0) scale(1)",o.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"w-full h-48 overflow-hidden relative",children:[a.jsx(ca,{src:s.imageUrl,alt:s.fishType,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),a.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 rounded-full text-xs backdrop-blur-sm",style:{backgroundColor:`${s.statusBg}dd`,color:s.statusColor,fontWeight:600,border:`1px solid ${s.statusColor}33`},children:s.statusLabel})]}),a.jsxs("div",{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"text-lg",style:{color:"#1F2937",fontWeight:600},children:s.fishType}),a.jsxs("div",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgba(72, 128, 255, 0.1)",color:"#4880FF",fontWeight:600},children:[s.confidence,"%"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs mb-3",style:{color:"#6B7280"},children:[a.jsx(G1,{className:"w-4 h-4"}),a.jsxs("span",{children:[s.date,"  ",s.time]})]}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:500},children:s.disease})]})]})}),a.jsxs(hn,{className:"max-w-2xl",style:{backgroundColor:"white"},children:[a.jsx(gr,{children:a.jsx(cr,{className:"text-xl",style:{color:"#1F2937",fontWeight:700},children:"Detail Deteksi Penyakit"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"w-full h-64 rounded-lg overflow-hidden",children:a.jsx(ca,{src:s.imageUrl,alt:s.fishType,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Jenis Ikan"}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:s.fishType})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Tingkat Kepercayaan"}),a.jsxs("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:[s.confidence,"%"]})]}),a.jsxs("div",{className:"col-span-2 p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Tanggal & Waktu"}),a.jsxs("p",{className:"text-sm",style:{color:"#1F2937",fontWeight:600},children:[s.date," - ",s.time]})]})]}),a.jsxs("div",{className:"p-4 rounded-lg border-l-4",style:{backgroundColor:`${s.statusBg}`,borderColor:s.statusColor},children:[a.jsx("h4",{className:"mb-2 text-sm",style:{color:s.statusColor,fontWeight:600},children:"Diagnosis"}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:s.disease})]}),s.symptoms.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"mb-3 text-sm",style:{color:"#1F2937",fontWeight:600},children:"Gejala yang Terdeteksi"}),a.jsx("div",{className:"space-y-2",children:s.symptoms.map((o,l)=>a.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("div",{className:"w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0",style:{backgroundColor:s.statusColor}}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:o})]},l))})]}),a.jsxs("div",{className:"p-4 rounded-lg border",style:{backgroundColor:"rgba(72, 128, 255, 0.05)",borderColor:"#4880FF33"},children:[a.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",style:{color:"#4880FF",fontWeight:600},children:[a.jsx(la,{className:"w-5 h-5"}),"Rekomendasi Penanganan"]}),a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:s.recommendation})]})]})]})]},s.id))}),a.jsxs(Je,{className:"p-6 rounded-2xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:s=>{s.currentTarget.style.transform="translateY(-4px)",s.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:s=>{s.currentTarget.style.transform="translateY(0)",s.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4 text-lg",style:{color:"#1F2937",fontWeight:600},children:"Upload Foto untuk Deteksi Manual"}),a.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center cursor-pointer hover:bg-gray-50 transition-all",style:{borderColor:"#4880FF"},children:[a.jsx("div",{className:"w-16 h-16 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"rgba(72, 128, 255, 0.1)"},children:a.jsx(Ix,{className:"w-8 h-8",style:{color:"#4880FF"}})}),a.jsx("p",{className:"mb-2",style:{color:"#1F2937",fontWeight:600},children:"Klik atau seret foto ikan di sini"}),a.jsx("p",{className:"text-sm",style:{color:"#6B7280"},children:"Format: JPG, PNG (Maks. 10MB)"})]})]}),a.jsx(pn,{open:e,onOpenChange:n,children:a.jsxs(hn,{className:"max-w-4xl",style:{backgroundColor:"white"},children:[a.jsx(gr,{children:a.jsx(cr,{className:"text-xl",style:{color:"#1F2937",fontWeight:700},children:"Live Stream - Akuarium Utama"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"w-full aspect-video rounded-lg flex items-center justify-center relative overflow-hidden",style:{backgroundColor:"#1F2937"},children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 flex items-center justify-center",style:{backgroundColor:"rgba(72, 128, 255, 0.2)"},children:a.jsx(qj,{className:"w-10 h-10",style:{color:"#4880FF"}})}),a.jsx("p",{className:"text-white text-lg mb-2",style:{fontWeight:600},children:"Live Stream Akuarium"}),a.jsx("p",{className:"text-sm",style:{color:"#9CA3AF"},children:"Kamera sedang aktif..."})]})}),a.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2 px-3 py-1.5 rounded-full bg-red-600",children:[a.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),a.jsx("span",{className:"text-sm text-white",style:{fontWeight:600},children:"LIVE"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"Kualitas Stream"}),a.jsx("p",{style:{color:"#1F2937",fontWeight:600},children:"HD 1080p"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F9FAFB"},children:[a.jsx("p",{className:"text-xs mb-1",style:{color:"#6B7280"},children:"FPS"}),a.jsx("p",{style:{color:"#1F2937",fontWeight:600},children:"30 fps"})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(Ue,{className:"flex-1 text-white hover:shadow-lg transition-all",style:{backgroundColor:"#4880FF"},onClick:()=>alert("Mengambil snapshot..."),children:[a.jsx(Ix,{className:"w-4 h-4 mr-2"}),"Ambil Snapshot"]}),a.jsx(Ue,{className:"flex-1",variant:"outline",onClick:()=>n(!1),children:"Tutup"})]})]})]})})]})}function nxe(){const{deviceId:t}=$o(),[e,n]=N.useState(null),[r,i]=N.useState(!0),[s,o]=N.useState(null);return N.useEffect(()=>{(async()=>{if(!t){i(!1);return}try{i(!0);const c=await pd.getDevice(parseInt(t));c.device?n(c.device):o("Device not found")}catch(c){console.error("Error fetching device:",c),o("Device not found")}finally{i(!1)}})()},[t]),r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F6FA"},children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto",style:{borderColor:"#4880FF"}}),a.jsx("p",{className:"mt-4",style:{color:"#6B7280"},children:"Memuat perangkat..."})]})}):s||!e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",style:{backgroundColor:"#F5F6FA"},children:a.jsxs("div",{className:"text-center p-12 rounded-xl",style:{backgroundColor:"#FFFFFF",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{className:"text-2xl mb-4",style:{color:"#1F2937",fontWeight:700},children:"Perangkat Tidak Ditemukan"}),a.jsx("p",{style:{color:"#6B7280"},children:"Perangkat dengan ID tidak ditemukan."})]})}):a.jsx(Af,{deviceId:e.id.toString(),deviceName:e.name,title:`Deteksi Penyakit - ${e.name}`,children:a.jsx(txe,{})})}const rxe={"dev-001":{id:"dev-001",name:"Akuarium Ruang Tamu"},"dev-002":{id:"dev-002",name:"Akuarium Karantina"}};function ixe(){const{deviceId:t}=$o(),e=t?rxe[t]:null;return e?a.jsx(Af,{deviceId:e.id,deviceName:e.name,title:"Semua Notifikasi",backLabel:"Kembali ke Dashboard",children:a.jsx(R4,{deviceId:t})}):a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("p",{children:"Perangkat tidak ditemukan"})})}const sxe={"dev-001":{id:"dev-001",name:"Akuarium Ruang Tamu"},"dev-002":{id:"dev-002",name:"Akuarium Karantina"}};function axe(){const{deviceId:t}=$o(),e=t?sxe[t]:null;return e?a.jsx(Af,{deviceId:e.id,deviceName:e.name,title:"Riwayat Pembersihan Lengkap",backLabel:"Kembali ke Kontrol Robot",children:a.jsx(F4,{deviceId:t})}):a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("p",{children:"Perangkat tidak ditemukan"})})}const oxe={"dev-001":{id:"dev-001",name:"Akuarium Ruang Tamu"},"dev-002":{id:"dev-002",name:"Akuarium Karantina"}};function lxe(){const{deviceId:t}=$o(),e=t?oxe[t]:null;return e?a.jsx(Af,{deviceId:e.id,deviceName:e.name,title:"Riwayat Deteksi Penyakit",backLabel:"Kembali ke Deteksi Penyakit",children:a.jsx(B4,{deviceId:t})}):a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx("p",{children:"Perangkat tidak ditemukan"})})}function cxe(){return a.jsx(a.Fragment,{children:a.jsxs(FC,{children:[a.jsx(dn,{path:"/member",element:a.jsx(uP,{})}),a.jsx(dn,{path:"/member/devices",element:a.jsx(uP,{})}),a.jsx(dn,{path:"/member/device/:deviceId/dashboard",element:a.jsx(Yge,{})}),a.jsx(dn,{path:"/member/device/:deviceId/monitoring",element:a.jsx(Qge,{})}),a.jsx(dn,{path:"/member/device/:deviceId/robot",element:a.jsx(exe,{})}),a.jsx(dn,{path:"/member/device/:deviceId/disease",element:a.jsx(nxe,{})}),a.jsx(dn,{path:"/member/device/:deviceId/notifications",element:a.jsx(ixe,{})}),a.jsx(dn,{path:"/member/device/:deviceId/cleaning-history",element:a.jsx(axe,{})}),a.jsx(dn,{path:"/member/device/:deviceId/detection-history",element:a.jsx(lxe,{})}),a.jsx(dn,{path:"/member/fishpedia",element:a.jsx(Aa,{title:"Fishpedia",userType:"member",children:a.jsx(u$,{})})}),a.jsx(dn,{path:"/member/forum",element:a.jsx(Aa,{title:"Forum Komunitas",userType:"member",children:a.jsx(P$,{})})}),a.jsx(dn,{path:"/member/profile",element:a.jsx(Aa,{title:"Profil Pengguna",userType:"member",children:a.jsx(L$,{})})}),a.jsx(dn,{path:"/member/settings",element:a.jsx(Aa,{title:"Pengaturan",userType:"member",children:a.jsx(I$,{})})}),a.jsx(dn,{path:"/member/orders",element:a.jsx(Aa,{title:"Pesanan Saya",userType:"member",children:a.jsx(G$,{})})}),a.jsx(dn,{path:"/member/notifications",element:a.jsx(Aa,{title:"Semua Notifikasi",userType:"member",breadcrumbs:[{label:"Notifikasi",path:"/member"},{label:"Semua Notifikasi"}],children:a.jsx(R4,{})})}),a.jsx(dn,{path:"/member/cleaning-history",element:a.jsx(Aa,{title:"Riwayat Pembersihan Lengkap",userType:"member",breadcrumbs:[{label:"Kontrol Robot",path:"/member/robot"},{label:"Riwayat Pembersihan"}],children:a.jsx(F4,{})})}),a.jsx(dn,{path:"/member/detection-history",element:a.jsx(Aa,{title:"Riwayat Deteksi Penyakit",userType:"member",breadcrumbs:[{label:"Deteksi Penyakit",path:"/member/disease"},{label:"Riwayat Deteksi"}],children:a.jsx(B4,{})})}),a.jsx(dn,{path:"/member/forum/new",element:a.jsx(Aa,{title:"Buat Topik Baru",userType:"member",breadcrumbs:[{label:"Forum Komunitas",path:"/member/forum"},{label:"Topik Baru"}],children:a.jsx(O$,{})})}),a.jsx(dn,{path:"/member/forum/topic/:topicId",element:a.jsx(Aa,{title:"Detail Topik",userType:"member",breadcrumbs:[{label:"Forum Komunitas",path:"/member/forum"},{label:"Detail Topik"}],children:a.jsx(z$,{})})}),a.jsx(dn,{path:"/member/forum/my-topics",element:a.jsx(Aa,{title:"Topik Saya",userType:"member",breadcrumbs:[{label:"Forum Komunitas",path:"/member/forum"},{label:"Topik Saya"}],children:a.jsx(H$,{})})})]})})}function yl({children:t,title:e,breadcrumbs:n}){const r=Ll(),i=g0(),{user:s,logout:o}=Da(),[l,c]=N.useState(!1),[u,h]=N.useState(!1),[f,m]=N.useState(!1),v={name:s?.name||"Admin Temanikan",email:s?.email||"admin@temanikan.com",role:"Administrator"},y=[{id:1,title:"Pesanan baru masuk",message:"Roma Juliana melakukan pemesanan Robot Temanikan",time:"5 menit yang lalu",type:"info"},{id:2,title:"Laporan deteksi penyakit",message:"Terdeteksi peningkatan kasus white spot 15%",time:"1 jam yang lalu",type:"warning"},{id:3,title:"Pengguna baru terdaftar",message:"3 pengguna baru mendaftar hari ini",time:"2 jam yang lalu",type:"info"}],S=[{icon:kb,label:"Dashboard",path:"/admin"},{icon:Dx,label:"Manajemen Pengguna",path:"/admin/users"},{icon:Qr,label:"Status Robot",path:"/admin/robots"},{icon:Ix,label:"Tren Deteksi",path:"/admin/disease-trends"},{icon:UA,label:"Fishpedia",path:"/admin/fishpedia"},{icon:od,label:"Forum",path:"/admin/forum"},{icon:bm,label:"Kelola Pesanan",path:"/admin/orders"}],b=()=>{o(),r("/")},_=E=>E==="/admin/forum"?i.pathname.startsWith("/admin/forum"):E==="/admin/orders"?i.pathname.startsWith("/admin/orders"):i.pathname===E;return a.jsxs("div",{className:"min-h-screen flex",style:{backgroundColor:"#F5F6FA"},children:[a.jsxs("aside",{className:"hidden lg:flex flex-col fixed left-0 top-0 h-full transition-all duration-300 z-40 shadow-lg",style:{width:l?"80px":"280px",backgroundColor:"#FFFFFF"},children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between",style:{borderColor:"#E5E7EB"},children:[!l&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yo,{className:"w-7 h-7",style:{color:"#4880FF"}}),a.jsx("span",{className:"text-lg",style:{color:"#1F2937",fontWeight:700},children:"temanikan"})]}),l&&a.jsx(Yo,{className:"w-7 h-7 mx-auto",style:{color:"#4880FF"}}),a.jsx("button",{onClick:()=>c(!l),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors ml-auto",children:a.jsx(H1,{className:`w-5 h-5 transition-transform ${l?"rotate-180":""}`,style:{color:"#6B7280"}})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:S.map(E=>a.jsxs(mr,{to:E.path,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${_(E.path)?"shadow-sm":""}`,style:{backgroundColor:_(E.path)?"#4880FF":"transparent",color:_(E.path)?"#FFFFFF":"#6B7280",fontWeight:_(E.path)?600:500},title:l?E.label:"",children:[a.jsx(E.icon,{className:"w-5 h-5 flex-shrink-0"}),!l&&a.jsx("span",{children:E.label})]},E.path))}),a.jsx("div",{className:"p-4 border-t",style:{borderColor:"#E5E7EB"},children:a.jsxs(mr,{to:"/admin/settings",className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${i.pathname==="/admin/settings"?"shadow-sm":""}`,style:{backgroundColor:i.pathname==="/admin/settings"?"#4880FF":"transparent",color:i.pathname==="/admin/settings"?"#FFFFFF":"#6B7280",fontWeight:i.pathname==="/admin/settings"?600:500},title:l?"Pengaturan":"",children:[a.jsx(mb,{className:"w-5 h-5 flex-shrink-0"}),!l&&a.jsx("span",{children:"Pengaturan"})]})})]}),u&&a.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-40",onClick:()=>h(!1)}),a.jsxs("aside",{className:`lg:hidden fixed left-0 top-0 h-full w-280px z-50 shadow-lg transform transition-transform ${u?"translate-x-0":"-translate-x-full"}`,style:{backgroundColor:"#FFFFFF",width:"280px"},children:[a.jsxs("div",{className:"p-4 border-b flex items-center justify-between",style:{borderColor:"#E5E7EB"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yo,{className:"w-7 h-7",style:{color:"#4880FF"}}),a.jsx("span",{className:"text-lg",style:{color:"#1F2937",fontWeight:700},children:"temanikan"})]}),a.jsx("button",{onClick:()=>h(!1),className:"p-1.5 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx(md,{className:"w-5 h-5",style:{color:"#6B7280"}})})]}),a.jsx("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:S.map(E=>a.jsxs(mr,{to:E.path,onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${_(E.path)?"shadow-sm":""}`,style:{backgroundColor:_(E.path)?"#4880FF":"transparent",color:_(E.path)?"#FFFFFF":"#6B7280",fontWeight:_(E.path)?600:500},children:[a.jsx(E.icon,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{children:E.label})]},E.path))}),a.jsx("div",{className:"p-4 border-t",style:{borderColor:"#E5E7EB"},children:a.jsxs(mr,{to:"/admin/settings",onClick:()=>h(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-all ${i.pathname==="/admin/settings"?"shadow-sm":""}`,style:{backgroundColor:i.pathname==="/admin/settings"?"#4880FF":"transparent",color:i.pathname==="/admin/settings"?"#FFFFFF":"#6B7280",fontWeight:i.pathname==="/admin/settings"?600:500},children:[a.jsx(mb,{className:"w-5 h-5 flex-shrink-0"}),a.jsx("span",{children:"Pengaturan"})]})})]}),a.jsxs("div",{className:`flex-1 flex flex-col transition-all duration-300 ${l?"lg:ml-[80px]":"lg:ml-[280px]"}`,children:[a.jsx("header",{className:"sticky top-0 z-30 shadow-sm",style:{backgroundColor:"#FFFFFF"},children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("button",{className:"lg:hidden hover:bg-gray-100 p-2 rounded-lg transition-colors",onClick:()=>h(!0),children:a.jsx(UC,{className:"w-6 h-6",style:{color:"#1F2937"}})}),a.jsx("div",{className:"hidden sm:block",children:a.jsx("h1",{style:{color:"#1F2937"},children:e})}),a.jsxs("div",{className:"flex items-center gap-3 ml-auto",children:[a.jsxs("select",{className:"hidden md:block px-2.5 py-1.5 rounded-lg border text-xs",style:{borderColor:"#E5E7EB",color:"#6B7280"},defaultValue:"id",children:[a.jsx("option",{value:"id",children:"ID"}),a.jsx("option",{value:"en",children:"EN"})]}),a.jsxs(Gb,{open:f,onOpenChange:m,children:[a.jsx(e0,{asChild:!0,children:a.jsxs("button",{className:"relative hover:bg-gray-100 p-2 rounded-lg transition-colors",children:[a.jsx(eo,{className:"w-5 h-5",style:{color:"#6B7280"}}),a.jsx("span",{className:"absolute top-1 right-1 w-4 h-4 rounded-full text-xs flex items-center justify-center text-white",style:{backgroundColor:"#EF4444",fontSize:"10px"},children:y.length})]})}),a.jsxs(t0,{align:"end",className:"w-80",style:{backgroundColor:"white"},children:[a.jsx(n0,{style:{color:"#1F2937"},children:"Notifikasi Belum Dibaca"}),a.jsx(Fc,{}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:y.map(E=>a.jsx(Ho,{className:"flex flex-col items-start p-3 cursor-pointer",children:a.jsxs("div",{className:"flex items-start gap-2 w-full",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mt-1.5 flex-shrink-0 ${E.type==="warning"?"bg-yellow-500":"bg-blue-500"}`}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:E.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:E.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:E.time})]})]})},E.id))}),a.jsx(Fc,{}),a.jsx(Ho,{className:"text-center cursor-pointer",onClick:()=>r("/admin/notifications"),children:a.jsx("span",{className:"w-full",style:{color:"#4880FF"},children:"Lihat Semua Notifikasi"})})]})]}),a.jsxs(Gb,{children:[a.jsx(e0,{asChild:!0,children:a.jsxs("button",{className:"flex items-center gap-2 hover:bg-gray-100 px-2.5 py-1.5 rounded-lg transition-colors",children:[a.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0",style:{backgroundColor:"#4880FF"},children:a.jsx(Wc,{className:"w-4 h-4 text-white"})}),a.jsxs("div",{className:"hidden lg:flex flex-col items-start",children:[a.jsx("p",{className:"text-xs",style:{color:"#1F2937",fontWeight:600},children:v.name}),a.jsx("p",{className:"text-xs",style:{color:"#6B7280",fontSize:"11px"},children:v.role})]}),a.jsx(Mc,{className:"w-4 h-4 hidden lg:block",style:{color:"#6B7280"}})]})}),a.jsxs(t0,{align:"end",className:"w-56",children:[a.jsx(n0,{children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm",style:{color:"#1F2937"},children:v.name}),a.jsx("p",{className:"text-xs text-gray-600",children:v.email}),a.jsx("p",{className:"text-xs",style:{color:"#4880FF"},children:v.role})]})}),a.jsx(Fc,{}),a.jsx(Ho,{asChild:!0,children:a.jsxs(mr,{to:"/admin/profile",className:"cursor-pointer flex items-center",children:[a.jsx(Wc,{className:"w-4 h-4 mr-2",style:{color:"#4880FF"}}),"Profil Saya"]})}),a.jsx(Ho,{asChild:!0,children:a.jsxs(mr,{to:"/admin/settings",className:"cursor-pointer flex items-center",children:[a.jsx(mb,{className:"w-4 h-4 mr-2",style:{color:"#4880FF"}}),"Pengaturan"]})}),a.jsx(Fc,{}),a.jsxs(Ho,{onClick:b,className:"cursor-pointer text-red-600 focus:text-red-600 flex items-center",children:[a.jsx(KB,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})})}),a.jsx("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:a.jsx("div",{className:"max-w-7xl mx-auto",children:t})}),a.jsx("footer",{className:"py-6 text-center border-t",style:{backgroundColor:"transparent",borderColor:"rgba(229, 231, 235, 0.5)",color:"#6B7280"},children:a.jsx("p",{className:"text-sm",children:" 2025 Temanikan. All rights reserved."})})]})]})}function uxe(){const t=[{label:"Total Pengguna",value:"1,247",change:"+12.5%",trend:"up",icon:Dx,color:"#608BC1"},{label:"Robot Aktif",value:"856",change:"+8.2%",trend:"up",icon:Qr,color:"#133E87"},{label:"Deteksi Penyakit (Bulan Ini)",value:"342",change:"-5.3%",trend:"down",icon:Vc,color:"#608BC1"},{label:"Peringatan Sistem",value:"23",change:"+15.2%",trend:"up",icon:la,color:"#ff9800"}],e=[{month:"Jun",users:850},{month:"Jul",users:920},{month:"Aug",users:1050},{month:"Sep",users:1100},{month:"Okt",users:1180},{month:"Nov",users:1247}],n=[{name:"White Spot",value:145,color:"#608BC1"},{name:"Fin Rot",value:98,color:"#133E87"},{name:"Ich",value:56,color:"#CBDCEB"},{name:"Lainnya",value:43,color:"#F3F3E0"}],r=[{id:1,type:"critical",message:"Robot ID #234 mengalami error sistem",user:"Ahmad Wijaya",time:"10 menit yang lalu"},{id:2,type:"warning",message:"Lonjakan deteksi penyakit di area Jakarta",user:"Sistem",time:"1 jam yang lalu"},{id:3,type:"info",message:"Update firmware tersedia untuk 12 robot",user:"Sistem",time:"2 jam yang lalu"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((i,s)=>a.jsxs(Je,{className:"bubble-card p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:o=>{o.currentTarget.style.transform="translateY(-4px) scale(1.02)",o.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:o=>{o.currentTarget.style.transform="translateY(0) scale(1)",o.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx("div",{className:"p-3 rounded-full",style:{backgroundColor:"rgba(72, 128, 255, 0.2)",backdropFilter:"blur(10px)"},children:a.jsx(i.icon,{className:"w-6 h-6",style:{color:i.color}})}),i.trend==="up"?a.jsx(gd,{className:"w-5 h-5 text-green-600"}):a.jsx(HA,{className:"w-5 h-5 text-red-600"})]}),a.jsx("p",{className:"text-sm mb-1",style:{color:"#666"},children:i.label}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("p",{className:"text-3xl font-bold",style:{color:"#133E87"},children:i.value}),a.jsx("span",{className:`text-sm font-semibold ${i.trend==="up"?"text-green-600":"text-red-600"}`,children:i.change})]})]},s))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:i=>{i.currentTarget.style.transform="translateY(-4px)",i.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:i=>{i.currentTarget.style.transform="translateY(0)",i.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4 font-bold",style:{color:"#133E87"},children:"Pertumbuhan Pengguna"}),a.jsx(Jo,{width:"100%",height:300,children:a.jsxs(zT,{data:e,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(zc,{strokeDasharray:"3 3",stroke:"#CBDCEB"}),a.jsx(Hc,{dataKey:"month",stroke:"#666",style:{fontSize:"12px"}}),a.jsx(Gc,{stroke:"#666",style:{fontSize:"12px"}}),a.jsx(Ml,{cursor:{fill:"rgba(96, 139, 193, 0.1)"},contentStyle:{backgroundColor:"white",border:"1px solid #CBDCEB",borderRadius:"8px"}}),a.jsx(s1,{wrapperStyle:{paddingTop:"10px"}}),a.jsx(fw,{dataKey:"users",fill:"#608BC1",name:"Pengguna",radius:[8,8,0,0],animationDuration:800,animationEasing:"ease-in-out"})]})})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:i=>{i.currentTarget.style.transform="translateY(-4px)",i.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:i=>{i.currentTarget.style.transform="translateY(0)",i.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4 font-bold",style:{color:"#133E87"},children:"Distribusi Jenis Penyakit"}),a.jsx(Jo,{width:"100%",height:300,children:a.jsxs(FU,{children:[a.jsx(jT,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:s})=>`${i} ${(s*100).toFixed(0)}%`,outerRadius:80,innerRadius:0,fill:"#8884d8",dataKey:"value",animationDuration:800,animationEasing:"ease-in-out",paddingAngle:2,children:n.map((i,s)=>a.jsx(rg,{fill:i.color,stroke:"white",strokeWidth:3},`cell-${s}`))}),a.jsx(Ml,{contentStyle:{backgroundColor:"white",border:"1px solid #CBDCEB",borderRadius:"8px"}})]})}),a.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4",children:n.map((i,s)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:i.color}}),a.jsxs("span",{className:"text-sm text-gray-700",children:[i.name,": ",i.value]})]},s))})]})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:i=>{i.currentTarget.style.transform="translateY(-4px)",i.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:i=>{i.currentTarget.style.transform="translateY(0)",i.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-bold",style:{color:"#133E87"},children:"Peringatan Sistem Terbaru"}),a.jsx(mr,{to:"/admin/notifications",className:"text-sm font-semibold hover:underline transition-all",style:{color:"#608BC1"},onMouseEnter:i=>{i.currentTarget.style.color="#4880FF",i.currentTarget.style.transform="scale(1.05)"},onMouseLeave:i=>{i.currentTarget.style.color="#608BC1",i.currentTarget.style.transform="scale(1)"},children:"Lihat Semua"})]}),a.jsx("div",{className:"space-y-3",children:r.map(i=>a.jsxs("div",{className:"flex items-start gap-3 p-4 rounded-xl transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.6)",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"0 4px 15px rgba(72, 128, 255, 0.1)"},onMouseEnter:s=>{s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.8)",s.currentTarget.style.transform="translateX(4px)",s.currentTarget.style.boxShadow="0 6px 20px rgba(72, 128, 255, 0.2)"},onMouseLeave:s=>{s.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.6)",s.currentTarget.style.transform="translateX(0)",s.currentTarget.style.boxShadow="0 4px 15px rgba(72, 128, 255, 0.1)"},children:[i.type==="critical"&&a.jsx(la,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),i.type==="warning"&&a.jsx(la,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),i.type==="info"&&a.jsx(Vc,{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:"#608BC1"}}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"text-sm",style:{color:"#133E87"},children:i.message}),i.type==="critical"&&a.jsx(Rt,{className:"bg-red-100 text-red-800",children:"Kritis"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[a.jsx("span",{children:i.user}),a.jsx("span",{children:""}),a.jsx("span",{children:i.time})]})]})]},i.id))})]})]})}function dxe(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null),[o,l]=N.useState(""),[c,u]=N.useState("Semua Status"),[h,f]=N.useState(!1),[m,v]=N.useState(!1),[y,S]=N.useState(!1),[b,_]=N.useState(null),[E,C]=N.useState(!1),[j,R]=N.useState("success"),[k,D]=N.useState(""),[O,I]=N.useState(""),[U,K]=N.useState(""),[$,re]=N.useState(""),[Y,se]=N.useState(""),[oe,le]=N.useState("");N.useEffect(()=>{H()},[]);const H=async()=>{try{r(!0),s(null);const pe=await tx.getUsers();console.log(" Users response:",pe),pe.users&&e(pe.users)}catch(pe){console.error(" Error fetching users:",pe),s(pe.message||"Gagal memuat data pengguna")}finally{r(!1)}},q=t.filter(pe=>{const X=pe.name.toLowerCase().includes(o.toLowerCase())||pe.email.toLowerCase().includes(o.toLowerCase());let Ce=!0;return c==="Member"?Ce=pe.role==="member":c==="Admin"&&(Ce=pe.role==="admin"),X&&Ce}),Q=async pe=>{pe.preventDefault();try{const X=await tx.createUser({name:U,email:$,phone:Y,password:oe});X.success?(await H(),f(!1),Ae(),R("success"),D("Berhasil!"),I("Pengguna berhasil ditambahkan"),C(!0)):(R("error"),D("Gagal"),I(X.message||"Gagal menambahkan pengguna"),C(!0))}catch(X){console.error("Error adding user:",X),R("error"),D("Gagal"),I(X.response?.data?.message||"Gagal menambahkan pengguna"),C(!0)}},V=async pe=>{if(pe.preventDefault(),!!b)try{const X=await tx.updateUser(b.id,{name:U,email:$,phone:Y});X.success?(await H(),v(!1),_(null),Ae(),R("success"),D("Berhasil!"),I("Data pengguna berhasil diperbarui"),C(!0)):(R("error"),D("Gagal"),I(X.message||"Gagal memperbarui data pengguna"),C(!0))}catch(X){console.error("Error updating user:",X),R("error"),D("Gagal"),I(X.response?.data?.message||"Gagal memperbarui data pengguna"),C(!0)}},ee=async()=>{if(b)try{const pe=await tx.deleteUser(b.id);pe.success?(await H(),S(!1),_(null),R("success"),D("Berhasil!"),I("Pengguna berhasil dihapus"),C(!0)):(R("error"),D("Gagal"),I(pe.message||"Gagal menghapus pengguna"),C(!0))}catch(pe){console.error("Error deleting user:",pe),R("error"),D("Gagal"),I(pe.response?.data?.message||"Gagal menghapus pengguna"),C(!0)}},ce=async pe=>{try{const X=await tx.toggleUserStatus(pe.id);if(X.success){await H();const Ce=X.user?.is_active?"diaktifkan":"dinonaktifkan";R("success"),D("Berhasil!"),I(`Akun ${pe.name} berhasil ${Ce}`),C(!0)}else R("error"),D("Gagal"),I(X.message||"Gagal mengubah status pengguna"),C(!0)}catch(X){console.error("Error toggling user status:",X),R("error"),D("Gagal"),I(X.response?.data?.message||"Gagal mengubah status pengguna"),C(!0)}},ne=pe=>{_(pe),K(pe.name),re(pe.email),se(pe.phone),v(!0)},be=pe=>{_(pe),S(!0)},Ae=()=>{K(""),re(""),se(""),le("")},Se=pe=>pe?new Date(pe).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}):"N/A";return a.jsxs("div",{className:"space-y-6",children:[n&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Memuat data pengguna..."})}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:pe=>{pe.currentTarget.style.transform="translateY(-4px)",pe.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:pe=>{pe.currentTarget.style.transform="translateY(0)",pe.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(Lt,{placeholder:"Cari pengguna...",className:"pl-10",value:o,onChange:pe=>l(pe.target.value)})]}),a.jsxs(In,{value:c,onValueChange:u,children:[a.jsx(kn,{className:"w-full md:w-[200px]",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Semua Status",children:"Semua Role"}),a.jsx(Oe,{value:"Member",children:"Member"}),a.jsx(Oe,{value:"Admin",children:"Admin"})]})]}),a.jsxs(Ue,{className:"text-white",style:{backgroundColor:"#133E87"},onClick:()=>f(!0),children:[a.jsx(sf,{className:"w-4 h-4 mr-2"}),"Tambah Pengguna"]})]})}),a.jsx(Je,{className:"overflow-hidden",style:{backgroundColor:"white"},children:a.jsxs(S2,{children:[a.jsx(_2,{children:a.jsxs(El,{children:[a.jsx($n,{children:"ID"}),a.jsx($n,{children:"Nama"}),a.jsx($n,{children:"Email"}),a.jsx($n,{children:"No HP"}),a.jsx($n,{children:"Role"}),a.jsx($n,{children:"Bergabung"}),a.jsx($n,{children:"Aksi"})]})}),a.jsxs(A2,{children:[q.map(pe=>a.jsxs(El,{children:[a.jsxs(Bn,{children:["#",pe.id]}),a.jsx(Bn,{style:{color:"#133E87"},children:pe.name}),a.jsx(Bn,{className:"text-gray-600",children:pe.email}),a.jsx(Bn,{className:"text-gray-600",children:pe.phone||"N/A"}),a.jsx(Bn,{children:pe.role==="admin"?a.jsx(Rt,{className:"bg-purple-100 text-purple-800",children:"Admin"}):a.jsx(Rt,{className:"bg-blue-100 text-blue-800",children:"Member"})}),a.jsx(Bn,{className:"text-gray-600",children:Se(pe.created_at)}),a.jsx(Bn,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>ne(pe),className:"hover:bg-gray-100",title:"Edit",children:a.jsx(ym,{className:"w-4 h-4",style:{color:"#133E87"}})}),a.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>ce(pe),className:"hover:bg-gray-100",title:"Toggle Status",children:a.jsx(l7,{className:"w-4 h-4",style:{color:"#f59e0b"}})}),a.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>be(pe),className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Hapus",children:a.jsx(zC,{className:"w-4 h-4"})})]})})]},pe.id)),q.length===0&&a.jsx(El,{children:a.jsx(Bn,{colSpan:7,className:"text-center py-8 text-gray-500",children:n?"Memuat data...":"Tidak ada pengguna ditemukan"})})]})]})}),a.jsx(pn,{open:h,onOpenChange:f,children:a.jsxs(hn,{className:"max-w-md",children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#133E87"},children:"Tambah Pengguna Baru"})}),a.jsxs("form",{onSubmit:Q,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-name",children:"Nama Lengkap"}),a.jsx(Lt,{id:"add-name",value:U,onChange:pe=>K(pe.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-email",children:"Email"}),a.jsx(Lt,{id:"add-email",type:"email",value:$,onChange:pe=>re(pe.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-phone",children:"No HP"}),a.jsx(Lt,{id:"add-phone",type:"tel",value:Y,onChange:pe=>se(pe.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-password",children:"Password"}),a.jsx(Lt,{id:"add-password",type:"password",value:oe,onChange:pe=>le(pe.target.value),required:!0,minLength:8})]}),a.jsxs(Oi,{className:"gap-2",children:[a.jsx(Ue,{type:"button",variant:"outline",onClick:()=>{f(!1),Ae()},children:"Batal"}),a.jsx(Ue,{type:"submit",className:"text-white",style:{backgroundColor:"#133E87"},children:"Simpan"})]})]})]})}),a.jsx(pn,{open:m,onOpenChange:v,children:a.jsxs(hn,{className:"max-w-md",children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#133E87"},children:"Edit Pengguna"})}),a.jsxs("form",{onSubmit:V,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-name",children:"Nama Lengkap"}),a.jsx(Lt,{id:"edit-name",value:U,onChange:pe=>K(pe.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-email",children:"Email"}),a.jsx(Lt,{id:"edit-email",type:"email",value:$,onChange:pe=>re(pe.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-phone",children:"No HP"}),a.jsx(Lt,{id:"edit-phone",type:"tel",value:Y,onChange:pe=>se(pe.target.value),required:!0})]}),a.jsxs(Oi,{className:"gap-2",children:[a.jsx(Ue,{type:"button",variant:"outline",onClick:()=>{v(!1),_(null),Ae()},children:"Batal"}),a.jsx(Ue,{type:"submit",className:"text-white",style:{backgroundColor:"#133E87"},children:"Simpan Perubahan"})]})]})]})}),a.jsx(pn,{open:y,onOpenChange:S,children:a.jsxs(hn,{className:"max-w-md",children:[a.jsxs(gr,{children:[a.jsx(cr,{style:{color:"#133E87"},children:"Konfirmasi Hapus"}),a.jsxs(b2,{children:["Apakah Anda yakin ingin menghapus pengguna ",a.jsx("strong",{children:b?.name}),"? Tindakan ini tidak dapat dibatalkan."]})]}),a.jsxs(Oi,{className:"gap-2",children:[a.jsx(Ue,{variant:"outline",onClick:()=>{S(!1),_(null)},children:"Batal"}),a.jsx(Ue,{className:"bg-red-600 text-white hover:bg-red-700",onClick:ee,children:"Hapus"})]})]})}),a.jsx(D4,{isOpen:E,onClose:()=>C(!1),type:j,title:k,message:O})]})}const IU=N.forwardRef(({className:t,value:e=0,max:n=100,...r},i)=>{const s=Math.min(100,Math.max(0,e/n*100));return a.jsx("div",{ref:i,className:Gt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",t),...r,children:a.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-s}%)`}})})});IU.displayName="Progress";function hxe(){const[t]=N.useState([{id:"ROB-001",owner:"Ahmad Wijaya",location:"Jakarta",status:"active",battery:87,lastActivity:"2 jam yang lalu",totalCleanings:156,firmwareVersion:"2.1.0"},{id:"ROB-002",owner:"Siti Nurhaliza",location:"Bandung",status:"active",battery:65,lastActivity:"1 jam yang lalu",totalCleanings:203,firmwareVersion:"2.1.0"},{id:"ROB-003",owner:"Budi Santoso",location:"Surabaya",status:"charging",battery:34,lastActivity:"30 menit yang lalu",totalCleanings:98,firmwareVersion:"2.0.5"},{id:"ROB-004",owner:"Eko Prasetyo",location:"Yogyakarta",status:"error",battery:12,lastActivity:"5 jam yang lalu",totalCleanings:245,firmwareVersion:"2.1.0"},{id:"ROB-005",owner:"Dewi Lestari",location:"Semarang",status:"active",battery:92,lastActivity:"45 menit yang lalu",totalCleanings:187,firmwareVersion:"2.1.0"},{id:"ROB-006",owner:"Ahmad Wijaya",location:"Jakarta",status:"charging",battery:45,lastActivity:"1 jam yang lalu",totalCleanings:132,firmwareVersion:"2.1.0"},{id:"ROB-007",owner:"Budi Santoso",location:"Surabaya",status:"offline",battery:0,lastActivity:"2 hari yang lalu",totalCleanings:76,firmwareVersion:"2.0.3"},{id:"ROB-008",owner:"Siti Nurhaliza",location:"Bandung",status:"error",battery:23,lastActivity:"3 jam yang lalu",totalCleanings:189,firmwareVersion:"2.1.0"}]),[e,n]=N.useState(""),[r,i]=N.useState("Semua Status"),[s,o]=N.useState("Semua Lokasi"),l=Array.from(new Set(t.map(b=>b.location))),c=t.filter(b=>{const _=b.id.toLowerCase().includes(e.toLowerCase())||b.owner.toLowerCase().includes(e.toLowerCase());let E=!0;r==="Aktif"?E=b.status==="active":r==="Charging"?E=b.status==="charging":r==="Error"?E=b.status==="error":r==="Offline"?E=b.status==="offline":r!=="Semua Status"&&(E=b.status===r);const C=s==="Semua Lokasi"||b.location===s;return _&&E&&C}),u=t.length,h=t.filter(b=>b.status==="active").length,f=t.filter(b=>b.status==="charging").length,m=t.filter(b=>b.status==="error").length,v=b=>{switch(b){case"active":return a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Aktif"});case"charging":return a.jsx(Rt,{className:"bg-blue-100 text-blue-800",children:"Charging"});case"error":return a.jsx(Rt,{className:"bg-red-100 text-red-800",children:"Error"});case"offline":return a.jsx(Rt,{className:"bg-gray-100 text-gray-800",children:"Offline"});default:return a.jsx(Rt,{children:b})}},y=b=>{switch(b){case"active":return a.jsx(lr,{className:"w-5 h-5 text-green-600"});case"charging":return a.jsx(Fb,{className:"w-5 h-5 text-blue-600"});case"error":return a.jsx(Vo,{className:"w-5 h-5 text-red-600"});default:return a.jsx(ld,{className:"w-5 h-5 text-gray-600"})}},S=b=>b>60?"#10b981":b>30?"#f59e0b":"#ef4444";return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-4px)",b.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#CBDCEB"},children:a.jsx(Qr,{className:"w-6 h-6",style:{color:"#608BC1"}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Robot"}),a.jsx("p",{className:"text-2xl",style:{color:"#133E87"},children:u})]})]})}),a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-4px)",b.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lr,{className:"w-10 h-10 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Aktif"}),a.jsx("p",{className:"text-2xl",style:{color:"#133E87"},children:h})]})]})}),a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-4px)",b.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Fb,{className:"w-10 h-10 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Charging"}),a.jsx("p",{className:"text-2xl",style:{color:"#133E87"},children:f})]})]})}),a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-4px)",b.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Vo,{className:"w-10 h-10 text-red-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Error"}),a.jsx("p",{className:"text-2xl",style:{color:"#133E87"},children:m})]})]})})]}),a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:b=>{b.currentTarget.style.transform="translateY(-4px)",b.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:b=>{b.currentTarget.style.transform="translateY(0)",b.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(Lt,{placeholder:"Cari robot atau pemilik...",className:"pl-10",value:e,onChange:b=>n(b.target.value)})]}),a.jsxs(In,{value:r,onValueChange:i,children:[a.jsx(kn,{className:"w-full md:w-[200px]",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Semua Status",children:"Semua Status"}),a.jsx(Oe,{value:"Aktif",children:"Aktif"}),a.jsx(Oe,{value:"Charging",children:"Charging"}),a.jsx(Oe,{value:"Error",children:"Error"}),a.jsx(Oe,{value:"Offline",children:"Offline"})]})]}),a.jsxs(In,{value:s,onValueChange:o,children:[a.jsx(kn,{className:"w-full md:w-[200px]",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Semua Lokasi",children:"Semua Lokasi"}),l.map(b=>a.jsx(Oe,{value:b,children:b},b))]})]})]})}),c.length===0?a.jsxs(Je,{className:"p-12 text-center",style:{backgroundColor:"white"},children:[a.jsx(Qr,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"Tidak ada robot ditemukan"})]}):a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:c.map(b=>a.jsxs(Je,{className:"p-6",style:{backgroundColor:"white"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#CBDCEB"},children:y(b.status)}),a.jsxs("div",{children:[a.jsx("h4",{style:{color:"#133E87"},children:b.id}),a.jsx("p",{className:"text-sm text-gray-600",children:b.owner})]})]}),v(b.status)]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Lokasi"}),a.jsx("span",{style:{color:"#133E87"},children:b.location})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[a.jsx("span",{className:"text-gray-600",children:"Baterai"}),a.jsxs("span",{style:{color:S(b.battery)},children:[b.battery,"%"]})]}),a.jsx(IU,{value:b.battery,className:"h-2",style:{backgroundColor:"#CBDCEB"}})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Aktivitas Terakhir"}),a.jsx("span",{style:{color:"#133E87"},children:b.lastActivity})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Total Pembersihan"}),a.jsxs("span",{style:{color:"#133E87"},children:[b.totalCleanings,"x"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Versi Firmware"}),a.jsx("span",{style:{color:"#133E87"},children:b.firmwareVersion})]})]}),b.status==="error"&&a.jsxs("div",{className:"mt-4 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"#fee2e2"},children:[a.jsx(ld,{className:"w-4 h-4 text-red-600 flex-shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-red-800",children:"Robot mengalami error sistem. Memerlukan perhatian segera."})]}),b.status==="offline"&&a.jsxs("div",{className:"mt-4 p-3 rounded-lg flex items-start gap-2",style:{backgroundColor:"#f3f4f6"},children:[a.jsx(ld,{className:"w-4 h-4 text-gray-600 flex-shrink-0 mt-0.5"}),a.jsxs("p",{className:"text-sm text-gray-700",children:["Robot tidak terhubung. Terakhir online ",b.lastActivity,"."]})]})]},b.id))})]})}function fxe(){const[t,e]=N.useState("6 Bulan Terakhir"),[n,r]=N.useState("Semua Penyakit"),[i,s]=N.useState("Semua Lokasi"),o={"1 Bulan Terakhir":[{month:"Nov",whiteSpot:145,finRot:98,ich:56,other:43}],"3 Bulan Terakhir":[{month:"Sep",whiteSpot:128,finRot:89,ich:48,other:32},{month:"Okt",whiteSpot:142,finRot:95,ich:54,other:38},{month:"Nov",whiteSpot:145,finRot:98,ich:56,other:43}],"6 Bulan Terakhir":[{month:"Jun",whiteSpot:120,finRot:85,ich:45,other:30},{month:"Jul",whiteSpot:135,finRot:92,ich:52,other:35},{month:"Aug",whiteSpot:145,finRot:98,ich:58,other:40},{month:"Sep",whiteSpot:128,finRot:89,ich:48,other:32},{month:"Okt",whiteSpot:142,finRot:95,ich:54,other:38},{month:"Nov",whiteSpot:145,finRot:98,ich:56,other:43}],"1 Tahun Terakhir":[{month:"Des",whiteSpot:110,finRot:78,ich:42,other:28},{month:"Jan",whiteSpot:115,finRot:82,ich:44,other:29},{month:"Feb",whiteSpot:118,finRot:84,ich:46,other:30},{month:"Mar",whiteSpot:122,finRot:86,ich:47,other:31},{month:"Apr",whiteSpot:125,finRot:88,ich:49,other:32},{month:"Mei",whiteSpot:130,finRot:90,ich:50,other:33},{month:"Jun",whiteSpot:120,finRot:85,ich:45,other:30},{month:"Jul",whiteSpot:135,finRot:92,ich:52,other:35},{month:"Aug",whiteSpot:145,finRot:98,ich:58,other:40},{month:"Sep",whiteSpot:128,finRot:89,ich:48,other:32},{month:"Okt",whiteSpot:142,finRot:95,ich:54,other:38},{month:"Nov",whiteSpot:145,finRot:98,ich:56,other:43}]},l={"Semua Lokasi":[{region:"Jakarta",cases:145},{region:"Surabaya",cases:98},{region:"Bandung",cases:87},{region:"Medan",cases:65},{region:"Semarang",cases:54},{region:"Yogyakarta",cases:42}],Jakarta:[{region:"Jakarta",cases:145}],Surabaya:[{region:"Surabaya",cases:98}],Bandung:[{region:"Bandung",cases:87}],Medan:[{region:"Medan",cases:65}],Semarang:[{region:"Semarang",cases:54}],Yogyakarta:[{region:"Yogyakarta",cases:42}]},c=N.useMemo(()=>{const f=o[t]||o["6 Bulan Terakhir"];return n==="Semua Penyakit"?f:f.map(m=>({month:m.month,whiteSpot:n==="White Spot"?m.whiteSpot:0,finRot:n==="Fin Rot"?m.finRot:0,ich:n==="Ich"?m.ich:0,other:n==="Lainnya"?m.other:0}))},[t,n]),u=N.useMemo(()=>l[i]||l["Semua Lokasi"],[i]),h=N.useMemo(()=>{const f=c[c.length-1],m=c[c.length-2]||f;return[{name:"White Spot Disease",total:f.whiteSpot,change:m.whiteSpot>0?`${((f.whiteSpot-m.whiteSpot)/m.whiteSpot*100).toFixed(1)}%`:"+0%",trend:f.whiteSpot>=m.whiteSpot?"up":"down",severity:"high"},{name:"Fin Rot",total:f.finRot,change:m.finRot>0?`${((f.finRot-m.finRot)/m.finRot*100).toFixed(1)}%`:"+0%",trend:f.finRot>=m.finRot?"up":"down",severity:"medium"},{name:"Ich",total:f.ich,change:m.ich>0?`${((f.ich-m.ich)/m.ich*100).toFixed(1)}%`:"+0%",trend:f.ich>=m.ich?"up":"down",severity:"medium"},{name:"Lainnya",total:f.other,change:m.other>0?`${((f.other-m.other)/m.other*100).toFixed(1)}%`:"+0%",trend:f.other>=m.other?"up":"down",severity:"low"}]},[c]);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((f,m)=>a.jsxs(Je,{className:"p-6",style:{backgroundColor:"white"},children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:f.name}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("p",{className:"text-3xl",style:{color:"#133E87"},children:f.total}),a.jsx("span",{className:`text-sm ${f.trend==="up"?"text-red-600":"text-green-600"}`,children:f.change})]})]}),f.trend==="up"?a.jsx(gd,{className:"w-5 h-5 text-red-600"}):a.jsx(HA,{className:"w-5 h-5 text-green-600"})]}),a.jsxs("div",{className:"mt-3",children:[f.severity==="high"&&a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-red-100 text-red-800",children:"Tinggi"}),f.severity==="medium"&&a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:"Sedang"}),f.severity==="low"&&a.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800",children:"Rendah"})]})]},m))}),a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#133E87"},children:"Periode"}),a.jsxs(In,{value:t,onValueChange:e,children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"1 Bulan Terakhir",children:"1 Bulan Terakhir"}),a.jsx(Oe,{value:"3 Bulan Terakhir",children:"3 Bulan Terakhir"}),a.jsx(Oe,{value:"6 Bulan Terakhir",children:"6 Bulan Terakhir"}),a.jsx(Oe,{value:"1 Tahun Terakhir",children:"1 Tahun Terakhir"})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#133E87"},children:"Jenis Penyakit"}),a.jsxs(In,{value:n,onValueChange:r,children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Semua Penyakit",children:"Semua Penyakit"}),a.jsx(Oe,{value:"White Spot",children:"White Spot"}),a.jsx(Oe,{value:"Fin Rot",children:"Fin Rot"}),a.jsx(Oe,{value:"Ich",children:"Ich"}),a.jsx(Oe,{value:"Lainnya",children:"Lainnya"})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm mb-2",style:{color:"#133E87"},children:"Lokasi"}),a.jsxs(In,{value:i,onValueChange:s,children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Semua Lokasi",children:"Semua Lokasi"}),a.jsx(Oe,{value:"Jakarta",children:"Jakarta"}),a.jsx(Oe,{value:"Surabaya",children:"Surabaya"}),a.jsx(Oe,{value:"Bandung",children:"Bandung"}),a.jsx(Oe,{value:"Medan",children:"Medan"}),a.jsx(Oe,{value:"Semarang",children:"Semarang"}),a.jsx(Oe,{value:"Yogyakarta",children:"Yogyakarta"})]})]})]})]})}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#133E87"},children:"Tren Deteksi Bulanan"}),a.jsx(Jo,{width:"100%",height:400,children:a.jsxs(RU,{data:c,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(zc,{strokeDasharray:"3 3",stroke:"#CBDCEB"}),a.jsx(Hc,{dataKey:"month",stroke:"#666",style:{fontSize:"12px"}}),a.jsx(Gc,{stroke:"#666",style:{fontSize:"12px"}}),a.jsx(Ml,{cursor:{stroke:"#608BC1",strokeWidth:1,strokeDasharray:"5 5"},contentStyle:{backgroundColor:"white",border:"1px solid #CBDCEB",borderRadius:"8px"}}),a.jsx(s1,{wrapperStyle:{paddingTop:"10px"}}),(n==="Semua Penyakit"||n==="White Spot")&&a.jsx(um,{type:"monotone",dataKey:"whiteSpot",stroke:"#608BC1",strokeWidth:3,name:"White Spot",dot:{fill:"#608BC1",strokeWidth:2,r:5,stroke:"white"},activeDot:{r:8,fill:"#608BC1",stroke:"#133E87",strokeWidth:2},animationDuration:800,animationEasing:"ease-in-out"}),(n==="Semua Penyakit"||n==="Fin Rot")&&a.jsx(um,{type:"monotone",dataKey:"finRot",stroke:"#133E87",strokeWidth:3,name:"Fin Rot",dot:{fill:"#133E87",strokeWidth:2,r:5,stroke:"white"},activeDot:{r:8,fill:"#133E87",stroke:"#608BC1",strokeWidth:2},animationDuration:800,animationEasing:"ease-in-out"}),(n==="Semua Penyakit"||n==="Ich")&&a.jsx(um,{type:"monotone",dataKey:"ich",stroke:"#ff9800",strokeWidth:3,name:"Ich",dot:{fill:"#ff9800",strokeWidth:2,r:5,stroke:"white"},activeDot:{r:8,fill:"#ff9800",stroke:"#133E87",strokeWidth:2},animationDuration:800,animationEasing:"ease-in-out"}),(n==="Semua Penyakit"||n==="Lainnya")&&a.jsx(um,{type:"monotone",dataKey:"other",stroke:"#999",strokeWidth:3,name:"Lainnya",dot:{fill:"#999",strokeWidth:2,r:5,stroke:"white"},activeDot:{r:8,fill:"#999",stroke:"#133E87",strokeWidth:2},animationDuration:800,animationEasing:"ease-in-out"})]})})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#133E87"},children:"Distribusi Regional"}),a.jsx(Jo,{width:"100%",height:400,children:a.jsxs(zT,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[a.jsx(zc,{strokeDasharray:"3 3",stroke:"#CBDCEB"}),a.jsx(Hc,{dataKey:"region",stroke:"#666",style:{fontSize:"12px"}}),a.jsx(Gc,{stroke:"#666",style:{fontSize:"12px"}}),a.jsx(Ml,{cursor:{fill:"rgba(96, 139, 193, 0.1)"},contentStyle:{backgroundColor:"white",border:"1px solid #CBDCEB",borderRadius:"8px"}}),a.jsx(s1,{wrapperStyle:{paddingTop:"10px"}}),a.jsx(fw,{dataKey:"cases",fill:"#608BC1",name:"Kasus Deteksi",radius:[8,8,0,0],animationDuration:800,animationEasing:"ease-in-out"})]})})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:f=>{f.currentTarget.style.transform="translateY(-4px)",f.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:f=>{f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#133E87"},children:"Insight & Rekomendasi"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"#fee2e2"},children:[a.jsx(gd,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{style:{color:"#991b1b"},children:"Peningkatan signifikan White Spot Disease di Jakarta (+25%)"}),a.jsx("p",{className:"text-sm text-red-800 mt-1",children:"Rekomendasi: Kirim notifikasi preventif ke pengguna di area Jakarta"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"#fef3c7"},children:[a.jsx(Vc,{className:"w-5 h-5 text-yellow-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{style:{color:"#92400e"},children:"Tren seasonal terdeteksi untuk Fin Rot (meningkat saat musim hujan)"}),a.jsx("p",{className:"text-sm text-yellow-800 mt-1",children:"Rekomendasi: Persiapkan artikel edukasi preventif untuk bulan depan"})]})]}),a.jsxs("div",{className:"p-4 rounded-lg flex items-start gap-3",style:{backgroundColor:"#dcfce7"},children:[a.jsx(HA,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{style:{color:"#166534"},children:"Penurunan kasus Ich sebesar 5.3% bulan ini"}),a.jsx("p",{className:"text-sm text-green-800 mt-1",children:"Kemungkinan efek dari artikel edukasi yang dibagikan bulan lalu"})]})]})]})]})]})}const pxe="http://localhost:5000/api",Tb=Fr.create({baseURL:pxe,headers:{"Content-Type":"application/json"}});Tb.interceptors.request.use(t=>{const e=sessionStorage.getItem("access_token")||localStorage.getItem("access_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t});function mxe(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),[i,s]=N.useState(null),[o,l]=N.useState(""),[c,u]=N.useState("Semua"),[h,f]=N.useState(!1),[m,v]=N.useState(!1),[y,S]=N.useState(!1),[b,_]=N.useState(!1),[E,C]=N.useState(null),[j,R]=N.useState(""),[k,D]=N.useState(""),[O,I]=N.useState(""),[U,K]=N.useState("Mudah"),[$,re]=N.useState(""),[Y,se]=N.useState(""),[oe,le]=N.useState(""),[H,q]=N.useState(""),[Q,V]=N.useState(""),[ee,ce]=N.useState(""),[ne,be]=N.useState(""),[Ae,Se]=N.useState("draft"),[pe,X]=N.useState(null),[Ce,Ge]=N.useState("");N.useEffect(()=>{J()},[]);const J=async()=>{try{r(!0),s(null);const ve=await OC.getSpecies();console.log(" Fishpedia response:",ve),ve.success&&ve.species&&e(ve.species)}catch(ve){console.error(" Error fetching fish data:",ve),s(ve.message||"Gagal memuat data ikan")}finally{r(!1)}},ue=t.filter(ve=>{const Le=ve.name.toLowerCase().includes(o.toLowerCase())||ve.scientificName.toLowerCase().includes(o.toLowerCase()),nt=c==="Semua"||ve.difficulty===c;return Le&&nt}),fe=t.length,Ie=t.filter(ve=>ve.status==="published").length,ke=t.filter(ve=>ve.status==="draft").length,at=async ve=>{ve.preventDefault();try{const Le=new FormData;Le.append("name",j),Le.append("scientific_name",k),Le.append("category",O),Le.append("difficulty",U),Le.append("description",$),Le.append("family",Y),Le.append("habitat",oe),Le.append("ph_min",H),Le.append("ph_max",Q),Le.append("temp_min",ee),Le.append("temp_max",ne),Le.append("status",Ae),pe&&Le.append("image",pe);const nt=await Tb.post("/fishpedia",Le,{headers:{"Content-Type":"multipart/form-data"}});nt.data.success?(await J(),f(!1),ze(),alert("Ikan berhasil ditambahkan!")):alert(nt.data.message||"Gagal menambahkan ikan")}catch(Le){console.error(" Error adding fish:",Le),alert(Le.response?.data?.message||Le.message||"Gagal menambahkan ikan")}},$e=async ve=>{if(ve.preventDefault(),!!E)try{const Le=new FormData;Le.append("name",j),Le.append("scientific_name",k),Le.append("category",O),Le.append("difficulty",U),Le.append("description",$),Le.append("family",Y),Le.append("habitat",oe),Le.append("ph_min",H),Le.append("ph_max",Q),Le.append("temp_min",ee),Le.append("temp_max",ne),Le.append("status",Ae),pe&&Le.append("image",pe);const nt=await Tb.put(`/fishpedia/${E.id}`,Le,{headers:{"Content-Type":"multipart/form-data"}});nt.data.success?(await J(),v(!1),C(null),ze(),alert("Ikan berhasil diupdate!")):alert(nt.data.message||"Gagal mengupdate ikan")}catch(Le){console.error(" Error updating fish:",Le),alert(Le.response?.data?.message||Le.message||"Gagal mengupdate ikan")}},z=async()=>{if(E)try{const ve=await Tb.delete(`/fishpedia/${E.id}`);ve.data.success?(await J(),_(!1),C(null),alert("Ikan berhasil dihapus!")):alert(ve.data.message||"Gagal menghapus ikan")}catch(ve){console.error(" Error deleting fish:",ve),alert(ve.response?.data?.message||ve.message||"Gagal menghapus ikan")}},G=ve=>{C(ve),S(!0)},ge=ve=>{C(ve),R(ve.name),D(ve.scientificName),I(ve.category),K(ve.difficulty),re(ve.description||""),se(ve.family||""),le(ve.habitat||""),q(ve.phMin?.toString()||""),V(ve.phMax?.toString()||""),ce(ve.tempMin?.toString()||""),be(ve.tempMax?.toString()||""),Se(ve.status),X(null),Ge(ve.image||""),v(!0)},He=ve=>{C(ve),_(!0)},Ve=ve=>{if(ve.target.files&&ve.target.files[0]){const Le=ve.target.files[0];X(Le);const nt=new FileReader;nt.onloadend=()=>{Ge(nt.result)},nt.readAsDataURL(Le)}},ze=()=>{R(""),D(""),I(""),K("Mudah"),re(""),se(""),le(""),q(""),V(""),ce(""),be(""),Se("draft"),X(null),Ge("")};return a.jsxs("div",{className:"space-y-6",children:[n&&a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-600",children:"Memuat data ikan..."})}),i&&a.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:i}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:ve=>{ve.currentTarget.style.transform="translateY(-4px) scale(1.02)",ve.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:ve=>{ve.currentTarget.style.transform="translateY(0) scale(1)",ve.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("p",{className:"text-sm mb-1",style:{color:"#666"},children:"Total Entri"}),a.jsx("p",{className:"text-3xl font-bold",style:{color:"#133E87"},children:fe})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:ve=>{ve.currentTarget.style.transform="translateY(-4px) scale(1.02)",ve.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:ve=>{ve.currentTarget.style.transform="translateY(0) scale(1)",ve.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("p",{className:"text-sm mb-1",style:{color:"#666"},children:"Dipublikasi"}),a.jsx("p",{className:"text-3xl font-bold",style:{color:"#133E87"},children:Ie})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:ve=>{ve.currentTarget.style.transform="translateY(-4px) scale(1.02)",ve.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:ve=>{ve.currentTarget.style.transform="translateY(0) scale(1)",ve.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("p",{className:"text-sm mb-1",style:{color:"#666"},children:"Draft"}),a.jsx("p",{className:"text-3xl font-bold",style:{color:"#133E87"},children:ke})]})]}),a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(Lt,{placeholder:"Cari jenis ikan...",className:"pl-10",value:o,onChange:ve=>l(ve.target.value)})]}),a.jsxs(In,{value:c,onValueChange:u,children:[a.jsx(kn,{id:"difficulty-filter",children:a.jsx(Ln,{placeholder:"Filter Kesulitan"})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Semua",children:"Semua"}),a.jsx(Oe,{value:"Mudah",children:"Mudah"}),a.jsx(Oe,{value:"Menengah",children:"Menengah"}),a.jsx(Oe,{value:"Sulit",children:"Sulit"})]})]}),a.jsxs(Ue,{className:"text-white",style:{backgroundColor:"#133E87"},onClick:()=>f(!0),children:[a.jsx(sf,{className:"w-4 h-4 mr-2"}),"Tambah Entri Baru"]})]})}),a.jsx(Je,{className:"overflow-hidden transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs(S2,{children:[a.jsx(_2,{children:a.jsxs(El,{children:[a.jsx($n,{children:"ID"}),a.jsx($n,{children:"Nama"}),a.jsx($n,{children:"Nama Ilmiah"}),a.jsx($n,{children:"Kategori"}),a.jsx($n,{children:"Kesulitan"}),a.jsx($n,{children:"Status"}),a.jsx($n,{children:"Views"}),a.jsx($n,{children:"Terakhir Diupdate"}),a.jsx($n,{children:"Aksi"})]})}),a.jsxs(A2,{children:[ue.map(ve=>a.jsxs(El,{children:[a.jsxs(Bn,{children:["#",ve.id]}),a.jsx(Bn,{style:{color:"#133E87"},children:ve.name}),a.jsx(Bn,{className:"italic text-gray-600",children:ve.scientificName}),a.jsx(Bn,{children:a.jsx(Rt,{variant:"outline",children:ve.category})}),a.jsx(Bn,{children:ve.difficulty==="Mudah"?a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Mudah"}):ve.difficulty==="Menengah"?a.jsx(Rt,{className:"bg-yellow-100 text-yellow-800",children:"Menengah"}):a.jsx(Rt,{className:"bg-red-100 text-red-800",children:"Sulit"})}),a.jsx(Bn,{children:ve.status==="published"?a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Published"}):a.jsx(Rt,{className:"bg-gray-100 text-gray-800",children:"Draft"})}),a.jsx(Bn,{className:"text-gray-600",children:ve.views}),a.jsx(Bn,{className:"text-gray-600",children:ve.lastUpdated}),a.jsx(Bn,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>G(ve),className:"hover:bg-gray-100",children:a.jsx(ka,{className:"w-4 h-4",style:{color:"#608BC1"}})}),a.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>ge(ve),className:"hover:bg-gray-100",children:a.jsx(ym,{className:"w-4 h-4",style:{color:"#133E87"}})}),a.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>He(ve),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:a.jsx(zC,{className:"w-4 h-4"})})]})})]},ve.id)),ue.length===0&&a.jsx(El,{children:a.jsx(Bn,{colSpan:9,className:"text-center py-8 text-gray-500",children:"Tidak ada ikan ditemukan"})})]})]})}),a.jsx(pn,{open:h,onOpenChange:f,children:a.jsxs(hn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#133E87"},children:"Tambah Ikan Baru"})}),a.jsxs("form",{onSubmit:at,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-name",children:"Nama Ikan"}),a.jsx(Lt,{id:"add-name",value:j,onChange:ve=>R(ve.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-scientific",children:"Nama Ilmiah"}),a.jsx(Lt,{id:"add-scientific",value:k,onChange:ve=>D(ve.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-category",children:"Kategori"}),a.jsxs(In,{value:O,onValueChange:I,required:!0,children:[a.jsx(kn,{id:"add-category",children:a.jsx(Ln,{placeholder:"Pilih kategori"})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Air Tawar",children:"Air Tawar"}),a.jsx(Oe,{value:"Air Laut",children:"Air Laut"}),a.jsx(Oe,{value:"Air Payau",children:"Air Payau"})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-difficulty",children:"Kesulitan"}),a.jsxs(In,{value:U,onValueChange:K,required:!0,children:[a.jsx(kn,{id:"add-difficulty",children:a.jsx(Ln,{placeholder:"Pilih tingkat kesulitan"})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Mudah",children:"Mudah"}),a.jsx(Oe,{value:"Menengah",children:"Menengah"}),a.jsx(Oe,{value:"Sulit",children:"Sulit"})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-description",children:"Deskripsi"}),a.jsx(ad,{id:"add-description",value:$,onChange:ve=>re(ve.target.value),rows:4,required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-family",children:"Famili"}),a.jsx(Lt,{id:"add-family",value:Y,onChange:ve=>se(ve.target.value),placeholder:"Contoh: Cyprinidae, Poeciliidae",required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-habitat",children:"Habitat"}),a.jsx(ad,{id:"add-habitat",value:oe,onChange:ve=>le(ve.target.value),rows:3,required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-ph-min",children:"pH Minimum"}),a.jsx(Lt,{id:"add-ph-min",type:"number",step:"0.1",value:H,onChange:ve=>q(ve.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-ph-max",children:"pH Maximum"}),a.jsx(Lt,{id:"add-ph-max",type:"number",step:"0.1",value:Q,onChange:ve=>V(ve.target.value),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-temp-min",children:"Suhu Minimum (C)"}),a.jsx(Lt,{id:"add-temp-min",type:"number",value:ee,onChange:ve=>ce(ve.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-temp-max",children:"Suhu Maximum (C)"}),a.jsx(Lt,{id:"add-temp-max",type:"number",value:ne,onChange:ve=>be(ve.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-status",children:"Status"}),a.jsxs(In,{value:Ae,onValueChange:ve=>Se(ve),children:[a.jsx(kn,{id:"add-status",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"draft",children:"Draft"}),a.jsx(Oe,{value:"published",children:"Published"})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"add-image",children:"Gambar Ikan"}),a.jsxs("div",{className:"mt-2 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"file",id:"add-image",accept:"image/jpeg,image/png,image/jpg",onChange:Ve,required:!0,className:"hidden"}),a.jsxs(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("add-image")?.click(),children:[a.jsx(Pb,{className:"w-4 h-4 mr-2"}),"Upload Gambar"]}),a.jsx("span",{className:"text-sm text-gray-500",children:"Format: JPG, PNG (Max 2MB)"})]}),Ce&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:Ce,alt:"Preview",className:"w-32 h-32 object-cover rounded border"})})]})]}),a.jsxs(Oi,{className:"gap-2",children:[a.jsx(Ue,{type:"button",variant:"outline",onClick:()=>{f(!1),ze()},children:"Batal"}),a.jsx(Ue,{type:"submit",className:"text-white",style:{backgroundColor:"#133E87"},children:"Simpan"})]})]})]})}),a.jsx(pn,{open:m,onOpenChange:v,children:a.jsxs(hn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#133E87"},children:"Edit Ikan"})}),a.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-name",children:"Nama Ikan"}),a.jsx(Lt,{id:"edit-name",value:j,onChange:ve=>R(ve.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-scientific",children:"Nama Ilmiah"}),a.jsx(Lt,{id:"edit-scientific",value:k,onChange:ve=>D(ve.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-category",children:"Kategori"}),a.jsxs(In,{value:O,onValueChange:I,children:[a.jsx(kn,{id:"edit-category",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Air Tawar",children:"Air Tawar"}),a.jsx(Oe,{value:"Air Laut",children:"Air Laut"}),a.jsx(Oe,{value:"Air Payau",children:"Air Payau"})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-difficulty",children:"Kesulitan"}),a.jsxs(In,{value:U,onValueChange:K,children:[a.jsx(kn,{id:"edit-difficulty",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Mudah",children:"Mudah"}),a.jsx(Oe,{value:"Menengah",children:"Menengah"}),a.jsx(Oe,{value:"Sulit",children:"Sulit"})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-description",children:"Deskripsi"}),a.jsx(ad,{id:"edit-description",value:$,onChange:ve=>re(ve.target.value),rows:4,required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-family",children:"Famili"}),a.jsx(Lt,{id:"edit-family",value:Y,onChange:ve=>se(ve.target.value),placeholder:"Contoh: Cyprinidae, Poeciliidae",required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-habitat",children:"Habitat"}),a.jsx(ad,{id:"edit-habitat",value:oe,onChange:ve=>le(ve.target.value),rows:3,placeholder:"Masukkan habitat alami ikan",required:!0})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-ph-min",children:"pH Minimum"}),a.jsx(Lt,{id:"edit-ph-min",type:"number",step:"0.1",value:H,onChange:ve=>q(ve.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-ph-max",children:"pH Maximum"}),a.jsx(Lt,{id:"edit-ph-max",type:"number",step:"0.1",value:Q,onChange:ve=>V(ve.target.value),required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-temp-min",children:"Suhu Minimum (C)"}),a.jsx(Lt,{id:"edit-temp-min",type:"number",value:ee,onChange:ve=>ce(ve.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-temp-max",children:"Suhu Maximum (C)"}),a.jsx(Lt,{id:"edit-temp-max",type:"number",value:ne,onChange:ve=>be(ve.target.value),required:!0})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-status",children:"Status"}),a.jsxs(In,{value:Ae,onValueChange:ve=>Se(ve),children:[a.jsx(kn,{id:"edit-status",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"draft",children:"Draft"}),a.jsx(Oe,{value:"published",children:"Published"})]})]})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"edit-image",children:"Update Gambar Ikan"}),a.jsxs("div",{className:"mt-2 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("input",{type:"file",id:"edit-image",accept:"image/jpeg,image/png,image/jpg",onChange:Ve,className:"hidden"}),a.jsxs(Ue,{type:"button",variant:"outline",size:"sm",onClick:()=>document.getElementById("edit-image")?.click(),children:[a.jsx(Pb,{className:"w-4 h-4 mr-2"}),"Upload Gambar Baru"]}),a.jsx("span",{className:"text-sm text-gray-500",children:"Format: JPG, PNG (Max 2MB)"})]}),Ce&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:Ce,alt:"Preview",className:"w-32 h-32 object-cover rounded border"})})]})]}),a.jsxs(Oi,{className:"gap-2",children:[a.jsx(Ue,{type:"button",variant:"outline",onClick:()=>{v(!1),C(null),ze()},children:"Batal"}),a.jsx(Ue,{type:"submit",className:"text-white",style:{backgroundColor:"#133E87"},children:"Simpan Perubahan"})]})]})]})}),a.jsx(pn,{open:y,onOpenChange:S,children:a.jsxs(hn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",style:{backgroundColor:"#F3F3E0",border:"none"},children:[a.jsx(gr,{className:"border-b pb-4",style:{borderColor:"#CBDCEB"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(cr,{className:"text-2xl font-bold",style:{color:"#133E87"},children:"Detail Ikan"}),E&&a.jsx("p",{className:"text-sm italic text-gray-600 mt-1",children:E.scientificName})]}),E&&a.jsx("div",{children:E.status==="published"?a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Published"}):a.jsx(Rt,{className:"bg-gray-100 text-gray-800",children:"Draft"})})]})}),E&&a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"grid md:grid-cols-4 gap-3",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Nama Ikan"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:E.name})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Famili"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:E.family||"N/A"})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Kategori"}),a.jsx("p",{className:"font-medium mt-1",style:{color:"#133E87"},children:E.category})]}),a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("span",{className:"text-xs font-semibold",style:{color:"#636E72"},children:"Kesulitan"}),a.jsx("div",{className:"mt-1",children:E.difficulty==="Mudah"?a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Mudah"}):E.difficulty==="Menengah"?a.jsx(Rt,{className:"bg-yellow-100 text-yellow-800",children:"Menengah"}):a.jsx(Rt,{className:"bg-red-100 text-red-800",children:"Sulit"})})]})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#133E87"},children:" Deskripsi"}),a.jsx("p",{className:"leading-relaxed text-sm",style:{color:"#636E72"},children:E.description||"Tidak ada deskripsi"})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-3",style:{color:"#133E87"},children:" Habitat"}),a.jsx("p",{className:"leading-relaxed text-sm",style:{color:"#636E72"},children:E.habitat||"Tidak ada informasi habitat"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-4",style:{color:"#133E87"},children:" Parameter Air"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"pH Range"}),a.jsxs("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:[E.phMin," - ",E.phMax]})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Suhu"}),a.jsxs("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:[E.tempMin,"C - ",E.tempMax,"C"]})]})]})]}),a.jsxs("div",{className:"p-5 rounded-lg",style:{backgroundColor:"white"},children:[a.jsx("h3",{className:"text-base font-bold mb-4",style:{color:"#133E87"},children:" Statistik"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center py-2 border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Views"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:E.views})]}),a.jsxs("div",{className:"flex justify-between items-center py-2",children:[a.jsx("span",{className:"text-sm font-medium",style:{color:"#636E72"},children:"Last Updated"}),a.jsx("span",{className:"font-semibold text-sm",style:{color:"#133E87"},children:E.lastUpdated})]})]})]})]})]}),a.jsx(Oi,{children:a.jsx(Ue,{variant:"outline",onClick:()=>{S(!1),C(null)},children:"Tutup"})})]})}),a.jsx(pn,{open:b,onOpenChange:_,children:a.jsxs(hn,{className:"max-w-md",children:[a.jsxs(gr,{children:[a.jsx(cr,{style:{color:"#133E87"},children:"Konfirmasi Hapus"}),a.jsxs(b2,{children:["Apakah Anda yakin ingin menghapus entri ",a.jsx("strong",{children:E?.name}),"? Tindakan ini tidak dapat dibatalkan."]})]}),a.jsxs(Oi,{className:"gap-2",children:[a.jsx(Ue,{variant:"outline",onClick:()=>{_(!1),C(null)},children:"Batal"}),a.jsx(Ue,{className:"bg-red-600 text-white hover:bg-red-700",onClick:z,children:"Hapus"})]})]})})]})}function gxe(){const[t,e]=N.useState("topics"),[n,r]=N.useState([]),[i,s]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState(""),[h,f]=N.useState("Pending"),[m,v]=N.useState("Semua"),[y,S]=N.useState(!1),[b,_]=N.useState(null),[E,C]=N.useState(null),[j,R]=N.useState(""),[k,D]=N.useState(!1),[O,I]=N.useState(!1),[U,K]=N.useState(!1),[$,re]=N.useState(null),[Y,se]=N.useState(null),[oe,le]=N.useState(""),[H,q]=N.useState({title:"",description:""});N.useEffect(()=>{t==="topics"?Q():V()},[t,h,m]);const Q=async()=>{try{l(!0);const z=m==="Semua"?void 0:m,G=await Is.getTopics(z,void 0);G.success&&r(G.topics||[])}catch(z){console.error(" Error loading topics:",z),r([])}finally{l(!1)}},V=async()=>{try{l(!0);let z="pending";h==="Disetujui"?z="approved":h==="Ditolak"?z="rejected":h==="Semua Status"&&(z="all");const G=await Is.getReports(z);G.success&&s(G.reports||[])}catch(z){console.error(" Error loading reports:",z),s([])}finally{l(!1)}},ee=()=>i.filter(z=>z.topic_title?.toLowerCase().includes(c.toLowerCase())||z.reporter_name?.toLowerCase().includes(c.toLowerCase())||z.reason.toLowerCase().includes(c.toLowerCase())||z.description?.toLowerCase().includes(c.toLowerCase())),ce=z=>{const G=["Konten tidak pantas","Harassment","Penipuan"],ge=["Informasi menyesatkan","Spam komersial"];return G.some(He=>z.includes(He))?"high":ge.some(He=>z.includes(He))?"medium":"low"},ne=z=>{const G={high:{backgroundColor:"#fee2e2",color:"#dc2626"},medium:{backgroundColor:"#fef3c7",color:"#d97706"},low:{backgroundColor:"#dbeafe",color:"#2563eb"}},ge={high:"Tinggi",medium:"Sedang",low:"Rendah"};return a.jsx(Rt,{style:G[z],children:ge[z]})},be=i.filter(z=>z.status==="pending").length,Ae=i.filter(z=>z.status==="approved").length,Se=i.filter(z=>z.status==="rejected").length,pe=[{label:"Laporan Pending",value:be.toString(),color:"#f59e0b"},{label:"Disetujui",value:Ae.toString(),color:"#10b981"},{label:"Ditolak",value:Se.toString(),color:"#ef4444"}],X=(z,G,ge,He)=>{re(z),se(G),q({title:ge,description:He}),I(!0)},Ce=z=>{X("approve",z,"Apakah Anda yakin ingin menyetujui laporan ini?","Topik akan DIHAPUS PERMANEN.")},Ge=async z=>{try{D(!0),(await Is.approveReport(z,j)).success&&(I(!1),S(!1),_(null),R(""),le("Laporan disetujui dan topik berhasil dihapus"),K(!0),V())}catch(G){console.error("Error approving report:",G),I(!1),le(G.response?.data?.error||"Gagal menyetujui laporan"),K(!0)}finally{D(!1)}},J=z=>{X("reject",z,"Apakah Anda yakin ingin menolak laporan ini?","Topik akan TETAP ADA.")},ue=async z=>{try{D(!0),(await Is.rejectReport(z,j)).success&&(I(!1),S(!1),_(null),R(""),le("Laporan ditolak. Topik tetap dipertahankan."),K(!0),V())}catch(G){console.error("Error rejecting report:",G),I(!1),le(G.response?.data?.error||"Gagal menolak laporan"),K(!0)}finally{D(!1)}},fe=z=>{X("delete",z,"Apakah Anda yakin ingin menghapus topik ini?","Tindakan ini tidak dapat dibatalkan.")},Ie=async z=>{try{D(!0);const G=await Is.deleteTopic(z);(G.message||G.success)&&(I(!1),S(!1),C(null),le("Topik berhasil dihapus"),K(!0),Q())}catch(G){console.error("Error deleting topic:",G),I(!1),le(G.response?.data?.error||"Gagal menghapus topik"),K(!0)}finally{D(!1)}},ke=z=>{_(z),R(""),S(!0)},at=z=>new Date(z).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"}),$e=n.filter(z=>z.title?.toLowerCase().includes(c.toLowerCase())||z.content?.toLowerCase().includes(c.toLowerCase())||z.user?.name?.toLowerCase().includes(c.toLowerCase()));return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:pe.map((z,G)=>a.jsxs(Je,{className:"p-6",style:{backgroundColor:"white"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:z.label}),a.jsx("p",{className:"text-3xl",style:{color:z.color},children:z.value})]},G))}),a.jsxs(Wm,{value:t,onValueChange:e,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Yc,{className:"h-auto p-0 bg-transparent",children:a.jsx(ns,{value:"topics",className:"w-full data-[state=active]:bg-[#F3F3E0] data-[state=active]:border-2 data-[state=active]:border-[#4880FF] data-[state=active]:shadow-lg data-[state=inactive]:bg-white data-[state=inactive]:border-2 data-[state=inactive]:border-transparent hover:border-[#CBDCEB] p-6 rounded-xl transition-all shadow-sm h-auto",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(od,{className:"w-6 h-6",style:{color:"#4880FF"}}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{style:{color:"#4880FF"},children:"Forum Temanikan"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Kelola semua topik forum"})]})]})})}),a.jsx(Yc,{className:"h-auto p-0 bg-transparent",children:a.jsx(ns,{value:"moderation",className:"w-full data-[state=active]:bg-[#F3F3E0] data-[state=active]:border-2 data-[state=active]:border-[#4880FF] data-[state=active]:shadow-lg data-[state=inactive]:bg-white data-[state=inactive]:border-2 data-[state=inactive]:border-transparent hover:border-[#CBDCEB] p-6 rounded-xl transition-all shadow-sm h-auto",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(Zw,{className:"w-6 h-6",style:{color:"#4880FF"}}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{style:{color:"#4880FF"},children:"Moderasi Forum"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Kelola laporan & moderasi"})]})]})})})]}),a.jsxs(Jc,{value:"topics",className:"space-y-6 mt-6",children:[a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:z=>{z.currentTarget.style.transform="translateY(-4px)",z.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:z=>{z.currentTarget.style.transform="translateY(0)",z.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(Lt,{placeholder:"Cari topik forum...",className:"pl-10",value:c,onChange:z=>u(z.target.value)})]}),a.jsxs(In,{value:m,onValueChange:v,children:[a.jsx(kn,{className:"w-full md:w-[200px]",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Semua",children:"Semua"}),a.jsx(Oe,{value:"Panduan",children:"Panduan"}),a.jsx(Oe,{value:"Kesehatan",children:"Kesehatan"}),a.jsx(Oe,{value:"Peralatan",children:"Peralatan"}),a.jsx(Oe,{value:"Breeding",children:"Breeding"}),a.jsx(Oe,{value:"Diskusi Umum",children:"Diskusi Umum"})]})]})]})}),o?a.jsxs(Je,{className:"p-12 text-center transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat topik forum..."})]}):$e.length===0?a.jsxs(Je,{className:"p-12 text-center transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx(od,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"Tidak ada topik forum"})]}):a.jsx("div",{className:"space-y-4",children:$e.map(z=>a.jsx(Je,{className:"p-6",style:{backgroundColor:"white"},children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 rounded-lg flex-shrink-0",style:{backgroundColor:"#CBDCEB"},children:a.jsx(od,{className:"w-6 h-6",style:{color:"#608BC1"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-start justify-between mb-3",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{style:{color:"#133E87"},children:z.title}),z.is_pinned&&a.jsx(Rt,{className:"bg-yellow-100 text-yellow-800",children:"Disematkan"})]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsxs("span",{children:["Oleh: ",z.user?.name||"Anonymous"]}),a.jsx("span",{children:""}),a.jsx(Rt,{variant:"outline",style:{backgroundColor:"rgba(72, 128, 255, 0.1)",color:"#4880FF"},children:z.category||"Umum"}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(z.updated_at).toLocaleDateString("id-ID")})]})]})}),a.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:z.content}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[a.jsxs("span",{children:[z.reply_count||0," balasan"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:[z.like_count||0," suka"]})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[a.jsxs(Ue,{size:"sm",variant:"outline",onClick:()=>{C(z),S(!0)},children:[a.jsx(ka,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]}),a.jsxs(Ue,{size:"sm",variant:"destructive",onClick:()=>fe(z.id),disabled:k,children:[a.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Hapus Topik"]})]})]})]})},z.id))})]}),a.jsxs(Jc,{value:"moderation",className:"space-y-6 mt-6",children:[a.jsx(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:z=>{z.currentTarget.style.transform="translateY(-4px)",z.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:z=>{z.currentTarget.style.transform="translateY(0)",z.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(Lt,{placeholder:"Cari konten yang dilaporkan...",className:"pl-10",value:c,onChange:z=>u(z.target.value)})]}),a.jsxs(In,{value:h,onValueChange:f,children:[a.jsx(kn,{className:"w-full md:w-[200px]",children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"Semua Status",children:"Semua Status"}),a.jsx(Oe,{value:"Pending",children:"Pending"}),a.jsx(Oe,{value:"Disetujui",children:"Disetujui"}),a.jsx(Oe,{value:"Ditolak",children:"Ditolak"})]})]})]})}),o?a.jsx(Je,{className:"p-12 text-center transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsx("p",{style:{color:"#6B7280"},children:"Memuat laporan..."})}):ee().length===0?a.jsxs(Je,{className:"p-12 text-center transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx(Zw,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{style:{color:"#6B7280"},children:"Tidak ada konten yang dilaporkan"})]}):a.jsx("div",{className:"space-y-4",children:ee().map(z=>{const G=ce(z.reason);return a.jsx(Je,{className:"p-6",style:{backgroundColor:"white"},children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-3 rounded-lg flex-shrink-0",style:{backgroundColor:"#CBDCEB"},children:a.jsx(Zw,{className:"w-6 h-6",style:{color:"#608BC1"}})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("h4",{style:{color:"#133E87",fontWeight:600},children:z.topic_title||"Topik Tidak Ditemukan"}),ne(G)]}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[a.jsxs("span",{children:["Penulis: ",z.topic?.author?.name||"Anonymous"]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Dilaporkan oleh: ",z.reporter_name||"Anonymous"]}),a.jsx("span",{children:""}),a.jsx("span",{children:at(z.created_at)})]})]}),z.status==="pending"&&a.jsx(Rt,{className:"bg-yellow-100 text-yellow-800",children:"Pending"}),z.status==="approved"&&a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Disetujui"}),z.status==="rejected"&&a.jsx(Rt,{className:"bg-red-100 text-red-800",children:"Ditolak"})]}),a.jsxs("div",{className:"p-3 rounded-lg mb-4",style:{backgroundColor:"#F3F3E0"},children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("strong",{children:"Alasan Laporan:"})," ",z.reason]}),z.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:z.description})]}),z.status==="pending"?a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Ue,{size:"sm",variant:"outline",className:"text-gray-700",onClick:()=>ke(z),children:[a.jsx(ka,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]}),a.jsxs(Ue,{size:"sm",className:"text-white",style:{backgroundColor:"#10b981"},onClick:()=>Ce(z.id),disabled:k,children:[a.jsx(lr,{className:"w-4 h-4 mr-2"}),"Setujui"]}),a.jsxs(Ue,{size:"sm",variant:"destructive",onClick:()=>J(z.id),disabled:k,children:[a.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Tolak & Hapus"]})]}):a.jsxs(Ue,{size:"sm",variant:"outline",className:"text-gray-700",onClick:()=>ke(z),children:[a.jsx(ka,{className:"w-4 h-4 mr-2"}),"Lihat Detail"]})]})]})},z.id)})}),a.jsx(pn,{open:y,onOpenChange:S,children:a.jsxs(hn,{className:"max-w-lg max-h-[90vh] overflow-hidden",style:{backgroundColor:"white"},children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#133E87"},children:"Detail Laporan"})}),b&&a.jsxs("div",{className:"space-y-3 max-h-[60vh] overflow-y-auto pr-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Judul"}),a.jsx("p",{className:"text-sm",style:{color:"#133E87"},children:b.topic_title||"Topik Tidak Ditemukan"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tipe"}),a.jsx(Rt,{variant:"outline",className:"text-xs",children:"Post"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tingkat Keparahan"}),ne(ce(b.reason))]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Penulis"}),a.jsx("p",{className:"text-sm text-gray-700",children:b.topic?.author?.name||"Anonymous"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Dilaporkan oleh"}),a.jsx("p",{className:"text-sm text-gray-700",children:b.reporter_name||"Anonymous"})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Alasan Laporan"}),a.jsxs("div",{className:"p-2.5 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:[a.jsx("p",{className:"text-sm text-gray-700",children:b.reason}),b.description&&a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:b.description})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Konten"}),a.jsxs("div",{className:"p-3 rounded-lg border max-h-[150px] overflow-y-auto",style:{borderColor:"#CBDCEB",backgroundColor:"#F5F6FA"},children:[a.jsx("p",{className:"text-sm text-gray-700 font-medium mb-1",children:b.topic?.title}),a.jsx("p",{className:"text-sm text-gray-700 line-clamp-3",children:b.topic?.content||"Konten tidak tersedia"}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-gray-600",children:[a.jsxs("span",{children:["Kategori: ",b.topic?.category]}),a.jsx("span",{children:""}),a.jsxs("span",{children:["Balasan: ",b.topic?.reply_count||0]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tanggal Laporan"}),a.jsx("p",{className:"text-sm text-gray-700",children:at(b.created_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),b.status==="pending"&&a.jsx(Rt,{className:"bg-yellow-100 text-yellow-800 text-xs",children:"Pending"}),b.status==="approved"&&a.jsx(Rt,{className:"bg-green-100 text-green-800 text-xs",children:"Disetujui"}),b.status==="rejected"&&a.jsx(Rt,{className:"bg-red-100 text-red-800 text-xs",children:"Ditolak"})]})]}),b.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-3 rounded-lg border-l-4",style:{borderColor:"#f59e0b",backgroundColor:"#fef3c7"},children:a.jsxs("p",{className:"text-xs text-yellow-800",children:[a.jsx("strong",{children:"Tindakan diperlukan:"})," Konten ini menunggu keputusan moderasi Anda."]})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Catatan Admin (Opsional)"}),a.jsx(ad,{value:j,onChange:z=>R(z.target.value),placeholder:"Tambahkan catatan tentang keputusan Anda...",rows:2,className:"text-sm"})]})]}),b.admin_notes&&a.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:[a.jsx("p",{className:"text-xs font-medium mb-1",style:{color:"#133E87"},children:"Catatan Admin:"}),a.jsx("p",{className:"text-sm text-gray-700",children:b.admin_notes})]})]}),a.jsxs(Oi,{className:"gap-2 mt-4 flex-row justify-end",children:[b?.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(Ue,{size:"sm",className:"text-white",style:{backgroundColor:"#10b981"},onClick:()=>Ce(b.id),disabled:k,children:[a.jsx(lr,{className:"w-4 h-4 mr-1"}),k?"Memproses...":"Setujui"]}),a.jsxs(Ue,{size:"sm",variant:"destructive",onClick:()=>J(b.id),disabled:k,children:[a.jsx(Vo,{className:"w-4 h-4 mr-1"}),k?"Memproses...":"Tolak & Hapus"]})]}),a.jsx(Ue,{size:"sm",variant:"outline",onClick:()=>{S(!1),_(null),R("")},disabled:k,children:"Tutup"})]})]})})]})]}),a.jsx(pn,{open:y&&E!==null,onOpenChange:z=>{z||(S(!1),C(null))},children:a.jsxs(hn,{className:"max-w-2xl",style:{backgroundColor:"white"},children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#133E87"},children:"Detail Topik Forum"})}),E&&a.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Judul Topik"}),a.jsx("p",{style:{color:"#133E87",fontWeight:600},children:E.title})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Kategori"}),a.jsx(Rt,{variant:"outline",style:{backgroundColor:"rgba(72, 128, 255, 0.1)",color:"#4880FF"},children:E.category||"Umum"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),E.is_pinned&&a.jsx(Rt,{className:"bg-yellow-100 text-yellow-800",children:"Disematkan"}),E.is_locked&&a.jsx(Rt,{className:"bg-red-100 text-red-800",children:"Terkunci"}),!E.is_pinned&&!E.is_locked&&a.jsx(Rt,{className:"bg-green-100 text-green-800",children:"Aktif"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Penulis"}),a.jsx("p",{className:"text-gray-700",children:E.user?.name||"Anonymous"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["User ID: ",E.user_id]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Email Penulis"}),a.jsx("p",{className:"text-gray-700 text-sm",children:E.user?.email||"-"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tanggal Dibuat"}),a.jsx("p",{className:"text-sm text-gray-700",children:new Date(E.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Terakhir Diupdate"}),a.jsx("p",{className:"text-sm text-gray-700",children:new Date(E.updated_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Konten Topik"}),a.jsx("div",{className:"p-4 rounded-lg border",style:{borderColor:"#CBDCEB",backgroundColor:"#F5F6FA"},children:a.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:E.content})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Balasan"}),a.jsx("p",{className:"text-2xl",style:{color:"#4880FF"},children:E.reply_count||0})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Suka"}),a.jsx("p",{className:"text-2xl",style:{color:"#ef4444"},children:E.like_count||0})]})]}),E.replies&&E.replies.length>0&&a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Balasan (",E.replies.length,")"]}),a.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:E.replies.map(z=>a.jsxs("div",{className:"p-3 rounded-lg border",style:{borderColor:"#E5E7EB",backgroundColor:"white"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"text-sm font-semibold",style:{color:"#133E87"},children:z.user?.name||"Anonymous"}),a.jsx("span",{className:"text-xs text-gray-500",children:new Date(z.created_at).toLocaleDateString("id-ID")})]}),a.jsx("p",{className:"text-sm text-gray-700",children:z.content})]},z.id))})]})]}),a.jsxs(Oi,{className:"gap-2 mt-6",children:[a.jsxs(Ue,{variant:"destructive",onClick:()=>{S(!1),fe(E.id)},disabled:k,children:[a.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Hapus Topik"]}),a.jsx(Ue,{variant:"outline",onClick:()=>{S(!1),C(null)},children:"Tutup"})]})]})}),a.jsx(pn,{open:O,onOpenChange:I,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#FEF3C7"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#F59E0B"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:H.title}),a.jsx("p",{className:"text-gray-600 mb-6",children:H.description}),a.jsxs("div",{className:"flex gap-3 w-full",children:[a.jsx(Ue,{onClick:()=>{I(!1),$==="approve"?Ge(Y):$==="reject"?ue(Y):$==="delete"&&Ie(Y)},className:"flex-1 text-white font-semibold",style:{backgroundColor:"#EF4444"},disabled:k,children:k?"Memproses...":"OK"}),a.jsx(Ue,{onClick:()=>I(!1),variant:"outline",className:"flex-1",disabled:k,children:"Cancel"})]})]})})}),a.jsx(pn,{open:U,onOpenChange:K,children:a.jsx(hn,{className:"sm:max-w-md",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-6",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center mb-4",style:{backgroundColor:"#CBFFA9"},children:a.jsx("svg",{className:"w-8 h-8",style:{color:"#133E87"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-xl font-bold mb-2",style:{color:"#133E87"},children:oe}),a.jsx(Ue,{onClick:()=>K(!1),className:"w-full text-white font-semibold mt-4",style:{backgroundColor:"#4880FF"},children:"OK"})]})})})]})}function xxe(){return a.jsxs("div",{className:"space-y-6 max-w-4xl",children:[a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(eo,{className:"w-6 h-6",style:{color:"#608BC1"}}),a.jsx("h3",{style:{color:"#133E87"},children:"Notifikasi Admin"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Notifikasi Pengguna Baru"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Terima notifikasi saat ada pendaftaran baru"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Laporan Aktivitas Harian"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Ringkasan aktivitas sistem setiap hari"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Peringatan Error Sistem"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Notifikasi segera saat terjadi error"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Status Robot Global"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Update status semua robot yang terhubung"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Konten Baru Forum"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Notifikasi untuk moderasi konten baru"})]}),a.jsx(qn,{})]})]})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(Zz,{className:"w-6 h-6",style:{color:"#608BC1"}}),a.jsx("h3",{style:{color:"#133E87"},children:"Notifikasi Email Admin"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Email Harian"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Terima ringkasan email setiap hari"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Laporan Mingguan"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Laporan lengkap sistem setiap minggu"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Alert Kritis"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Email segera untuk masalah kritis"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2",style:{color:"#133E87"},children:"Waktu Pengiriman Laporan Harian"}),a.jsxs(In,{defaultValue:"morning",children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"morning",children:"Pagi (08:00)"}),a.jsx(Oe,{value:"afternoon",children:"Siang (13:00)"}),a.jsx(Oe,{value:"evening",children:"Sore (17:00)"})]})]})]})]})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(la,{className:"w-6 h-6",style:{color:"#608BC1"}}),a.jsx("h3",{style:{color:"#133E87"},children:"Pengaturan Peringatan Sistem"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Database Error"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Alert saat terjadi masalah database"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"API Failure"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Alert saat API eksternal gagal"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"High Server Load"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Peringatan saat beban server tinggi"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Storage Warning"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Alert saat storage hampir penuh"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2",style:{color:"#133E87"},children:"Tingkat Prioritas Minimum"}),a.jsxs(In,{defaultValue:"medium",children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"low",children:"Rendah"}),a.jsx(Oe,{value:"medium",children:"Sedang"}),a.jsx(Oe,{value:"high",children:"Tinggi"}),a.jsx(Oe,{value:"critical",children:"Kritis"})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Hanya tampilkan alert dengan prioritas ini atau lebih tinggi"})]})]})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:t=>{t.currentTarget.style.transform="translateY(-4px)",t.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:t=>{t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[a.jsx(eo,{className:"w-6 h-6",style:{color:"#608BC1"}}),a.jsx("h3",{style:{color:"#133E87"},children:"Kontrol Notifikasi Pengguna"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Izinkan Notifikasi Email"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pengguna dapat menerima notifikasi email"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Izinkan Push Notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pengguna dapat menerima push notification"})]}),a.jsx(qn,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{style:{color:"#133E87"},children:"Notifikasi Broadcast"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Kirim notifikasi ke semua pengguna aktif"})]}),a.jsx(qn,{})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block mb-2",style:{color:"#133E87"},children:"Batas Notifikasi per Hari"}),a.jsxs(In,{defaultValue:"20",children:[a.jsx(kn,{children:a.jsx(Ln,{})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"10",children:"10 notifikasi"}),a.jsx(Oe,{value:"20",children:"20 notifikasi"}),a.jsx(Oe,{value:"50",children:"50 notifikasi"}),a.jsx(Oe,{value:"unlimited",children:"Unlimited"})]})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Batasi jumlah notifikasi yang diterima pengguna per hari"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ue,{className:"text-white",style:{backgroundColor:"#133E87"},children:"Simpan Semua Pengaturan"})})]})}function vxe(){const[t,e]=N.useState(!1),[n,r]=N.useState({namaLengkap:"Admin Temanikan",email:"admin@temanikan.com",nomorHP:"+62 811 1234 5678",jabatan:"Administrator Sistem"}),[i,s]=N.useState({...n}),o=()=>{e(!0),s({...n})},l=()=>{e(!1),s({...n})},c=()=>{r({...i}),e(!1)},u=(h,f)=>{s({...i,[h]:f})};return a.jsxs("div",{className:"max-w-3xl space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#CBDCEB"},children:a.jsx(Wc,{className:"w-8 h-8",style:{color:"#608BC1"}})}),a.jsxs("div",{children:[a.jsx("h2",{style:{color:"#133E87"},children:"Profil Admin"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Kelola informasi profil administrator"})]})]}),t?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ue,{variant:"outline",onClick:l,children:[a.jsx(md,{className:"w-4 h-4 mr-2"}),"Batal"]}),a.jsxs(Ue,{className:"text-white",style:{backgroundColor:"#133E87"},onClick:c,children:[a.jsx(YB,{className:"w-4 h-4 mr-2"}),"Simpan Perubahan"]})]}):a.jsxs(Ue,{className:"text-white",style:{backgroundColor:"#133E87"},onClick:o,children:[a.jsx(ym,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-4px)",h.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-6",style:{color:"#133E87"},children:"Informasi Personal"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"namaLengkap",children:"Nama Lengkap"}),t?a.jsx(Lt,{id:"namaLengkap",value:i.namaLengkap,onChange:h=>u("namaLengkap",h.target.value),className:"mt-2"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:n.namaLengkap})})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"email",children:"Email"}),t?a.jsx(Lt,{id:"email",type:"email",value:i.email,onChange:h=>u("email",h.target.value),className:"mt-2"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:n.email})})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"nomorHP",children:"Nomor HP"}),t?a.jsx(Lt,{id:"nomorHP",type:"tel",value:i.nomorHP,onChange:h=>u("nomorHP",h.target.value),className:"mt-2"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:n.nomorHP})})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"jabatan",children:"Jabatan"}),t?a.jsx(Lt,{id:"jabatan",value:i.jabatan,onChange:h=>u("jabatan",h.target.value),className:"mt-2"}):a.jsx("div",{className:"mt-2 p-3 rounded-lg",style:{backgroundColor:"#F3F3E0"},children:a.jsx("p",{style:{color:"#133E87"},children:n.jabatan})})]})]})]}),a.jsxs(Je,{className:"p-6 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:h=>{h.currentTarget.style.transform="translateY(-4px)",h.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:h=>{h.currentTarget.style.transform="translateY(0)",h.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#133E87"},children:"Informasi Akun"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Role"}),a.jsx("span",{style:{color:"#133E87"},children:"Administrator"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Status"}),a.jsx("span",{className:"text-green-600",children:"Aktif"})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-600",children:"Level Akses"}),a.jsx("span",{style:{color:"#133E87"},children:"Full Access"})]})]})]})]})}function yxe(){const[t]=N.useState([{id:1,title:"Pengguna baru terdaftar",message:"Ahmad Wijaya telah mendaftar sebagai member premium.",time:"5 menit yang lalu",type:"info",read:!1},{id:2,title:"Robot error pada pengguna",message:"Robot ID #1234 mengalami error pada akuarium milik Budi Santoso.",time:"1 jam yang lalu",type:"alert",read:!1},{id:3,title:"Laporan penyakit meningkat",message:"Terjadi peningkatan kasus white spot disease sebesar 15% minggu ini.",time:"2 jam yang lalu",type:"warning",read:!1},{id:4,title:"Pemeliharaan sistem selesai",message:"Pemeliharaan rutin server telah selesai. Semua sistem berjalan normal.",time:"3 jam yang lalu",type:"success",read:!0},{id:5,title:"Permintaan bantuan dari pengguna",message:"Siti Nurhaliza meminta bantuan teknis melalui forum.",time:"5 jam yang lalu",type:"info",read:!0},{id:6,title:"Update konten Fishpedia",message:"Konten baru untuk 5 spesies ikan telah ditambahkan ke database.",time:"1 hari yang lalu",type:"success",read:!0},{id:7,title:"Aktivitas mencurigakan",message:"Terdeteksi multiple login attempts dari IP yang sama pada akun admin.",time:"1 hari yang lalu",type:"alert",read:!0},{id:8,title:"Kapasitas server meningkat",message:"Penggunaan server mencapai 85%. Pertimbangkan untuk upgrade kapasitas.",time:"2 hari yang lalu",type:"warning",read:!0},{id:9,title:"Backup data berhasil",message:"Backup database otomatis telah selesai tanpa error.",time:"2 hari yang lalu",type:"success",read:!0},{id:10,title:"100 pengguna aktif",message:"Sistem mencapai milestone 100 pengguna aktif harian.",time:"3 hari yang lalu",type:"success",read:!0}]),[e,n]=N.useState("semua"),r=()=>{switch(e){case"belum-dibaca":return t.filter(c=>!c.read);case"sudah-dibaca":return t.filter(c=>c.read);default:return t}},i=c=>{switch(c){case"alert":return a.jsx(la,{className:"w-5 h-5 text-red-500"});case"warning":return a.jsx(la,{className:"w-5 h-5 text-yellow-500"});case"success":return a.jsx(lr,{className:"w-5 h-5 text-green-500"});default:return a.jsx(GC,{className:"w-5 h-5 text-blue-500"})}},s=c=>{switch(c){case"alert":return"bg-red-100 text-red-800";case"warning":return"bg-yellow-100 text-yellow-800";case"success":return"bg-green-100 text-green-800";default:return"bg-blue-100 text-blue-800"}},o=t.filter(c=>!c.read).length,l=t.filter(c=>c.read).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(eo,{className:"w-8 h-8",style:{color:"#133E87"}}),a.jsxs("div",{children:[a.jsx("h2",{style:{color:"#133E87"},children:"Semua Notifikasi"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[o," notifikasi belum dibaca"]})]})]}),a.jsx(mr,{to:"/admin",children:a.jsxs(Ue,{className:"bg-gray-100 text-gray-600 hover:bg-gray-200",children:[a.jsx(W1,{className:"w-4 h-4 mr-2"}),"Kembali ke Dashboard"]})})]}),a.jsx(Je,{className:"transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs(Wm,{defaultValue:"semua",onValueChange:n,children:[a.jsx("div",{className:"border-b px-6 pt-6",style:{borderColor:"#CBDCEB"},children:a.jsxs(Yc,{className:"w-full justify-start",style:{backgroundColor:"#F3F3E0"},children:[a.jsxs(ns,{value:"semua",className:"data-[state=active]:bg-white",children:["Semua (",t.length,")"]}),a.jsxs(ns,{value:"belum-dibaca",className:"data-[state=active]:bg-white",children:["Belum Dibaca (",o,")"]}),a.jsxs(ns,{value:"sudah-dibaca",className:"data-[state=active]:bg-white",children:["Sudah Dibaca (",l,")"]})]})}),a.jsx(Jc,{value:e,className:"p-0 m-0",children:a.jsxs("div",{className:"divide-y",style:{borderColor:"#CBDCEB"},children:[r().map(c=>a.jsx("div",{className:`p-6 hover:bg-gray-50 transition cursor-pointer ${c.read?"":"bg-blue-50"}`,children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:i(c.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{style:{color:"#133E87"},children:c.title}),!c.read&&a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:"#608BC1"}})]}),a.jsx(Rt,{className:s(c.type),children:c.type==="alert"?"Penting":c.type==="warning"?"Peringatan":c.type==="success"?"Berhasil":"Info"})]}),a.jsx("p",{className:"text-sm text-gray-700 mb-2",children:c.message}),a.jsx("p",{className:"text-xs text-gray-500",children:c.time})]})]})},c.id)),r().length===0&&a.jsxs("div",{className:"p-12 text-center",children:[a.jsx(eo,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),a.jsx("p",{className:"text-gray-500",children:"Tidak ada notifikasi"})]})]})})]})})]})}function bxe(){const[t,e]=N.useState("all"),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[o,l]=N.useState(null),[c,u]=N.useState(""),[h,f]=N.useState(""),[m,v]=N.useState(null),[y,S]=N.useState(!1),[b,_]=N.useState(!1),[E,C]=N.useState(""),[j,R]=N.useState([]),[k,D]=N.useState(null),[O,I]=N.useState(!0),[U,K]=N.useState(null),[$,re]=N.useState([]),[Y,se]=N.useState([]),[oe,le]=N.useState(null);N.useEffect(()=>{H(),q(),Q()},[t,h]);const H=async()=>{try{I(!0),K(null),console.log(" Admin fetching orders...");const ue={};t!=="all"&&(ue.status=t),h&&(ue.search=h);const fe=await Cc.getAllOrders(ue);console.log(" Admin orders received:",fe),R(fe.data||[])}catch(ue){console.error(" Error fetching orders:",ue),K(ue.response?.data?.error||"Gagal memuat pesanan")}finally{I(!1)}},q=async()=>{try{console.log(" Fetching stats...");const ue=await Cc.getOrderStats();console.log(" Stats received:",ue),D(ue.data)}catch(ue){console.error(" Error fetching stats:",ue)}},Q=async()=>{try{console.log(" Fetching analytics...");const ue=await Cc.getOrderAnalytics();console.log(" Analytics received:",ue),ue.success&&ue.data&&(re(ue.data.weekly_trend||[]),se(ue.data.weekly_revenue||[]),le(ue.data.status_distribution||null))}catch(ue){console.error(" Error fetching analytics:",ue)}},V=async ue=>{l(ue),u(ue.status),s(!0)},ee=async()=>{if(o&&c)try{console.log(" Updating order status:",{orderId:o.id,newStatus:c}),await Cc.updateOrderStatus(o.id,c),C(`Status pesanan ${o.order_number} berhasil diupdate ke "${Ae(c).label}"`),s(!1),_(!0),H(),q(),Q()}catch(ue){console.error(" Error updating status:",ue),alert("Gagal update status: "+(ue.response?.data?.error||ue.message))}},ce=async()=>{if(_(!1),o)try{const fe=(await Cc.getAllOrders({})).data.find(Ie=>Ie.id===o.id);fe&&l(fe)}catch(ue){console.error("Error refreshing order:",ue)}r(!0)},ne=ue=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(ue),be=ue=>new Date(ue).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),Ae=ue=>{const fe={pending:{label:"Menunggu Pembayaran",bgColor:"#FEF3C7",textColor:"#92400E"},confirmed:{label:"Diproses",bgColor:"#DBEAFE",textColor:"#1E40AF"},processing:{label:"Diproses",bgColor:"#DBEAFE",textColor:"#1E40AF"},shipping:{label:"Dikirim",bgColor:"#EDE9FE",textColor:"#5B21B6"},delivered:{label:"Selesai",bgColor:"#D1FAE5",textColor:"#065F46"},completed:{label:"Selesai",bgColor:"#D1FAE5",textColor:"#065F46"},cancelled:{label:"Dibatalkan",bgColor:"#FEE2E2",textColor:"#991B1B"}};return fe[ue]||fe.pending},Se=ue=>ue==="all"?j.length:ue==="pending_payment"?j.filter(fe=>fe.payment_status==="pending").length:ue==="processing"?j.filter(fe=>fe.status==="confirmed"||fe.status==="processing").length:ue==="shipped"?j.filter(fe=>fe.status==="shipping").length:ue==="completed"?j.filter(fe=>fe.status==="delivered"||fe.status==="completed").length:j.filter(fe=>fe.status===ue).length,pe=()=>j.filter(ue=>ue.status==="delivered"||ue.status==="completed").reduce((ue,fe)=>ue+fe.total_price,0),X=()=>oe?[{key:"pending_payment",label:"Menunggu Pembayaran",color:"#F59E0B"},{key:"processing",label:"Diproses",color:"#3B82F6"},{key:"shipped",label:"Dikirim",color:"#8B5CF6"},{key:"completed",label:"Selesai",color:"#10B981"},{key:"cancelled",label:"Dibatalkan",color:"#EF4444"}].map(Ie=>({name:Ie.label,value:oe[Ie.key]||0,color:Ie.color})):[{key:"pending_payment",label:"Menunggu Pembayaran",color:"#F59E0B"},{key:"processing",label:"Diproses",color:"#3B82F6"},{key:"shipped",label:"Dikirim",color:"#8B5CF6"},{key:"completed",label:"Selesai",color:"#10B981"},{key:"cancelled",label:"Dibatalkan",color:"#EF4444"}].map(fe=>({name:fe.label,value:Se(fe.key),color:fe.color})),Ce=async ue=>{if(l(ue),r(!0),ue.payment_proof)try{console.log(" Loading payment proof for order:",ue.id);const fe=await Cc.getPaymentProof(ue.id);console.log(" Payment proof response:",fe),fe.success&&fe.data?v(`data:${fe.data.mimetype};base64,${fe.data.base64}`):(console.warn(" No payment proof data in response"),v(null))}catch(fe){console.error(" Error loading payment proof:",fe),v(null)}else v(null)},Ge=()=>{r(!1),S(!0)},J=()=>{try{const ue=j.map(ge=>({"No. Pesanan":ge.order_number,Tanggal:be(ge.created_at),Customer:ge.user?.name||"Customer",Email:ge.user?.email||"-",Produk:ge.product_name,Jumlah:ge.quantity,"Total Harga":ge.total_price,"Metode Pembayaran":ge.payment_method||"-","Status Pesanan":Ae(ge.status).label,"Status Pembayaran":ge.payment_status==="paid"?"Lunas":"Belum Lunas","Alamat Pengiriman":ge.shipping_address||"-",Catatan:ge.notes||"-"})),fe=Object.keys(ue[0]),Ie=[fe.join(","),...ue.map(ge=>fe.map(He=>{const Ve=ge[He],ze=String(Ve).replace(/"/g,'""');return ze.includes(",")||ze.includes('"')?`"${ze}"`:ze}).join(","))].join(`
`),ke="\uFEFF",at=new Blob([ke+Ie],{type:"text/csv;charset=utf-8;"}),$e=document.createElement("a"),z=URL.createObjectURL(at),G=new Date().toISOString().split("T")[0];$e.setAttribute("href",z),$e.setAttribute("download",`Pesanan_Temanikan_${G}.csv`),$e.style.visibility="hidden",document.body.appendChild($e),$e.click(),document.body.removeChild($e)}catch(ue){console.error("Error exporting data:",ue)}};return O&&!k?a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Memuat pesanan..."})]})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{style:{color:"#1F2937"},children:"Kelola Pesanan"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Kelola dan pantau semua pesanan pelanggan Robot Temanikan"})]}),a.jsxs(Ue,{className:"text-white flex items-center gap-2",style:{backgroundColor:"#4880FF"},onClick:J,children:[a.jsx(Rb,{className:"w-4 h-4"}),"Export Data"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsx(Je,{className:"p-6 rounded-xl shadow-sm border-l-4 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderLeft:"4px solid #4880FF",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:ue=>{ue.currentTarget.style.transform="translateY(-4px) scale(1.02)",ue.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:ue=>{ue.currentTarget.style.transform="translateY(0) scale(1)",ue.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Pesanan"}),a.jsx("p",{className:"text-3xl",style:{color:"#4880FF"},children:k?.total_orders||Se("all")})]}),a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"#E0EAFF"},children:a.jsx(Yj,{className:"w-6 h-6",style:{color:"#4880FF"}})})]})}),a.jsx(Je,{className:"p-6 rounded-xl shadow-sm border-l-4",style:{backgroundColor:"white",borderLeftColor:"#F59E0B"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Menunggu Pembayaran"}),a.jsx("p",{className:"text-3xl",style:{color:"#F59E0B"},children:Se("pending_payment")})]}),a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"#FEF3C7"},children:a.jsx(Lx,{className:"w-6 h-6",style:{color:"#F59E0B"}})})]})}),a.jsx(Je,{className:"p-6 rounded-xl shadow-sm border-l-4",style:{backgroundColor:"white",borderLeftColor:"#3B82F6"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Diproses"}),a.jsx("p",{className:"text-3xl",style:{color:"#3B82F6"},children:Se("processing")})]}),a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"#DBEAFE"},children:a.jsx(nm,{className:"w-6 h-6",style:{color:"#3B82F6"}})})]})}),a.jsx(Je,{className:"p-6 rounded-xl shadow-sm border-l-4",style:{backgroundColor:"white",borderLeftColor:"#10B981"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Selesai"}),a.jsx("p",{className:"text-3xl",style:{color:"#10B981"},children:Se("completed")})]}),a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"#D1FAE5"},children:a.jsx(lr,{className:"w-6 h-6",style:{color:"#10B981"}})})]})}),a.jsx(Je,{className:"p-6 rounded-xl shadow-sm border-l-4",style:{backgroundColor:"white",borderLeftColor:"#8B5CF6"},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),a.jsx("p",{className:"text-xl",style:{color:"#8B5CF6"},children:ne(k?.total_revenue||pe()).replace("Rp","Rp ")})]}),a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:"#EDE9FE"},children:a.jsx(Xj,{className:"w-6 h-6",style:{color:"#8B5CF6"}})})]})})]}),a.jsxs(Wm,{defaultValue:"orders",className:"w-full",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Yc,{className:"h-auto p-0 bg-transparent",children:a.jsx(ns,{value:"orders",className:"w-full data-[state=active]:bg-[#F3F3E0] data-[state=active]:border-2 data-[state=active]:border-[#4880FF] data-[state=active]:shadow-lg data-[state=inactive]:bg-white data-[state=inactive]:border-2 data-[state=inactive]:border-transparent hover:border-[#CBDCEB] p-6 rounded-xl transition-all shadow-sm h-auto",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(Yj,{className:"w-6 h-6",style:{color:"#4880FF"}}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{style:{color:"#4880FF"},children:"Daftar Pesanan"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Kelola semua pesanan"})]})]})})}),a.jsx(Yc,{className:"h-auto p-0 bg-transparent",children:a.jsx(ns,{value:"analytics",className:"w-full data-[state=active]:bg-[#F3F3E0] data-[state=active]:border-2 data-[state=active]:border-[#4880FF] data-[state=active]:shadow-lg data-[state=inactive]:bg-white data-[state=inactive]:border-2 data-[state=inactive]:border-transparent hover:border-[#CBDCEB] p-6 rounded-xl transition-all shadow-sm h-auto",children:a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(gd,{className:"w-6 h-6",style:{color:"#4880FF"}}),a.jsxs("div",{className:"text-left",children:[a.jsx("h3",{style:{color:"#4880FF"},children:"Analitik"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Lihat statistik & tren"})]})]})})})]}),a.jsxs(Jc,{value:"orders",className:"space-y-4 mt-6",children:[a.jsx(Je,{className:"p-4 transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-3",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(to,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),a.jsx(Lt,{placeholder:"Cari berdasarkan nama pelanggan, no. pesanan, atau email...",className:"pl-10",value:h,onChange:ue=>f(ue.target.value)})]}),a.jsxs(In,{value:t,onValueChange:e,children:[a.jsx(kn,{className:"w-full md:w-[200px]",children:a.jsx(Ln,{placeholder:"Filter Status"})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"all",children:"Semua Status"}),a.jsx(Oe,{value:"pending",children:"Menunggu Pembayaran"}),a.jsx(Oe,{value:"confirmed",children:"Dikonfirmasi"}),a.jsx(Oe,{value:"shipping",children:"Dikirim"}),a.jsx(Oe,{value:"delivered",children:"Selesai"}),a.jsx(Oe,{value:"cancelled",children:"Dibatalkan"})]})]})]})}),U&&a.jsxs(Je,{className:"p-6 bg-red-50 border-red-200",children:[a.jsxs("div",{className:"flex items-center gap-3 text-red-800",children:[a.jsx(nm,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold",children:"Gagal Memuat Pesanan"}),a.jsx("p",{className:"text-sm",children:U})]})]}),a.jsx(Ue,{onClick:H,className:"mt-4",variant:"outline",children:"Coba Lagi"})]}),a.jsx(Je,{className:"rounded-xl shadow-sm transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b",style:{borderColor:"#E5E7EB"},children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"ID Pesanan"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Pelanggan"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Produk"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Jumlah"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Total Harga"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Tanggal Pesanan"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm",style:{color:"#4880FF"},children:"Aksi"})]})}),a.jsx("tbody",{children:j.length===0?a.jsx("tr",{children:a.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center",children:[a.jsx(nm,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"mb-2",style:{color:"#4880FF"},children:"Tidak Ada Pesanan"}),a.jsx("p",{className:"text-gray-600",children:"Tidak ada pesanan yang sesuai dengan filter"})]})}):j.map(ue=>{const fe=Ae(ue.status),Ie=ue.user?.name||"Customer",ke=ue.user?.email||"-";return a.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",style:{borderColor:"#E5E7EB"},children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",style:{color:"#4880FF"},children:ue.order_number})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",style:{backgroundColor:"#E0EAFF"},children:a.jsx("span",{style:{color:"#4880FF"},children:Ie.charAt(0)})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm",style:{color:"#2D3436"},children:Ie}),a.jsx("p",{className:"text-xs text-gray-500",children:ke})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-900",children:ue.product_name})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("span",{className:"text-sm text-gray-600",children:[ue.quantity," unit"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm",style:{color:"#4880FF"},children:ne(ue.total_price)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("span",{className:"text-sm text-gray-600",children:be(ue.created_at)})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(Rt,{className:"px-3 py-1",style:{backgroundColor:fe.bgColor,color:fe.textColor},children:fe.label})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ue,{size:"sm",variant:"outline",style:{borderColor:"#4880FF",color:"#4880FF"},onClick:()=>Ce(ue),children:[a.jsx(ka,{className:"w-3 h-3 mr-1"}),"Detail"]}),a.jsxs(Ue,{size:"sm",className:"text-white",style:{backgroundColor:"#10B981"},onClick:()=>V(ue),children:[a.jsx(ym,{className:"w-3 h-3 mr-1"}),"Update"]})]})})]},ue.id)})})]})})})]}),a.jsx(Jc,{value:"analytics",className:"space-y-6 mt-6",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Je,{className:"p-6 rounded-xl shadow-sm transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:ue=>{ue.currentTarget.style.transform="translateY(-4px)",ue.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:ue=>{ue.currentTarget.style.transform="translateY(0)",ue.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(gd,{className:"w-5 h-5",style:{color:"#4880FF"}}),a.jsx("h3",{style:{color:"#1F2937"},children:"Tren Pesanan Mingguan"})]}),a.jsx(Jo,{width:"100%",height:300,children:a.jsxs(RU,{data:$,children:[a.jsx(zc,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),a.jsx(Hc,{dataKey:"day",stroke:"#6B7280"}),a.jsx(Gc,{stroke:"#6B7280"}),a.jsx(Ml,{}),a.jsx(um,{type:"monotone",dataKey:"orders",stroke:"#4880FF",strokeWidth:2,dot:{fill:"#4880FF",r:4},activeDot:{r:6}})]})})]}),a.jsxs(Je,{className:"p-6 rounded-xl shadow-sm transition-all duration-300",style:{backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.3)",borderRadius:"20px",boxShadow:"0 8px 32px rgba(72, 128, 255, 0.15)"},onMouseEnter:ue=>{ue.currentTarget.style.transform="translateY(-4px)",ue.currentTarget.style.boxShadow="0 12px 40px rgba(72, 128, 255, 0.25)"},onMouseLeave:ue=>{ue.currentTarget.style.transform="translateY(0)",ue.currentTarget.style.boxShadow="0 8px 32px rgba(72, 128, 255, 0.15)"},children:[a.jsx("h3",{className:"mb-4",style:{color:"#1F2937"},children:"Distribusi Status Pesanan"}),a.jsx(Jo,{width:"100%",height:300,children:a.jsxs(FU,{children:[a.jsx(jT,{data:X(),cx:"50%",cy:"50%",labelLine:!1,label:({name:ue,value:fe})=>`${ue}: ${fe}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:X().map((ue,fe)=>a.jsx(rg,{fill:ue.color},`cell-${fe}`))}),a.jsx(Ml,{})]})})]}),a.jsxs(Je,{className:"p-6 rounded-xl shadow-sm lg:col-span-2",style:{backgroundColor:"white"},children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Xj,{className:"w-5 h-5",style:{color:"#8B5CF6"}}),a.jsx("h3",{style:{color:"#1F2937"},children:"Revenue Mingguan"})]}),a.jsx(Jo,{width:"100%",height:300,children:a.jsxs(zT,{data:Y,children:[a.jsx(zc,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),a.jsx(Hc,{dataKey:"day",stroke:"#6B7280"}),a.jsx(Gc,{stroke:"#6B7280"}),a.jsx(Ml,{formatter:ue=>ne(ue)}),a.jsx(fw,{dataKey:"revenue",fill:"#8B5CF6",radius:[8,8,0,0]})]})})]})]})})]}),a.jsx(pn,{open:n,onOpenChange:r,children:a.jsx(hn,{className:"max-w-md",style:{backgroundColor:"white"},children:o&&a.jsxs(a.Fragment,{children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#4880FF"},children:"Detail Pesanan"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F3F4F6"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ID Pesanan"}),a.jsx("p",{className:"text-lg",style:{color:"#4880FF"},children:o.order_number})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Nama Customer"}),a.jsx("p",{style:{color:"#2D3436"},children:o.user?.name||"Customer"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Email Customer"}),a.jsx("p",{style:{color:"#2D3436"},children:o.user?.email||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Produk"}),a.jsx("p",{style:{color:"#2D3436"},children:o.product_name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Jumlah"}),a.jsxs("p",{style:{color:"#2D3436"},children:[o.quantity," unit"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Tanggal Pesanan"}),a.jsx("p",{style:{color:"#2D3436"},children:be(o.created_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Metode Pembayaran"}),a.jsx("p",{style:{color:"#2D3436"},children:o.payment_method||"-"})]}),o?.payment_proof&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Bukti Pembayaran"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",style:{color:"#10B981"},children:[a.jsx(lr,{className:"w-4 h-4"}),a.jsx("span",{children:"Sudah Upload"})]}),a.jsxs(Ue,{size:"sm",variant:"outline",style:{borderColor:"#4880FF",color:"#4880FF"},onClick:Ge,children:[a.jsx(ka,{className:"w-3 h-3 mr-1"}),"Lihat Bukti"]})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Alamat Pengiriman"}),a.jsx("p",{style:{color:"#2D3436"},children:o.shipping_address||"-"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Status"}),a.jsx(Rt,{style:{backgroundColor:Ae(o.status).bgColor,color:Ae(o.status).textColor},children:Ae(o.status).label})]}),a.jsx("div",{className:"border-t pt-3",style:{borderColor:"#E5E7EB"},children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{style:{color:"#2D3436"},children:"Total Pembayaran"}),a.jsx("span",{className:"text-2xl",style:{color:"#4880FF"},children:ne(o.total_price)})]})})]})]}),a.jsxs(Oi,{className:"flex gap-2",children:[a.jsx(Ue,{variant:"outline",onClick:()=>r(!1),children:"Tutup"}),a.jsxs(Ue,{onClick:()=>{r(!1),V(o)},style:{backgroundColor:"#10B981",color:"white"},children:[a.jsx(ym,{className:"w-4 h-4 mr-2"}),"Update Status"]})]})]})})}),a.jsx(pn,{open:y,onOpenChange:S,children:a.jsx(hn,{className:"max-w-2xl",style:{backgroundColor:"white"},children:o&&a.jsxs(a.Fragment,{children:[a.jsx(gr,{children:a.jsxs(cr,{style:{color:"#4880FF"},children:["Bukti Pembayaran - ",o.order_number]})}),a.jsx("div",{className:"py-4",children:m?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"rounded-lg overflow-hidden border",style:{borderColor:"#E5E7EB"},children:a.jsx("img",{src:m,alt:"Bukti Pembayaran",className:"w-full h-auto max-h-[500px] object-contain bg-gray-50"})}),a.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:"#F3F4F6"},children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Customer"}),a.jsx("p",{style:{color:"#2D3436"},children:o.user?.name})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Total Pembayaran"}),a.jsxs("p",{className:"text-xl",style:{color:"#4880FF"},children:["Rp ",o.total_price?.toLocaleString("id-ID")]})]})]})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(nm,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-gray-600",children:"Bukti pembayaran tidak tersedia"})]})}),a.jsxs(Oi,{className:"flex gap-2",children:[a.jsx(Ue,{variant:"outline",onClick:()=>{S(!1),r(!0)},children:"Kembali"}),m&&a.jsxs(Ue,{style:{backgroundColor:"#4880FF",color:"white"},onClick:()=>{const ue=document.createElement("a");ue.href=m,ue.download=`bukti_pembayaran_${o.order_number}.jpg`,ue.click()},children:[a.jsx(Rb,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})})}),a.jsx(pn,{open:i,onOpenChange:s,children:a.jsx(hn,{className:"max-w-md",style:{backgroundColor:"white"},children:o&&a.jsxs(a.Fragment,{children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#4880FF"},children:"Update Status Pesanan"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#F3F4F6"},children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"ID Pesanan"}),a.jsx("p",{style:{color:"#4880FF"},children:o.order_number})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Customer"}),a.jsx("p",{style:{color:"#2D3436"},children:o.user?.name||"Customer"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm mb-2",style:{color:"#2D3436"},children:["Status Baru ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs(In,{value:c,onValueChange:u,children:[a.jsx(kn,{children:a.jsx(Ln,{placeholder:"Pilih status baru"})}),a.jsxs(Pn,{children:[a.jsx(Oe,{value:"pending",children:"Menunggu Pembayaran"}),a.jsx(Oe,{value:"confirmed",children:"Dikonfirmasi"}),a.jsx(Oe,{value:"shipping",children:"Dikirim"}),a.jsx(Oe,{value:"delivered",children:"Selesai"}),a.jsx(Oe,{value:"cancelled",children:"Dibatalkan"})]})]})]}),c&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:Ae(c).bgColor},children:a.jsxs("p",{className:"text-sm",style:{color:Ae(c).textColor},children:["Status akan diupdate menjadi: ",a.jsx("strong",{children:Ae(c).label})]})})]}),a.jsxs(Oi,{className:"flex gap-2",children:[a.jsx(Ue,{variant:"outline",onClick:()=>s(!1),children:"Batal"}),a.jsxs(Ue,{onClick:ee,style:{backgroundColor:"#4880FF",color:"white"},disabled:!c||c===o.status,children:[a.jsx(lr,{className:"w-4 h-4 mr-2"}),"Simpan Perubahan"]})]})]})})}),a.jsx(pn,{open:b,onOpenChange:_,children:a.jsxs(hn,{className:"max-w-md",style:{backgroundColor:"white"},children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#10B981"},children:"Status Berhasil Diupdate"})}),a.jsx("div",{className:"py-6",children:a.jsxs("div",{className:"flex flex-col items-center text-center space-y-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#D1FAE5"},children:a.jsx(lr,{className:"w-10 h-10",style:{color:"#10B981"}})}),a.jsx("p",{className:"text-lg",style:{color:"#2D3436"},children:E})]})}),a.jsx(Oi,{children:a.jsx(Ue,{onClick:ce,style:{backgroundColor:"#4880FF",color:"white"},className:"w-full",children:"OK"})})]})})]})}function wxe(){return a.jsxs(FC,{basePath:"/admin",children:[a.jsx(dn,{path:"",element:a.jsx(yl,{title:"Dashboard Admin",children:a.jsx(uxe,{})})}),a.jsx(dn,{path:"users",element:a.jsx(yl,{title:"Manajemen Pengguna",children:a.jsx(dxe,{})})}),a.jsx(dn,{path:"robots",element:a.jsx(yl,{title:"Status Robot Global",children:a.jsx(hxe,{})})}),a.jsx(dn,{path:"disease-trends",element:a.jsx(yl,{title:"Tren Deteksi Penyakit",children:a.jsx(fxe,{})})}),a.jsx(dn,{path:"fishpedia",element:a.jsx(yl,{title:"Kelola Fishpedia",children:a.jsx(mxe,{})})}),a.jsx(dn,{path:"forum",element:a.jsx(yl,{title:"Moderasi Forum",children:a.jsx(gxe,{})})}),a.jsx(dn,{path:"profile",element:a.jsx(yl,{title:"Profil Admin",children:a.jsx(vxe,{})})}),a.jsx(dn,{path:"settings",element:a.jsx(yl,{title:"Pengaturan Sistem",children:a.jsx(xxe,{})})}),a.jsx(dn,{path:"notifications",element:a.jsx(yl,{title:"Semua Notifikasi",children:a.jsx(yxe,{})})}),a.jsx(dn,{path:"orders",element:a.jsx(yl,{title:"Kelola Pesanan",children:a.jsx(bxe,{})})})]})}function Sxe({open:t,onClose:e,message:n,title:r="Berhasil!"}){return a.jsx(pn,{open:t,onOpenChange:e,children:a.jsx(hn,{className:"max-w-md",children:a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#E8F5E9"},children:a.jsx("svg",{className:"w-10 h-10",style:{color:"#4CAF50"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})}),a.jsx("h3",{className:"text-2xl font-semibold mb-3",style:{color:"#133E87"},children:r}),a.jsx("p",{className:"text-base mb-6",style:{color:"#608BC1"},children:n}),a.jsx(Ue,{onClick:e,className:"px-8 py-2 text-white bg-primary-gradient hover:opacity-90 transition-opacity",children:"OK"})]})})})}function _xe({open:t,onClose:e,message:n,title:r="Perhatian!"}){return a.jsx(pn,{open:t,onOpenChange:e,children:a.jsx(hn,{className:"max-w-md",children:a.jsxs("div",{className:"text-center py-6",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 rounded-full flex items-center justify-center",style:{backgroundColor:"#FFEBEE"},children:a.jsx("svg",{className:"w-10 h-10",style:{color:"#F44336"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12"})})}),a.jsx("h3",{className:"text-2xl font-semibold mb-3",style:{color:"#133E87"},children:r}),a.jsx("p",{className:"text-base mb-6",style:{color:"#608BC1"},children:n}),a.jsx(Ue,{onClick:e,className:"px-8 py-2 text-white hover:opacity-90 transition-opacity",style:{background:"linear-gradient(135deg, #133E87 0%, #608BC1 100%)"},children:"OK"})]})})})}function xB({id:t,label:e,placeholder:n="",value:r,onChange:i,required:s=!0,showValidation:o=!0}){const[l,c]=N.useState(!1),u=r.length>=8||r.length===0,h=o&&l&&!u;return a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:t,className:"mb-3 block",children:e}),a.jsx(Lt,{id:t,type:"password",placeholder:n,value:r,onChange:f=>i(f.target.value),onBlur:()=>c(!0),required:s,minLength:8,className:h?"border-red-300":""}),h&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Minimal 8 karakter"})]})}function Axe({open:t,onOpenChange:e,initialMode:n="login",redirectTo:r}){const i=Ll(),{login:s,register:o,user:l}=Da(),[c,u]=N.useState("login"),[h,f]=N.useState(!1),[m,v]=N.useState(!1),[y,S]=N.useState(t),[b,_]=N.useState(!1),[E,C]=N.useState(""),[j,R]=N.useState(!1),[k,D]=N.useState(""),[O,I]=N.useState(""),[U,K]=N.useState(!1),[$,re]=N.useState(""),[Y,se]=N.useState(""),[oe,le]=N.useState(""),[H,q]=N.useState(""),[Q,V]=N.useState(""),[ee,ce]=N.useState(""),[ne,be]=N.useState(""),[Ae,Se]=N.useState(""),[pe,X]=N.useState(""),[Ce,Ge]=N.useState("");N.useEffect(()=>{S(t),t&&u(n==="register"?"register":"login")},[t,n]),N.useEffect(()=>{h&&l&&(r?i(r):l.role==="admin"?i("/admin"):i("/member"),f(!1),e(!1),J())},[l,h,r,i,e]);const J=()=>{u("login"),re(""),se(""),I(""),K(!1),le(""),q(""),V(""),ce(""),be(""),Se(""),X(""),Ge(""),v(!1)},ue=async z=>{z.preventDefault(),v(!0),I(""),K(!1);try{console.log("Attempting login with:",$);const G=await s($,Y);console.log("Login result:",G),G&&G.success?(console.log("Login successful, setting pending redirect"),f(!0),v(!1),setTimeout(()=>{l&&(l.role==="admin"?i("/admin"):i("/member"),e(!1),J())},100)):(console.log("Login failed"),I(G?.message||"Email atau password salah. Silakan coba lagi."),f(!1),v(!1))}catch(G){console.error("Login exception:",G),I("Terjadi kesalahan saat login. Silakan coba lagi."),f(!1),v(!1)}},fe=async z=>{if(z.preventDefault(),pe!==Ce){D("Password dan Konfirmasi Password tidak cocok"),R(!0);return}if(pe.length<8){D("Password harus minimal 8 karakter"),R(!0);return}v(!0);try{const G=await o({name:oe,email:H,password:pe,phone:Q,address:ee,age:ne?parseInt(ne):void 0,primary_fish_type:Ae});G.success&&(le(""),q(""),V(""),ce(""),be(""),Se(""),X(""),Ge(""),C(G.message),_(!0))}catch(G){D(G.message||"Terjadi kesalahan saat mendaftar. Silakan coba lagi."),R(!0)}finally{v(!1)}},Ie=()=>{_(!1),C(""),u("login")},ke=()=>{R(!1),D("")},at=()=>{switch(c){case"login":return a.jsxs("div",{className:"space-y-4",children:[O&&a.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"#FFEBEE",border:"1px solid #F44336"},children:a.jsxs("p",{className:"text-sm",style:{color:"#D32F2F"},children:[" ",O]})}),a.jsxs("form",{onSubmit:ue,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"login-email",className:"mb-3 block",children:"Email"}),a.jsx(Lt,{id:"login-email",type:"email",placeholder:"nama@email.com",value:$,onChange:z=>{re(z.target.value),O&&K(!0)},required:!0,className:O&&!U?"border-red-500 focus:border-red-500":""})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"login-password",className:"mb-3 block",children:"Password"}),a.jsx(Lt,{id:"login-password",type:"password",placeholder:"",value:Y,onChange:z=>{se(z.target.value),O&&K(!0)},required:!0,className:O&&!U?"border-red-500 focus:border-red-500":""})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"remember",className:"w-4 h-4"}),a.jsx(Nt,{htmlFor:"remember",className:"cursor-pointer text-sm",children:"Ingat saya"})]}),a.jsx(Ue,{type:"submit",className:"w-full text-white bg-primary-gradient",disabled:m,children:m?"Loading...":"Login"})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>u("register"),className:"text-sm hover:underline",style:{color:"#608BC1"},children:"Belum punya akun? Daftar di sini."})})]});case"register":return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("button",{onClick:()=>u("login"),className:"flex items-center gap-2 text-sm hover:underline mb-2",style:{color:"#608BC1"},children:[a.jsx(W1,{className:"w-4 h-4"}),"Kembali"]}),a.jsxs("form",{onSubmit:fe,className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"nama-lengkap",className:"mb-3 block",children:"Nama Lengkap"}),a.jsx(Lt,{id:"nama-lengkap",type:"text",placeholder:"Masukkan nama lengkap",value:oe,onChange:z=>le(z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"register-email",className:"mb-3 block",children:"Email"}),a.jsx(Lt,{id:"register-email",type:"email",placeholder:"nama@email.com",value:H,onChange:z=>q(z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"nomor-hp",className:"mb-3 block",children:"Nomor HP"}),a.jsx(Lt,{id:"nomor-hp",type:"tel",placeholder:"+62 812 3456 7890",value:Q,onChange:z=>V(z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"alamat",className:"mb-3 block",children:"Alamat"}),a.jsx(Lt,{id:"alamat",type:"text",placeholder:"Masukkan alamat lengkap",value:ee,onChange:z=>ce(z.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"usia",className:"mb-3 block",children:"Usia"}),a.jsx(Lt,{id:"usia",type:"number",placeholder:"Masukkan usia",value:ne,onChange:z=>be(z.target.value),min:"1",max:"150",required:!0})]}),a.jsxs("div",{children:[a.jsx(Nt,{htmlFor:"jenis-ikan",className:"mb-3 block",children:"Jenis Ikan Hias Utama"}),a.jsxs("select",{id:"jenis-ikan",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:Ae,onChange:z=>Se(z.target.value),required:!0,children:[a.jsx("option",{value:"",children:"Pilih jenis ikan"}),a.jsx("option",{value:"Ikan Koi",children:"Ikan Koi"}),a.jsx("option",{value:"Ikan Mas Koki",children:"Ikan Mas Koki"}),a.jsx("option",{value:"Ikan Guppy",children:"Ikan Guppy"}),a.jsx("option",{value:"Ikan Cupang",children:"Ikan Cupang"}),a.jsx("option",{value:"Ikan Molly",children:"Ikan Molly"}),a.jsx("option",{value:"Ikan Neon Tetra",children:"Ikan Neon Tetra"}),a.jsx("option",{value:"Ikan Discus",children:"Ikan Discus"}),a.jsx("option",{value:"Ikan Arwana",children:"Ikan Arwana"}),a.jsx("option",{value:"Ikan Louhan",children:"Ikan Louhan"}),a.jsx("option",{value:"Ikan Oscar",children:"Ikan Oscar"}),a.jsx("option",{value:"Lainnya",children:"Lainnya"})]})]}),a.jsx(xB,{id:"register-password",label:"Password",value:pe,onChange:X}),a.jsx(xB,{id:"confirm-password",label:"Konfirmasi Password",value:Ce,onChange:Ge}),a.jsx(Ue,{type:"submit",className:"w-full text-white bg-primary-gradient",disabled:m,children:m?"Loading...":"Daftar Sekarang"})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{onClick:()=>u("login"),className:"text-sm hover:underline",style:{color:"#608BC1"},children:"Sudah punya akun? Login di sini."})})]})}},$e=z=>{z?(S(!0),e(z)):(S(!1),e(!1),J(),I(""))};return a.jsxs(a.Fragment,{children:[a.jsx(pn,{open:y,onOpenChange:$e,children:a.jsxs(hn,{className:"max-w-md max-h-[90vh] overflow-y-auto glass-modal",children:[a.jsx(gr,{children:a.jsx(cr,{style:{color:"#133E87"},children:"Selamat Datang di Temanikan"})}),at()]})}),a.jsx(Sxe,{open:b,onClose:Ie,message:E,title:"Registrasi Berhasil!"}),a.jsx(_xe,{open:j,onClose:ke,message:k})]})}function vB({children:t,requiredRole:e}){const{isLoggedIn:n,user:r}=Da();return n?e&&r?.role!==e?r?.role==="admin"?a.jsx(db,{to:"/admin",replace:!0}):a.jsx(db,{to:"/member",replace:!0}):a.jsx(a.Fragment,{children:t}):a.jsx(db,{to:"/",replace:!0})}function Exe({isOpen:t,onClose:e}){const[n,r]=N.useState([]),[i,s]=N.useState(""),[o,l]=N.useState(!1),[c,u]=N.useState(null),[h,f]=N.useState(!1),[m,v]=N.useState(50),[y,S]=N.useState(!1),b=N.useRef(null),_=N.useRef(null),E=N.useRef(null),{isLoggedIn:C}=Da(),[j,R]=N.useState(!0);N.useEffect(()=>{t&&C&&D(m)},[t,C]),N.useEffect(()=>{j&&n.length>0&&setTimeout(()=>{k()},100)},[n,j]),N.useEffect(()=>{const re=_.current;if(!re)return;const Y=()=>{const{scrollTop:se,scrollHeight:oe,clientHeight:le}=re,H=oe-se-le<100;R(H)};return re.addEventListener("scroll",Y),()=>re.removeEventListener("scroll",Y)},[]);const k=()=>{b.current?.scrollIntoView({behavior:"smooth"})},D=async(re=50)=>{try{S(!0);const Y=await Qw.getHistory(re),se=[];Y.chats.forEach(oe=>{se.push({id:`user-${oe.id}`,message:oe.message,response:"",has_image:oe.has_image,image_url:oe.image_url,created_at:oe.created_at,isUser:!0}),se.push({id:`ai-${oe.id}`,message:"",response:oe.response,has_image:!1,created_at:oe.created_at,isUser:!1})}),r(se.reverse()),R(!0)}catch(Y){console.error("Error loading chat history:",Y)}finally{S(!1)}},O=async()=>{const re=m+50;v(re),await D(re)},I=re=>{const Y=re.target.files?.[0];if(Y){const se=new FileReader;se.onloadend=()=>{u(se.result)},se.readAsDataURL(Y)}},U=async()=>{if(!i.trim()&&!c||o)return;const re=i.trim(),Y=c,se={id:`temp-user-${Date.now()}`,message:re,response:"",has_image:!!Y,image_url:Y||void 0,created_at:new Date().toISOString(),isUser:!0};r(le=>[...le,se]),s(""),u(null),l(!0),R(!0);const oe={id:`loading-${Date.now()}`,message:"",response:"Mengetik...",has_image:!1,created_at:new Date().toISOString(),isUser:!1};r(le=>[...le,oe]);try{const le=await Qw.sendMessage(re,Y||void 0);r(H=>{const Q=[...H.filter(V=>V.id!==oe.id),{id:`ai-${le.chat_id}`,message:"",response:le.response,has_image:!!Y,image_url:Y||void 0,created_at:le.created_at,isUser:!1}];return R(!0),Q})}catch(le){console.error("Error sending message:",le);const H=le.response?.data?.error||le.response?.data?.message||"Gagal mengirim pesan. Silakan coba lagi.",q=H.includes("Token")||H.includes("token")||le.response?.status===401||le.response?.status===422;r(Q=>[...Q.filter(ee=>ee.id!==oe.id),{id:`error-${Date.now()}`,message:"",response:q?` ${H}

Silakan logout dan login kembali untuk memperbarui token Anda.`:` Error: ${H}`,has_image:!1,created_at:new Date().toISOString(),isUser:!1}])}finally{l(!1)}},K=re=>{re.key==="Enter"&&!re.shiftKey&&(re.preventDefault(),U())},$=async re=>{const Y=parseInt(re.split("-")[1]);if(!isNaN(Y))try{await Qw.deleteChat(Y),D()}catch(se){console.error("Error deleting chat:",se)}};return!t||!C?null:a.jsx("div",{className:"fixed right-4 z-50",style:{width:"320px",maxWidth:"90vw",top:"80px"},children:a.jsxs(Je,{className:"flex flex-col shadow-2xl",style:{height:"500px",display:"flex",flexDirection:"column",background:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(20px)",borderRadius:"24px",border:"1px solid rgba(255, 255, 255, 0.3)",boxShadow:"rgba(15, 91, 229, 0.15) 0px 8px 32px, rgba(255, 255, 255, 0.2) 0px 0px 0px 1px inset",overflow:"hidden"},children:[a.jsxs("div",{className:"flex items-center justify-between p-4 flex-shrink-0 rounded-t-3xl",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.9), rgba(72, 128, 255, 0.85))",backdropFilter:"blur(10px)",color:"white",borderBottom:"1px solid rgba(255, 255, 255, 0.2)"},children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Qr,{className:"w-5 h-5"}),a.jsx("h3",{className:"font-semibold",children:"AI Assistant - Temanikan"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>f(!h),className:"text-white hover:bg-white/30 rounded-full transition-all",style:{borderRadius:"50%",width:"32px",height:"32px",padding:0},children:a.jsx(n7,{className:"w-4 h-4"})}),a.jsx(Ue,{variant:"ghost",size:"sm",onClick:e,className:"text-white hover:bg-white/30 rounded-full transition-all",style:{borderRadius:"50%",width:"32px",height:"32px",padding:0},children:a.jsx(md,{className:"w-4 h-4"})})]})]}),a.jsx("div",{ref:_,className:"flex-1",style:{background:"linear-gradient(to bottom, rgba(249, 250, 251, 0.8), rgba(243, 244, 246, 0.9))",backdropFilter:"blur(10px)",minHeight:0,flex:"1 1 auto",overflowY:"scroll",overflowX:"hidden",position:"relative",WebkitOverflowScrolling:"touch",scrollBehavior:"smooth"},children:a.jsxs("div",{className:"p-4 space-y-2",style:{minHeight:"100%"},children:[n.length>0&&n.length>=m&&a.jsx("div",{className:"flex justify-center py-2",children:a.jsx(Ue,{variant:"outline",size:"sm",onClick:O,disabled:y,className:"text-xs rounded-full",style:{background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(15, 91, 229, 0.3)",borderRadius:"20px",padding:"6px 16px"},children:y?"Memuat...":"Muat Riwayat Lebih Banyak"})}),n.length===0&&!y&&a.jsxs("div",{className:"text-center mt-8 px-4",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full flex items-center justify-center shadow-lg",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.9), rgba(72, 128, 255, 0.85))",backdropFilter:"blur(10px)",boxShadow:"rgba(15, 91, 229, 0.3) 0px 8px 24px"},children:a.jsx(Qr,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{className:"max-w-xs mx-auto p-4 rounded-3xl",style:{background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(15, 91, 229, 0.2)",boxShadow:"rgba(0, 0, 0, 0.08) 0px 4px 16px"},children:[a.jsx("p",{className:"text-sm font-semibold",style:{color:"#0F5BE5"},children:"Halo! Saya AI Assistant Temanikan."}),a.jsx("p",{className:"text-sm mt-2",style:{color:"#4B5563"},children:"Saya bisa membantu Anda dengan:"}),a.jsxs("ul",{className:"text-sm mt-2 space-y-1 text-left",style:{color:"#6B7280"},children:[a.jsx("li",{children:" Diagnosis penyakit ikan"}),a.jsx("li",{children:" Tips perawatan ikan hias"}),a.jsx("li",{children:" Informasi tentang kualitas air"}),a.jsx("li",{children:" Pertanyaan tentang ikan di FishPedia"})]}),a.jsx("p",{className:"text-sm mt-4 font-semibold",style:{color:"#0F5BE5"},children:"Silakan tanyakan apa saja!"})]})]}),n.map(re=>a.jsxs("div",{className:`flex gap-3 flex-shrink-0 ${re.isUser?"justify-end":"justify-start"}`,children:[!re.isUser&&a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 shadow-lg",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.9), rgba(72, 128, 255, 0.85))",backdropFilter:"blur(10px)",boxShadow:"rgba(15, 91, 229, 0.3) 0px 4px 12px"},children:a.jsx(Qr,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:`max-w-[80%] ${re.isUser?"order-2":""}`,children:[re.has_image&&re.image_url&&a.jsx("div",{className:"mb-2 rounded-lg overflow-hidden",children:a.jsx(ca,{src:re.image_url,alt:"Uploaded",className:"max-w-full h-auto max-h-48 object-contain"})}),a.jsx("div",{className:`p-4 ${re.isUser?"text-white":""}`,style:re.isUser?{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.95), rgba(72, 128, 255, 0.9))",backdropFilter:"blur(10px)",color:"#FFFFFF",borderRadius:"20px 20px 4px 20px",boxShadow:"rgba(15, 91, 229, 0.25) 0px 4px 12px",maxWidth:"100%",wordWrap:"break-word"}:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(15, 91, 229, 0.2)",borderRadius:"20px 20px 20px 4px",boxShadow:"rgba(0, 0, 0, 0.08) 0px 2px 8px",maxWidth:"100%",wordWrap:"break-word"},children:re.isUser?a.jsx("p",{className:"text-sm whitespace-pre-wrap font-medium",style:{color:"#FFFFFF",fontWeight:500},children:re.message}):a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-gray-700 leading-relaxed",style:{lineHeight:"1.7"},children:re.response.split(`

`).map((Y,se)=>{if(Y.trim()==="")return null;const le=Y.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<strong>$1</strong>").replace(/^[-]\s*/gm,"").trim().split(`
`).filter(H=>H.trim()!=="");return a.jsx("div",{className:"mb-3 last:mb-0",children:le.map((H,q)=>a.jsx("p",{className:"mb-1.5 last:mb-0",dangerouslySetInnerHTML:{__html:H}},q))},se)})}),re.id.startsWith("ai-")&&a.jsxs(Ue,{variant:"ghost",size:"sm",className:"mt-2 h-7 px-3 text-xs rounded-full",style:{borderRadius:"16px",background:"rgba(239, 68, 68, 0.1)",color:"#DC2626",border:"1px solid rgba(239, 68, 68, 0.2)"},onClick:()=>$(re.id),children:[a.jsx(zC,{className:"w-3 h-3 mr-1"}),"Hapus"]})]})}),a.jsx("p",{className:"text-xs text-gray-400 mt-1 px-1",children:new Date(re.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]}),re.isUser&&a.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 order-3 shadow-lg",style:{background:"linear-gradient(135deg, rgba(229, 231, 235, 0.9), rgba(209, 213, 219, 0.85))",backdropFilter:"blur(10px)",boxShadow:"rgba(0, 0, 0, 0.1) 0px 4px 12px"},children:a.jsx(Wc,{className:"w-5 h-5",style:{color:"#4B5563"}})})]},re.id)),a.jsx("div",{ref:b})]})}),c&&a.jsx("div",{className:"px-4 py-2",style:{background:"rgba(255, 255, 255, 0.6)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(15, 91, 229, 0.2)"},children:a.jsxs("div",{className:"relative inline-block rounded-2xl overflow-hidden shadow-lg",children:[a.jsx(ca,{src:c,alt:"Preview",className:"max-w-full h-24 object-contain"}),a.jsx(Ue,{variant:"ghost",size:"sm",className:"absolute top-1 right-1 bg-red-500 text-white hover:bg-red-600 rounded-full",style:{borderRadius:"50%",width:"28px",height:"28px",padding:0,boxShadow:"rgba(0, 0, 0, 0.2) 0px 2px 8px"},onClick:()=>u(null),children:a.jsx(md,{className:"w-3 h-3"})})]})}),a.jsx("div",{className:"p-4 flex-shrink-0 rounded-b-3xl",style:{background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(15, 91, 229, 0.2)"},children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"file",ref:E,accept:"image/*",onChange:I,className:"hidden"}),a.jsx(Ue,{variant:"outline",size:"sm",onClick:()=>E.current?.click(),className:"flex-shrink-0 rounded-full",style:{borderRadius:"50%",width:"40px",height:"40px",padding:0,background:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(10px)",border:"1px solid rgba(15, 91, 229, 0.3)",boxShadow:"rgba(0, 0, 0, 0.08) 0px 2px 8px"},children:a.jsx(r7,{className:"w-4 h-4",style:{color:"#0F5BE5"}})}),a.jsx(Lt,{value:i,onChange:re=>s(re.target.value),onKeyPress:K,placeholder:"Tanyakan tentang ikan, penyakit, atau perawatan...",className:"flex-1 rounded-full",disabled:o,style:{borderRadius:"20px",background:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",border:"1px solid rgba(15, 91, 229, 0.2)",padding:"10px 16px",boxShadow:"rgba(0, 0, 0, 0.05) 0px 2px 8px"}}),a.jsx(Ue,{onClick:U,disabled:o||!i.trim()&&!c,className:"flex-shrink-0 rounded-full",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.95), rgba(72, 128, 255, 0.9))",backdropFilter:"blur(10px)",borderRadius:"50%",width:"40px",height:"40px",padding:0,border:"none",boxShadow:"rgba(15, 91, 229, 0.3) 0px 4px 12px"},children:a.jsx(i7,{className:"w-4 h-4 text-white"})})]})})]})})}function Cxe(){const[t,e]=N.useState(!1),{isLoggedIn:n,user:r,loading:i}=Da(),s=typeof window<"u"&&(sessionStorage.getItem("access_token")||localStorage.getItem("access_token")),o=r!=null&&typeof r=="object"&&typeof r.id=="number"&&r.id>0&&typeof r.email=="string"&&r.email.trim().length>0&&r.email.includes("@"),l=!i&&n===!0&&o&&s;return N.useEffect(()=>{l?console.log(" AIChatButton - User logged in, button visible",{userId:r?.id,userEmail:r?.email}):console.log(" AIChatButton - User not logged in, button hidden",{loading:i,isLoggedIn:n,hasValidUser:o,hasToken:s,hasUser:!!r,userId:r?.id,userEmail:r?.email})},[l,i,n,r,o,s]),l?a.jsxs("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:99999},children:[a.jsx(Ue,{onClick:()=>{console.log(" AI Chat button clicked!"),e(!0)},className:"w-14 h-14 rounded-full shadow-lg hover:shadow-xl transition-all flex items-center justify-center",style:{background:"linear-gradient(135deg, rgba(15, 91, 229, 0.95), rgba(72, 128, 255, 0.9))",backdropFilter:"blur(10px)",border:"1px solid rgba(255, 255, 255, 0.3)",cursor:"pointer",boxShadow:"rgba(15, 91, 229, 0.3) 0px 8px 24px, rgba(255, 255, 255, 0.2) 0px 0px 0px 1px inset"},"aria-label":"Buka AI Chat",title:"Buka AI Chat Assistant",children:a.jsx(Qr,{className:"w-6 h-6 text-white"})}),a.jsx(Exe,{isOpen:t,onClose:()=>e(!1)})]}):null}function Mxe(){const[t,e]=N.useState(!1),[n,r]=N.useState("login"),{isLoggedIn:i,user:s}=Da(),o=Ll();N.useEffect(()=>{const h=window.location.hash;h&&setTimeout(()=>{const f=document.getElementById(h.substring(1));f&&f.scrollIntoView({behavior:"smooth",block:"start"})},100)},[]);const l=h=>{r(h),e(!0)},c=h=>{if(h==="fishpedia")o("/fishpedia");else if(h==="produk")o("/produk");else if(h==="forum")o("/forum");else if(h==="home")o("/");else if(h.startsWith("home#")){const f=h.split("#")[1];o("/"),setTimeout(()=>{const m=document.getElementById(f);m&&m.scrollIntoView({behavior:"smooth",block:"start"})},100)}},u=h=>{o("/"),setTimeout(()=>{const f=document.getElementById(h==="beranda"?"hero":h);f&&f.scrollIntoView({behavior:"smooth",block:"start"})},100)};return a.jsxs(a.Fragment,{children:[a.jsxs(FC,{children:[a.jsx(dn,{path:"/",element:a.jsx($q,{onAuthClick:l,onNavigate:c,onSmartNavigate:u})}),a.jsx(dn,{path:"/fishpedia",element:a.jsx(r$,{onAuthClick:l,onNavigate:()=>c("home"),onSmartNavigate:u})}),a.jsx(dn,{path:"/produk",element:a.jsx(i$,{onAuthClick:l,onNavigate:()=>c("home"),onSmartNavigate:u})}),a.jsx(dn,{path:"/member/*",element:a.jsx(vB,{requiredRole:"member",children:a.jsx(cxe,{})})}),a.jsx(dn,{path:"/admin/*",element:a.jsx(vB,{requiredRole:"admin",children:a.jsx(wxe,{})})}),a.jsx(dn,{path:"*",element:a.jsx(db,{to:"/",replace:!0})})]}),a.jsx(Cxe,{}),a.jsx(Axe,{open:t,onOpenChange:e,initialMode:n})]})}function Nxe(){return a.jsx(v9,{children:a.jsx(qz,{children:a.jsx(Mxe,{})})})}g9.createRoot(document.getElementById("root")).render(a.jsx(Nxe,{}));
